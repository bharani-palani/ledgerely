(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[55],{1248:function(e,a,t){"use strict";t.r(a);var s=t(25),n=t(30),c=t(36),r=t(27),o=t(1),i=t.n(o),l=t(194),d=t(28),b=t(35),u=t.n(b),m=t(42),f=t(0),p=["bsPrefix","fluid","as","className"],g=o.forwardRef((function(e,a){var t=e.bsPrefix,n=e.fluid,c=void 0!==n&&n,r=e.as,o=void 0===r?"div":r,i=e.className,l=Object(d.a)(e,p),b=Object(m.c)(t,"container"),g="string"===typeof c?"-".concat(c):"-fluid";return Object(f.jsx)(o,Object(s.a)(Object(s.a)({ref:a},l),{},{className:u()(i,c?"".concat(b).concat(g):b)}))}));g.displayName="Container";var j=g,h=t(1265),x=t(934),O=t(47),M=t(41),_=t(121),w=t(776),y=t(1262),D=t(133),T=t.n(D),v=t(52),C=t.n(v),N=t(51),k=t.n(N),P=t(48),I=t(82),R=i.a.createContext(void 0);a.default=function(){var e=Object(w.a)(),a=Object(o.useContext)(M.a),t=Object(o.useState)(!0),i=Object(r.a)(t,2),d=i[0],b=i[1],u=Object(o.useState)([]),m=Object(r.a)(u,2),p=m[0],g=m[1],D=Object(o.useState)({category:"60",startDate:C()().startOf("month").toDate(),endDate:C()().endOf("month").toDate()}),v=Object(r.a)(D,2),N=v[0],Y=v[1],S=Object(o.useState)([]),E=Object(r.a)(S,2),A=E[0],V=E[1],F=Object(o.useState)([]),z=Object(r.a)(F,2),B=z[0],H=z[1],W={config:{header:{searchPlaceholder:e.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},id:"intlMaster",Table:"categorizedBankTrx",label:"Locale master",TableRows:["name","date","amount","type","comments"],TableAliasRows:[e.formatMessage({id:"name",defaultMessage:"name"}),e.formatMessage({id:"date",defaultMessage:"date"}),e.formatMessage({id:"amount",defaultMessage:"amount"}),e.formatMessage({id:"type",defaultMessage:"type"}),e.formatMessage({id:"comments",defaultMessage:"comments"})],defaultValues:[],rowElements:["label","label","label","label","label"]},L={config:{header:{searchPlaceholder:e.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},id:"catCreditCardTrx",Table:"categorizedCreditCardTrx",label:"Category credit card trx",TableRows:["name","date","amount","creditCard","credits","purchases","interest","comments"],TableAliasRows:[e.formatMessage({id:"name",defaultMessage:"name"}),e.formatMessage({id:"date",defaultMessage:"date"}),e.formatMessage({id:"amount",defaultMessage:"amount"}),e.formatMessage({id:"creditCard",defaultMessage:"creditCard"}),e.formatMessage({id:"credits",defaultMessage:"credits"}),e.formatMessage({id:"purchases",defaultMessage:"purchases"}),e.formatMessage({id:"interest",defaultMessage:"interest"}),e.formatMessage({id:"comments",defaultMessage:"comments"})],defaultValues:[],rowElements:["label","label","label","label","label","label","label","label"]},J=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),(t=new FormData).append("appId",a.userConfig.appId),e.abrupt("return",O.a.post("/account_planner/inc_exp_list",t).then((function(e){return g(e.data.response)})).catch((function(e){console.log(e)})).finally((function(){return b(!1)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){V([]),H([]),setTimeout((function(){var e=function(){var e=new FormData;return e.append("TableRows","a.inc_exp_name as name,a.inc_exp_date as date, a.inc_exp_amount as amount, a.inc_exp_type as type, a.inc_exp_comments as comments"),e.append("Table","categorizedBankTrx"),e.append("WhereClause","a.inc_exp_appId = '".concat(a.userConfig.appId,"' && b.inc_exp_cat_id = '").concat(N.category,"' && d.bank_appId = '").concat(a.userConfig.appId,"' && a.inc_exp_date >= '").concat(C()(N.startDate).format("YYYY-MM-DD").toString(),"' && a.inc_exp_date <= '").concat(C()(N.endDate).format("YYYY-MM-DD").toString(),"'")),O.a.post("/account_planner/getAccountPlanner",e)}(),t=function(){var e=new FormData;return e.append("TableRows","a.cc_transaction as name, a.cc_date as date, d.credit_card_name as creditCard, a.cc_payment_credits as credits, a.cc_purchases as purchases, a.cc_taxes_interest as interest, a.cc_comments as comments"),e.append("Table","categorizedCreditCardTrx"),e.append("WhereClause","a.cc_appId = '".concat(a.userConfig.appId,"' && b.inc_exp_cat_id = '").concat(N.category,"' && d.credit_card_appId = '").concat(a.userConfig.appId,"' && a.cc_date >= '").concat(C()(N.startDate).format("YYYY-MM-DD").toString(),"' && a.cc_date <= '").concat(C()(N.endDate).format("YYYY-MM-DD").toString(),"'")),O.a.post("/account_planner/getAccountPlanner",e)}();Promise.all([e,t]).then((function(e){V(e[0].data.response),H(e[1].data.response)})).catch((function(e){return console.log("bbb",e)}))}),100)};Object(o.useEffect)((function(){J()}),[]);var G=function(){return Object(f.jsx)("div",{className:"relativeSpinner middle",children:Object(f.jsx)(k.a,{type:P.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})};return Object(f.jsx)(R.Provider,{value:{incExpList:p,selection:N},children:Object(f.jsxs)(j,{fluid:!0,children:[Object(f.jsx)(l.a,{icon:"fa fa-sitemap",intlId:"category"}),d?Object(f.jsx)(G,{}):Object(f.jsxs)(h.a,{children:[Object(f.jsx)(x.a,{sm:3,className:"react-responsive-ajax-data-table pb-2",children:Object(f.jsx)(_.a,{placeholder:e.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,a,t){Y((function(e){return Object(s.a)(Object(s.a)({},e),{},{category:a})}))},element:{fetch:{dropDownList:p.map((function(e){return{id:e.id,value:e.value}}))}},value:N.category,type:"single",searchable:!0,theme:a.userData.theme})}),Object(f.jsxs)(x.a,{sm:3,className:"d-flex align-items-center justify-content-between pb-2",children:[Object(f.jsx)("span",{children:Object(f.jsx)(y.a,{id:"startDate",defaultMessage:"startDate"})}),Object(f.jsx)(T.a,{className:"bg-white text-dark",value:N.startDate,format:"yyyy-MM-dd",clearIcon:null,onChange:function(e){Y((function(a){return Object(s.a)(Object(s.a)({},a),{},{startDate:e})}))}})]}),Object(f.jsxs)(x.a,{sm:3,className:"d-flex align-items-center justify-content-between pb-2",children:[Object(f.jsx)("span",{children:Object(f.jsx)(y.a,{id:"endDate",defaultMessage:"endDate"})}),Object(f.jsx)(T.a,{className:"bg-white text-dark",value:N.endDate,format:"yyyy-MM-dd",clearIcon:null,onChange:function(e){Y((function(a){return Object(s.a)(Object(s.a)({},a),{},{endDate:e})}))}})]}),Object(f.jsx)(x.a,{sm:3,className:"pb-2",children:Object(f.jsx)("button",{className:"btn btn-sm btn-bni w-100",onClick:function(){return q()},children:Object(f.jsx)(y.a,{id:"generate",defaultMessage:"generate"})})})]}),A.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"py-2 text-center",children:Object(f.jsx)("span",{className:"badge bni-bg text-dark",children:e.formatMessage({id:"bankTransactions",defaultMessage:"bankTransactions"})})}),Object(f.jsx)(I.a,{config:W.config,Table:W.Table,TableRows:W.TableRows,TableAliasRows:W.TableAliasRows,rowElements:W.rowElements,defaultValues:W.defaultValues,dbData:A,cellWidth:[20,7,10,5,20],theme:a.userData.theme},"cat-bank-table")]}),B.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"py-2 text-center",children:Object(f.jsx)("span",{className:"badge bni-bg text-dark",children:e.formatMessage({id:"creditCardTransactions",defaultMessage:"creditCardTransactions"})})}),Object(f.jsx)(I.a,{config:L.config,Table:L.Table,TableRows:L.TableRows,TableAliasRows:L.TableAliasRows,rowElements:L.rowElements,defaultValues:L.defaultValues,dbData:B,cellWidth:[20,7,10,10,10,10,10,20],theme:a.userData.theme},"cat-cc-table")]})]})})}},194:function(e,a,t){"use strict";var s=t(25),n=t(28),c=t(1),r=t(1262),o=t(41),i=t(0),l=["icon","intlId","children"];a.a=function(e){var a=e.icon,t=e.intlId,d=e.children,b=Object(n.a)(e,l),u=Object(c.useContext)(o.a);return Object(i.jsx)("div",Object(s.a)(Object(s.a)({},b),{},{className:"bg-gradient ".concat("dark"===u.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill mb-4"),children:Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("div",{className:"d-flex align-items-center",children:[Object(i.jsx)("i",{className:"".concat(a," fa-1x")}),Object(i.jsx)("div",{className:"ps-2 mb-0",children:Object(i.jsx)(r.a,{id:t,defaultMessage:t})})]}),d]})}))}}}]);