(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[5],{107:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(51),c=n.n(a),r=[{id:"bankAccounts",Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_swift_code","bank_account_type","bank_country","bank_sort","bank_locale","bank_currency"],defaultValues:[{bank_sort:"0"}],cellWidth:[4,13,11,11,13,13,5,13,13]},{id:"creditCardAccounts",Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date","credit_card_annual_interest","credit_card_locale","credit_card_currency"],defaultValues:[{credit_card_annual_interest:"48"}],cellWidth:[4,13,11,8,8,8,8,13,13]},{id:"incExpCat",config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name","inc_exp_cat_is_metric","inc_exp_cat_is_plan_metric"],defaultValues:[{inc_exp_cat_is_metric:"0"},{inc_exp_cat_is_plan_metric:"0"}],cellWidth:[4,13,13,13]},{id:"incExpTemp",config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type","temp_inc_exp_date","temp_category","temp_bank"],defaultValues:[{temp_inc_exp_date:"1"},{temp_inc_exp_type:"Dr"},{temp_amount:"0.00"},{temp_inc_exp_name:""}],cellWidth:[4,13,13,13,5,13,13]}],i=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:[],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:c()(new Date).format("YYYY-MM-DD")}],rowElements:["checkbox","textbox","number","label",null,"date",{fetch:{dropDownList:[]},searchable:!0},{fetch:{dropDownList:[]},searchable:!0},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],o=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}},searchable:!0},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_transaction_status","cc_comments","cc_added_at"],TableAliasRows:[],rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]},searchable:!0},{fetch:{dropDownList:[]},searchable:!0},{fetch:{dropDownList:[{checked:!1,id:"1",value:"Settled"},{checked:!1,id:"0",value:"Pending"},{checked:!1,id:"2",value:"Part payment"}]}},"textbox","relativeTime"],defaultValues:[{cc_date:c()().format("YYYY-MM-DD")},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0},{cc_transaction_status:"0"}],showTooltipFor:["cc_transaction","cc_comments"]}]},131:function(e,t,n){"use strict";var a=n(25),c=n(28),r=n(1),i=n(1260),o=n(38),s=n(0),l=["icon","intlId","children"];t.a=function(e){var t=e.icon,n=e.intlId,u=e.children,d=Object(c.a)(e,l),b=Object(r.useContext)(o.a);return Object(s.jsx)("div",Object(a.a)(Object(a.a)({},d),{},{className:"bg-gradient ".concat("dark"===b.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill"),children:Object(s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(s.jsxs)("div",{className:"d-flex align-items-center",children:[Object(s.jsx)("i",{className:"".concat(t," fa-1x")}),Object(s.jsx)("div",{className:"ps-2 mb-0",children:Object(s.jsx)(i.a,{id:n,defaultMessage:n})})]}),u]})}))}},61:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));n(1);var a=n(1260),c=n(64),r=n(0),i=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("i",{className:"fa fa-exclamation-triangle fa-2x pt-2 text-danger"}),Object(r.jsxs)("div",{className:"ps-2",children:[Object(r.jsx)("div",{className:"fs-3",children:Object(r.jsx)(a.a,{id:"alert",defaultMessage:"alert"})}),Object(r.jsx)("div",{className:"fs-6",children:Object(r.jsx)(a.a,{id:"maximumQuotaExceeded",defaultMessage:"maximumQuotaExceeded"})})]})]})})},o=function(){return Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(c.a,{className:"btn btn-sm btn-primary me-1 rounded-pill",to:"/billing",children:[Object(r.jsx)("i",{className:"fa fa-credit-card-alt pe-1"}),Object(r.jsx)(a.a,{id:"upgradeNow",defaultMessage:"upgradeNow"})]}),Object(r.jsx)("span",{className:"fs-6",children:Object(r.jsx)(a.a,{id:"accessUnlimitedStorage",defaultMessage:"accessUnlimitedStorage"})})]})})}},67:function(e,t,n){"use strict";var a=n(25),c=n(43),r=n(29),i=n(35),o=n(27),s=n(1),l=n(28),u=n(1279),d=n(0),b=["info","checked","theme","marker"],j=function(e){var t=e.info,n=e.checked,c=e.theme,r=e.marker,i=Object(l.a)(e,b);return Object(d.jsxs)(u.a.Group,{className:"dropdown-item mb-0",controlId:t.id,children:[r&&Object(d.jsx)("span",{className:"sup",children:"*"}),Object(d.jsx)(u.a.Check,Object(a.a)({className:"px-3 py-0 ".concat("dark"===c?"text-light":"text-dark"),type:"checkbox",label:t.value,checked:n},i))]})},f=n(1260),m=n(440),h=n(1243),p=n(1264),x=n(1265),g=function(e){var t=e.index,n=e.type,l=e.primaryKey,b=e.element,m=e.value,g=e.placeholder,O=e.onChange,v=e.intl,_=e.theme,w=Object(s.useRef)(null),y=Object(s.useRef)(null),k=Object(s.useState)(!1),N=Object(o.a)(k,2),S=N[0],D=N[1],T=Object(s.useRef)(),C=function(){return v.formatMessage({id:g,defaultMessage:g})},P=function(){var e=m,t=b.fetch.dropDownList;return e="single"===n?(e=t.length>0&&t.filter((function(e){return e.id===m}))).length>0?e[0].value:C():"object"===typeof e&&e.length>0?e.map((function(e){return e.toString()})):[],[t,e]},R=P(),M=Object(o.a)(R,2),E=M[0],A=M[1],I=E.map((function(e){return e.checked=e.id&&(Array.isArray(A)?A.filter((function(t){return t.toString()===e.id.toString()})).length>0:A===e.value),e})),F="single"===n?E:I,L=Object(s.useState)(F),V=Object(o.a)(L,2),B=V[0],W=V[1],Y=Object(s.useState)(A),K=Object(o.a)(Y,2),H=K[0],z=K[1],G=Object(s.useState)(""),U=Object(o.a)(G,2),q=U[0],J=U[1],Q=Object(s.useState)(A),X=Object(o.a)(Q,2),Z=X[0],$=X[1];Object(s.useEffect)((function(){var e=P(),t=Object(o.a)(e,2),a=t[0],c=t[1],r=a.map((function(e){return e.checked=e.id&&(Array.isArray(c)?c.filter((function(t){return t.toString()===e.id.toString()})).length>0:c===e.value),e}));W("single"===n?a:r),z(c),$(c)}),[b]),Object(s.useEffect)((function(){"multiple"===n&&z(te(A))}),[A]);var ee=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(t),n=E.filter((function(e){return e.value.toString().toLowerCase().includes(t.toString().toLowerCase())})),e.next=4,W(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){var t=e.length>0&&E.filter((function(t){return t.id===e[0]}));return 1===t.length?(t=t[0].value,e.length>1?"".concat(t," + ").concat(e.length-1," more..."):t):C()},ne=function(e,n){var r=e.target.checked,i=n.id&&r?[].concat(Object(c.a)(Z),[n.id]):Z.filter((function(e){return e!==n.id}));i=Object(c.a)(new Set(i));var o=B.map((function(e){return i.includes(e.id)?Object(a.a)(Object(a.a)({},e),{},{checked:!0}):Object(a.a)(Object(a.a)({},e),{},{checked:!1})}));W(o),$(i),z(te(i)),O(t,i,l)};return Object(s.useEffect)((function(){var e;S&&(T.current&&T.current.focus({preventScroll:!0}),null===y||void 0===y||null===(e=y.current)||void 0===e||e.focus({preventScroll:!0}),setTimeout((function(){var e;null===y||void 0===y||null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"instant",block:"nearest"})}),1))}),[S]),Object(d.jsxs)(h.a,{show:S,onToggle:function(){return D(!S)},ref:w,autoClose:"outside",className:"d-inline-block w-100",children:[Object(d.jsx)(h.a.Toggle,{variant:"".concat("dark"===_?"dark":"white"),className:"p-2 rounded cursor-pointer w-100 border d-flex align-items-center justify-content-between ".concat("dark"===_?"border-black":"border-1"),style:{fontSize:"0.9rem"},as:"div",children:Object(d.jsx)("span",{className:"text-truncate",children:H||v.formatMessage({id:g,defaultMessage:g})})}),Object(d.jsxs)(h.a.Menu,{variant:"".concat("dark"===_?"dark":"white"),className:"w-100 p-0 border ".concat("dark"===_?"border-black":"border-1"),show:S,children:[(null===b||void 0===b?void 0:b.searchable)&&Object(d.jsx)(h.a.Item,{className:"p-0 border-0",children:Object(d.jsxs)(p.a,{children:[Object(d.jsx)(u.a.Control,{size:"sm",ref:T,className:"".concat("dark"===_?"bg-dark text-white":"bg-white text-dark"," rounded-bottom-0 border-0 shadow-none py-2"),onChange:function(e){e.preventDefault(),ee(e.target.value)},placeholder:v.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),type:"text",value:q}),q&&Object(d.jsx)("i",{onClick:function(e){J(""),ee("")},className:"fa fa-times text-danger bg-".concat(_," p-2")})]})}),Object(d.jsx)(x.a,{className:"px-0",style:{maxHeight:"200px",overflowY:"auto",overflowX:"hidden"},children:B.length>0?B.map((function(e,a){return Object(d.jsx)(h.a.Item,{ref:e.checked?y:null,className:"small px-0 py-0 border-0 text-wrap",as:"div",children:"multiple"===n?Object(d.jsx)(j,{onChange:function(t){ne(t,e)},checked:e.checked,marker:e.marker,info:e,theme:_},a):Object(d.jsxs)("div",{className:"cursor-pointer px-2 py-1 ".concat(e.checked?"bni-bg text-dark":""," ").concat(0!==a||b.searchable?"":"rounded-top"," ").concat(a===B.length-1?"rounded-bottom":"","\n                    "),onClick:function(){return O(t,(a=e).id,l),z(a.value),void("single"===n&&D(!1));var a},children:[e.value,e.marker&&Object(d.jsx)("span",{className:"sup",children:"*"})]})},a)})):Object(d.jsx)(h.a.Item,{className:"text-center small text-wrap",children:Object(d.jsx)(f.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})})]})]})};g.defaultProps={type:"single",placeholder:"select",theme:""};t.a=Object(m.c)(g)},91:function(e,t,n){"use strict";var a=n(25),c=n(43),r=n(29),i=n(35),o=n(27),s=n(1),l=n(47),u=n(36),d=n(28),b=n(0),j=function(e){var t=e.index,n=e.primaryKey,a=e.onChange,c=e.element,r=e.value,i=t.i,l=t.j,u=Object(s.useState)(c.radio.radioList),d=Object(o.a)(u,1)[0],j=e.value||d.filter((function(e){return e.checked}))[0].value,f=Object(s.useState)(j),m=Object(o.a)(f,2),h=m[0],p=m[1];return Object(s.useEffect)((function(){p(r)}),[r]),Object(b.jsx)("div",{className:"radioComponent",children:d.length&&d.map((function(e,c){return Object(b.jsxs)("div",{className:"radioWrapper",children:[Object(b.jsx)("input",{type:"radio",onChange:function(c){p(c.target.value),a(t,e.value,n)},value:e.value,checked:e.value===h,name:"".concat(l,"-").concat(i),id:"".concat(l,"-").concat(c,"-").concat(i)})," ",Object(b.jsx)("span",{className:"checkmark"}),Object(b.jsx)("label",{htmlFor:"".concat(l,"-").concat(c,"-").concat(i),children:e.label})]},c)}))})};j.defaultProps={property:"String name"};var f=j,m=n(67),h=n(119),p=n.n(h),x=n(51),g=n.n(x),O=n(72),v=(n(245),n(325),["isPostable","config","index","value","element","primaryKey","onChange","placeholder","showDecrement","showIncrement","onDelete","onAddRow","theme"]);var _=function(e){var t=Object(s.useContext)(O.a),n=e.isPostable,c=e.config,r=e.index,i=e.value,l=e.element,j=e.primaryKey,h=e.onChange,x=e.placeholder,_=e.showDecrement,w=e.showIncrement,y=e.onDelete,k=e.onAddRow,N=e.theme,S=Object(d.a)(e,v),D=Object(s.useRef)([]);D.current=[];var T=Object(s.useState)(i?new Date(i):new Date),C=Object(o.a)(T,2),P=C[0],R=C[1],M=Object(s.useState)(i?new Date(i):new Date),E=Object(o.a)(M,2),A=E[0],I=E[1],F=function(e,t,n,a){h(t,n,a)};return Object(b.jsx)("div",{children:function(e,r,i,o){if("string"===typeof r)switch(r){case"textbox":return Object(b.jsx)("input",Object(a.a)({type:"text",placeholder:x,onBlur:function(t){return F(0,e,t.target.value,o)},className:"inputText ".concat(N),defaultValue:i},S));case"number":return Object(b.jsx)("input",Object(a.a)({id:"".concat(e.j,"-").concat(e.i),type:"number",min:"0",step:".01",placeholder:x,ref:function(t){return function(e,t){t&&!D.current.includes(t)&&D.current.push(Object(u.a)({},e.i,t))}(e,t)},onBlur:function(t){return F(0,e,t.target.value,o)},className:"inputText ".concat(N),defaultValue:Number(i).toFixed(c.footer.total.maxDecimal)},S));case"textarea":return Object(b.jsx)("textarea",Object(a.a)({placeholder:x,onBlur:function(t){return F(0,e,t.target.value,o)},rows:"3",className:"inputText ".concat(N),defaultValue:i},S));case"label":default:return Object(b.jsx)("div",Object(a.a)(Object(a.a)({},S),{},{children:i}));case"boolean":return Object(b.jsxs)("div",Object(a.a)(Object(a.a)({},S),{},{className:"text-center",children:[("1"===i||"True"===i||"true"===i||!0===i)&&Object(b.jsx)("i",{className:"fa fa-check"}),("0"===i||"False"===i||"false"===i||!1===i)&&Object(b.jsx)("i",{className:"fa fa-times"})]}));case"relativeTime":return Object(b.jsx)("div",{children:g()(i||new Date).locale(t.localeLanguage).tz(g.a.tz.guess()).fromNow()});case"checkbox":return n?Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[_&&Object(b.jsx)("i",{onClick:function(){return y(e)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-times-circle text-danger cursor-pointer"}),w&&Object(b.jsx)("i",{onClick:function(){return k(!0)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-plus-circle text-success cursor-pointer"})]}):Object(b.jsx)("div",Object(a.a)(Object(a.a)({},S),{},{children:i}));case"date":return Object(b.jsx)(p.a,{value:P||new Date,format:"y-MM-dd",clearIcon:null,onChange:function(t){R(t),h(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],n=t[1],a=t[2];return"".concat(t[0],"-").concat(n,"-").concat(a)}(t),o)}});case"dateTime":return Object(b.jsx)(p.a,{value:A,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:function(t){I(t),h(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate()),e.getHours(),e.getMinutes(),e.getSeconds()],n=t[1],a=t[2],c=t[3],r=t[4],i=t[5];return c=c<10?"0"+c:c,r=r<10?"0"+r:r,i=i<10?"0"+i:i,"".concat(t[0],"-").concat(n,"-").concat(a," ").concat(c,":").concat(r,":").concat(i)}(t),o)}})}else if("object"===typeof r&&null!==r){switch(Object.keys(r)[0]){case"fetch":return Object(b.jsx)(m.a,{index:e,primaryKey:o,onChange:function(e,t,n){return h(e,t,n)},element:r,value:i,type:Array.isArray(i)?"multiple":"single",searchable:r.searchable,theme:N});case"radio":return Object(b.jsx)(f,{index:e,primaryKey:o,onChange:function(e,t,n){return h(e,t,n)},element:r,value:i},"".concat(e.i,"-").concat(e.j));default:return Object(b.jsx)("div",{children:"Unknown Element"})}}}(r,l,i,j)})},w=n(52),y=n.n(w),k=n(48),N=function(e){var t=e.totalPages,n=e.maxPagesToShow,r=e.onSetPage,i=Object(s.useState)(e.currentPage),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(s.useState)([]),f=Object(o.a)(j,2),m=f[0],h=f[1];Object(s.useEffect)((function(){var e=[];e=n<t&&u>0?u<t-n?[].concat(Object(c.a)(x(n,u)),["...",t]):Object(c.a)(x(n+1,t-n)):Array.from({length:t},(function(e,t){return++t})),h(e)}),[n,t,u]);var p=function(e){d(e),r(e)},x=function(e,t){return Array(e).fill().map((function(e,n){return t+n}))};return m.length>0&&Object(b.jsxs)("ul",{className:"page",children:[Object(b.jsx)("li",{onClick:function(){return u>1?p(1):null},className:"lt ".concat(u>1?"":"disabled"),children:"<<"}),Object(b.jsx)("li",{onClick:function(){return u>1?p(u-1):null},className:"lt ".concat(u>1?"":"disabled"),children:"<"}),m.map((function(e,n){return Object(b.jsx)("li",Object(a.a)(Object(a.a)({onClick:function(){return!isNaN(e)&&e<=t?p(e):null}},e===u&&{className:"active"}),{},{children:e}),function(e){return"page-".concat(e)}(n))})),Object(b.jsx)("li",{onClick:function(){return u<t?p(u+1):null},className:"gt ".concat(u===t?"disabled":""),children:">"}),Object(b.jsx)("li",{onClick:function(){return u<t?p(t):null},className:"gt ".concat(u===t?"disabled":""),children:">>"})]})};N.defaultProps={};var S=N,D=["className","entity"],T=function(e){var t=e.className,n=e.entity,c=Object(d.a)(e,D);return Object(b.jsx)("span",Object(a.a)({className:"htmlIcon ".concat(t),dangerouslySetInnerHTML:{__html:n}},c))};T.defaultProps={property:"String name"};var C=T,P=n(777),R=function(e){var t=Object(P.a)(),n=e.defaultRecordsPerPage,a=e.config,c=e.searchString,r=e.onSearchChange,i=e.onDropDownChange,l=e.onDismissSearch,u=e.theme,d=e.options,j=Object(s.useState)(!1),f=Object(o.a)(j,2),m=f[0],h=f[1],p=Object(s.useState)(c),x=Object(o.a)(p,2),g=x[0],O=x[1],v=Object(s.useState)(n),_=Object(o.a)(v,2),w=_[0],y=_[1],k=Object(s.useRef)(null),N=Object(s.useRef)(null),S=function(e){k.current&&!k.current.contains(e.target)&&h(!1)};Object(s.useEffect)((function(){return document.addEventListener("click",S,!0),function(){document.removeEventListener("click",S,!0)}}),[]),Object(s.useEffect)((function(){c&&N.current.focus({preventScroll:!0})}),[c]);return Object(b.jsxs)("div",{className:"group-input",children:[Object(b.jsxs)("div",{className:"inputWrapper",children:[Object(b.jsx)("input",{ref:N,onChange:function(e){return function(e){var t=e.target.value;r(t),O(t)}(e)},placeholder:a.header.searchPlaceholder,type:"text",value:g,className:"join-input small ".concat(u),spellCheck:"false"}),g&&Object(b.jsx)(C,{onClick:function(){l(),O("")},className:"dismiss",entity:"&#215;"})]}),Object(b.jsxs)("div",{ref:k,onClick:function(){return h(!m)},title:t.formatMessage({id:"showNRecordsPerPage",defaultMessage:"showNRecordsPerPage"},{n:w}),className:"join-select",children:[Object(b.jsx)("div",{style:m?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:w}),Object(b.jsx)(C,{className:"icon up",entity:"&#9662;"})]})}),m&&Object(b.jsx)("ul",{children:d.map((function(e,t){return Object(b.jsx)("li",{onClick:function(){return y(t=e),void i(t);var t},children:e},t)}))})]})]})},M=n(1260),E=n(440),A=n(140),I=n.n(A);function F(e){var t,n,u=Object(P.a)(),d=e.Table,j=e.config,f=e.className||"",m=e.id,h=e.TableRows,p=e.TableAliasRows,x=e.postApiUrl,g=e.onPostApi,O=e.insertCloneData,v=e.showTooltipFor,w=e.defaultValues,N=e.onTableUpdate,D=e.onReFetchData,T=e.apiParams,E=e.onChangeParams,A=e.cellWidth,F=e.appIdKeyValue,L=e.theme,V=Object(s.useState)([]),B=Object(o.a)(V,2),W=B[0],Y=B[1],K=Object(s.useState)(e.dbData.table),H=Object(o.a)(K,2),z=H[0],G=H[1],U=Object(s.useState)([]),q=Object(o.a)(U,2),J=q[0],Q=q[1],X=Object(s.useState)(!1),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(s.useState)(!1),ne=Object(o.a)(te,2),ae=ne[0],ce=ne[1],re=Object(s.useState)([]),ie=Object(o.a)(re,2),oe=ie[0],se=ie[1],le=Object(s.useState)({}),ue=Object(o.a)(le,2),de=ue[0],be=ue[1],je=Object(s.useState)([]),fe=Object(o.a)(je,2),me=fe[0],he=fe[1],pe=j&&j.footer&&j.footer.pagination&&Object.keys(j.footer.pagination).length>0&&j.footer.pagination,xe=j&&j.footer&&j.footer.total,ge=e.ajaxType,Oe=e.ajaxButtonName,ve=Object(s.useState)(null===T||void 0===T?void 0:T.limit),_e=Object(o.a)(ve,2),we=_e[0],ye=_e[1],ke=Object(s.useState)(e.dbData.page),Ne=Object(o.a)(ke,2),Se=Ne[0],De=Ne[1],Te=pe&&pe.maxPagesToShow,Ce=function(t){ee(!0);var n=e.rowElements.map((function(e){return new Promise((function(t,n){t(e)}))}));Promise.all([n]).then(function(){var e=Object(i.a)(Object(r.a)().mark((function e(n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n[0]).then((function(e){Y(e),ee(!1)}));case 2:"function"===typeof t&&t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};Object(s.useEffect)((function(){var e=[];return p.length!==h.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),d&&0!==d.toString().length&&""!==d||e.push({error:'The "Table" props should be a valid string.'}),x&&!["put","post","delete","patch","request","get","head","options"].includes(ge)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&he(e),function(){}}),[]),Object(s.useEffect)((function(){Ce()}),[h,d,e.rowElements]),Object(s.useEffect)((function(){var t;(null===e||void 0===e||null===(t=e.rowElements)||void 0===t?void 0:t.length)>0&&Y(null===e||void 0===e?void 0:e.rowElements)}),[e]),Object(s.useEffect)((function(){var t,n;(null===(t=e.dbData.table)||void 0===t?void 0:t.length)>0&&G(null===e||void 0===e||null===(n=e.dbData)||void 0===n?void 0:n.table)}),[e.dbData.table]),Object(s.useEffect)((function(){if(O&&O.length>0){ee(!0);var e=[].concat(Object(c.a)(O),Object(c.a)(z));G(e),setTimeout((function(){ee(!1)}),500)}}),[O]);var Pe=function(e){if(e){var t={};h.map((function(e,n){var a=w.findIndex((function(t){return Object.keys(t)[0]===e}));return t[e]=a>-1?w[a][e]:"",null}));var n=Object(c.a)(z);n.push(t),G(n)}},Re=function(t){var n="";return e.dbData.total.hasOwnProperty(t)&&(n=e.dbData.total[t].map((function(e,t){return Object(b.jsx)("div",{className:"my-1",children:Object(b.jsxs)("span",{className:"".concat(e.className),children:[null===e||void 0===e?void 0:e.prefix," ",xe&&k.a.countryCurrencyLacSeperator(xe.locale,xe.currency,e.value,xe.maxDecimal)," ",null===e||void 0===e?void 0:e.suffix]})},t)}))),n},Me=function(e){return z.sort((function(t,n){return de.asc?n[e]-t[e]:t[e]-n[e]}))},Ee=function(e){return z.sort((function(t,n){return de.asc?new Date(n[e])-new Date(t[e]):new Date(t[e])-new Date(n[e])}))},Ae=function(e){return z.sort((function(t,n){return de.asc?(n[e]>t[e])-(n[e]<t[e]):(t[e]>n[e])-(t[e]<n[e])}))},Ie=Object(s.useCallback)(I()((function(e){E({start:0,searchString:e})}),500),[]),Fe=function(){return u.formatMessage({id:"recordsLengthLine",defaultMessage:"recordsLengthLine"},{start:e.dbData.rangeStart,end:e.dbData.rangeEnd,length:e.dbData.numRows})};return!1===$?Object(b.jsx)("div",{className:"react-responsive-ajax-data-table ".concat(f),id:m,children:0===me.length?Object(b.jsxs)(b.Fragment,{children:[pe&&Object(b.jsxs)("div",{className:"biGrid",children:[e.dbData.rangeStart&&e.dbData.rangeEnd&&e.dbData.numRows?Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"heading",title:Fe(),children:Fe()})}):Object(b.jsx)("div",{}),(null===j||void 0===j||null===(t=j.header)||void 0===t?void 0:t.searchable)&&Object(b.jsx)("div",{children:Object(b.jsx)(R,{theme:L,config:j,options:[10,25,50,100],searchString:null===T||void 0===T?void 0:T.searchString,defaultRecordsPerPage:null===T||void 0===T?void 0:T.limit,onSearchChange:function(e){return Ie(e)},onDropDownChange:function(e){ye(e),E({start:0,limit:e})},onDismissSearch:function(){return Ie("")}})})]}),Object(b.jsx)("div",{className:"grid-responsive",children:Object(b.jsxs)("div",{style:Object(a.a)(Object(a.a)({},Array.isArray(A)&&{gridTemplateColumns:"".concat(A.join("rem ")+"rem")}),"string"===typeof A&&{gridTemplateColumns:"repeat(".concat(h.length,", ").concat(A,")")}),className:"grid-container responsive-grid",children:[p.map((function(e,t){return Object(b.jsx)("div",{onClick:function(){return function(e){var t=null===z||void 0===z?void 0:z.map((function(t){return t[e]&&(t[e].toString().indexOf("-")>-1||t[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(t[e]).replace(/-/g,"/"))?"date":""===t[e]||isNaN(t[e])?"string":"number"})),n=[];"date"===(t=t.sort((function(e,n){return t.filter((function(t){return t===e})).length-t.filter((function(e){return e===n})).length})).pop())&&(n=Ee(e)),"number"===t&&(n=Me(e)),"string"===t&&(n=Ae(e)),G(Object(c.a)(n)),be((function(t){return{asc:!t.asc,key:e}}))}(h[t])},className:"header",children:t>0||!x?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{title:e,children:e})," ",h[t]===de.key&&Object(b.jsx)(C,{className:"default",entity:de.asc?"&#8593;":"&#8595;"})]}):Object(b.jsx)(C,{className:"default",entity:"&#9776;"})},"key-".concat(t))})),(null===z||void 0===z?void 0:z.length)>0?Object(b.jsxs)(b.Fragment,{children:[z.map((function(e,t){return h.map((function(n,r){return Object(b.jsx)("div",{className:"",children:Object(b.jsxs)("div",Object(a.a)(Object(a.a)({},v.includes(n)&&{className:"tooltipContainer"}),{},{children:[""!==e[n]&&v.includes(n)&&Object(b.jsx)("span",{className:"tooltips",children:e[n]}),Object(b.jsx)(_,{config:j,onDelete:function(e){return function(e){var t=e.i,n=z[t]&&z[t][h[0]];n&&void 0!==n&&(J.push(n),Q(J));var a=z.filter((function(e,n){return n!==t}));G(a),N&&N(a)}(e)},onChange:function(e,t,n){!function(e,t,n){if(!t){var a=h.findIndex((function(t){return t===e.j}));a>-1&&W[a]&&(t="number"===W[a]?"0.00":"")}var r=e.i,i=e.j;z[r][i]=t,G(z);var o=z.filter((function(e,t){return t===r&&e}))[0][n]||"",s=o?[].concat(Object(c.a)(oe),[o]):Object(c.a)(oe);s=Object(c.a)(new Set(s)),se(s),N&&N(z)}(e,t,n)},index:{i:t,j:n},placeholder:p[r],value:e[n],element:W[r],showIncrement:z.length-1===t,showDecrement:!0,onAddRow:function(e){return Pe(e)},primaryKey:h[0],isPostable:Boolean(x),theme:L},"".concat(t,"-").concat(r))]}))},"".concat(e[n],"-").concat(r))}))})),(null===e||void 0===e||null===(n=e.dbData)||void 0===n?void 0:n.total)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"textCenter",children:xe.title}),h.slice(1).map((function(t,n){var a,c=null===e||void 0===e||null===(a=e.dbData)||void 0===a?void 0:a.total.hasOwnProperty(t);return Object(b.jsx)("div",{className:c?"totalColumn":"",children:c?Re(t):""},n)}))]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_,{index:{i:0,j:0},element:W[0],showIncrement:!0,showDecrement:!1,onAddRow:function(e){return Pe(e)}},-1),Object(b.jsx)("div",{className:"py-3 text-center",style:{gridColumn:"1 / span ".concat(h.length)},children:Object(b.jsx)(M.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})}),Object(b.jsxs)("div",{className:"footer",children:[pe&&Object(b.jsx)(S,{currentPage:Se,totalPages:Math.ceil(e.dbData.numRows/we),onSetPage:function(e){De(e),E({start:(e-1)*we})},maxPagesToShow:Te}),x&&Object(b.jsx)("div",{className:"py-2 text-end",children:Object(b.jsx)("button",{onClick:function(){return function(){ce(!0);var e=z.filter((function(e){return""===e[h[0]]})).map((function(e){return""===e[h[0]]&&(e[h[0]]=null),null!==F&&void 0!==F&&F.key&&null!==F&&void 0!==F&&F.value&&(e[null===F||void 0===F?void 0:F.key]=null===F||void 0===F?void 0:F.value),e})),t=z.filter((function(e){return oe.includes(e[h[0]])})).filter((function(e){return e&&("number"===typeof e[h[0]]||"string"===typeof e[h[0]])})).map((function(e){return null!==F&&void 0!==F&&F.key&&null!==F&&void 0!==F&&F.value&&(e[null===F||void 0===F?void 0:F.key]=null===F||void 0===F?void 0:F.value),e})),n=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},(e.length>0||J.length>0||t.length>0)&&{Table:d}),e.length>0&&{insertData:e}),J.length>0&&{deleteData:J}),t.length>0&&{updateData:t}),c=new FormData;c.append("postData",JSON.stringify(n)),l.a[ge](x,c).then((function(n){g&&g(n),(e.length>0||t.length>0||J.length>0)&&(ee(!0),setTimeout((function(){D(!0),ee(!1)}),1e3))})).catch((function(e){g&&g({error:e,status:!1})})).finally((function(){Q([]),se([]),ce(!1),t=[],e=[]}))}()},disabled:ae,className:"btn btn-bni",children:ae?Object(b.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(b.jsx)(b.Fragment,{children:Oe})})})]})]}):Object(b.jsxs)("div",{className:"errorWrapper",children:[Object(b.jsx)("h5",{children:"Please resolve the following issues:"}),Object(b.jsx)("ol",{children:me.map((function(e,t){return Object(b.jsx)("li",{children:e.error},t)}))})]})}):Object(b.jsx)("div",{className:"relativeSpinner",children:Object(b.jsx)(y.a,{type:k.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}F.defaultProps={id:"",Table:"My table",TableRows:[],TableAliasRows:[],rowElements:[],insertCloneData:[],showTooltipFor:[],ajaxType:"post",ajaxButtonName:"Submit",config:{header:{searchPlaceholder:"Search",searchable:!0},footer:{total:{title:"Total",locale:"en-IN",currency:"",maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},defaultValues:[],cellWidth:"13rem"};t.a=Object(E.c)(F)}}]);