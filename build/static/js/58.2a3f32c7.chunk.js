(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[58],{1103:function(e,a,t){"use strict";t.r(a);var n=t(30),i=t(42),d=t(35),o=t(25),r=t(27),m=t(1),u=t(52),c=t.n(u),l=t(48),_=t(779),s=t(1292),b=t(46),f=t(41),h=t(39),v=t(86),p=t(0),j=Object(m.lazy)((function(){return t.e(11).then(t.bind(null,264)).then((function(e){return{default:e.VerticalPanes}}))})),O=Object(m.lazy)((function(){return t.e(11).then(t.bind(null,264)).then((function(e){return{default:e.Pane}}))})),g=Object(m.lazy)((function(){return Promise.all([t.e(6),t.e(32),t.e(70)]).then(t.bind(null,1188))})),I=Object(m.lazy)((function(){return t.e(62).then(t.bind(null,1189))})),w=Object(m.lazy)((function(){return Promise.all([t.e(1),t.e(18)]).then(t.bind(null,1190))})),k=Object(m.lazy)((function(){return t.e(31).then(t.bind(null,1252))})),x=Object(m.lazy)((function(){return Promise.all([t.e(2),t.e(5),t.e(6),t.e(24),t.e(29)]).then(t.bind(null,1241))}));a.default=function(e){var a,t=Object(_.a)(),u=Object(m.useRef)(null),S=Object(m.useContext)(h.a),y=[{id:Object(s.a)(),order:0,label:"".concat(t.formatMessage({id:"sheet",defaultMessage:"sheet"})," 1"),charts:[],zoom:100}],L=Object(m.useState)(y),R=Object(r.a)(L,2),B=R[0],F=R[1],z=Object(m.useState)(""),D=Object(r.a)(z,2),C=D[0],E=D[1],T=Object(m.useState)(""),N=Object(r.a)(T,2),M=N[0],P=N[1],U=Object(m.useState)(!1),A=Object(r.a)(U,2),H=A[0],J=A[1],W=Object(m.useState)({start:"10%",middle:"75%",end:"20%",expanded:!0}),Z=Object(r.a)(W,2),Q=Z[0],V=Z[1],X=Object(m.useState)({id:null,name:"",appId:S.userConfig.appId,isSaved:!0}),Y=Object(r.a)(X,2),q=Y[0],G=Y[1],K=Object(m.useState)(!1),$=Object(r.a)(K,2),ee=$[0],ae=$[1],te=Object(m.useState)([]),ne=Object(r.a)(te,2),ie=ne[0],de=ne[1],oe=function(){var e=new FormData;e.append("appId",S.userConfig.appId),b.a.post("workbook/getSavedQueryLists",e).then((function(e){var a=e.data;J(a.response)})).catch((function(e){return S.renderToast({type:"error",icon:"fa fa-times-circle",position:"bottom-center",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}))},re=function(e){var a=B.map((function(a){return a.id===C&&(a.charts=a.charts.filter((function(a){return a.id!==e}))),a}));F(a),G((function(e){return Object(o.a)(Object(o.a)({},e),{},{isSaved:!1})}))},me=function(){var e=Object(d.a)(Object(n.a)().mark((function e(a){var d,r,m;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(d=B.filter((function(e){return e.id===C}))[0])||void 0===d?void 0:d.charts).length<f.c.chartLimit?(r=Object(s.a)(),m=B.map((function(e){return e.id===C&&(e.charts=[].concat(Object(i.a)(e.charts),[Object(o.a)(Object(o.a)({},a),{},{id:r,x:0,y:0,z:0})])),e})),F(m),setTimeout((function(){P(r),G((function(e){return Object(o.a)(Object(o.a)({},e),{},{isSaved:!1})}))}),100)):S.renderToast({type:"warn",icon:"fa fa-exclamation-triangle",position:"bottom-center",message:t.formatMessage({id:"chartLimitExceeded",defaultMessage:"chartLimitExceeded"})});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ue=function(e){e.preventDefault(),e.stopImmediatePropagation();return e.returnValue="",e.returnValue},ce=function(e){if("Delete"===e.key||"Backspace"===e.key){var a=Object(i.a)(document.body.classList);u.current&&!a.includes("modal-open")&&re(M)}};Object(m.useEffect)((function(){oe()}),[]),Object(m.useEffect)((function(){return q.isSaved||window.addEventListener("beforeunload",ue,{capture:!0}),function(){window.removeEventListener("beforeunload",ue,{capture:!0})}}),[q]),Object(m.useEffect)((function(){return Object(i.a)(B).map((function(e){return e.charts.filter((function(e){return e.id===M})).length>0})).every((function(e){return!1===e}))&&P(""),document.body.addEventListener("keydown",ce),function(){document.body.removeEventListener("keydown",ce)}}),[B,M]);return Object(p.jsx)(m.Suspense,{fallback:Object(p.jsx)("div",{className:"relativeSpinner middle",children:Object(p.jsx)(c.a,{type:l.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}),children:Object(p.jsxs)(v.a.Provider,{value:{defaultSheet:y,sheets:B,setSheets:F,theme:S.userData.theme,activeSheet:C,setActiveSheet:E,activeChart:M,setActiveChart:P,deleteChart:re,cloneChart:me,workbookRef:u,file:q,setFile:G,saveLoading:ee,setSaveLoading:ae,savedWorkbooks:ie,setSavedWorkbooks:de,savedQueryList:H,setSavedQueryList:J,fetchSavedQueryList:oe},children:[Object(p.jsx)(I,{}),Object(p.jsxs)("div",{className:"workbook container-fluid small d-none d-sm-block",ref:u,children:[Object(p.jsxs)(j,{theme:S.userData.theme,className:"border border-1 ".concat(null===S||void 0===S||null===(a=S.userConfig)||void 0===a?void 0:a.webMenuType," ").concat("dark"===S.userData.theme?"border-secondary":""," rounded-top"),children:[Object(p.jsx)(O,{width:Q.start,className:"text-center overflow-auto",children:Object(p.jsx)(w,{})}),Object(p.jsx)(O,{width:M?Q.middle:"100%",className:"border border-1 ".concat("dark"===S.userData.theme?"border-secondary":""," border-top-0 border-bottom-0"),children:Object(p.jsx)(k,{})}),M&&Object(p.jsxs)(O,{width:Q.end,className:"position-relative",children:[Object(p.jsx)("button",{className:"btn btn-sm btn-bni position-absolute",style:Object(o.a)({left:"-30px",paddingBottom:"2px"},Q.expanded?{borderRadius:"0"}:{borderRadius:"0 0.25rem 0 0"}),onClick:function(){V((function(e){return Object(o.a)(Object(o.a)({},e),{},{middle:Q.expanded?"95%":"75%",end:Q.expanded?"0%":"25%",expanded:!Q.expanded})}))},children:Object(p.jsx)("i",{className:"fa fa-arrow-".concat(Q.expanded?"right":"left")})}),Object(p.jsx)("div",{className:"",style:Object(o.a)({},Q.expanded?{display:"block"}:{display:"none"}),children:Object(p.jsx)(x,{})})]})]}),Object(p.jsx)(g,{})]})]})})}},41:function(e,a,t){"use strict";t.d(a,"g",(function(){return o})),t.d(a,"e",(function(){return i})),t.d(a,"f",(function(){return d})),t.d(a,"d",(function(){return r})),t.d(a,"b",(function(){return m})),t.d(a,"a",(function(){return u})),t.d(a,"c",(function(){return c}));var n=t(40),i="#c2d82e",d="#000000",o=n.N("body").append("div").attr("class","tooltip").attr("role","tooltip").style("position","absolute").style("background","#222222").style("border-radius","5px").style("color","#ffffff"),r=[{id:"animate__animated animate__bounce",value:"Bounce"},{id:"animate__animated animate__flash",value:"Flash"},{id:"animate__animated animate__pulse",value:"Pulse"},{id:"animate__animated animate__rubberBand",value:"Rubberband"},{id:"animate__animated animate__shakeX",value:"Shake horizontal"},{id:"animate__animated animate__shakeY",value:"Shake vertical"},{id:"animate__animated animate__headShake",value:"Headshake"},{id:"animate__animated animate__swing",value:"Swing"},{id:"animate__animated animate__tada",value:"Tada"},{id:"animate__animated animate__wobble",value:"Wobble"},{id:"animate__animated animate__jello",value:"Jello"},{id:"animate__animated animate__heartBeat",value:"Heart beat"},{id:"animate__animated animate__backInDown",value:"Back in down"},{id:"animate__animated animate__backInLeft",value:"Back in left"},{id:"animate__animated animate__backInRight",value:"Back in right"},{id:"animate__animated animate__backInUp",value:"Back in up"},{id:"animate__animated animate__bounceIn",value:"Bounce in"},{id:"animate__animated animate__bounceInDown",value:"Bounce in down"},{id:"animate__animated animate__bounceInLeft",value:"Bounce in left"},{id:"animate__animated animate__bounceInRight",value:"Bounce in right"},{id:"animate__animated animate__bounceInUp",value:"Bounce in up"},{id:"animate__animated animate__fadeIn",value:"Fade in"},{id:"animate__animated animate__fadeInDown",value:"Fade in down"},{id:"animate__animated animate__fadeInDownBig",value:"Fade in down big"},{id:"animate__animated animate__fadeInLeft",value:"Fade in left"},{id:"animate__animated animate__fadeInLeftBig",value:"Fadeinleftbig"},{id:"animate__animated animate__fadeInRight",value:"Fade in right"},{id:"animate__animated animate__fadeInRightBig",value:"Fade in right big"},{id:"animate__animated animate__fadeInUp",value:"Fade in up"},{id:"animate__animated animate__fadeInUpBig",value:"Fade in up big"},{id:"animate__animated animate__fadeInTopLeft",value:"Fade in top left"},{id:"animate__animated animate__fadeInTopRight",value:"Fade in top right"},{id:"animate__animated animate__fadeInBottomLeft",value:"Fade in bottom left"},{id:"animate__animated animate__fadeInBottomRight",value:"Fade in bottom right"},{id:"animate__animated animate__flip",value:"Flip"},{id:"animate__animated animate__flipInX",value:"Flipin horizontal"},{id:"animate__animated animate__flipInY",value:"Flipin vertical"},{id:"animate__animated animate__lightSpeedInRight",value:"Light speed in right"},{id:"animate__animated animate__lightSpeedInLeft",value:"Light speed in left"},{id:"animate__animated animate__rotateIn",value:"Rotate in"},{id:"animate__animated animate__rotateInDownLeft",value:"Rotate in down left"},{id:"animate__animated animate__rotateInDownRight",value:"Rotate in down right"},{id:"animate__animated animate__rotateInUpLeft",value:"Rotate in up left"},{id:"animate__animated animate__rotateInUpLeft",value:"Rotate in up left"},{id:"animate__animated animate__jackInTheBox",value:"Jack in the box"},{id:"animate__animated animate__rollIn",value:"Roll in"},{id:"animate__animated animate__zoomIn",value:"Zoom in"},{id:"animate__animated animate__zoomInDown",value:"Zoom in down"},{id:"animate__animated animate__zoomInLeft",value:"Zoom in left"},{id:"animate__animated animate__zoomInRight",value:"Zoom in right"},{id:"animate__animated animate__zoomInUp",value:"Zoom in up"},{id:"animate__animated animate__slideInDown",value:"Slide in down"},{id:"animate__animated animate__slideInLeft",value:"Slide in left"},{id:"animate__animated animate__slideInRight",value:"Slide in right"},{id:"animate__animated animate__slideInUp",value:"Slide in up"}],m={0:"CIRCULAR",1:"BAR",2:"DISTRIBUTION",3:"CORRELATION",4:"SHAPES",5:"EMOJI"},u={minWidth:100,maxWidth:1e3,minHeight:100,maxHeight:1e3},c={chartLimit:Math.pow(2,5),sheetLimit:Math.pow(2,4)}},86:function(e,a,t){"use strict";var n=t(1),i=t.n(n).a.createContext({});a.a=i}}]);