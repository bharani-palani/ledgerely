(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[68],{1253:function(e,t,c){"use strict";c.r(t);var a=c(25),s=c(27),i=c(1),n=c(188),l=c.n(n),r=c(1269),d=c(934),o=c(1284),j=c(935),b=c(39),u=c(246),m=c(88),h=c(1255),f=c(1183),x=c(46),p=c(1287),O=c(1266),y=c(0),v=Object(h.a)("pk_live_51P9nXmSG6hEpjfQn0275coL9mVH2dTYC4jI9IsqWBt0hxoRB7uP97KMMOV7R1b7BhwyVtUW4DAEAHfuWvt5iCmch00yXKDXak8"),g=function(){var e=Object(i.useContext)(u.BillingContext),t=e.summary,c=e.showCheckout,a=e.setShowCheckout,s={fetchClientSecret:Object(i.useCallback)((function(){var e=new FormData;return e.append("summary",JSON.stringify(t)),x.a.post("/payments/checkoutSubscription",e).then((function(e){return e.data.response.client_secret}))}),[t])};return Object(y.jsxs)(p.a,{show:c,onHide:function(){return a(!1)},style:{zIndex:1e4},size:"xl",backdrop:"static",keyboard:!1,children:[Object(y.jsx)(p.a.Header,{closeButton:!0,children:Object(y.jsxs)(p.a.Title,{className:"d-flex align-items-center",children:[Object(y.jsx)("i",{className:"pe-2 fa fa-credit-card-alt"}),Object(y.jsx)("span",{className:"small",children:Object(y.jsx)(O.a,{id:"checkout",defaultMessage:"checkout"})})]})}),Object(y.jsx)(p.a.Body,{className:"p-0 bg-white text-dark",children:Object(y.jsx)("div",{id:"checkout",children:Object(y.jsx)(f.EmbeddedCheckoutProvider,{stripe:v,options:s,children:Object(y.jsx)(f.EmbeddedCheckout,{})})})}),Object(y.jsx)(p.a.Footer,{className:"border-0 bg-white justify-content-center px-2 py-1",children:Object(y.jsx)("small",{className:"text-danger",style:{fontSize:"0.75rem"},children:Object(y.jsx)(O.a,{id:"checkoutNote",defaultMessage:"checkoutNote"})})})]})},k=c(776);t.default=function(e){var t=Object(k.a)(),c=Object(i.useContext)(m.a),n=Object(i.useContext)(b.a),h=Object(i.useContext)(u.BillingContext),f=Object(i.useState)(!1),x=Object(s.a)(f,2),p=x[0],v=x[1],C=h.summary,N=h.setSummary,w=h.cycleList,M=h.table,P=h.selectedPlan,S=h.cycleRef,D=h.total,_=h.billingLoader,B=h.setShowCheckout,E=[{id:0,href:c.cancellationRefundPolicyLink,label:t.formatMessage({id:"cancellationPolicy",defaultMessage:"cancellationPolicy"})},{id:1,href:c.termsOfServiceLink,label:t.formatMessage({id:"termsOfService",defaultMessage:"termsOfService"})},{id:2,href:c.privacyPolicyLink,label:t.formatMessage({id:"privacyPolicy",defaultMessage:"privacyPolicy"})}];return Object(y.jsxs)("div",{className:"my-3",children:[Object(y.jsx)(g,{}),Object(y.jsx)("div",{className:"fs-3",children:Object(y.jsx)(O.a,{id:"summary",defaultMessage:"summary"})}),Object(y.jsxs)(r.a,{className:"p-1",children:[Object(y.jsx)(d.a,{md:6,className:"receipt rounded",style:{"--theme-color":"dark"===n.userData.theme?"#1a1d21":"#f7f7f7"},children:Object(y.jsx)("div",{className:"p-4",style:{background:"dark"===n.userData.theme?"#1a1d21":"#f7f7f7",color:"dark"===n.userData.theme?"#fff":"#000"},children:Object(y.jsxs)("div",{style:{height:"12rem"},className:"position-relative",children:[C.invoice.map((function(e,t){return Object(y.jsxs)(d.a,{xs:12,className:"d-flex justify-content-between align-items-center py-1",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{children:Object(y.jsx)(O.a,{id:e.id,defaultMessage:e.id})}),Object(y.jsx)("span",{className:"ps-2",children:e.title?"(".concat(e.title,")"):""})]}),Object(y.jsx)("div",{children:_?Object(y.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):e.value})]},e.id)})),Object(y.jsxs)("div",{style:{borderTop:"dotted 5px #aeaeae",position:"absolute",width:"100%",bottom:0},className:"d-flex justify-content-between align-items-center py-2",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.a,{id:"total",defaultMessage:"total"})}),Object(y.jsx)("div",{children:D.toFixed(2)})]})]})})}),Object(y.jsxs)(d.a,{md:6,className:"p-1",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-1",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.a,{id:"paymentCycle",defaultMessage:"paymentCycle"})}),Object(y.jsx)("div",{children:Object(y.jsx)(o.a.Select,{value:C.cycle,disabled:!P.planCode,size:"sm",onChange:function(e){var t=M.filter((function(e){return e.planCode===P.planCode}))[0][S[e.target.value].prop],c=M.filter((function(e){return e.planCode===P.planCode}))[0][S[e.target.value].stripeProp];N((function(s){return Object(a.a)(Object(a.a)({},s),{},{stripePriceId:c,cycle:e.target.value,invoice:s.invoice.map((function(e){return"price"===e.id?Object.assign(e,{value:t}):e}))})}))},children:w.map((function(e,t){return Object(y.jsx)("option",{value:e.value,children:e.label},t)}))})})]}),E.map((function(e){return Object(y.jsx)("div",{className:"py-1",children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link-primary",href:e.href,children:e.label})},e.id)})),Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-1",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.a,{id:"iAgreeTerms",defaultMessage:"iAgreeTerms"})}),Object(y.jsx)("div",{children:Object(y.jsx)(l.a,{className:"".concat(P.planCode?"animate__animated animate__headShake infiniteAnimation":""),onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:document.documentElement.style.getPropertyValue("--app-theme-color"),offHandleColor:"dark"===n.userData.theme?"#555":"#ddd",onHandleColor:"dark"===n.userData.theme?"#555":"#ddd",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:30,onChange:function(e){v(e)},checked:p})})]}),Object(y.jsx)("div",{className:"p-1",children:Object(y.jsxs)(j.a,{disabled:!(p&&D>0&&!_),className:"btn btn-bni w-100 border-0 d-flex justify-content-between align-items-center",onClick:function(){return B(!0)},children:[Object(y.jsx)(O.a,{id:"subscribeNow",defaultMessage:"subscribeNow"}),Object(y.jsx)("div",{children:_?Object(y.jsx)("i",{className:"fa p-1 fa-2x fa-circle-o-notch fa-spin"}):Object(y.jsx)(u.CurrencyPrice,{amount:D,suffix:S[C.cycle].suffix,symbol:P.planPriceCurrencySymbol})})]})})]})]})]})}}}]);