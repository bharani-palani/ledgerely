{"version":3,"file":"static/js/4596.9f9e5a43.chunk.js","mappings":"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","sources":["components/payment/PaymentAlert.js","components/payment/Summary.js","../../src/index.ts"],"sourcesContent":["import React from \"react\";\nimport { FormattedMessage } from \"react-intl\";\n\nconst PaymentSuccessHeading = () => (\n  <div>\n    <div className='d-flex align-items-center'>\n      <i className='fa fa-check fa-2x pt-2 text-success' />\n      <div className='ps-2'>\n        <div className='fs-3'>\n          <FormattedMessage id='success' defaultMessage='success' />\n        </div>\n        <div className='fs-6'>\n          <FormattedMessage\n            id='paymentReceived'\n            defaultMessage='paymentReceived'\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nconst PaymentSuccessContent = () => {\n  return (\n    <div className='d-flex align-items-center justify-content-between'>\n      <div>\n        <span className='fs-6'>\n          <FormattedMessage\n            id='paymentSuccessMessage'\n            defaultMessage='paymentSuccessMessage'\n          />\n        </span>\n      </div>\n    </div>\n  );\n};\n\nconst PaymentFailedHeading = () => (\n  <div>\n    <div className='d-flex align-items-center'>\n      <i className='fa fa-times-circle fa-2x pt-2 text-danger' />\n      <div className='ps-2'>\n        <div className='fs-3'>\n          <FormattedMessage id='failed' defaultMessage='failed' />\n        </div>\n        <div className='fs-6'>\n          <FormattedMessage\n            id='paymentNotReceived'\n            defaultMessage='paymentNotReceived'\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nconst PaymentFailedContent = () => {\n  return (\n    <div className='d-flex align-items-center justify-content-between'>\n      <div>\n        <span className='fs-6'>\n          <FormattedMessage\n            id='paymentFailMessage'\n            defaultMessage='paymentFailMessage'\n          />\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport {\n  PaymentSuccessHeading,\n  PaymentSuccessContent,\n  PaymentFailedHeading,\n  PaymentFailedContent,\n};\n","import React, { useContext, useState, useCallback } from \"react\";\nimport Switch from \"react-switch\";\nimport { Row, Col, Form, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport { BillingContext, CurrencyPrice } from \"./Billing\";\nimport { GlobalContext } from \"../../contexts/GlobalContext\";\nimport { useIntl, FormattedMessage } from \"react-intl\";\nimport useRazorpay from \"react-razorpay\";\nimport apiInstance from \"../../services/apiServices\";\nimport { PaymentFailedHeading, PaymentFailedContent } from \"./PaymentAlert\";\n\nconst Summary = props => {\n  const intl = useIntl();\n  const globalContext = useContext(GlobalContext);\n  const userContext = useContext(UserContext);\n  const billingContext = useContext(BillingContext);\n  const [acceptTerms, setAcceptTerms] = useState(false);\n  const {\n    summary,\n    setSummary,\n    cycleList,\n    table,\n    selectedPlan,\n    cycleRef,\n    total,\n    billingLoader,\n    setShowSessionPopup,\n    subscribeLoader,\n    setSubscribeLoader,\n  } = billingContext;\n  const [Razorpay] = useRazorpay();\n\n  const createSubscription = () => {\n    const formdata = new FormData();\n    formdata.append(\"count\", summary.cycle === \"month\" ? 1 : 12);\n    formdata.append(\"planId\", summary.razorPayPlanId);\n    formdata.append(\"custId\", summary.razorPayCustomerId);\n    return apiInstance.post(\"/payments/razorpay/createSubscription\", formdata);\n  };\n\n  const onPayment = paymentId => {\n    const formdata = new FormData();\n    formdata.append(\"paymentId\", paymentId);\n    return apiInstance.post(\"/payments/razorpay/onPayment\", formdata);\n  };\n\n  const handlePayment = useCallback(async () => {\n    setSubscribeLoader(true);\n    createSubscription()\n      .then(res => {\n        const subData = res?.data?.response;\n        const options = {\n          key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n          key_secret: process.env.REACT_APP_RAZORPAY_KEY_SECRET,\n          currency: userContext?.userConfig?.currency,\n          amount: summary.invoice[0].value * 100,\n          subscription_id: subData?.id,\n          name: `${selectedPlan.planCode} - ${intl.formatMessage({\n            id: selectedPlan.planDescription,\n            defaultMessage: selectedPlan.planDescription,\n          })}`,\n          plan_id: summary?.razorPayPlanId,\n          currency: summary?.currency,\n          handler: handleData => {\n            const payId = handleData.razorpay_payment_id;\n            onPayment(payId)\n              .then(r => {\n                const { status } = r?.data?.response;\n                if (status === \"authorized\" || status === \"captured\") {\n                  setShowSessionPopup(true);\n                } else {\n                  myAlertContext.setConfig({\n                    show: true,\n                    className: \"alert-danger border-0 text-dark\",\n                    type: \"danger\",\n                    dismissible: false,\n                    heading: <PaymentFailedHeading />,\n                    content: <PaymentFailedContent />,\n                  });\n                }\n              })\n              .catch(e => console.log(e));\n          },\n          modal: {\n            escape: false,\n            handleback: false,\n            confirm_close: true,\n            ondismiss: () => false,\n            animation: true,\n          },\n          readonly: {\n            contact: true,\n            email: true,\n            name: true,\n          },\n          hidden: {\n            contact: false,\n            email: false,\n          },\n          prefill: {\n            name: userContext?.userConfig?.name,\n            email: userContext?.userConfig?.email,\n            contact: userContext?.userConfig?.mobile,\n            method: \"card\",\n          },\n          notes: {\n            name: userContext?.userConfig?.name,\n            mobile: userContext?.userConfig?.mobile,\n            address1: userContext?.userConfig?.address1,\n            address2: userContext?.userConfig?.address2,\n            city: userContext?.userConfig?.city,\n            country: userContext?.userConfig?.country,\n            email: userContext?.userConfig?.email,\n          },\n          theme: {\n            color: document.documentElement.style.getPropertyValue(\n              \"--app-theme-bg-color\",\n            ),\n          },\n        };\n        const rzpay = new Razorpay(options);\n        rzpay.open();\n      })\n      .catch(e => console.log(e))\n      .finally(() => setSubscribeLoader(false));\n  }, [summary, intl]);\n\n  const externalLinks = [\n    {\n      id: 0,\n      href: globalContext.cancellationRefundPolicyLink,\n      label: intl.formatMessage({\n        id: \"cancellationPolicy\",\n        defaultMessage: \"cancellationPolicy\",\n      }),\n    },\n    {\n      id: 1,\n      href: globalContext.termsOfServiceLink,\n      label: intl.formatMessage({\n        id: \"termsOfService\",\n        defaultMessage: \"termsOfService\",\n      }),\n    },\n    {\n      id: 2,\n      href: globalContext.privacyPolicyLink,\n      label: intl.formatMessage({\n        id: \"privacyPolicy\",\n        defaultMessage: \"privacyPolicy\",\n      }),\n    },\n  ];\n\n  return (\n    <div className='my-3'>\n      <div className='fs-3'>\n        <FormattedMessage id='summary' defaultMessage='summary' />\n      </div>\n      <Row className='p-2'>\n        <Col\n          md={6}\n          className='receipt rounded'\n          style={{\n            \"--theme-color\":\n              userContext.userData.theme === \"dark\" ? \"#111\" : \"#eee\",\n          }}\n        >\n          <div\n            className='p-4'\n            style={{\n              background:\n                userContext.userData.theme === \"dark\" ? \"#111\" : \"#eee\",\n              color: userContext.userData.theme === \"dark\" ? \"#fff\" : \"#000\",\n            }}\n          >\n            <div\n              style={{\n                height: \"12rem\",\n              }}\n              className='position-relative'\n            >\n              {summary.invoice.map((sum, i) => (\n                <Col\n                  xs={12}\n                  key={sum.id}\n                  className='d-flex justify-content-between align-items-center py-1'\n                >\n                  <div>\n                    <span>\n                      <FormattedMessage id={sum.id} defaultMessage={sum.id} />\n                    </span>\n                    <span className='ps-2'>\n                      {sum.title ? `(${sum.title})` : \"\"}\n                    </span>\n                  </div>\n                  <div>\n                    {billingLoader ? (\n                      <i className='fa fa-circle-o-notch fa-spin'></i>\n                    ) : (\n                      sum.value\n                    )}\n                  </div>\n                </Col>\n              ))}\n              <div\n                style={{\n                  borderTop: \"dotted 5px #aeaeae\",\n                  position: \"absolute\",\n                  width: \"100%\",\n                  bottom: 0,\n                }}\n                className='d-flex justify-content-between align-items-center py-2'\n              >\n                <div>\n                  <FormattedMessage id='total' defaultMessage='total' />\n                </div>\n                <div>{total.toFixed(2)}</div>\n              </div>\n            </div>\n          </div>\n        </Col>\n        <Col md={6} className='p-2'>\n          <div className='d-flex justify-content-between align-items-center py-1'>\n            <div>\n              <FormattedMessage\n                id='paymentCycle'\n                defaultMessage='paymentCycle'\n              />\n            </div>\n            <div>\n              <Form.Select\n                value={summary.cycle}\n                disabled={!selectedPlan.planCode}\n                size='sm'\n                onChange={e => {\n                  const price = table.filter(\n                    f => f.planCode === selectedPlan.planCode,\n                  )[0][cycleRef[e.target.value].prop];\n                  const razorPayPlanId = table.filter(\n                    f => f.planCode === selectedPlan.planCode,\n                  )[0][cycleRef[e.target.value].razorPayProp];\n\n                  setSummary(prev => ({\n                    ...prev,\n                    razorPayPlanId,\n                    cycle: e.target.value,\n                    invoice: prev.invoice.map(o =>\n                      o.id === \"price\" ? Object.assign(o, { value: price }) : o,\n                    ),\n                  }));\n                }}\n              >\n                {cycleList.map((l, i) => (\n                  <option key={i} value={l.value}>\n                    {l.label}\n                  </option>\n                ))}\n              </Form.Select>\n            </div>\n          </div>\n          {externalLinks.map(link => (\n            <div key={link.id} className='py-1'>\n              <a\n                target='_blank'\n                rel='noreferrer'\n                className='link-primary'\n                href={link.href}\n              >\n                {link.label}\n              </a>\n            </div>\n          ))}\n          <div className='d-flex justify-content-between align-items-center py-1'>\n            <div>\n              <FormattedMessage id='iAgreeTerms' defaultMessage='iAgreeTerms' />\n            </div>\n            <div>\n              <Switch\n                className={`${\n                  selectedPlan.planCode\n                    ? \"animate__animated animate__headShake infiniteAnimation\"\n                    : \"\"\n                }`}\n                onColor={document.documentElement.style.getPropertyValue(\n                  \"--app-theme-bg-color\",\n                )}\n                offColor={document.documentElement.style.getPropertyValue(\n                  \"--app-theme-color\",\n                )}\n                offHandleColor={\n                  userContext.userData.theme === \"dark\" ? \"#555\" : \"#ddd\"\n                }\n                onHandleColor={\n                  userContext.userData.theme === \"dark\" ? \"#555\" : \"#ddd\"\n                }\n                handleDiameter={15}\n                checkedIcon={false}\n                uncheckedIcon={false}\n                height={10}\n                width={30}\n                onChange={e => {\n                  setAcceptTerms(e);\n                }}\n                checked={acceptTerms}\n              />\n            </div>\n          </div>\n          <div className='p-1'>\n            <Button\n              disabled={!(acceptTerms && total > 0 && !billingLoader)}\n              className='btn btn-bni w-100 border-0 d-flex justify-content-between align-items-center'\n              onClick={handlePayment}\n            >\n              <FormattedMessage\n                id='subscribeNow'\n                defaultMessage='subscribeNow'\n              />\n              <div>\n                {!subscribeLoader ? (\n                  <CurrencyPrice\n                    amount={total}\n                    suffix={cycleRef[summary.cycle].suffix}\n                    symbol={selectedPlan.planPriceCurrencySymbol}\n                  />\n                ) : (\n                  <i className='fa p-1 fa-1x fa-circle-o-notch fa-spin py-2'></i>\n                )}\n              </div>\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default Summary;\n"],"names":["PaymentSuccessHeading","_jsx","children","_jsxs","className","FormattedMessage","id","defaultMessage","PaymentSuccessContent","PaymentFailedHeading","PaymentFailedContent","props","intl","useIntl","globalContext","useContext","GlobalContext","userContext","UserContext","billingContext","BillingContext","acceptTerms","setAcceptTerms","useState","summary","setSummary","cycleList","table","selectedPlan","cycleRef","total","billingLoader","setShowSessionPopup","subscribeLoader","setSubscribeLoader","Razorpay","useRazorpay","handlePayment","useCallback","async","createSubscription","formdata","FormData","append","cycle","razorPayPlanId","razorPayCustomerId","apiInstance","post","then","res","_res$data","_userContext$userConf","_userContext$userConf2","_userContext$userConf3","_userContext$userConf4","_userContext$userConf5","_userContext$userConf6","_userContext$userConf7","_userContext$userConf8","_userContext$userConf9","_userContext$userConf10","_userContext$userConf11","subData","data","response","options","key","process","key_secret","currency","userConfig","amount","invoice","value","subscription_id","name","planCode","formatMessage","planDescription","plan_id","handler","handleData","paymentId","onPayment","razorpay_payment_id","r","_r$data","status","myAlertContext","setConfig","show","type","dismissible","heading","content","catch","e","console","log","modal","escape","handleback","confirm_close","ondismiss","animation","readonly","contact","email","hidden","prefill","mobile","method","notes","address1","address2","city","country","theme","color","document","documentElement","style","getPropertyValue","open","finally","externalLinks","href","cancellationRefundPolicyLink","label","termsOfServiceLink","privacyPolicyLink","Row","Col","md","userData","background","height","map","sum","i","xs","title","borderTop","position","width","bottom","toFixed","Form","Select","disabled","size","onChange","price","filter","f","target","prop","razorPayProp","prev","o","Object","assign","l","link","rel","Switch","onColor","offColor","offHandleColor","onHandleColor","handleDiameter","checkedIcon","uncheckedIcon","checked","Button","onClick","CurrencyPrice","suffix","symbol","planPriceCurrencySymbol","react_1","require","constructor","window","rzrpayInstannce","on","event","callback","exports","isClient","useMemo","isLoaded","setIsLoaded","checkScriptLoaded","loadScript","scriptUrl","Promise","resolve","reject","scriptTag","createElement","src","onload","ev","onerror","err","body","appendChild","useEffect","__awaiter","error","Error"],"sourceRoot":""}