(self.webpackChunkledgerely_com=self.webpackChunkledgerely_com||[]).push([[1846],{9635:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});t(9950);const s=t.p+"static/media/spinner-1.f767f1657eaa4d002cb20e0a99a86e07.svg"},6082:(e,a,t)=>{"use strict";t.d(a,{A:()=>x});var s=t(9950),n=t(2436),l=t(1576),r=t(4570),i=t(8311),o=t(2083),c=t(9288),d=t(3027),u=t(4414);const m=function(e){const a=(0,c.A)(),t=(0,s.useContext)(n.R),{onToggle:l,handlesuccess:m}=e,[h,p]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[f,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),y=e=>{13!==e.which&&13!==e.keyCode||M()},M=async()=>{v(!0);const e=new FormData;e.append("username",h),e.append("password",g),await r.A.post("/validateUser",e).then((e=>{const s=e.data.response;if(s){const e={appId:s.appId,userId:s.user_id,type:s.user_type,email:s.user_email,name:s.user_display_name,imageUrl:s.user_image,source:"self"};m(e)}else t.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"invalidUserNameOrPassword",defaultMessage:"invalidUserNameOrPassword"})})})).catch((e=>{t.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((()=>v(!1)))};return(0,u.jsx)("div",{children:j?(0,u.jsx)("div",{className:"login-loader text-center",children:(0,u.jsx)(i.A,{type:o.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-lg-12 py-2",children:(0,u.jsxs)("div",{className:"form-floating",children:[(0,u.jsx)("input",{onChange:e=>p(e.target.value),type:"text",id:"username",className:"form-control",onKeyDown:e=>y(e),placeholder:a.formatMessage({id:"userName",defaultMessage:"userName"})}),(0,u.jsxs)("label",{htmlFor:"username",children:[(0,u.jsx)(d.A,{id:"email",defaultMessage:"email"})," / ",(0,u.jsx)(d.A,{id:"userName",defaultMessage:"userName"})]})]})}),(0,u.jsx)("div",{className:"col-lg-12 py-2",children:(0,u.jsxs)("div",{className:"form-floating passwordArea",children:[(0,u.jsx)("input",{onChange:e=>x(e.target.value),type:f?"text":"password",id:"userPassword",className:"form-control",onKeyDown:e=>y(e),placeholder:a.formatMessage({id:"password",defaultMessage:"password"})}),(0,u.jsx)("i",{onClick:()=>b(!f),className:"fa fa-"+(f?"eye-slash":"eye")}),(0,u.jsx)("label",{htmlFor:"userPassword",children:(0,u.jsx)(d.A,{id:"password",defaultMessage:"password"})})]})}),(0,u.jsx)("div",{className:"pt-3 col-lg-12",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6 pb-3",children:(0,u.jsx)("div",{className:"d-grid gap-2",children:(0,u.jsx)("button",{onClick:()=>M(),className:"btn btn-bni rounded-0",children:(0,u.jsx)(d.A,{id:"submit",defaultMessage:"submit"})})})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"d-grid gap-2",children:(0,u.jsx)("button",{onClick:()=>l("resetPassword"),className:"btn btn-md btn-dark icon-bni rounded-0",children:(0,u.jsx)(d.A,{id:"resetPassword",defaultMessage:"resetPassword"})})})})]})})]})})};const h=function(e){const a=(0,c.A)(),{onClose:t}=e,l=(0,s.useContext)(n.R),[m,h]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[x,f]=(0,s.useState)(!1),[b,j]=(0,s.useState)(!0),[v,y]=(0,s.useState)(!1),[M,N]=(0,s.useState)(null);let[w,_]=(0,s.useState)(300);(0,s.useEffect)((()=>{j(!new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/).test(m))}),[m]);const D=()=>{0===w?A(D):w--,_(w),setTimeout(D,1e3)},A=()=>{clearTimeout(D)};(0,s.useEffect)((()=>{v&&D()}),[v]);const k=()=>{f(!0);const e=new FormData;e.append("email",m),r.A.post("/sendOtp",e).then((e=>{const t=e.data.response;t?(l.renderToast({message:a.formatMessage({id:"OtpSuccessfullyMailedToYou",defaultMessage:"OtpSuccessfullyMailedToYou"})}),N(t),y(!0)):l.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"errorYourMailIsInValid",defaultMessage:"errorYourMailIsInValid"})})})).catch((e=>{l.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((()=>{f(!1)}))};return(0,u.jsx)("div",{children:x?(0,u.jsx)("div",{className:"login-loader text-center py-3",children:(0,u.jsx)(i.A,{type:o.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):(0,u.jsxs)("div",{children:[v?(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"form-floating mb-3",children:[(0,u.jsx)("input",{onChange:e=>{g(e.target.value)},type:"number",className:"form-control",placeholder:a.formatMessage({id:"enterOtp",defaultMessage:"enterOtp"}),id:"otp"}),(0,u.jsx)("label",{htmlFor:"otp",children:(0,u.jsx)(d.A,{id:"enterOtp",defaultMessage:"enterOtp"})})]}),(0,u.jsx)("div",{className:"pb-2",children:(0,u.jsx)("button",{disabled:w>0,onClick:()=>k(),className:"btn btn-sm btn-primary",children:(0,u.jsx)(d.A,{id:"resendOtp",defaultMessage:"resendOtp"})})}),w>0&&(0,u.jsx)("div",{className:"pb-2 text-danger fst-italic",children:(0,u.jsx)(d.A,{id:"enterOtp",defaultMessage:"enterOtp",values:{seconds:w}})})]}):(0,u.jsxs)("div",{className:"form-floating mb-3",children:[(0,u.jsx)("input",{onChange:e=>{h(e.target.value)},type:"email",className:"form-control",placeholder:a.formatMessage({id:"yourEmailPlease",defaultMessage:"yourEmailPlease"}),id:"email"}),(0,u.jsx)("label",{htmlFor:"email",children:(0,u.jsx)(d.A,{id:"yourEmailPlease",defaultMessage:"yourEmailPlease"})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-lg-6 py-2",children:(0,u.jsx)("div",{className:"d-grid",children:v?(0,u.jsx)("button",{onClick:()=>(()=>{f(!0);const e=new FormData;e.append("otp",p),e.append("id",M),e.append("email",m),r.A.post("/resetPassword",e).then((e=>{e.data.response?(l.renderToast({message:a.formatMessage({id:"resetSuccess",defaultMessage:"resetSuccess"})}),t()):l.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"OtpFailed",defaultMessage:"OtpFailed"})})})).catch((e=>{l.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((()=>{f(!1)}))})(),className:"btn btn-bni",children:(0,u.jsx)(d.A,{id:"send",defaultMessage:"send"})}):(0,u.jsx)("button",{disabled:b,onClick:()=>k(),className:"btn btn-bni",children:(0,u.jsx)(d.A,{id:"reset",defaultMessage:"reset"})})})}),(0,u.jsx)("div",{className:"col-lg-6 py-2",children:(0,u.jsx)("div",{className:"d-grid",children:(0,u.jsx)("button",{onClick:t,className:"btn btn-secondary",children:(0,u.jsx)(d.A,{id:"cancel",defaultMessage:"cancel"})})})})]})]})})};const p=function(e){const a=(0,c.A)(),{onClose:t,handlesuccess:n}=e,[l,r]=(0,s.useState)("login"),i={login:a.formatMessage({id:"login",id:"login"}),resetPassword:a.formatMessage({id:"resetPassword",defaultMessage:"resetPassword"}),changePassword:a.formatMessage({id:"changePassword",defaultMessage:"changePassword"})};return(0,u.jsxs)("div",{className:"text-dark",children:["login"!==l&&(0,u.jsx)("button",{onClick:()=>r("login"),className:"btn btn-sm btn-default me-2",children:(0,u.jsx)("i",{className:"fa fa-chevron-left"})}),(0,u.jsx)("span",{className:"pl-5",children:i[l]}),"login"===l&&(0,u.jsx)(m,{onToggle:e=>r(e),onClose:t,handlesuccess:n}),"resetPassword"===l&&(0,u.jsx)(h,{onClose:t})]})};var g=t(8429);const x=e=>{const a=(0,g.Zp)(),{onLogAction:i}=e,o=(0,c.A)(),m=(0,s.useContext)(n.R),[h,x]=(0,s.useState)(!1),f=e=>{let a={};fetch("https://geolocation-db.com/json/").then((e=>e.json())).then((t=>{a={...e,time:(new Date).toString(),ip:t.IPv4}})).catch((()=>{a={...e,time:(new Date).toString(),ip:"127.0.0.1"}})).finally((()=>{const e=new FormData;e.append("log",JSON.stringify(a)),r.A.post("/saveLog",e)}))};return(0,u.jsxs)(s.Fragment,{children:[!m.userData.userId&&(0,u.jsx)(p,{onClose:()=>{m.setOpenAppLoginModal(!1)},handlesuccess:e=>{return a=e,void m.getUserConfig(a.appId).then((async e=>{const t=e.data.response[0],s={type:a.type,theme:t.webTheme,audioShown:"1"===t.bgSongDefaultPlay,videoShown:"1"===t.bgVideoDefaultPlay,email:a.email,imageUrl:a.imageUrl,name:a.name,userId:a.userId,source:a.source},n=JSON.stringify(s);localStorage.setItem("userData",n);const l=JSON.stringify(t);localStorage.setItem("userConfig",l),await m.updateBulkUserData(s),await m.setUserConfig((e=>({...e,...t}))),i(a),f(a)}));var a}}),(0,u.jsx)(l.A,{show:h,confirmationstring:o.formatMessage({id:"sureToLogout",defaultMessage:"sureToLogout"}),handleHide:()=>{x(!1)},handleYes:()=>(m.addUserData(m.defUserData),m.setUserConfig(m.defUserConfig),localStorage.setItem("userData",JSON.stringify(m.defUserData)),localStorage.setItem("userConfig",JSON.stringify(m.defUserConfig)),i({}),x(!1),void a("/")),size:"md",animation:!1}),m.userData.userId&&(0,u.jsxs)("div",{className:"d-print-none",children:[(0,u.jsx)("div",{className:"options welcomeText",children:(0,u.jsx)(d.A,{id:"welcome",defaultMessage:"welcome"})}),(0,u.jsx)("div",{className:"options",children:(0,u.jsx)("div",{className:"welcomeText pb-10",children:m.userData.name})}),(0,u.jsxs)("div",{className:"options pt-3",children:[["facebook","google"].includes(m.userData.source)&&m.userData.imageUrl&&(0,u.jsx)("img",{className:"userImage",alt:"userImage",src:m.userData.imageUrl||t(9635).A}),"self"===m.userData.source&&m.userData.imageUrl?(0,u.jsx)("img",{className:"rounded-circle",alt:"userImage",style:{height:"50px",width:"50px"},src:`data:image/png;base64,${m.userData.imageUrl}`}):(0,u.jsx)("i",{className:"fa fa-user fa-2x"}),(0,u.jsx)("i",{onClick:e=>{x(!0)},title:o.formatMessage({id:"logout",defaultMessage:"logout"}),className:"fa fa-sign-out text-secondary cursor-pointer fs-4"})]})]})]})}},9595:(e,a,t)=>{"use strict";t.d(a,{I:()=>l});var s=t(9950),n=t(8429);const l=()=>{const{search:e}=(0,n.zy)();return(0,s.useMemo)((()=>new URLSearchParams(e)),[e])}},6283:(e,a,t)=>{"use strict";t.r(a),t.d(a,{DraggerText:()=>F,NoContent:()=>L,default:()=>R});var s=t(9950),n=t(4570),l=t(2272),r=t(2436),i=t(1308),o=t(3027),c=t(9288),d=t(9051),u=t.n(d),m=t(2083),h=t(8311),p=t(8002),g=t(4414);const x=e=>{let{width:a,recentData:t,intlHeader:s}=e;return(0,g.jsx)("div",{className:"pb-2",children:(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"fs-6 py-2",children:(0,g.jsx)(F,{children:(0,g.jsx)(o.A,{id:s,defaultMessage:s})})}),(null===t||void 0===t?void 0:t.length)>0&&(0,g.jsx)(p.VerticalBarChart,{width:a,height:150,data:t,marginLeft:50,marginBottom:0,marginTop:20,showXaxis:!1,showYaxis:!0,showYaxisLabel:!1,padding:.75,yTicks:4,style:{maxWidth:"100%",boxShadow:"none"},showAnimation:!1,fontSize:10}),0===(null===t||void 0===t?void 0:t.length)&&(0,g.jsx)(L,{})]})})};var f=t(6781),b=t(8459),j=t(3276);const v=e=>{let{totalHoldings:a,theme:t}=e;const[n,l]=(0,s.useState)(!1);return(0,g.jsxs)(j.A,{className:"dashboardCard border-"+("dark"===t?"dark":"1"),children:[(0,g.jsx)(j.A.Body,{className:"bni-bg rounded-top text-center p-4",children:(0,g.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100 p-3",children:(0,g.jsx)("div",{className:"fs-6 py-1",children:(0,g.jsx)("i",{className:"fa fa-3x fa-cubes d-block"})})})}),(0,g.jsx)(j.A.Body,{className:"text-center",children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{style:n?{}:{filter:"blur(5px)"},children:m.A.countryCurrencyLacSeperator(a[0].locale,a[0].currency,N(a[0].data,"Balance"))}),(0,g.jsx)("i",{className:`fa fa-eye${n?"":"-slash"} cursor-pointer`,onClick:()=>l(!n)})]})})]})},y=e=>{let{bank:a,theme:t}=e;const[n,l]=(0,s.useState)(!1);return(0,g.jsxs)(j.A,{className:"dashboardCard border-"+("dark"===t?"dark":"1"),children:[(0,g.jsxs)(j.A.Body,{className:"bni-bg rounded-top text-center",children:[(0,g.jsx)("i",{className:"fa fa-3x fa-bank"}),(0,g.jsx)("div",{className:"fs-6 py-1",children:(0,g.jsx)("span",{className:"badge bg-dark",children:a.Bank})}),(0,g.jsx)("div",{className:"small",children:a.BankAccountNumber})]}),(0,g.jsx)(j.A.Body,{children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{style:n?{}:{filter:"blur(5px)"},children:m.A.countryCurrencyLacSeperator(a.Locale,a.Currency,Number(a.Balance,2))}),(0,g.jsx)("i",{className:`fa fa-eye${n?"":"-slash"} cursor-pointer`,onClick:()=>l(!n)})]})})]})},M=e=>{let{ccOut:a}=e;const[t,n]=(0,s.useState)(!1);return(0,g.jsxs)(j.A,{className:"bni-border bni-border-all bni-border-all-1 mb-2",children:[(0,g.jsx)(j.A.Body,{className:"bni-bg rounded-top p-2",children:a.cardName}),(0,g.jsx)(j.A.Body,{className:"p-2 rounded-bottom",children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("span",{style:t?{}:{filter:"blur(5px)"},children:m.A.countryCurrencyLacSeperator(a.Locale,a.Currency,a.total)}),(0,g.jsx)("i",{className:`fa fa-eye${t?"":"-slash"} cursor-pointer`,onClick:()=>n(!t)})]})})]})},N=(e,a)=>e.length>0?e.reduce(((e,t)=>Number(e)+Number(t[a])||0),0):0,w=e=>{let{bankList:a,totalHoldings:t,ccOutstandingList:n,intlHeader:l}=e;const i=(0,s.useContext)(r.R);return(0,g.jsxs)(f.A,{className:"pb-2",children:[(0,g.jsxs)(b.A,{lg:8,md:6,children:[(0,g.jsx)("div",{className:"fs-6 py-2",children:(0,g.jsx)(F,{children:(0,g.jsx)(o.A,{id:l,defaultMessage:l})})}),a.length>0?(0,g.jsx)("div",{className:"x-scroll pb-2",children:(0,g.jsx)("div",{className:"",style:{display:"grid",gridTemplateColumns:`repeat(${a.length}, 250px)`,columnGap:"15px"},children:a.map(((e,a)=>(0,g.jsx)(y,{bank:e,theme:i.userData.theme},a)))})}):(0,g.jsx)(L,{theme:i.userData.theme})]}),(0,g.jsxs)(b.A,{lg:2,md:3,children:[(0,g.jsx)("div",{className:"py-2",children:(0,g.jsx)(F,{children:(0,g.jsx)(o.A,{id:"totalHoldings",defaultMessage:"totalHoldings"})})}),t.length>0?(0,g.jsx)("div",{children:t.length>1?(0,g.jsx)("div",{className:"y-scroll max-h-12 pe-2 py-1",children:t.map(((e,a)=>(0,g.jsxs)(j.A,{className:"bni-border bni-border-all bni-border-all-1 mb-2",children:[(0,g.jsxs)(j.A.Body,{className:"bni-bg rounded-top p-2",children:[(0,g.jsx)("i",{className:"fa fa-1x fa-cubes pe-2"}),e.currency]}),(0,g.jsx)(j.A.Body,{className:"p-2 rounded-bottom",children:m.A.lacSeperator(N(e.data,"Balance"),e.locale)})]},a)))}):(0,g.jsx)(v,{totalHoldings:t,theme:i.userData.theme})}):(0,g.jsx)(L,{theme:i.userData.theme})]}),(0,g.jsxs)(b.A,{lg:2,md:3,children:[(0,g.jsx)("div",{className:"fs-6 py-2",children:(0,g.jsx)(F,{children:(0,g.jsx)(o.A,{id:"creditCardPayable",defaultMessage:"creditCardPayable"})})}),n.length>0?(0,g.jsx)("div",{className:"y-scroll max-h-12 pe-2 py-1",children:n.map(((e,a)=>(0,g.jsx)(M,{ccOut:e},a)))}):(0,g.jsx)(L,{theme:i.userData.theme})]})]})},D=e=>{let{chartData:a,intlHeader:t,theme:s}=e;return(0,g.jsxs)(f.A,{children:[(0,g.jsx)(b.A,{lg:12,className:"fs-6 py-3",children:(0,g.jsx)(F,{children:(0,g.jsx)(o.A,{id:t,defaultMessage:t})})}),a&&a.length>0&&a.map(((e,a)=>(0,g.jsx)(b.A,{lg:3,md:6,className:"text-center pb-3",children:(0,g.jsx)(p.DonutChart,{width:200,height:200,outerRadius:100,innerRadius:80,xAxisLabel:e.key,showLegend:!1,showTooltip:!0,fillColor:[document.documentElement.style.getPropertyValue("--app-theme-bg-color"),document.documentElement.style.getPropertyValue("--app-theme-color")],data:e.data,showAnimation:!1})},a)))]})},A=e=>{let{chartData:a,intlHeader:t,theme:s}=e;return(0,g.jsxs)(f.A,{className:"pb-2",children:[(0,g.jsx)(b.A,{lg:12,className:"fs-6 py-3",children:(0,g.jsx)(F,{children:(0,g.jsx)(o.A,{id:t,defaultMessage:t})})}),a&&a.length>0&&a.map(((e,a)=>(0,g.jsxs)(b.A,{lg:3,md:6,className:"text-center",children:[(0,g.jsx)(p.PieChart,{width:200,height:200,outerRadius:100,innerRadius:80,xAxisLabel:e.key,showXaxisLabel:!1,showYaxisLabel:!1,lineColor:""+("dark"===s?"#000":"#fff"),fillColor:[document.documentElement.style.getPropertyValue("--app-theme-bg-color"),document.documentElement.style.getPropertyValue("--app-theme-color")],data:e.data,showAnimation:!1}),(0,g.jsx)("div",{className:"py-2",children:(0,g.jsx)("small",{children:(0,g.jsx)(o.A,{id:e.key,defaultMessage:e.key})})})]},a)))]})};var k=t(5342);const C="BANK_HOLD",S="REC_TRX",Y="TOP_BANKINGS",T="TOP_CREDIT_CARDS";var P=t(8751),$=t(3718),I=t(8045),E=t(6447);const L=e=>{let{theme:a}=e;return(0,g.jsx)("div",{className:"dashboardCard d-flex align-items-center rounded border border-"+("dark"===a?"secondary":"1"),children:(0,g.jsx)("div",{className:"text-center w-100",children:(0,g.jsx)(o.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})})},F=e=>{let{children:a}=e;const t=(0,s.useContext)(r.R);return(0,g.jsxs)("div",{className:"badge "+("dark"===t.userData.theme?"bg-secondary text-white":"bg-light text-dark"),style:{cursor:"grabbing"},children:[(0,g.jsx)("span",{className:"pe-1",children:":::"}),a]})},R=e=>{var a;const t=(0,s.useRef)(null),d=(0,c.A)(),p=(0,s.useContext)(i.F);document.title=`${p.appName} - ${d.formatMessage({id:"dashboard",defaultMessage:"dashboard"})}`;const f=(0,s.useContext)(l.AccountContext),b=(0,s.useContext)(r.R),[j,v]=(0,s.useState)([]),[y,M]=(0,s.useState)([]),[N,L]=(0,s.useState)([]),[F,R]=(0,s.useState)([]),[B,O]=(0,s.useState)([]),[U,z]=(0,s.useState)({}),[V,H]=(0,s.useState)([]),[K,W]=(0,s.useState)(!0),[J,G]=(0,s.useState)(!1),[q,Z]=(0,s.useState)([{id:C,intlHeader:"bankHoldings",isActive:!0},{id:S,intlHeader:"recentTransactions",isActive:!0},{id:Y,intlHeader:"topBankingTrends",isActive:!0},{id:T,intlHeader:"topCreditCardTrends",isActive:!0}]),[X,Q]=(0,s.useState)([]),[ee,ae]=(0,s.useState)([]),te=()=>(0,g.jsx)("div",{className:"relativeSpinner middle",children:(0,g.jsx)(h.A,{type:m.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})});(0,s.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.userConfig)&&void 0!==e&&e.appId){W(!0);const e=new FormData;e.append("appId",b.userConfig.appId);const a=n.A.post("/account_planner/getTotalHoldings",e),t=new FormData;t.append("appId",b.userConfig.appId),t.append("month",u()().format("M")),t.append("year",u()().format("YYYY"));const s=n.A.post("/dashboard/topTrends",t),l=n.A.post("/dashboard/recentTransactions",e),r=n.A.post("/dashboard/topCcTrends",t);Promise.all([a,s,l,r]).then((e=>{v(e[0].data.response.result.bankBalance),M(e[0].data.response.result.creditBalance),R(e[1].data.response),H(e[2].data.response),O(e[3].data.response)})).catch((()=>{f.renderToast({type:"error",icon:"fa fa-times-circle",message:d.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})).finally((()=>W(!1)))}}),[b]),(0,s.useEffect)((()=>{const e=_.chain(j).groupBy((e=>`${e.Currency}{-}${e.Locale}`)).map(((e,a)=>({currency:a.split("{-}")[0],locale:a.split("{-}")[1],data:e}))).value();L(e)}),[j]),(0,s.useEffect)((()=>{const e=Object.entries(F).map((e=>({key:d.formatMessage({id:e[0],defaultMessage:e[0]}),data:e[1].map((e=>({label:e.name,value:Number(e.total)})))}))),a=Object.entries(B).map((e=>({key:d.formatMessage({id:e[0],defaultMessage:e[0]}),data:e[1].map((e=>({label:e.name,value:Number(e.total)})))})));z({donutChartData:e,pieChartData:a})}),[F,B,d]),(0,s.useEffect)((()=>{if(!K){const e=[{id:C,component:w,props:{bankList:j,totalHoldings:N,ccOutstandingList:y,intlHeader:"bankHoldings"},order:0},{id:S,component:x,props:{recentData:V,width:t.current.offsetWidth,intlHeader:"recentTransactions"},order:1},{id:Y,component:D,props:{chartData:U.donutChartData,intlHeader:"topBankingTrends",theme:b.userData.theme},order:2},{id:T,component:A,props:{chartData:U.pieChartData,intlHeader:"topCreditCardTrends",theme:b.userData.theme},order:3}];Q(e),ae(e)}}),[K,V,j,N,y,U,d,b]);const se=e=>{const a=q.map((a=>(a.id===e&&(a.isActive=!a.isActive),a)));Z(a)};(0,s.useEffect)((()=>{const e=q.filter((e=>e.isActive)).map((e=>e.id)),a=[...X].filter((a=>e.includes(a.id))).map(((e,a)=>({...e,order:a})));ae(a)}),[X,q]);const ne=(0,$.FR)((0,$.MS)($.AN,{activationConstraint:{distance:5}}),(0,$.MS)($.IG,{activationConstraint:{distance:5}}),(0,$.MS)($.uN,{coordinateGetter:I.JR}));return K?(0,g.jsx)(te,{}):(0,g.jsxs)("div",{className:"mb-2 container-fluid",ref:t,children:[(0,g.jsx)("div",{className:`bg-gradient ${"dark"===b.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"} mt-2 ps-3 py-2 rounded-pill mb-2`,children:(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("i",{className:"fa fa-pie-chart fa-1x"}),(0,g.jsx)("div",{className:"ps-2 mb-0",children:(0,g.jsx)(o.A,{id:"dashboard",defaultMessage:"dashboard"})})]}),(0,g.jsx)("div",{className:"",children:(0,g.jsxs)(k.A,{show:J,drop:"end",onToggle:(e,a)=>{"select"!==a.source&&G(e)},children:[(0,g.jsx)(k.A.Toggle,{as:"div",className:"pe-2",children:(0,g.jsx)("i",{className:"fa fa-cog icon-bni cursor-pointer pe-1"})}),(0,g.jsx)(k.A.Menu,{className:"mt-3 pe-3 "+("dark"===b.userData.theme?"bg-dark text-white-50":"bg-white text-black"),children:q.map(((e,a)=>(0,g.jsxs)(k.A.Item,{as:"div",className:""+("dark"===b.userData.theme?"bg-dark text-white-50":"bg-white text-black"),children:[(0,g.jsx)(P.A,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:document.documentElement.style.getPropertyValue("--app-theme-color"),offHandleColor:"dark"===b.userData.theme?"#555":"#ddd",onHandleColor:"dark"===b.userData.theme?"#555":"#ddd",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:30,onChange:a=>{se(e.id)},checked:e.isActive,disabled:1===ee.length&&e.isActive}),(0,g.jsx)("span",{className:"ps-2",style:1===ee.length&&e.isActive?{opacity:"0.25",cursor:"not-allowed"}:{cursor:"pointer"},onClick:a=>{(1!==ee.length||!e.isActive)&&se(e.id)},children:d.formatMessage({id:e.intlHeader,defaultMessage:e.intlHeader})})]},a)))})]})})]})}),(0,g.jsx)(s.Suspense,{fallback:(0,g.jsx)(te,{}),children:(null===t||void 0===t||null===(a=t.current)||void 0===a?void 0:a.clientWidth)>450?(0,g.jsx)($.Mp,{sensors:ne,collisionDetection:$.fp,onDragEnd:e=>{let{active:a,over:t}=e;if(a.id!==t.id){const e=ee.findIndex((e=>{let{id:t}=e;return t===a.id})),s=ee.findIndex((e=>{let{id:a}=e;return a===t.id})),n=(0,I.be)(ee,e,s);ae(n)}},children:(0,g.jsx)(I.gB,{items:ee,strategy:I._G,children:ee.map(((e,a)=>{const t=e.component;return(0,g.jsx)(E.U,{id:e.id,children:(0,g.jsx)(t,{index:a,...e.props})},e.id)}))})}):ee.map(((e,a)=>{const t=e.component;return(0,g.jsx)(t,{index:a,...e.props},e.id)}))})]})}},3508:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(9950),n=t(1308),l=t(6781),r=t(8459);const i=t.p+"static/media/banking.46a9b2fee8e28eb66984.png";var o=t(9288),c=t(6082),d=t(4414);const u=e=>{const a=(0,s.useContext)(n.F),t=(0,o.A)(),[,u]=(0,s.useState)(JSON.parse(localStorage.getItem("userData"))||{});return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"homeScreen",children:(0,d.jsxs)(l.A,{className:"justify-content-md-center mainForm",children:[(0,d.jsx)(r.A,{lg:6,className:"",children:(0,d.jsx)("img",{src:i,alt:"brand",className:"img-fluid helpImage w-100"})}),(0,d.jsx)(r.A,{lg:6,className:"p-3 position-relative formWrapper",children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.A,{onLogAction:e=>{u(e)}}),(0,d.jsxs)(l.A,{className:"position-absolute bottom-0 text-dark small text-center w-100 align-items-center",children:[(0,d.jsx)(r.A,{sm:12,className:"",children:(0,d.jsx)("button",{onClick:()=>!1,className:"btn btn-lg btn-bni w-100 rounded-0",children:"Signup"})}),(0,d.jsx)(r.A,{sm:6,className:"p-2",children:(0,d.jsx)("div",{children:(0,d.jsx)("a",{href:a.privacyPolicyLink,target:"_blank",className:"btn btn-sm btn-link",rel:"noreferrer",children:t.formatMessage({id:"privacyPolicy",defaultMessage:"privacyPolicy"})})})}),(0,d.jsx)(r.A,{sm:6,className:"p-2",children:(0,d.jsx)("div",{children:(0,d.jsx)("a",{href:a.termsOfServiceLink,target:"_blank",className:"btn btn-sm btn-link",rel:"noreferrer",children:t.formatMessage({id:"termsAndConditions",defaultMessage:"termsAndConditions"})})})})]})]})})]})})})})}},2272:(e,a,t)=>{"use strict";t.r(a),t.d(a,{AccountContext:()=>ne,default:()=>le});var s=t(9950),n=t(8311),l=t(2083),r=t(4078),i=t(9051),o=t.n(i),c=t(5472),d=t.n(c),u=t(3027),m=t(4408),h=t(7391),p=t(2436),g=t(6781),x=t(8459),f=t(4414);const b=(0,m.Ay)((e=>{const{intl:a}=e,t=(0,s.useContext)(ne),{chartData:n,bankDetails:i,onMonthYearSelected:c,monthYearSelected:m}=t,b=(0,s.useContext)(h.U),j=(0,s.useContext)(p.R),v=(0,s.useRef)(null),[y,M]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),[_,D]=(0,s.useState)(0),[A,k]=(0,s.useState)({}),C=getComputedStyle(document.documentElement).getPropertyValue("--bs-indigo"),S=getComputedStyle(document.documentElement).getPropertyValue("--bs-pink"),Y="debit-card-income";(0,s.useEffect)((()=>{D(v.current.clientWidth)}),[]),(0,s.useEffect)((()=>{var e,a;const t=e=>{let{category:a,total:t,dated:s}=e;return{month:s,label:l.A.shorten(a,15),value:Number(t),isEmpty:Number(t)<=0}},s=n.category.map((e=>{var a,s,n,l;return{month:e.month,cData:(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(s=a.expense)||void 0===s?void 0:s.length)>0?e.data.expense.map((a=>t({category:a.category,total:a.total,dated:e.month}))):[t({category:"No Data",total:0,dated:null})],creditData:(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.income)||void 0===l?void 0:l.length)>0?e.data.income.map((a=>t({category:a.category,total:a.total,dated:e.month}))):[t({category:"No Data",total:0,dated:null})]}}));M(s);const r=[{color:C,points:n.income.map((e=>{let{month:a,measureDate:t,monthStart:s,monthEnd:n,totalIncome:l,metricIncome:r}=e;return{month:a,x:s,z:n,y:l,metricTotal:r,measureDate:new Date(t)}}))},{color:S,points:n.income.map((e=>{let{month:a,monthStart:t,monthEnd:s,metricIncome:n}=e;return{month:a,x:t,z:s,y:n}}))}];w([]);const o=r[1].points.filter((e=>0!==e.y)),c=new Date(null===(e=o[o.length-1])||void 0===e?void 0:e.x),d=new Date(null===(a=o[0])||void 0===a?void 0:a.z),u=T(c,d);setTimeout((()=>{var e,a;w(r);const t=r[0].points.reduce(((e,a)=>e+a.metricTotal),0),s=l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,t/(40*u)||0,2),n=l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,t/(5*u)||0,2),o=l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,t/u||0,2);k({hourly:s,daily:n,weekly:o}),null!==(e=v.current)&&void 0!==e&&null!==(a=e.childNodes[2])&&void 0!==a&&a.childNodes[0]&&(v.current.childNodes[2].childNodes[0].style.height=260)}),1)}),[n,b]),(0,s.useEffect)((()=>{if(N.length>0&&y.length>0){var e,a,t;const l=e=>{const a=e.target.id;c(a)},r=null===(e=v.current)||void 0===e||null===(a=e.querySelector(`#${Y} svg`))||void 0===a?void 0:a.getElementsByClassName("axis")[0].children,i=r&&(null===(t=Array.from(r))||void 0===t?void 0:t.filter((e=>e.classList.contains("tick"))).reverse()),o=[...N[1].points];for(let e=0;e<i.length;e++){var s;i[e].children[1].classList.remove("colored"),i[e].children[1].setAttribute("id",null===(s=o[e])||void 0===s?void 0:s.month),i[e].children[1].addEventListener("click",l)}if(m){var n;const e=i&&(null===(n=Array.from(i))||void 0===n?void 0:n.filter((e=>e.children[1].id===m))[0]);e&&e.getElementsByTagName("text")[0].classList.add("colored")}return()=>{for(let e=0;e<i.length;e++)i[e].children[1].removeEventListener("click",l)}}}),[m,N,y]);const T=(e,a)=>{const t=Math.floor((a-e)/864e5);return Math.ceil(t/7)||1},P=l.A.donutChartColors,$=(e,a)=>{let t=isFinite(Math[a](...e))?Math[a](...e):0;return t=l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,t,2),t},I=e=>{let{i18Key:t,value:s}=e;return(0,f.jsxs)("div",{className:"position-relative small py-4",children:[a.formatMessage({id:t,defaultMessage:t}),(0,f.jsx)("span",{title:s,className:"position-absolute top-0 start-50 translate-middle rounded-pill bni-bg bni-text w-100 py-2 text-break",children:s})]})};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{ref:v,children:N.length>0&&y.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"badge bni-bg bni-text",children:(0,f.jsx)(u.A,{id:"incomeMetrics",defaultMessage:"incomeMetrics"})}),(0,f.jsxs)(g.A,{className:"mt-3",children:[(0,f.jsx)(x.A,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:(0,f.jsx)(I,{i18Key:"total",value:(e=>{let a=e.reduce(((e,a)=>e+a.metricTotal),0);return a=l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,a,2),a})(N[0].points)})}),(0,f.jsx)(x.A,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:(0,f.jsx)(I,{i18Key:"highest",value:$(N[0].points.filter((e=>0!==e.metricTotal)).map((e=>e.metricTotal)),"max")})}),(0,f.jsx)(x.A,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:(0,f.jsx)(I,{i18Key:"lowest",value:$(N[0].points.filter((e=>0!==e.metricTotal)).map((e=>e.metricTotal)),"min")})}),(0,f.jsx)(x.A,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:(0,f.jsx)(I,{i18Key:"weekly",value:A.weekly})}),(0,f.jsx)(x.A,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:(0,f.jsx)(I,{i18Key:"daily",value:A.daily})}),(0,f.jsx)(x.A,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:(0,f.jsx)(I,{i18Key:"hourly",value:A.hourly})})]}),(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:[(0,f.jsx)("i",{style:{color:C},className:"fa fa-circle me-2",title:a.formatMessage({id:"credit",defaultMessage:"credit"})}),a.formatMessage({id:"credit",defaultMessage:"credit"})]})}),(0,f.jsxs)("div",{className:"fst-italic text-wrap",children:[(0,f.jsx)("sup",{className:"text-danger",children:"*"}),a.formatMessage({id:"CreditInclusiveIncome",defaultMessage:"CreditInclusiveIncome"})]}),(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:[(0,f.jsx)("i",{style:{color:S},className:"fa fa-circle me-2",title:a.formatMessage({id:"income",defaultMessage:"income"})}),a.formatMessage({id:"income",defaultMessage:"income"})]})})]}),(0,f.jsx)(d(),{data:N,id:Y,margins:{top:50,right:_>450?80:30,bottom:50,left:135},width:_,isDate:!0,height:250,xLabel:a.formatMessage({id:"month",defaultMessage:"month"}),yLabel:`${a.formatMessage({id:"credit",defaultMessage:"credit"})} & ${a.formatMessage({id:"income",defaultMessage:"income"})}`,onPointHover:e=>l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,e.y,2),tooltipClass:"line-chart-tooltip",ticks:y.length,xDisplay:(e,t)=>(e=>{let t="";if(_>450){t=o()(e).format("MMM");const s=t.toLocaleString("default",{month:"short"}).toLowerCase(),n=e.getFullYear();t=`${a.formatMessage({id:s,defaultMessage:s})} ${n}`}else t=o()(e).format("M");return t})(e),onPointClick:(e,a)=>{c(a.month)}})]})}),(0,f.jsx)("div",{className:"x-scroll",children:y.length>0&&(0,f.jsx)("div",{className:"d-flex align-items-center pt-2 ps-3",children:y.map(((e,t)=>(0,f.jsxs)("div",{className:"chartWrapper",children:[(0,f.jsx)("div",{className:"text-center pt-10 pb-10",children:(0,f.jsx)("button",{className:"btn btn-sm btn-bni "+(String(m)===String(e.month)?"active":""),onClick:()=>{c(e.month)},children:`${a.formatMessage({id:e.month.split("-")[0].toLowerCase(),defaultMessage:e.month.split("-")[0].toLowerCase()})} ${e.month.split("-")[1]}`})}),(0,f.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&(0,f.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:(0,f.jsx)(u.A,{id:"expense",defaultMessage:"expense"})}),(0,f.jsx)(r.A,{strokeColor:""+("dark"===j.userData.theme?"#000":"#eee"),innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:P,height:220,width:220,legend:!1,data:e.cData,formatValues:(e,a)=>`${l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,e,2)}`})]}),(0,f.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&(0,f.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:(0,f.jsx)(u.A,{id:"income",defaultMessage:"income"})}),(0,f.jsx)(r.A,{strokeColor:""+("dark"===j.userData.theme?"#000":"#eee"),innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:P,height:220,width:220,legend:!1,data:e.creditData,formatValues:(e,a)=>`${l.A.countryCurrencyLacSeperator(i[0].bank_locale,i[0].bank_currency,e,2)}`})]})]},(e=>`chart-${e}`)(t))))})})]})}));t(3742);var j=t(1397),v=t.n(j);const y=(0,m.Ay)((e=>{var a;const t=(0,s.useContext)(ne),n=(0,s.useContext)(h.U),{data:r,intl:i}=e,{ccMonthYearSelected:c,ccDetails:m,setCcDetails:p,onCcMonthYearSelected:g}=t,[x,b]=(0,s.useState)(0),[j,y]=(0,s.useState)([]),[M,N]=(0,s.useState)(!0),w=(0,s.useRef)(null),_=getComputedStyle(document.documentElement).getPropertyValue("--bs-danger"),D=getComputedStyle(document.documentElement).getPropertyValue("--bs-primary"),A=getComputedStyle(document.documentElement).getPropertyValue("--bs-success"),k=getComputedStyle(document.documentElement).getPropertyValue("--bs-warning"),[C,S]=(0,s.useState)({}),Y="credit-card-usage";(0,s.useEffect)((()=>{const[e,a]=c.split("-"),t=l.A.strToNumMonth[e],s=Number(m.credit_card_start_date),n=Number(m.credit_card_end_date),r=new Date(`${Number(a)}-${Number(t)}-${n}`.replace(/-/g,"/")),i=`${r.getFullYear()}-${l.A.leadingZeros(r.getMonth()+1)}-${l.A.leadingZeros(r.getDate())}`;let o=r.setTime(r.getTime()-2592e6);o=new Date(o),o=new Date(o.setDate(s));const d=`${o.getFullYear()}-${l.A.leadingZeros(o.getMonth()+1)}-${l.A.leadingZeros(o.getDate())}`;let u=Number(m.credit_card_payment_date);u=u<10?`0${u}`:u,u=new Date(`${u}-${c}`),u=l.A.addMonths(u,1);let[h,g,x]=[u.getFullYear(),u.getMonth()+1,u.getDate()];g=g<10?`0${g}`:g,x=x<10?`0${x}`:x,u=`${h}-${g}-${x}`,S({sDateStr:d,eDateStr:i,payDate:u}),p((e=>({...e,creditCardCycleStartDate:d,creditCardCycleEndDate:i}))),b(w.current.clientWidth)}),[c]),(0,s.useEffect)((()=>{if(M&&j.length>0){var e,a,t;const n=e=>{const a=e.target.id;g(a)},l=null===(e=w.current)||void 0===e||null===(a=e.querySelector(`#${Y} svg`))||void 0===a?void 0:a.getElementsByClassName("axis")[0].children,r=l&&(null===(t=Array.from(l))||void 0===t?void 0:t.filter((e=>e.classList.contains("tick"))));for(let e=0;e<r.length;e++)r[e].children[1].classList.remove("colored"),r[e].children[1].setAttribute("id",j[0].points[e].month),r[e].children[1].addEventListener("click",n);if(c){var s;const e=r&&(null===(s=Array.from(r))||void 0===s?void 0:s.filter((e=>e.children[1].id===c))[0]);e&&e.getElementsByTagName("text")[0].classList.add("colored")}return()=>{for(let e=0;e<r.length;e++)r[e].children[1].removeEventListener("click",n)}}}),[c,M,j]);const T=e=>{const a=c.split("-")[1];let t=new Array(12).fill().map(((e,a)=>a>8?String(a+1):`0${a+1}`)).map((t=>{const s=l.A.monthToStr[t],n=r.filter((e=>e.month.split("-")[0].includes(s))),i=n.length?n[0].cData.filter((a=>a.label===e))[0].value:0;return{x:o()(`${a}/${t}/01`).format("YYYY-MM-DD"),y:i,month:`${s}-${a}`}}));return t=v().flatten(t),t},P=e=>{let a=T(e).reduce(((e,a)=>e+Number(a.y.toFixed(2))),0);return a=l.A.countryCurrencyLacSeperator(m.credit_card_locale,m.credit_card_currency,a,2),a};(0,s.useEffect)((()=>{if(r.length>0){var e,a;const t=[{color:_,points:T("Taxes & Interest")},{color:D,points:T("Purchases")},{color:A,points:T("Paid")},{color:k,points:T("Opening Balance")}];y([]),setTimeout((()=>{y(t)}),100),null!==(e=w.current)&&void 0!==e&&null!==(a=e.childNodes[2])&&void 0!==a&&a.childNodes[0]&&(w.current.childNodes[2].childNodes[0].style.height=260)}}),[r]);const $=e=>{if(null!==i&&void 0!==i&&i.formatMessage){let a="";if(x>450){a=o()(e).format("MMM");const t=a.toLocaleString("default",{month:"short"}).toLowerCase(),s=e.getFullYear();a=`${i.formatMessage({id:t,defaultMessage:t})} ${s}`}else a=o()(e).format("M");return a}};return(0,f.jsxs)("div",{ref:w,className:"position-relative",children:[(0,f.jsx)("i",{className:`fa fa-${M?"minus":"plus"}-circle roundedButton`,onClick:()=>N(!M),style:M?{}:{position:"absolute",top:"15px"}}),M&&j.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"row rounded pt-2",children:[(0,f.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[(0,f.jsxs)("span",{children:[(0,f.jsx)("i",{className:"fa fa-circle text-warning me-2",title:i.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"})}),(0,f.jsx)(u.A,{id:"openingBalance",defaultMessage:"openingBalance"})]}),(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{className:"pe-2",children:(0,f.jsx)(u.A,{id:"year",defaultMessage:"year"})}),null===(a=r[0])||void 0===a?void 0:a.month.split("-")[1]]})]}),(0,f.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[(0,f.jsxs)("span",{children:[(0,f.jsx)("i",{className:"fa fa-circle text-primary me-2",title:i.formatMessage({id:"purchases",defaultMessage:"purchases"})}),(0,f.jsx)(u.A,{id:"purchases",defaultMessage:"purchases"})]}),(0,f.jsx)("span",{children:`${P("Purchases")}`})]}),(0,f.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[(0,f.jsxs)("span",{children:[(0,f.jsx)("i",{className:"fa fa-circle text-success me-2",title:i.formatMessage({id:"payments",defaultMessage:"payments"})}),(0,f.jsx)(u.A,{id:"payments",defaultMessage:"payments"})]}),(0,f.jsx)("span",{children:`${P("Paid")}`})]}),(0,f.jsxs)("div",{className:"col-md-3 small d-flex flex-nowrap justify-content-between align-items-center",children:[(0,f.jsxs)("span",{children:[(0,f.jsx)("i",{className:"fa fa-circle text-danger me-2",title:i.formatMessage({id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})}),(0,f.jsx)(u.A,{id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})]}),(0,f.jsx)("span",{children:`${P("Taxes & Interest")}`})]})]}),(0,f.jsx)(d(),{data:j,id:Y,margins:{top:50,right:x>450?80:30,bottom:50,left:135},width:x,isDate:!0,height:250,xLabel:i.formatMessage({id:"month",defaultMessage:"month"}),yLabel:i.formatMessage({id:"amount",defaultMessage:"amount"}),onPointHover:e=>l.A.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,e.y,2),tooltipClass:"line-chart-tooltip",ticks:12,xDisplay:(e,a)=>$(e),onPointClick:(e,a)=>g(a.month)}),c&&C&&m&&C.payDate&&(0,f.jsx)("div",{className:"pt-4",children:(0,f.jsxs)("div",{className:"row mt-10",children:[(0,f.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[(0,f.jsx)("span",{children:(0,f.jsx)(u.A,{id:"month",defaultMessage:"month"})}),(0,f.jsx)("span",{children:$(new Date(`\n                        ${c.split("-")[1]}/${l.A.strToNumMonth[c.split("-")[0]]}/01`))})]}),(0,f.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[(0,f.jsx)("i",{className:"fa fa-credit-card-alt"}),(0,f.jsx)("span",{children:m.credit_card_number})]}),(0,f.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[(0,f.jsx)("span",{children:(0,f.jsx)(u.A,{id:"cycle",defaultMessage:"cycle"})}),(0,f.jsxs)("span",{children:[C.sDateStr," ",(0,f.jsx)(u.A,{id:"to",defaultMessage:"to"})," ",C.eDateStr]})]}),(0,f.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[(0,f.jsx)("span",{children:(0,f.jsx)(u.A,{id:"payDate",defaultMessage:"payDate"})}),(0,f.jsx)("span",{children:C.payDate})]})]})})]})]})})),M=e=>{const a=(0,s.useContext)(ne),{ccChartData:t,ccYearSelected:n,ccDetails:l,onCcMonthYearSelected:r}=a,[i,o]=(0,s.useState)([]);return(0,s.useEffect)((()=>{if(t.length>0){const e=t.map((e=>({month:e.month,cData:[{label:"Opening Balance",value:e.data.ob},{label:"Paid",value:e.data.paid},{label:"Purchases",value:e.data.purchases},{label:"Taxes & Interest",value:e.data.taxesInterest},{label:"Balance",value:e.data.balance}]})));o(e)}}),[t,l,n,r]),(0,f.jsx)(y,{data:i})};var N=t(8630),w=t(4570),_=t(5942),D=t(1432),A=t(9019),k=(t(764),t(4268)),C=t(9288);const S=e=>{const a=(0,C.A)(),{monthYearSelected:t,bankSelected:r,selectedPlan:i,...o}=e,c=(0,s.useContext)(p.R),d=(0,s.useContext)(h.U),[m,g]=(0,s.useState)([]),[x,b]=(0,s.useState)(!0);(0,s.useEffect)((()=>{b(!0);const e=j();Promise.all([e]).then((e=>{const a=e[0];g(a),b(!1)}))}),[t,r,i]);const j=()=>{const e=new FormData;return e.append("startDate",i.startDate),e.append("endDate",i.endDate),e.append("bankSelected",r),e.append("criteria",i.criteria),e.append("appId",c.userConfig.appId),w.A.post("/account_planner/getPlanDetails",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))},v=(e,a)=>"E0"===i.criteria?Number(e):"0TO100"===i.criteria||"E100"===i.criteria||"G100"===i.criteria?Number(e)-Number(a):0,y=e=>{const a=e.reduce(((e,a)=>e+a),0);return l.A.countryCurrencyLacSeperator(d.localeLanguage,d.localeCurrency,a,2)},M=[],N=[],_=[];return(0,f.jsxs)(k.A,{...o,style:{zIndex:1e4},children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsxs)(k.A.Title,{children:[a.formatMessage({id:t.split("-")[0].toLowerCase(),defaultMessage:t.split("-")[0].toLowerCase()})," ",t.split("-")[1]," ",(0,f.jsx)("i",{className:"fa fa-angle-double-right"})," ",i.label]})}),(0,f.jsx)(k.A.Body,{className:"rounded-bottom "+("dark"===c.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:(0,f.jsx)("div",{className:"table-responsive p-10",children:x?(0,f.jsx)("div",{className:"relativeSpinner",children:(0,f.jsx)(n.A,{type:l.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):(0,f.jsx)("table",{className:"table "+("dark"===c.userData.theme?"table-dark":"table-white"),children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"#"}),(0,f.jsx)("th",{children:(0,f.jsx)(u.A,{id:"expense",defaultMessage:"expense"})}),(0,f.jsx)("th",{children:(0,f.jsx)(u.A,{id:"committed",defaultMessage:"committed"})}),(0,f.jsx)("th",{children:(0,f.jsx)(u.A,{id:"plan",defaultMessage:"plan"})}),(0,f.jsx)("th",{children:(0,f.jsx)(u.A,{id:"difference",defaultMessage:"difference"})})]}),m&&m.length>0?m.map(((e,a)=>{const t=v(e.inc_exp_plan_amount,e.inc_exp_amount);M.push(Number(e.inc_exp_amount)),N.push(Number(e.inc_exp_plan_amount));const s=v(e.inc_exp_plan_amount,e.inc_exp_amount);return _.push(s),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{children:[a+1,"."]}),(0,f.jsx)("td",{children:e.inc_exp_name}),(0,f.jsx)("td",{children:e.inc_exp_amount}),(0,f.jsx)("td",{children:e.inc_exp_plan_amount}),(0,f.jsx)("td",{className:"text-"+(t>=0?"success":"danger"),children:t>=0?`+${l.A.countryCurrencyLacSeperator(d.localeLanguage,d.localeCurrency,t,2)}`:`(${l.A.countryCurrencyLacSeperator(d.localeLanguage,d.localeCurrency,t,2)})`})]},a)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"text-center py-3",colSpan:"5",children:(0,f.jsx)(u.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})}),m&&m.length>0&&(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsx)(u.A,{id:"total",defaultMessage:"total"})}),(0,f.jsx)("td",{}),(0,f.jsx)("td",{children:y(M)}),(0,f.jsx)("td",{children:y(N)}),(0,f.jsx)("td",{children:y(_)})]})]})})})})]})},Y=e=>{const a=(0,C.A)(),t=(0,s.useContext)(p.R),n=(0,s.useContext)(h.U),{totals:r,...i}=e,[o,c]=(0,s.useState)(0),[d,m]=(0,s.useState)(0),[g,x]=(0,s.useState)(0),[b,j]=(0,s.useState)(0),[v,y]=(0,s.useState)(0),[M,N]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(r.length>0){let e=r.length>0&&r.filter((e=>"danger"===e.flagString&&e.amount>0));e=e.length>0?e[0].amount:0,e=e.toFixed(2),e=Number(e),c(e)}}),[r]),(0,s.useEffect)((()=>{let e=o-d-g-b;e=Math.round(100*e)/100,e=-0===e?0:e,y(e);let a=(Number(o)-e)/o;a*=100,a=a>100?100:a,a=isNaN(a)?100:a,N(a)}),[o,d,g,b]);const w=e=>({label:0===e?a.formatMessage({id:"solved",defaultMessage:"solved"}):e>0?a.formatMessage({id:"behind",defaultMessage:"behind"}):a.formatMessage({id:"ahead",defaultMessage:"ahead"}),class:0===e?"text-success":e>0?"text-danger":"text-primary"});return(0,f.jsxs)(k.A,{...i,style:{zIndex:1e4},children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsx)(k.A.Title,{children:(0,f.jsx)(u.A,{id:"tally",defaultMessage:"tally"})})}),(0,f.jsx)(k.A.Body,{className:"rounded-bottom "+("dark"===t.userData.theme?"bg-dark":"bg-white"),children:(0,f.jsxs)("div",{className:"tallyModal text-dark",children:[(0,f.jsxs)("div",{className:"py-2 form-floating",children:[(0,f.jsx)("input",{id:"appplicationBalance",value:o,onChange:e=>c(Number(e.target.value)),placeholder:a.formatMessage({id:"balance",defaultMessage:"balance"}),type:"number",className:"form-control",readOnly:!0}),(0,f.jsx)("label",{htmlFor:"appplicationBalance",children:(0,f.jsx)(u.A,{id:"balance",defaultMessage:"balance"})})]}),(0,f.jsxs)("div",{className:"py-2 form-floating",children:[(0,f.jsx)("input",{id:"bankBalance",onChange:e=>m(Number(e.target.value)),type:"number",className:"form-control",placeholder:`${a.formatMessage({id:"bank",defaultMessage:"bank"})} ${a.formatMessage({id:"balance",defaultMessage:"balance"})}`}),(0,f.jsxs)("label",{htmlFor:"bankBalance",children:[(0,f.jsx)(u.A,{id:"bank",defaultMessage:"bank"})," ",(0,f.jsx)(u.A,{id:"balance",defaultMessage:"balance"})]})]}),(0,f.jsxs)("div",{className:"py-2 form-floating",children:[(0,f.jsx)("input",{id:"unAccounted",onChange:e=>x(Number(e.target.value)),type:"number",className:"form-control",placeholder:a.formatMessage({id:"unaccounted",defaultMessage:"unaccounted"})}),(0,f.jsx)("label",{htmlFor:"unAccounted",children:(0,f.jsx)(u.A,{id:"unaccounted",defaultMessage:"unaccounted"})})]}),(0,f.jsxs)("div",{className:"py-2 form-floating",children:[(0,f.jsx)("input",{id:"walletBalance",onChange:e=>j(Number(e.target.value)),type:"number",className:"form-control",placeholder:`${a.formatMessage({id:"wallet",defaultMessage:"wallet"})} ${a.formatMessage({id:"balance",defaultMessage:"balance"})}`}),(0,f.jsxs)("label",{htmlFor:"walletBalance",children:[(0,f.jsx)(u.A,{id:"wallet",defaultMessage:"wallet"})," ",(0,f.jsx)(u.A,{id:"balance",defaultMessage:"balance"})]})]}),(0,f.jsxs)("div",{className:"py-2",children:[(0,f.jsx)("div",{className:"text-center p-10",children:(0,f.jsxs)("h5",{className:w(v).class,children:[w(v).label,"\xa0",(0,f.jsx)("i",{className:"fa "+(100===M?"fa-check":"fa-times-circle")})]})}),(0,f.jsx)("div",{className:`text-center ${w(v).class}`,children:l.A.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,v,2)})]}),(0,f.jsx)("div",{className:"custom-progress-bar "+(M<100?"danger":"success"),style:{width:`${M}%`}})]})})]})};var T=t(970);const P=e=>{const a=(0,s.useContext)(ne),{srcArr:t,...n}=e,{incExpList:l}=a,[r,i]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),m=(0,C.A)(),h=(0,s.useContext)(p.R),[g,x]=(0,s.useState)({amount:"",source:"",dest:"",description:m.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"}),category:"",availableFunds:0});(0,s.useEffect)((()=>{t&&t.length>0&&i(t)}),[t]);(0,s.useEffect)((()=>{const e=new FormData;e.append("id",g.source),e.append("appId",h.userConfig.appId),w.A.post("/account_planner/getFundDetails",e).then((e=>{x((a=>({...a,availableFunds:e.data.response[0].availableFunds})))})).catch((e=>{console.log(e)}))}),[g.source]);return(0,f.jsxs)(k.A,{...n,style:{zIndex:1e4},children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsx)(k.A.Title,{children:(0,f.jsx)(u.A,{id:"fundTransfer",defaultMessage:"fundTransfer"})})}),(0,f.jsx)(k.A.Body,{className:"p-0 rounded-bottom "+("dark"===h.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:(0,f.jsxs)("div",{className:"row m-0",children:[(0,f.jsxs)("div",{className:"col-5 pt-3",children:[(0,f.jsxs)("div",{className:"py-3 text-center",children:[(0,f.jsx)("div",{children:(0,f.jsx)("i",{className:"fa fa-bank fa-3x"})}),(0,f.jsx)("small",{children:(0,f.jsx)(u.A,{id:"sourceBank",defaultMessage:"sourceBank"})})]}),(0,f.jsxs)("div",{className:"form-floating mt-1",children:[(0,f.jsx)(T.A,{placeholder:`${m.formatMessage({id:"selectSourceAccount",defaultMessage:"selectSourceAccount"})}`,onChange:(e,a,t)=>{(e=>{const a=[...r].filter((a=>a.id!==e));d(a),x((a=>({...a,source:e,dest:"",amount:"",category:""})))})(a)},element:{fetch:{dropDownList:r.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:g.source,type:"single",searchable:!0,theme:h.userData.theme}),Number(g.availableFunds)>0&&(0,f.jsxs)("small",{className:"text-danger",children:[(0,f.jsx)(u.A,{id:"balance",defaultMessage:"balance"}),":",Number(g.availableFunds).toLocaleString()]})]})]}),(0,f.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-center",children:(0,f.jsx)("i",{className:"fa fa-arrow-circle-right fa-3x"})}),(0,f.jsxs)("div",{className:"col-5 pt-3",children:[(0,f.jsxs)("div",{className:"py-3 text-center",children:[(0,f.jsx)("div",{children:(0,f.jsx)("i",{className:"fa fa-bank fa-3x"})}),(0,f.jsx)("small",{children:(0,f.jsx)(u.A,{id:"destinationBank",defaultMessage:"destinationBank"})})]}),(0,f.jsx)("div",{className:"form-floating mt-1",children:(0,f.jsx)(T.A,{placeholder:`${m.formatMessage({id:"selectDestinationAccount",defaultMessage:"selectDestinationAccount"})}`,onChange:(e,a,t)=>{x((e=>({...e,dest:a})))},element:{fetch:{dropDownList:c.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:g.dest,type:"single",searchable:!0,theme:h.userData.theme})})]}),(0,f.jsx)("div",{className:"col-12 pt-3",children:(0,f.jsx)("div",{className:"form-floating",children:(0,f.jsx)(T.A,{placeholder:`${m.formatMessage({id:"category",defaultMessage:"category"})}`,onChange:(e,a,t)=>{x((e=>({...e,category:a})))},element:{fetch:{dropDownList:l.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:g.category,type:"single",searchable:!0,theme:h.userData.theme})})}),(0,f.jsx)("div",{className:"col-12 pt-3",children:(0,f.jsxs)("div",{className:"form-floating",children:[(0,f.jsx)("input",{id:"amount",value:g.amount,onChange:e=>x((a=>({...a,amount:e.target.value}))),placeholder:m.formatMessage({id:"amount",defaultMessage:"amount"}),type:"number",className:"form-control form-control-sm"}),(0,f.jsx)("label",{htmlFor:"amount",className:"text-dark",children:(0,f.jsx)(u.A,{id:"amount",defaultMessage:"amount"})})]})}),(0,f.jsx)("div",{className:"col-12 py-3",children:(0,f.jsx)("button",{disabled:!(g.dest&&g.amount&&g.source&&g.category),className:"btn btn-bni w-100 border-0",onClick:()=>(()=>{const e=new FormData;e.append("amount",g.amount),e.append("source",g.source),e.append("dest",g.dest),e.append("description",`${g.description}: ${r.filter((e=>e.id===g.source))[0].value} -> ${r.filter((e=>e.id===g.dest))[0].value}`),e.append("category",g.category),e.append("date",o()(new Date).format("YYYY-MM-DD")),e.append("dateTime",o()(new Date).format("YYYY-MM-DD HH:mm:ss")),e.append("appId",h.userConfig.appId),w.A.post("/account_planner/postFundTransfer",e).then((e=>{const{data:a}=e;e&&a&&a.response?(h.renderToast({message:m.formatMessage({id:"fundTransferSuccess",defaultMessage:"fundTransferSuccess"})}),x((e=>({...e,source:"",dest:"",amount:"",category:"",description:m.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})})))):h.renderToast({type:"error",icon:"fa fa-times-circle",message:m.formatMessage({id:"fundTransferFail",defaultMessage:"fundTransferFail"})})})).catch((e=>{h.renderToast({type:"error",icon:"fa fa-times-circle",message:m.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}))})(),children:(0,f.jsx)(u.A,{id:"submit",defaultMessage:"submit"})})})]})})]})};var $=t(8516),I=t(9845),E=t(6731),L=t(9595);const F=(0,m.Ay)(((e,a)=>{var t;const r=(0,s.useContext)(ne),i=(0,s.useContext)(p.R),c=(0,s.useContext)(I.O),{intl:d,...m}=e,{incExpList:h,bankList:g,bankSelected:x,bankDetails:b,monthYearSelected:j}=r,v={fetch:{dropDownList:h.map((e=>{let{id:a,value:t}=e;return{id:a,value:t}}))},searchable:!0},y={fetch:{dropDownList:g},searchable:!0},[M,k]=(0,s.useState)([]),[C,T]=(0,s.useState)([{key:"goodPlans",flagString:"success",planString:"goodPlans",planCount:0,planTotal:0},{key:"achievedPlans",flagString:"info",planString:"achievedPlans",planCount:0,planTotal:0},{key:"badPlans",flagString:"danger",planString:"badPlans",planCount:0,planTotal:0},{key:"noPlans",flagString:"warning",planString:"noPlans",planCount:0,planTotal:0}]),[F,R]=(0,s.useState)({}),[B,O]=(0,s.useState)([{amount:0,label:"income",flagString:"success"},{amount:0,label:"expense",flagString:"info"},{amount:0,label:"balance",flagString:"danger"},{amount:0,label:"planning",flagString:"warning"}]),[U,z]=(0,s.useState)(!1),[V,H]=(0,s.useState)(!1),[K,W]=(0,s.useState)(!1),[J,G]=(0,s.useState)({}),[q,Z]=(0,s.useState)(!1),X=l.A.getNow(),[Q,ee]=(0,s.useState)({}),ae={start:0,limit:10,searchString:""},[te,se]=(0,s.useState)(null),[le,re]=(0,s.useState)(null);(0,s.useEffect)((()=>{ee({config:{header:{searchPlaceholder:d.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),searchable:!0},footer:{total:{title:d.formatMessage({id:"total",defaultMessage:"total"}),locale:b[0].bank_locale,currency:b[0].bank_currency,maxDecimal:2},pagination:{currentPage:"last",maxPagesToShow:5}}},rowElements:[],Table:"income_expense",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments","inc_exp_added_at","inc_exp_is_planned"],TableAliasRows:["id","transaction","amount","plan","type","date","category","bank","comments","recorded","isPlanned"].map((e=>d.formatMessage({id:e,defaultMessage:e}))),defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:o()(new Date).format("YYYY-MM-DD")}],showTooltipFor:["inc_exp_name","inc_exp_comments"]})}),[d]);const ie=e=>{if(le){R({}),Z(!0);const[a,t]=le.split("-"),s=l.A.strToNumMonth[a],n=`inc_exp_date between "${t}-${s}-01" and "${t}-${s}-${new Date(t,s,0).getDate()}" and inc_exp_bank = ${x} and inc_exp_appId = "${i.userConfig.appId}"`,r=oe(n);Promise.all([r]).then((async a=>{var t;const s=a[0].data.response;R(s);const n=["checkbox","textbox","number",o()(null===s||void 0===s||null===(t=s.table[0])||void 0===t?void 0:t.inc_exp_date).isAfter()?"number":"label",{radio:{radioList:[{label:d.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:d.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}},"date",v,y,"textbox","relativeTime","boolean"];k(n),ee((e=>({...e,rowElements:n}))),"function"===typeof e&&e(s)})).finally((()=>Z(!1)))}},oe=e=>{const a=new FormData;return a.append("appId",i.userConfig.appId),a.append("TableRows",Q.TableRows),a.append("Table",Q.Table),a.append("limit",te.limit),a.append("start",te.start),a.append("searchString",te.searchString),e&&a.append("WhereClause",e),w.A.post("/account_planner/getAccountPlanner",a)},ce=(e,a)=>(0,f.jsx)(_.A,{id:"button-tooltip-1",className:"in show",...m,children:a}),de=()=>{(()=>{const[e,a]=le.split("-"),t=l.A.strToNumMonth[e],s=new Date(a,t,0).getDate(),n=new FormData;return n.append("appId",i.userConfig.appId),n.append("bank",x),n.append("startDate",`${a}-${t}-01`),n.append("endDate",`${a}-${t}-${s}`),w.A.post("/account_planner/getPlanSum",n)})().then((e=>{const a=e.data.response,t={goodPlans:a.goodPlans,goodPlanCount:a.goodPlanCount,badPlans:a.badPlans,badPlanCount:a.badPlanCount,noPlans:a.noPlans,noPlanCount:a.noPlanCount,achievedPlans:a.achievedPlans,achievedPlanCount:a.achievedPlanCount},s=[{planCount:t.goodPlanCount,planTotal:t.goodPlans},{planCount:t.achievedPlanCount,planTotal:t.achievedPlans},{planCount:t.badPlanCount,planTotal:t.badPlans},{planCount:t.noPlanCount,planTotal:t.noPlans}],n=C.map(((e,a)=>({...e,planCount:s[a].planCount,planTotal:s[a].planTotal})));T(n)})).catch((e=>console.log("bbb",e)))},ue=(0,L.I)(),me=s.useMemo((()=>({fetch:ue.get("fetch"),search:ue.get("search"),date:ue.get("date")})),[ue]);(0,s.useEffect)((()=>{re(j),setTimeout((()=>{se(ae)}),100)}),[j]),(0,s.useEffect)((()=>{if(me.fetch&&"bankTransactions"===me.fetch&&me.search&&me.date){const e=o()(me.date).format("MMM-YYYY");re(e),setTimeout((()=>{se({start:0,limit:10,searchString:me.search})}),100)}else re(j),setTimeout((()=>{se(ae)}),100)}),[me]),(0,s.useEffect)((()=>{le&&de()}),[le]),(0,s.useEffect)((()=>{ie()}),[te]),(0,s.useEffect)((()=>{if(Object.keys(F).length>0){var e,a,t,s,n,l,r,i;const o=[null===F||void 0===F||null===(e=F.total)||void 0===e||null===(a=e.inc_exp_amount[0])||void 0===a?void 0:a.value,null===F||void 0===F||null===(t=F.total)||void 0===t||null===(s=t.inc_exp_amount[1])||void 0===s?void 0:s.value,null===F||void 0===F||null===(n=F.total)||void 0===n||null===(l=n.inc_exp_amount[2])||void 0===l?void 0:l.value,null===F||void 0===F||null===(r=F.total)||void 0===r||null===(i=r.inc_exp_plan_amount[0])||void 0===i?void 0:i.value],c=B.map(((e,a)=>({...e,amount:o[a]})));O(c)}}),[F]);return(0,f.jsxs)("div",{className:"settings",children:[U&&(0,f.jsx)(S,{className:"planInfoModal",show:U,onHide:()=>z(!1),size:"lg",animation:!1,monthYearSelected:le,bankSelected:x,selectedPlan:J}),V&&(0,f.jsx)(Y,{className:"planInfoModal",show:V,onHide:()=>H(!1),size:"sm",totals:B,animation:!1}),K&&Q.rowElements[7].fetch.dropDownList.length>0&&(0,f.jsx)(P,{className:"",show:K,onHide:()=>W(!1),size:"md",animation:!1,srcArr:Q.rowElements[7].fetch.dropDownList,incExpList:Q.rowElements[6].fetch.dropDownList,centered:!0}),(0,f.jsxs)("div",{className:"",children:[!q&&F&&(null===(t=Object.keys(F))||void 0===t?void 0:t.length)>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"buttonGrid",children:le&&F&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{children:`${d.formatMessage({id:le.split("-")[0].toLowerCase(),defaultMessage:le.split("-")[0].toLowerCase()})} ${le.split("-")[1]}`}),(0,f.jsxs)("div",{className:"d-flex flex-row-reverse",children:[(0,f.jsx)("div",{children:(0,f.jsx)(D.A,{placement:"left",delay:{show:250,hide:400},overlay:ce(0,d.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})),triggerType:"hover",children:(0,f.jsx)("i",{className:`fa fa-arrows-h roundedButton ${i.userData.theme} pull-right`,onClick:()=>W(!0)})})}),(0,f.jsx)("div",{children:(0,f.jsx)(D.A,{placement:"top",delay:{show:250,hide:400},overlay:ce(0,d.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"PDF"})),triggerType:"hover",children:(0,f.jsx)("i",{onClick:()=>(()=>{const e=null===F||void 0===F?void 0:F.table.map(((e,a)=>{let{inc_exp_name:t,inc_exp_amount:s,inc_exp_plan_amount:n,inc_exp_type:l,inc_exp_date:r,inc_exp_comments:i}=e;return[a+1,t,s,n,l,r,i]})),a=new A.default;a.text(`${l.A.stringToCapitalize(Q.Table)} (${le})`,15,10),a.autoTable({styles:{overflow:"linebreak"},theme:"grid",head:[["#","Transaction","Amount","Planned","Type","Date","Comments"]],body:[...e]});const t=B.map((e=>l.A.lacSeperator(e.amount)));a.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Income","Expense","Balance","Planning"]],body:[t]});const s=C.map((e=>{var a,t,s;return l.A.lacSeperator(null===e||void 0===e?void 0:e.planTotal,null===Q||void 0===Q||null===(a=Q.config)||void 0===a||null===(t=a.footer)||void 0===t||null===(s=t.total)||void 0===s?void 0:s.currency)}));a.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Good Plans","Achieved Plans","Bad Plans","No Plans"]],body:[s]}),a.save(`${Q.Table}-${X}`)})(),className:`fa fa-file-pdf-o roundedButton ${i.userData.theme} pull-right`})})}),(0,f.jsx)($.A,{datas:l.A.stripCommasInCSV(null===F||void 0===F?void 0:F.table),filename:`Income-Expense-${X}.csv`,columns:[{displayName:"Transaction",id:"inc_exp_name"},{displayName:"Date",id:"inc_exp_date"},{displayName:"Type",id:"inc_exp_type"},{displayName:"Amount",id:"inc_exp_amount"}],children:(0,f.jsx)(D.A,{placement:"top",delay:{show:250,hide:400},overlay:ce(0,d.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"CSV"})),triggerType:"hover",children:(0,f.jsx)("i",{className:`fa fa-file-excel-o roundedButton ${i.userData.theme} pull-right`})})}),(0,f.jsx)("div",{children:(0,f.jsx)(D.A,{placement:"top",delay:{show:250,hide:400},overlay:ce(0,d.formatMessage({id:"replan",defaultMessage:"replan"})),triggerType:"hover",children:(0,f.jsx)("i",{onClick:()=>(()=>{const e=Q.rowElements.map(((e,a)=>(3===a&&(e="number"===e?"label":"number"),e)));ee({...Q,rowElements:e}),k(e)})(),className:`fa fa-repeat roundedButton ${i.userData.theme} pull-right`})})}),(0,f.jsx)("div",{children:(0,f.jsx)(D.A,{placement:"top",delay:{show:250,hide:400},overlay:ce(0,d.formatMessage({id:"tally",defaultMessage:"tally"})),triggerType:"hover",children:(0,f.jsx)("i",{onClick:()=>H(!0),className:`fa fa-text-width roundedButton ${i.userData.theme} pull-right`})})})]})]})}),(0,f.jsx)(N.A,{id:"incExpTable",config:Q.config,Table:Q.Table,TableRows:Q.TableRows,TableAliasRows:Q.TableAliasRows,rowElements:M,dbData:F,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:e=>(e=>{const{status:a,data:t}=e;if(200===a){if(e&&t&&"boolean"===typeof t.response&&null!==t.response&&t.response&&r.renderToast({message:d.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&t&&"boolean"===typeof t.response&&null!==t.response&&!1===t.response&&r.renderToast({type:"error",icon:"fa fa-times-circle",message:d.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&t&&null===t.response&&c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,f.jsx)(E.x,{}),content:(0,f.jsx)(E.E,{})}),e&&t&&"object"===typeof t.response&&null!==t.response){let e;e=1451===t.response.number?"foreignKeyDeleteMessage":"",i.renderToast({type:"error",icon:"fa fa-times-circle",message:d.formatMessage({id:e,defaultMessage:e})})}}else r.renderToast({type:"error",icon:"fa fa-times-circle",message:d.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})(e),apiParams:te,onChangeParams:e=>(e=>{se((a=>({...a,...e})))})(e),showTooltipFor:Q.showTooltipFor,defaultValues:Q.defaultValues,onReFetchData:()=>{ie(),de()},cellWidth:[4,13,8,8,13,8,13,13,13,10,5],ajaxButtonName:d.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:i.userConfig.appId},theme:i.userData.theme},"incExpTable"),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"row",children:B.map((e=>(0,f.jsx)("div",{className:"col-md-3 col-6 py-4",children:(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:"p-6 text-center",children:(0,f.jsx)("h5",{children:(0,f.jsx)(u.A,{id:e.label,defaultMessage:e.label})})})}),(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:`text-center text-${e.flagString}`,children:l.A.countryCurrencyLacSeperator(b[0].bank_locale,b[0].bank_currency,e.amount,2)})})]})},e.label)))}),(0,f.jsx)("div",{className:"row",children:C.map((e=>(0,f.jsx)("div",{className:"col-md-3 col-6 py-4",children:(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:"p-6 text-center",children:(0,f.jsxs)("h5",{children:[(0,f.jsx)(u.A,{id:e.planString,defaultMessage:e.planString}),(0,f.jsx)("sup",{className:`superScript text-${e.flagString} border-${e.flagString}`,children:e.planCount})]})})}),(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:`text-center text-${e.flagString}`,children:(0,f.jsx)("button",{onClick:()=>(e=>{const[a,t]=le.split("-"),s=l.A.strToNumMonth[a];let n={startDate:`${t}-${s}-01`,endDate:`${t}-${s}-${new Date(t,s,0).getDate()}`,bankSelected:x};switch(e){case"goodPlans":n={...n,label:d.formatMessage({id:"goodPlans",defaultMessage:"goodPlans"}),criteria:"G100"};break;case"achievedPlans":n={...n,label:d.formatMessage({id:"achievedPlans",defaultMessage:"achievedPlans"}),criteria:"E100"};break;case"badPlans":n={...n,label:d.formatMessage({id:"badPlans",defaultMessage:"badPlans"}),criteria:"0TO100"};break;case"noPlans":n={...n,label:d.formatMessage({id:"noPlans",defaultMessage:"noPlans"}),criteria:"E0"}}z(!0),G(n)})(e.key),className:`btn btn-sm btn-${e.flagString}`,children:l.A.countryCurrencyLacSeperator(b[0].bank_locale,b[0].bank_currency,e.planTotal,2)})})})]})},e.key)))})]})]}),!q&&!F&&!(null!==F&&void 0!==F&&F.table.length)&&(0,f.jsx)("div",{className:"py-3 text-center",children:(0,f.jsx)(u.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),q&&(0,f.jsx)("div",{className:"relativeSpinner",children:(0,f.jsx)(n.A,{type:l.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})]})})),R=(0,m.Ay)((e=>{const a=(0,C.A)(),t=(0,s.useContext)(ne),n=(0,s.useContext)(p.R),{bankList:l,bankSelected:r,setBankSelected:i}=t;return(0,f.jsx)(T.A,{placeholder:a.formatMessage({id:"select",defaultMessage:"select"}),onChange:(e,a,t)=>{i(a)},element:{fetch:{dropDownList:l.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:r,type:"single",searchable:!0,theme:n.userData.theme})})),B=(0,m.Ay)((e=>{const a=(0,C.A)(),t=(0,s.useContext)(ne),n=(0,s.useContext)(p.R),{yearList:l,yearSelected:r,setYearSelected:i}=t;return(0,f.jsx)(T.A,{placeholder:a.formatMessage({id:"select",defaultMessage:"select"}),onChange:(e,a,t)=>{i(a)},element:{fetch:{dropDownList:l.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:r,type:"single",searchable:!0,theme:n.userData.theme})})),O=(0,m.Ay)((e=>{const a=(0,C.A)(),t=(0,s.useContext)(ne),n=(0,s.useContext)(p.R),{ccYearList:l,ccYearSelected:r,setCcYearSelected:i}=t;return(0,f.jsx)(T.A,{placeholder:a.formatMessage({id:"select",defaultMessage:"select"}),onChange:(e,a,t)=>{i(a)},element:{fetch:{dropDownList:l.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:r,type:"single",searchable:!0,theme:n.userData.theme})})),U=(0,m.Ay)((e=>{const a=(0,C.A)(),t=(0,s.useContext)(ne),n=(0,s.useContext)(p.R),{ccBankList:l,ccBankSelected:r,setCcBankSelected:i}=t;return(0,f.jsx)(T.A,{placeholder:a.formatMessage({id:"select",defaultMessage:"select"}),onChange:(e,a,t)=>{i(a)},element:{fetch:{dropDownList:l.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:r,type:"single",searchable:!0,theme:n.userData.theme})}));var z=t(3177);const V=e=>{const a=(0,C.A)(),{onImport:t}=e,n=(0,s.useContext)(p.R),[l,r]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),[d,m]=(0,s.useState)(-1),[h,g]=(0,s.useState)(-1),[x,b]=(0,s.useState)(-1),[j,v]=(0,s.useState)(" "),y=[{label:a.formatMessage({id:"transaction",defaultMessage:"transaction"}),type:"text",key:"cc_transaction"},{label:a.formatMessage({id:"date",defaultMessage:"date"}),type:"dated",key:"cc_date"},{label:a.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"}),type:"number",key:"cc_opening_balance"},{label:a.formatMessage({id:"credits",defaultMessage:"credits"}),type:"number",key:"cc_payment_credits"},{label:a.formatMessage({id:"purchases",defaultMessage:"purchases"}),type:"number",key:"cc_purchases"},{label:a.formatMessage({id:"interest",defaultMessage:"interest"}),type:"number",key:"cc_taxes_interest"}],M=(0,s.useRef)(null),N="{--#newLine#--}";(0,s.useEffect)((()=>{if(d>-1&&h>-1&&x>-1&&d!==h){let e=[...l];e=e.map(((e,a)=>(a===x&&e.length>1&&(e[d]=e[d]&&e[h]&&[...e[d],...e[h]].join(""),e[h]=e[h]&&null),e))).map((e=>e.filter((e=>null!==e)))),r(e),g(-1),b(-1),m(-1)}}),[d,h,x]);const w=e=>{e.preventDefault()},_=(e,a,t)=>{const s=JSON.parse(e.dataTransfer.getData("drag-item"));let{cell:n,i:l}=s,r="";var i;"dated"===a?(i=n,r=[o()(i,"YYYY/MMM/DD",!0).isValid()&&o()(i,"YYYY/MMM/DD").format("YYYY-MM-DD"),o()(i,"YYYY.MMM.DD",!0).isValid()&&o()(i,"YYYY.MMM.DD").format("YYYY-MM-DD"),o()(i,"YYYY-MMM-DD",!0).isValid()&&o()(i,"YYYY-MMM-DD").format("YYYY-MM-DD"),o()(i,"YYYY MMM DD",!0).isValid()&&o()(i,"YYYY MMM DD").format("YYYY-MM-DD"),o()(i,"YYYY/MM/DD",!0).isValid()&&o()(i,"YYYY/MM/DD").format("YYYY-MM-DD"),o()(i,"YYYY.MM.DD",!0).isValid()&&o()(i,"YYYY.MM.DD").format("YYYY-MM-DD"),o()(i,"YYYY-MM-DD",!0).isValid()&&o()(i,"YYYY-MM-DD").format("YYYY-MM-DD"),o()(i,"YYYY MM DD",!0).isValid()&&o()(i,"YYYY MM DD").format("YYYY-MM-DD"),o()(i,"DD/MM/YYYY",!0).isValid()&&o()(i,"DD/MM/YYYY").format("YYYY-MM-DD"),o()(i,"DD-MM-YYYY",!0).isValid()&&o()(i,"DD-MM-YYYY").format("YYYY-MM-DD"),o()(i,"DD.MM.YYYY",!0).isValid()&&o()(i,"DD.MM.YYYY").format("YYYY-MM-DD"),o()(i,"DD MM YYYY",!0).isValid()&&o()(i,"DD MM YYYY").format("YYYY-MM-DD"),o()(i,"DD/MMM/YYYY",!0).isValid()&&o()(i,"DD/MMM/YYYY").format("YYYY-MM-DD"),o()(i,"DD-MMM-YYYY",!0).isValid()&&o()(i,"DD-MMM-YYYY").format("YYYY-MM-DD"),o()(i,"DD.MMM.YYYY",!0).isValid()&&o()(i,"DD.MMM.YYYY").format("YYYY-MM-DD"),o()(i,"DD MMM YYYY",!0).isValid()&&o()(i,"DD MMM YYYY").format("YYYY-MM-DD"),o()(i,"DD/MMMM/YYYY",!0).isValid()&&o()(i,"DD/MMMM/YYYY").format("YYYY-MM-DD"),o()(i,"DD-MMMM-YYYY",!0).isValid()&&o()(i,"DD-MMMM-YYYY").format("YYYY-MM-DD"),o()(i,"DD.MMMM.YYYY",!0).isValid()&&o()(i,"DD.MMMM.YYYY").format("YYYY-MM-DD"),o()(i,"DD MMMM YYYY",!0).isValid()&&o()(i,"DD MMMM YYYY").format("YYYY-MM-DD")].filter((e=>!1!==e))[0]||"Invalid Date"):"text"===a?r=n:"number"===a&&(n=n.replace(",",""),r=Number(n)||0),e.target.value=r,D(l,t,r)},D=(e,a,t)=>{let s=[...i];s=s.map(((s,n)=>(e===n&&(s[a]=t),s))),c(s)};return(0,f.jsxs)(k.A,{...e,style:{zIndex:1e4},children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsx)(k.A.Title,{children:(0,f.jsx)(u.A,{id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})})}),(0,f.jsx)(k.A.Body,{className:"rounded-bottom "+("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:(0,f.jsxs)("div",{className:"creditCardModal",children:[l.length?(0,f.jsx)("div",{className:"table-responsive pb-3",children:(0,f.jsxs)("div",{className:"tableGrid",children:[y.map(((e,a)=>(0,f.jsx)("div",{className:"heading",children:e.label},a))),l.map(((e,a)=>(0,f.jsxs)(s.Fragment,{children:[e.length>0&&(0,f.jsxs)("div",{className:"singleLines",children:[e.map(((e,t)=>(0,f.jsxs)("span",{id:t,draggable:"true",onDragStart:s=>((e,a)=>{m(Number(e.target.id)),e.dataTransfer.setData("drag-item",a)})(s,JSON.stringify({cell:e,i:a,j:t})),onDrop:e=>((e,a)=>{const{i:t}=a;b(Number(t)),g(Number(e.target.id))})(e,{i:a,j:t}),onDragOver:e=>w(e),className:"cell",children:[e,(0,f.jsx)("i",{onClick:()=>((e,a)=>{let t=[...l];t=t.map(((t,s)=>s===e?t.filter(((e,t)=>t!==a)):t)),r(t)})(a,t),className:"fa fa-times-circle"})]},t))),e.length>0&&(0,f.jsx)("span",{onClick:()=>(e=>{let a=[...l];a=a.map(((a,t)=>(t===e&&(a=[]),a))),r(a)})(a),className:"cell danger",title:"Delete all?",children:(0,f.jsx)("i",{className:"fa fa-times"})})]}),y.map(((e,t)=>(0,f.jsx)("div",{children:(0,f.jsx)("input",{type:e.type,onChange:t=>D(a,e.key,t.target.value),onDragOver:e=>w(e),onDrop:a=>_(a,e.type,e.key),className:"input"})},t)))]},a)))]})}):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"row separatorWrapper py-2",children:[(0,f.jsx)("div",{className:"col-md-9 col-7 pl-0",children:(0,f.jsxs)("label",{htmlFor:"paste",children:[(0,f.jsx)(u.A,{id:"pasteYourCreditCardStatementHere",defaultMessage:"pasteYourCreditCardStatementHere"})," ",(0,f.jsx)("i",{className:"fa fa-level-down"})]})}),(0,f.jsx)("div",{className:"col-md-3 col-5 pr-0",children:(0,f.jsxs)("div",{className:"input-group input-group-sm",children:[(0,f.jsx)("span",{className:"input-group-text bni-bg",children:(0,f.jsx)(u.A,{id:"textSeperated",defaultMessage:"textSeperated"})}),(0,f.jsx)("input",{type:"text",defaultValue:j,onChange:e=>v(e.target.value),className:"form-control"})]})})]}),(0,f.jsx)("textarea",{id:"paste",ref:M,className:"textArea"})]}),(0,f.jsxs)("div",{className:"text-end py-2",children:[l.length>0&&(0,f.jsxs)("button",{onClick:()=>r([]),className:"btn btn-bni me-3",children:[(0,f.jsx)("i",{className:"fa fa-angle-double-left"})," ",(0,f.jsx)(u.A,{id:"back",defaultMessage:"back"})]}),l.length?(0,f.jsx)("button",{onClick:()=>t(i),className:"btn btn-bni",children:(0,f.jsx)(u.A,{id:"generate",defaultMessage:"generate"})}):(0,f.jsx)("button",{onClick:()=>(()=>{let e=M.current.value;e=e.replace(/(\r\n|\n|\r)/gm,N).split(N).filter((e=>e)).map((e=>e.split(j)));const a=e.map((()=>({cc_comments:"",cc_date:"",cc_expected_balance:"",cc_for_card:"",cc_id:"",cc_opening_balance:"",cc_payment_credits:"",cc_purchases:"",cc_taxes_interest:"",cc_transaction:""})));c(a),r(e)})(),className:"btn btn-bni",children:(0,f.jsx)(u.A,{id:"process",defaultMessage:"process"})})]})]})})]})},H=(0,m.Ay)((e=>{var a,t;const r=(0,s.useContext)(ne),i=(0,s.useContext)(p.R),o=(0,s.useContext)(I.O),{intl:c}=e,{ccMonthYearSelected:d,ccBankSelected:m,ccDetails:h,incExpList:g,ccBankList:x}=r,[b,j]=(0,s.useState)(!1),[v,y]=(0,s.useState)({}),[M,A]=(0,s.useState)(!1),[k,C]=(0,s.useState)([]),[S,Y]=(0,s.useState)({start:0,limit:10,searchString:""}),T=()=>{const[e,a]=d.split("-"),t=l.A.strToNumMonth[e],s=Number(h.credit_card_start_date),n=Number(h.credit_card_end_date),r=new Date(`${Number(a)}-${Number(t)}-${n}`.replace(/-/g,"/")),i=`${r.getFullYear()}-${l.A.leadingZeros(r.getMonth()+1)}-${l.A.leadingZeros(r.getDate())}`;let o=r.setTime(r.getTime()-2592e6);o=new Date(o),o=new Date(o.setDate(s));const c=`cc_date between "${`${o.getFullYear()}-${l.A.leadingZeros(o.getMonth()+1)}-${l.A.leadingZeros(o.getDate())}`}" and "${i}" and cc_for_card = ${m}`;y({}),A(!0);const u=$(c);Promise.all([u]).then((async e=>{C([]),y(e[0].data.response),A(!1),z.UT[0].rowElements[8]={fetch:{dropDownList:x},searchable:!0},z.UT[0].rowElements[9]={fetch:{dropDownList:g},searchable:!0},z.UT[0].rowElements[8].searchable=!0}))},P=()=>{T()},$=e=>{const a=new FormData;return a.append("appId",i.userConfig.appId),a.append("TableRows",z.UT[0].TableRows),a.append("Table",z.UT[0].Table),a.append("limit",S.limit),a.append("start",S.start),a.append("searchString",S.searchString),e&&a.append("WhereClause",e),w.A.post("/account_planner/getAccountPlanner",a)},F=z.UT.map((e=>{const a={header:{searchPlaceholder:c.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),searchable:!0},footer:{total:{title:c.formatMessage({id:"total",defaultMessage:"total"}),locale:h.credit_card_locale,currency:h.credit_card_currency,maxDecimal:2},pagination:{currentPage:"first",maxPagesToShow:5}}};return e.config=a,e.TableAliasRows=["id","transaction","date","openingBalance","credits","purchases","taxesAndInterest","balance","creditCard","category","status","comments","recorded"].map((e=>c.formatMessage({id:e,defaultMessage:e}))),e})),R=(0,L.I)(),B=s.useMemo((()=>({fetch:R.get("fetch"),search:R.get("search")})),[R]);return(0,s.useEffect)((()=>{B.fetch&&"ccTransactions"===B.fetch&&B.search&&Y({start:0,limit:10,searchString:B.search})}),[B]),(0,s.useEffect)((()=>{T()}),[d,S]),(0,f.jsxs)("div",{className:"settings",children:[b&&(0,f.jsx)(V,{className:"creditCardModal",show:b,onHide:()=>j(!1),size:"xl",animation:!1,onImport:e=>{C(e),j(!1)}}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)("div",{className:"row py-2",children:(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsx)(D.A,{placement:"left",delay:{show:250,hide:400},overlay:((e,a)=>(0,f.jsx)(_.A,{id:"button-tooltip-1",className:"in show",...e,children:a}))(e,c.formatMessage({id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})),triggerType:"hover",children:(0,f.jsx)("i",{onClick:()=>j(!b),className:"fa fa-upload roundedButton pull-right"})})})}),M&&(0,f.jsx)("div",{className:"relativeSpinner",children:(0,f.jsx)(n.A,{type:l.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}),v&&(null===(a=Object.keys(v))||void 0===a?void 0:a.length)>0&&(null===v||void 0===v||null===(t=v.table)||void 0===t?void 0:t.length)>0?F.sort(((e,a)=>e.id>a.id)).map(((e,a)=>(0,f.jsx)(N.A,{id:"ccTable",Table:e.Table,config:e.config,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,dbData:v,rowElements:e.rowElements,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:e=>(e=>{const{status:a,data:t}=e;if(200===a){if(e&&t&&"boolean"===typeof t.response&&null!==t.response&&t.response&&r.renderToast({message:c.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&t&&"boolean"===typeof t.response&&null!==t.response&&!1===t.response&&r.renderToast({type:"error",icon:"fa fa-times-circle",message:c.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&t&&null===t.response&&o.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,f.jsx)(E.x,{}),content:(0,f.jsx)(E.E,{})}),e&&t&&"object"===typeof t.response&&null!==t.response){let e;e=1451===t.response.number?"foreignKeyDeleteMessage":"",i.renderToast({type:"error",icon:"fa fa-times-circle",message:c.formatMessage({id:e,defaultMessage:e})})}}else r.renderToast({type:"error",icon:"fa fa-times-circle",message:c.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})(e),apiParams:S,onChangeParams:e=>(e=>{Y((a=>({...a,...e})))})(e),showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:P,insertCloneData:k,cellWidth:[4,13,8,8,8,8,8,8,13,13,13,13,10],ajaxButtonName:c.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"cc_appId",value:i.userConfig.appId},theme:i.userData.theme},a))):(0,f.jsx)("div",{className:"py-3 text-center",children:(0,f.jsx)(u.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})}));var K=t(3932),W=t(8751);const J=e=>{const a=(0,C.A)(),t=(0,s.useContext)(ne),r=(0,s.useContext)(p.R),i=(0,s.useContext)(I.O),[o,c]=(0,s.useState)(new Date),[d,m]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[x,b]=(0,s.useState)("0"),[j,v]=(0,s.useState)(!0),[y,M]=(0,s.useState)(!0),[N,_]=(0,s.useState)([]),[D,A]=(0,s.useState)([]),[S,Y]=(0,s.useState)(""),[P,$]=(0,s.useState)([]),[L,F]=(0,s.useState)(""),[R,B]=(0,s.useState)(""),[O,U]=(0,s.useState)(!1),[z,V]=(0,s.useState)(!1),H="&Lang;",J=[{1:a.formatMessage({id:"1",id:"1"})},{2:a.formatMessage({id:"2",id:"2"})},{3:a.formatMessage({id:"3",id:"3"})},{4:a.formatMessage({id:"4",id:"4"})},{5:a.formatMessage({id:"5",id:"5"})},{6:a.formatMessage({id:"6",id:"6"})},{7:a.formatMessage({id:"7",id:"7"})},{8:a.formatMessage({id:"8",id:"8"})},{9:a.formatMessage({id:"9",id:"9"})},{"&Lang;":H},{0:a.formatMessage({id:"0",id:"0"})},{".":"."},{C:"C"}];(0,s.useEffect)((()=>{const e=(()=>{const e=new FormData;return e.append("appId",r.userConfig.appId),w.A.post("/account_planner/bank_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})(),a=(()=>{const e=new FormData;return e.append("appId",r.userConfig.appId),w.A.post("/account_planner/inc_exp_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})(),t=(()=>{const e=new FormData;return e.append("appId",r.userConfig.appId),w.A.post("/account_planner/credit_card_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})();Promise.all([e,a,t]).then((e=>{e[0].length>0?_(e[0]):_([{id:null,value:"NULL"}]),e[0].length>0&&e[0][0].id?Y(e[0][0].id):Y(""),e[1].length>0?$(e[1]):$([{id:null,value:"NULL"}]),e[1].length>0&&e[1][0].id?F(e[1][0].id):F(""),e[2].length>0?A(e[2]):A([{id:null,value:"NULL"}]),e[2].length>0&&e[2][0].id?B(e[2][0].id):B("")}))}),[]);const G=e=>{const[a,t,s]=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:`0${e.getMonth()+1}`,e.getDate()>9?e.getDate():`0${e.getDate()}`];return`${a}-${t}-${s}`};return(0,f.jsxs)(k.A,{...e,style:{zIndex:1e4},enforceFocus:!1,children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsx)(k.A.Title,{children:(0,f.jsx)(u.A,{id:"fastShopping",defaultMessage:"fastShopping"})})}),(0,f.jsx)(k.A.Body,{className:"react-responsive-ajax-data-table rounded-bottom "+("dark"===r.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:(0,f.jsxs)("form",{id:"transactForm",onSubmit:e=>e.preventDefault(),children:[(0,f.jsx)("div",{className:"",children:(0,f.jsx)("input",{type:"text",className:"form-control",placeholder:a.formatMessage({id:"transaction",defaultMessage:"transaction"}),onChange:e=>m(e.target.value)})}),(0,f.jsx)("div",{className:"overflow text-end",children:x}),(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:"numPads pb-2",children:J.map(((e,a)=>{const t=isNaN(Number(Object.keys(e)[0]))?Object.keys(e)[0]:Number(Object.keys(e)[0]),s=Object.values(e)[0];return(0,f.jsx)("div",{className:"text-center buttonContainer",children:(0,f.jsx)("button",{disabled:x.toString().includes(".")&&"."===t,onClick:()=>(e=>{let a=x;"number"===typeof e&&(a=O?`${a}.${e}`:`${x}${e}`,U(!1)),"."===e&&(U(!0),"0"===a.substring(0,1)&&(a="0"+a)),a.length>0&&"0"===a.substring(0,1)&&!a.includes(".")&&(a=a.substring(1,a.length)),a.length>0&&"."===a.substring(0,1)&&(a=`0${a}`),"C"===e&&(a="0",U(!1)),e===H&&(a=a.length>1?a.slice(0,-1):"0",a.length>0&&"."===a.slice(a.length-1)&&(a=a.slice(0,-1),U(!1))),b(a)})(t),dangerouslySetInnerHTML:{__html:s}})},a)}))})}),(0,f.jsxs)("div",{className:"row py-2",children:[(0,f.jsx)("div",{className:"col-6 py-2 react-responsive-ajax-data-table",children:(0,f.jsx)(K.A,{onChange:e=>{c(e)},value:o,format:"y-MM-dd",required:!0,clearIcon:null,className:"fastShoppingDatePicker"})}),(0,f.jsx)("div",{className:"col-6 py-2",children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("div",{onClick:()=>M(!y),className:"",children:y?a.formatMessage({id:"debitCard",defaultMessage:"debitCard"}):a.formatMessage({id:"creditCard",defaultMessage:"creditCard"})}),(0,f.jsx)("i",{onClick:()=>M(!y),className:"fa fa-circle ps-2 "+(y?"debit":"credit")})]})})]}),(0,f.jsx)("div",{className:"py-2",children:(0,f.jsx)("input",{type:"text",className:"form-control",placeholder:"Comments",onChange:e=>g(e.target.value)})}),(0,f.jsx)("div",{children:N.length>0&&P.length>0&&D.length>0?(0,f.jsxs)(f.Fragment,{children:[y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"py-2",children:(0,f.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[(0,f.jsx)("div",{onClick:()=>v(!0),className:"",children:(0,f.jsx)(u.A,{id:"expense",defaultMessage:"expense"})}),(0,f.jsx)(W.A,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:()=>v(!j),checked:!0===j}),(0,f.jsx)("div",{onClick:()=>v(!1),className:"",children:(0,f.jsx)(u.A,{id:"income",defaultMessage:"income"})}),(0,f.jsx)(W.A,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:()=>v(!j),checked:!1===j})]})}),(0,f.jsx)("div",{className:"py-2",children:(0,f.jsx)(T.A,{placeholder:a.formatMessage({id:"select",defaultMessage:"select"}),onChange:(e,a,t)=>{Y(a)},element:{fetch:{dropDownList:N.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:S,type:"single",searchable:!0,theme:r.userData.theme},1)})]}):(0,f.jsx)("div",{className:"py-2",children:(0,f.jsx)(T.A,{placeholder:a.formatMessage({id:"select",defaultMessage:"select"}),onChange:(e,a,t)=>{B(a)},element:{fetch:{dropDownList:D.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:R,type:"single",searchable:!0,theme:r.userData.theme},1)}),(0,f.jsx)("div",{className:"py-2",children:(0,f.jsx)(T.A,{placeholder:a.formatMessage({id:"select",defaultMessage:"select"}),onChange:(e,a,t)=>{F(a)},element:{fetch:{dropDownList:P.map((e=>({id:e.id,value:e.value})))},searchable:!0},value:L,type:"single",searchable:!0,theme:r.userData.theme},1)})]}):(0,f.jsx)("div",{className:"relativeSpinner",children:(0,f.jsx)(n.A,{type:l.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}),(0,f.jsx)("div",{className:"py-2",children:(0,f.jsx)("button",{disabled:!(Number(x)>0&&d&&!z),onClick:()=>(()=>{V(!0);const s={Table:y?"income_expense":"credit_card_transactions",insertData:y?[{inc_exp_id:null,inc_exp_appId:r.userConfig.appId,inc_exp_name:d,inc_exp_amount:x,inc_exp_plan_amount:0,inc_exp_type:j?"Dr":"Cr",inc_exp_date:G(o),inc_exp_category:L,inc_exp_bank:S,inc_exp_comments:h}]:[{cc_id:null,cc_appId:r.userConfig.appId,cc_transaction:d,cc_date:G(o),cc_opening_balance:0,cc_payment_credits:0,cc_purchases:x,cc_taxes_interest:0,cc_for_card:R,cc_inc_exp_cat:L,cc_comments:h,cc_transaction_status:0}]},n=new FormData;document.getElementById("transactForm").reset(),n.append("postData",JSON.stringify(s)),w.A.post("/account_planner/postAccountPlanner",n).then((s=>{const{data:n}=s;s&&n&&"boolean"===typeof n.response&&null!==n.response&&n.response&&t.renderToast({message:a.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),s&&n&&"boolean"===typeof n.response&&null!==n.response&&!1===n.response&&t.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),s&&n&&null===n.response&&(i.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,f.jsx)(E.x,{}),content:(0,f.jsx)(E.E,{})}),e.onHide(!1)),b("0"),m(""),g(""),null!=document.getElementById("transactForm")&&document.getElementById("transactForm").reset()})).catch((e=>{t.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})}),console.log(e)})).finally((()=>V(!1)))})(),className:"btn btn-bni border-0",children:z?(0,f.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):(0,f.jsx)(u.A,{id:"submit",defaultMessage:"submit"})})})]})})]})},G=e=>{const{ccDetails:a}=e,[t,n]=(0,s.useState)(0);let l=24*Number(a.remDays)*3600;(0,s.useEffect)((()=>{Number(a.remDays)>0&&r()}),[a.remDays]);const r=()=>{const e=Math.floor(l/24/60/60),a=Math.floor(l-86400*e),t=Math.floor(a/3600),s=Math.floor(a-3600*t),c=Math.floor(s/60),d=l%60,u=o(e)+":"+o(t)+":"+o(c)+":"+o(d);0===l?i(r):l--,n(u),setTimeout(r,1e3)},i=()=>{clearTimeout(r)},o=e=>e<10?"0"+e:e;return(0,f.jsx)("span",{children:t})},q=e=>{const a=(0,s.useContext)(p.R),[t,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[m,h]=(0,s.useState)({}),[g,x]=(0,s.useState)([]),b=new Date;(0,s.useEffect)((()=>{r(!0);const e=v();Promise.all([e]).then((e=>{const a=e[0];x(a),r(!1)}))}),[]);const j=()=>(0,f.jsx)("div",{className:"relativeSpinner",children:(0,f.jsx)(n.A,{type:l.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}),v=()=>{const e=new FormData;return e.append("appId",a.userConfig.appId),w.A.post("/account_planner/credit_card_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))};return(0,f.jsxs)(k.A,{...e,style:{zIndex:1e4},children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsx)(k.A.Title,{children:(0,f.jsx)(u.A,{id:"checkCreditCardCycleDate",defaultMessage:"checkCreditCardCycleDate"})})}),(0,f.jsxs)(k.A.Body,{className:"rounded-bottom "+("dark"===a.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[t?j():(0,f.jsx)("div",{className:"row",children:g&&g.length>0&&g.map(((e,t)=>(0,f.jsxs)("div",{onClick:()=>(e=>{const t=new FormData;return t.append("bank",e),t.append("appId",a.userConfig.appId),h({}),o(!0),d(e),w.A.post("/account_planner/credit_card_details",t).then((e=>{const a=e.data.response[0];let t=a.credit_card_start_date;t=l.A.addMonths(new Date(`${b.getFullYear()}-${b.getMonth()+1}-${t}`.replace(/-/g,"/")),-1);let[s,n,r]=[t.getFullYear(),t.getMonth()+1,t.getDate()];[n,r]=[n<10?`0${n}`:n,r<10?`0${r}`:r],t=`${s}-${n}-${r}`;let i=a.credit_card_end_date;i=new Date(`${b.getFullYear()}-${b.getMonth()+1}-${i}`.replace(/-/g,"/"));let[c,d,u]=[i.getFullYear(),i.getMonth()+1,i.getDate()];[d,u]=[d<10?`0${d}`:d,u<10?`0${u}`:u],i=`${c}-${d}-${u}`;let m=a.credit_card_payment_date;m=l.A.addMonths(new Date(`${b.getFullYear()}-${b.getMonth()+1}-${m}`.replace(/-/g,"/")),1);let[p,g,x]=[m.getFullYear(),m.getMonth()+1,m.getDate()];[g,x]=[g<10?`0${g}`:g,x<10?`0${x}`:x],m=`${p}-${g}-${x}`;let f=new Date(m)-new Date;f=Math.abs(f),f=Math.ceil(f/864e5);const j={cardNumber:a.credit_card_number,cardName:a.credit_card_name,startDate:t,endDate:i,payDate:m,remDays:f};h(j),o(!1)})).catch((e=>{console.log(e)}))})(e.id),className:"col-6 text-center cardWrapper "+(c===e.id?"active":""),children:[(0,f.jsx)("i",{className:"fa fa-credit-card-alt"}),e.value]},t)))}),i?j():Object.keys(m).length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"py-3 text-center",children:m.cardName}),(0,f.jsxs)("div",{className:"container mt-10 text-center",children:[(0,f.jsx)("div",{className:"contactLabel",children:(0,f.jsx)(u.A,{id:"cardNumber",defaultMessage:"cardNumber"})}),(0,f.jsx)("div",{children:m.cardNumber}),(0,f.jsxs)("div",{className:"row pb-3 pt-3",children:[(0,f.jsxs)("div",{className:"col-6",children:[(0,f.jsx)("label",{children:(0,f.jsx)(u.A,{id:"startDate",defaultMessage:"startDate"})}),(0,f.jsx)("div",{children:m.startDate})]}),(0,f.jsxs)("div",{className:"col-6",children:[(0,f.jsx)("label",{children:(0,f.jsx)(u.A,{id:"endDate",defaultMessage:"endDate"})}),(0,f.jsx)("div",{children:m.endDate})]})]}),(0,f.jsxs)("div",{className:"row text-center",children:[(0,f.jsxs)("div",{className:"col-6",children:[(0,f.jsx)("label",{children:(0,f.jsx)(u.A,{id:"payDate",defaultMessage:"payDate"})}),(0,f.jsx)("div",{children:m.payDate})]}),(0,f.jsxs)("div",{className:"col-6",children:[(0,f.jsx)("label",{children:(0,f.jsx)(u.A,{id:"remainingDays",defaultMessage:"remainingDays"})}),(0,f.jsx)("div",{children:(0,f.jsx)(G,{ccDetails:m})})]})]})]})]})]})]})},Z=e=>{const{onHide:a,onYes:t}=e,n=(0,s.useContext)(p.R);return(0,f.jsxs)(k.A,{...e,style:{zIndex:1e4},children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsx)(k.A.Title,{children:(0,f.jsx)(u.A,{id:"sureAbtSqlQueries",defaultMessage:"sureAbtSqlQueries"})})}),(0,f.jsx)(k.A.Body,{className:"rounded-bottom "+("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:()=>t(),className:"btn btn-bni",children:(0,f.jsx)(u.A,{id:"allow",defaultMessage:"allow"})})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:()=>a(),className:"btn btn-secondary",children:(0,f.jsx)(u.A,{id:"restrict",defaultMessage:"restrict"})})})]})})]})};var X=t(1308),Q=t(5923),ee=t(6275);const ae=e=>{const a=(0,C.A)(),t=(0,s.useContext)(p.R),n=5242880,l=1e3,[r,i]=(0,s.useState)({}),[c,d]=(0,s.useState)([]),m=[{inc_exp_id:"null",inc_exp_name:"Gross profit",inc_exp_amount:1e6,inc_exp_plan_amount:0,inc_exp_type:"Cr",inc_exp_date:o()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your profit comments"},{inc_exp_id:"null",inc_exp_name:"Gross expense",inc_exp_amount:5e5,inc_exp_plan_amount:0,inc_exp_type:"Dr",inc_exp_date:o()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your expense comments"}];return(0,f.jsxs)(k.A,{...e,style:{zIndex:1e4},children:[(0,f.jsx)(k.A.Header,{closeButton:!0,children:(0,f.jsxs)(k.A.Title,{children:[(0,f.jsx)(u.A,{id:"bulkImport",defaultMessage:"bulkImport"}),(0,f.jsxs)("em",{className:"ps-1",children:["(",(0,f.jsxs)("small",{className:"pe-1",children:[(0,f.jsx)(u.A,{id:"limit",defaultMessage:"limit"}),":"," ","5 MB,"]}),(0,f.jsxs)("small",{className:"pe-1",children:[(0,f.jsx)(u.A,{id:"maxRows",defaultMessage:"maxRows"}),":"," ","1000,"]}),(0,f.jsxs)("small",{children:[(0,f.jsx)(u.A,{id:"type",defaultMessage:"type"}),": CSV,"," "]}),(0,f.jsxs)("small",{className:"pe-1",children:[(0,f.jsx)(u.A,{id:"date",defaultMessage:"date"})," ",(0,f.jsx)(u.A,{id:"type",defaultMessage:"type"}),":"," YYYY-MM-DD"]}),")"]})]})}),(0,f.jsx)(k.A.Body,{className:"rounded-bottom p-0 "+("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:(0,f.jsxs)("div",{className:"dropZone",children:[(0,f.jsx)(ee.Ay,{accept:"text/csv,text/comma-separated-values,application/csv",maxSize:n,onDrop:(e,s,r)=>{var o;e.length>0&&(i(e[0]),(o=e[0],new Promise(((e,t)=>{const s=o,r=new FileReader;r.readAsText(s),r.onload=r=>{const i=[],o=r.target.result.split(/\r\n|\n/).filter((e=>""!==e)),c=o[0].split(","),d=o.filter(((e,a)=>0!==a)).filter((e=>"null"===e.split(",")[0]));if(s.size<=n)if(d.length<=l){for(let e=0;e<d.length;e++){const a=d[e].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(a.length===c.length){const e=[];for(let s=0;s<c.length;s++)e.push({[c[s]]:a[s].replace(/\\/g,"").replaceAll('"',"")});const t=Object.assign({},...e);i.push(t)}}e(i)}else t(new Error(`${a.formatMessage({id:"maxAllowedRowLimitIs",defaultMessage:"maxAllowedRowLimitIs"})} 1000`));else t(new Error(`${a.formatMessage({id:"maxFileSizeLimitIs",defaultMessage:"maxFileSizeLimitIs"})} 5242880 MB`))},r.onerror=e=>{t(e)}}))).then((e=>{t.renderToast({message:`${e.length} ${a.formatMessage({id:"rowsAddedSuccessfully",defaultMessage:"rowsAddedSuccessfully"})}`,autoClose:1e4}),d(e)})).catch((e=>{d([]),t.renderToast({type:"error",icon:"fa fa-times-circle",message:e})})))},className:"text-center",children:e=>{let{getRootProps:a,getInputProps:t,isDragAccept:s,isDragReject:n}=e,l="dropZoneWrapper",r=(0,f.jsx)("div",{children:(0,f.jsx)(u.A,{id:"dragFilesHere",defaultMessage:"dragFilesHere"})});return s&&(l=`${l} bg-success`,r=(0,f.jsx)("div",{className:"upload-success",children:(0,f.jsx)(u.A,{id:"dropFileOrfilesHere",defaultMessage:"dropFileOrfilesHere"})})),n&&(l=`${l} bg-danger`,r=(0,f.jsx)("div",{className:"upload-error",children:(0,f.jsx)(u.A,{id:"fileTypeNotAllowed",defaultMessage:"fileTypeNotAllowed"})})),(0,f.jsxs)("div",{...a(),className:`${l} title`,children:[(0,f.jsx)("input",{...t()}),r]})}}),Object.keys(r).length>0&&(0,f.jsx)("div",{className:"p-1 text-center",children:(0,f.jsxs)("small",{className:"icon-bni",children:[(0,f.jsx)("i",{className:"fa fa-file-excel-o pe-1"}),r.name,(0,f.jsx)("small",{className:"ps-1",children:(0,f.jsxs)("em",{children:["(",(e=>{const a=(e/1024/1024).toFixed(2);if(a>0)return`${a} MB`;return`${(e/1024).toFixed(2)} KB`})(r.size),")"]})})]})}),(0,f.jsxs)("div",{className:"d-flex justify-content-evenly",children:[(0,f.jsx)("button",{className:"btn btn-bni w-50 rounded-0 rounded-start border-end",children:(0,f.jsxs)($.A,{datas:m,filename:"inc-exp-csv-sample-import.csv",children:[(0,f.jsx)("i",{className:"fa fa-file-downoad pe-1"}),(0,f.jsx)(u.A,{id:"downloadCsvTemplate",defaultMessage:"downloadCsvTemplate"})]})}),(0,f.jsx)("button",{disabled:!c.length,onClick:()=>(()=>{const e=new FormData;e.append("data",JSON.stringify(c)),e.append("appId",t.userConfig.appId),w.A.post("/account_planner/bulkImport",e).then((e=>{e.data.response&&t.renderToast({message:a.formatMessage({id:"bulkImportSuccess",defaultMessage:"bulkImportSuccess"})}),e.data.response||t.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})}),null===e.data.response&&myAlertContext.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,f.jsx)(E.x,{}),content:(0,f.jsx)(E.E,{})})})).catch((e=>{t.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})})})).finally((()=>d([])))})(),className:"btn-bni w-50 rounded-0 rounded-end",children:(0,f.jsx)(u.A,{id:"submit",defaultMessage:"submit"})})]})]})})]})},te=(0,m.Ay)((e=>{var a;const{intl:t}=e,r=(0,s.useContext)(ne),i=(0,s.useContext)(p.R),c=(0,s.useContext)(I.O),{incExpList:d,bankList:m,insertData:h}=r,[g,x]=(0,s.useState)([]),[b,j]=(0,s.useState)(!1),v=()=>{j(!0),r.setInsertData([]);const e=(()=>{const e=new FormData;return e.append("appId",i.userConfig.appId),w.A.post("/account_planner/getIncExpTemplate",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})();Promise.all([e]).then((e=>{const a=e[0].map((e=>{let{temp_inc_exp_name:a,temp_amount:t,temp_inc_exp_type:s,temp_inc_exp_date:n,temp_category:l,temp_bank:r}=e;return{inc_exp_id:"",inc_exp_name:a,inc_exp_amount:0,inc_exp_plan_amount:t,inc_exp_type:s,inc_exp_date:o()().date(n).add(1,"months").format("YYYY-MM-DD"),inc_exp_category:l,inc_exp_bank:r,inc_exp_comments:""}})).sort(((e,a)=>new Date(e.inc_exp_date.replace(/-/g,"/"))-new Date(a.inc_exp_date.replace(/-/g,"/"))));r.setInsertData(a)})).finally((()=>{j(!1)}))};(0,s.useEffect)((()=>{v()}),[t]),(0,s.useEffect)((()=>{const e={fetch:{dropDownList:d.map(((e,a)=>{let{id:t,value:s}=e;return{id:t,value:s}}))}},a={fetch:{dropDownList:m}};z.Kg[0].rowElements[3]="number",z.Kg[0].rowElements[6]=e,z.Kg[0].rowElements[7]=a,z.Kg[0].rowElements[4]={radio:{radioList:[{label:t.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:t.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}};const s=(e,a)=>{const t=a&&e.filter((e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.toLowerCase().includes(null===a||void 0===a?void 0:a.toLowerCase())}));return t.length>0?t[0].id:""},n=[...h].map((e=>(e.inc_exp_category=s(d,e.inc_exp_category),e.inc_exp_bank=s(m,e.inc_exp_bank),e)));x([]),setTimeout((()=>{const e=n.filter((e=>"Cr"===e.inc_exp_type)).reduce(((e,a)=>Number(e)+Number(a.inc_exp_plan_amount)),0),a=n.filter((e=>"Dr"===e.inc_exp_type)).reduce(((e,a)=>Number(e)+Number(a.inc_exp_plan_amount)),0);x({table:n,total:{inc_exp_plan_amount:[{value:e,prefix:"",suffix:"(+)"},{value:a,prefix:"",suffix:"(-)"},{value:e-a,prefix:"",suffix:"(=)",className:"rounded bni-bg text-dark p-1"}]}})}),100)}),[h,t]);const y=z.Kg.map((e=>{const a={header:{searchPlaceholder:t.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),searchable:!1},footer:{total:{title:t.formatMessage({id:"total",defaultMessage:"total"}),locale:"en",currency:"",maxDecimal:2},pagination:{currentPage:"last",maxPagesToShow:5}}};return e.config=a,e.TableAliasRows=["id","transaction","amount","plan","type","date","category","bank","comments"].map((e=>t.formatMessage({id:e,defaultMessage:e}))),e})),M=()=>{x([])};return(0,f.jsxs)("div",{children:[(null===g||void 0===g||null===(a=g.table)||void 0===a?void 0:a.length)>0&&(0,f.jsxs)("div",{children:[(0,f.jsx)("h6",{children:(0,f.jsx)(u.A,{id:"planFromTemplate",defaultMessage:"planFromTemplate"})}),y.sort(((e,a)=>e.id>a.id)).map(((e,a)=>(0,f.jsx)(N.A,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,rowElements:e.rowElements,dbData:g,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:e=>(e=>{const{status:a,data:s}=e;200===a?(e&&s&&"boolean"===typeof s.response&&null!==s.response&&s.response&&r.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&s&&"boolean"===typeof s.response&&null!==s.response&&!1===s.response&&r.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&s&&null===s.response&&c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,f.jsx)(E.x,{}),content:(0,f.jsx)(E.E,{})})):r.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})(e),onChangeParams:e=>{},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:M,cellWidth:[4,13,10,10,13,10,13,13,13],ajaxButtonName:t.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:i.userConfig.appId},theme:i.userData.theme},a)))]}),b&&(0,f.jsx)("div",{className:"relativeSpinner",children:(0,f.jsx)(n.A,{type:l.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})}));var se=t(3058);const ne=s.createContext(),le=e=>{var a;const t=(0,C.A)(),r=(0,s.useContext)(X.F);document.title=`${r.appName} - ${t.formatMessage({id:"moneyPlanner",defaultMessage:"moneyPlanner"})}`;const i=(0,s.useContext)(p.R),[c,d]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[g,x]=(0,s.useState)([]),[j,v]=(0,s.useState)([]),[y,N]=(0,s.useState)([]),[_,D]=(0,s.useState)([]),[A,k]=(0,s.useState)([]),[S,Y]=(0,s.useState)([]),[T,P]=(0,s.useState)(""),[$,I]=(0,s.useState)([]),[E,z]=(0,s.useState)(""),[V,K]=(0,s.useState)(""),[W,G]=(0,s.useState)(""),[ee,le]=(0,s.useState)(""),[re,ie]=(0,s.useState)(""),[oe,ce]=(0,s.useState)({}),[de,ue]=(0,s.useState)(!1),[me,he]=(0,s.useState)(!1),[pe,ge]=(0,s.useState)(!1),[xe,fe]=(0,s.useState)(!1),[be,je]=(0,s.useState)(!1),[ve,ye]=(0,s.useState)(!1),[Me,Ne]=(0,s.useState)(!1),we=(0,L.I)(),_e={fetch:we.get("fetch"),date:we.get("date"),bank:we.get("bank"),card:we.get("card")},[De,Ae]=(0,s.useState)(!1),[ke,Ce]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=(()=>{const e=new FormData;return e.append("appId",i.userConfig.appId),w.A.post("/account_planner/year_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})(),a=(()=>{const e=new FormData;return e.append("appId",i.userConfig.appId),w.A.post("/account_planner/bank_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})(),s=(()=>{const e=new FormData;return e.append("appId",i.userConfig.appId),w.A.post("/account_planner/cc_year_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})(),n=(()=>{const e=new FormData;return e.append("appId",i.userConfig.appId),w.A.post("/account_planner/credit_card_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})(),l=(()=>{const e=new FormData;return e.append("appId",i.userConfig.appId),w.A.post("/account_planner/inc_exp_list",e).then((e=>e.data.response)).catch((e=>{console.log(e)}))})();Promise.all([e,a,s,n,l]).then((e=>{var a,s,n,l,r,i,c,u,m;(null===(a=e[0])||void 0===a?void 0:a.length)>0?d(e[0]):d([{id:t.formatMessage({id:"null",defaultMessage:"null"}),value:t.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(s=e[0])||void 0===s?void 0:s.length)>0&&e[0][0].id?K(e[0][0].id):K("Null"),(null===(n=e[1])||void 0===n?void 0:n.length)>0?x(e[1]):x([{id:t.formatMessage({id:"null",defaultMessage:"null"}),value:t.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(l=e[1])||void 0===l?void 0:l.length)>0&&e[1][0].id?G(e[1][0].id):G("Null"),(null===(r=e[2])||void 0===r?void 0:r.length)>0?h(e[2]):h([{id:t.formatMessage({id:"null",defaultMessage:"null"}),value:t.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(i=e[2])||void 0===i?void 0:i.length)>0&&e[2][0].id?P(o()(new Date).format("YYYY").toString()):P("Null"),(null===(c=e[3])||void 0===c?void 0:c.length)>0?I(e[3]):I([{id:t.formatMessage({id:"null",defaultMessage:"null"}),value:t.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(u=e[3])||void 0===u?void 0:u.length)>0&&e[3][0].id?z(null!==_e&&void 0!==_e&&_e.card?null===_e||void 0===_e?void 0:_e.card:e[3][0].id):z("Null"),(null===(m=e[4])||void 0===m?void 0:m.length)>0?D(e[4]):D([{id:null,value:null,isIncomeMetric:null}])})),N([])}),[]);const Se=async(e,a)=>{ue(!0),v([]),Y([]);const t=`${V}-01-01`,s=`${V}-12-31`;await((e,a,t)=>{const s=new FormData;return s.append("startDate",e),s.append("endDate",a),s.append("bank",t),s.append("appId",i.userConfig.appId),w.A.post("/account_planner/getIncExpChartData",s)})(t,s,W).then((async t=>{const s=t.data.response;v(s),await(e=>{const a=new FormData;return a.append("bank",e),a.append("appId",i.userConfig.appId),w.A.post("/account_planner/getBankDetails",a)})(W).then((async t=>{var n;k(t.data.response),"function"===typeof a&&e?await a(null===s||void 0===s||null===(n=s.category[0])||void 0===n?void 0:n.month):await a()})).catch((e=>{k([])}))})).catch((e=>{v([]),console.log(e)})).finally((()=>{ue(!1)}))},Ye=async(e,a)=>{he(!0),N([]),ce([]),ie(null),await(e=>{const a=new FormData;return a.append("bank",e),a.append("appId",i.userConfig.appId),w.A.post("/account_planner/credit_card_details",a)})(E).then((async t=>{const s=t.data.response[0];ce(s);const n=`${T}-01-01`,l=`${T}-12-31`;await((e,a,t)=>{const s=new FormData;return s.append("startDate",e),s.append("endDate",a),s.append("card",t),s.append("appId",i.userConfig.appId),w.A.post("/account_planner/getCreditCardChartData",s)})(n,l,E).then((async t=>{const n=t.data.response,l=n.map((e=>e.month)),r=l.findIndex((e=>e===o()().format("MMM-YYYY").toString())),i=r>-1?l[r]:n[11].month;N(n),"function"===typeof a&&e?await a(i):await a(s)})).catch((e=>{console.log(e)})).finally((()=>{he(!1)}))})).catch((e=>{console.log(e)}))},Te=()=>(0,f.jsx)("div",{className:"relativeSpinner",children:(0,f.jsx)(n.A,{type:l.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})});return(0,s.useEffect)((()=>{const e=o()(_e.date).format("YYYY").toString();c.length>0&&g.length>0&&"bankTransactions"===_e.fetch&&(K(e),G(_e.bank),Ae(!0))}),[JSON.stringify(_e),c,g]),(0,s.useEffect)((()=>{if($.length>0&&m.length>0&&"ccTransactions"===_e.fetch){const e=o()(_e.date).format("YYYY").toString();P(e),z(_e.card),Ce(!0)}}),[JSON.stringify(_e),$,m]),(0,s.useEffect)((()=>{if(V&&W&&De){const e=o()(_e.date).format("MMM-YYYY").toString();Se(!1,(()=>{le(e),Ae(!1),setTimeout((()=>{var e;null===(e=document.getElementById("incExpTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}}),[JSON.stringify(_e),De,V,W]),(0,s.useEffect)((()=>{T&&E&&ke&&Ye(!1,(e=>{const a=Number(e.credit_card_start_date)>=Number(o()(_e.date).format("D").toString())?o()(_e.date).format("MMM-YYYY").toString():o()(_e.date).add(1,"M").format("MMM-YYYY").toString();ie(a),Ce(!1),setTimeout((()=>{var e;null===(e=document.getElementById("ccTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}),[JSON.stringify(_e),ke,T,E]),(0,f.jsxs)(ne.Provider,{value:{renderToast:e=>{let{autoClose:a=5e3,type:t="success",position:s="top-right",message:n,theme:l="colored",hideProgressBar:r=!1,closeOnClick:i=!1,pauseOnHover:o=!0,draggable:c=!0}=e;return Q.oR[t](n,{autoClose:a,position:s,theme:l,hideProgressBar:r,closeOnClick:i,pauseOnHover:o,draggable:c})},bankSelected:W,setBankSelected:G,bankDetails:A,bankList:g,setBankList:x,yearSelected:V,setYearSelected:K,yearList:c,monthYearSelected:ee,onMonthYearSelected:e=>{le(e)},incExpList:_,setIncExpList:D,ccBankList:$,ccBankSelected:E,setCcBankSelected:z,ccYearSelected:T,setCcYearSelected:P,ccYearList:m,setCcBankList:I,chartData:j,ccChartData:y,ccDetails:oe,setCcDetails:ce,ccMonthYearSelected:re,onCcMonthYearSelected:e=>{ie(e)},insertData:S,setInsertData:Y},children:[(0,f.jsx)(Q.N9,{className:"bniToaster"}),(0,f.jsxs)("section",{className:"",children:[pe&&(0,f.jsx)(q,{show:pe,onHide:()=>ge(!1),size:"sm",animation:!1}),xe&&(0,f.jsx)(J,{className:"accountPlanner fastShopping",show:xe,onHide:()=>fe(!1),size:"sm",animation:!1}),be&&(0,f.jsx)(ae,{className:"accountPlanner",show:be,onHide:()=>je(!1),centered:!0,size:"lg",backdrop:"static"}),ve&&(0,f.jsx)(Z,{className:"confirmQBModal",show:ve,onHide:()=>{ye(!1),setToggleQueryBuilder(!1)},onYes:()=>{ye(!1),setToggleQueryBuilder(!0)},size:"md",animation:!1}),(0,f.jsxs)("div",{className:"m-2",children:[(0,f.jsx)(se.A,{icon:"fa fa-cubes",intlId:"moneyPlanner"}),(0,f.jsx)("div",{className:"pt-2",children:(0,f.jsx)("div",{className:`accountPlanner ${i.userData.theme}`,children:g.length>0&&c.length&&m.length>0&&$.length>0>0?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"badge "+("dark"===i.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:(0,f.jsx)(u.A,{id:"bankTransactions",defaultMessage:"bankTransactions"})}),(0,f.jsxs)("div",{className:"row mt-10",children:[(0,f.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:(0,f.jsx)(R,{})}),(0,f.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:(0,f.jsx)(B,{})}),(0,f.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:(0,f.jsx)("div",{className:"d-grid gap-2",children:(0,f.jsx)("button",{onClick:()=>Se(!0,(e=>{le(e)})),className:"btn icon-bni bni-border bni-border-all bni-border-all-1",children:(0,f.jsx)(u.A,{id:"generate",defaultMessage:"generate"})})})}),(0,f.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:(0,f.jsx)("button",{onClick:()=>fe(!0),className:"btn btn-bni w-100",title:t.formatMessage({id:"fastShopping",defaultMessage:"fastShopping"}),children:(0,f.jsx)("i",{className:"fa fa-cart-plus"})})}),(0,f.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:(0,f.jsx)("button",{onClick:()=>je(!0),className:"btn btn-bni w-100",title:t.formatMessage({id:"bulkImport",defaultMessage:"bulkImport"}),disabled:"1"!==(null===i||void 0===i||null===(a=i.userConfig)||void 0===a?void 0:a.planIsBulkImport),children:(0,f.jsx)("i",{className:"fa fa-cloud-upload"})})}),(0,f.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:(0,f.jsx)("button",{onClick:()=>Ne(!Me),className:"btn btn-bni w-100",title:t.formatMessage({id:"planFromTemplate",defaultMessage:"planFromTemplate"}),children:(0,f.jsx)("i",{className:"fa fa-clone"})})})]}),g.length>0&&Me&&(0,f.jsx)(te,{}),de?Te():(0,f.jsx)(f.Fragment,{children:_.length>0&&A.length>0&&(0,f.jsx)(b,{})}),(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col-md-12 b-0 mb-10 pr-0 pl-0",children:A.length>0&&(0,f.jsx)(F,{})})}),(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsx)("div",{className:"badge "+("dark"===i.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:(0,f.jsx)(u.A,{id:"creditCardTransactions",defaultMessage:"creditCardTransactions"})})})}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-4 py-2",children:(0,f.jsx)(U,{})}),(0,f.jsx)("div",{className:"col-md-4 py-2",children:(0,f.jsx)(O,{})}),(0,f.jsx)("div",{className:"col-md-3 py-2",children:(0,f.jsx)("div",{className:"d-grid gap-2",children:(0,f.jsx)("button",{onClick:()=>Ye(!0,(e=>{ie(e)})),className:"btn icon-bni bni-border bni-border-all bni-border-all-1",children:(0,f.jsx)(u.A,{id:"generate",defaultMessage:"generate"})})})}),(0,f.jsx)("div",{className:"col-md-1 py-2",children:(0,f.jsx)("button",{onClick:()=>ge(!0),className:"btn btn-bni w-100",children:(0,f.jsx)("i",{className:"fa fa-calendar-o mt-20"})})})]}),me?Te():y&&y.length>0?(0,f.jsx)(M,{}):(0,f.jsx)("div",{className:"py-3 text-center",children:(0,f.jsx)(u.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col-md-12 pt-2",children:re&&E&&_.length&&$.length&&oe&&(0,f.jsx)(H,{})})})]}):Te()})})]})]})]})}},1576:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var s=t(9950),n=t(4268),l=t(2436),r=t(3027),i=t(4414);const o=function(e){const a=(0,s.useContext)(l.R),{confirmationstring:t,handleHide:o,handleYes:c,...d}=e;return(0,i.jsxs)(n.A,{...d,style:{zIndex:1e4},children:[(0,i.jsx)(n.A.Header,{children:(0,i.jsx)(n.A.Title,{children:t})}),(0,i.jsxs)(n.A.Body,{className:"rounded-bottom "+("dark"===a.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[(0,i.jsx)("p",{className:"text-center",children:(0,i.jsx)(r.A,{id:"thisActionCannotBeUndone",defaultMessage:"thisActionCannotBeUndone"})}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-6 text-center",children:(0,i.jsx)("button",{onClick:()=>c(),className:"btn btn-bni",children:(0,i.jsx)("i",{className:"fa fa-thumbs-o-up"})})}),(0,i.jsx)("div",{className:"col-6 text-center",children:(0,i.jsx)("button",{onClick:()=>o(),className:"btn btn-bni dark",children:(0,i.jsx)("i",{className:"fa fa-thumbs-o-down"})})})]})]})]})}},8630:(e,a,t)=>{"use strict";t.d(a,{A:()=>N});var s=t(9950),n=t(4570),l=t(4414);const r=e=>{const{index:a,primaryKey:t,onChange:n,element:r,value:i}=e,{i:o,j:c}=a,[d]=(0,s.useState)(r.radio.radioList),u=e.value||d.filter((e=>e.checked))[0].value,[m,h]=(0,s.useState)(u);return(0,s.useEffect)((()=>{h(i)}),[i]),(0,l.jsx)("div",{className:"radioComponent",children:d.length&&d.map(((e,s)=>(0,l.jsxs)("div",{className:"radioWrapper",children:[(0,l.jsx)("input",{type:"radio",onChange:s=>{h(s.target.value),n(a,e.value,t)},value:e.value,checked:e.value===m,name:`${c}-${o}`,id:`${c}-${s}-${o}`})," ",(0,l.jsx)("span",{className:"checkmark"}),(0,l.jsx)("label",{htmlFor:`${c}-${s}-${o}`,children:e.label})]},s)))})};var i=t(970),o=t(3932),c=t(9051),d=t.n(c),u=t(7391);t(5045),t(799);const m=function(e){const a=(0,s.useContext)(u.U),{isPostable:t,config:n,index:c,value:m,element:h,primaryKey:p,onChange:g,placeholder:x,showDecrement:f,showIncrement:b,onDelete:j,onAddRow:v,theme:y,...M}=e,N=(0,s.useRef)([]);N.current=[];const[w,_]=(0,s.useState)(m?new Date(m):new Date),[D,A]=(0,s.useState)(m?new Date(m):new Date),k=(e,a,t,s)=>{g(a,t,s)};return(0,l.jsx)("div",{children:((e,s,c,u)=>{if("string"===typeof s)switch(s){case"textbox":return(0,l.jsx)("input",{type:"text",placeholder:x,onBlur:a=>k(0,e,a.target.value,u),className:`inputText ${y}`,defaultValue:c,...M});case"number":return(0,l.jsx)("input",{id:`${e.j}-${e.i}`,type:"number",min:"0",step:".01",placeholder:x,ref:a=>((e,a)=>{a&&!N.current.includes(a)&&N.current.push({[e.i]:a})})(e,a),onBlur:a=>k(0,e,a.target.value,u),className:`inputText ${y}`,defaultValue:Number(c).toFixed(n.footer.total.maxDecimal),...M});case"textarea":return(0,l.jsx)("textarea",{placeholder:x,onBlur:a=>k(0,e,a.target.value,u),rows:"3",className:`inputText ${y}`,defaultValue:c,...M});case"label":default:return(0,l.jsx)("div",{...M,children:c});case"boolean":return(0,l.jsxs)("div",{...M,className:"text-center",children:[("1"===c||"True"===c||"true"===c||!0===c)&&(0,l.jsx)("i",{className:"fa fa-check"}),("0"===c||"False"===c||"false"===c||!1===c)&&(0,l.jsx)("i",{className:"fa fa-times"})]});case"relativeTime":return(0,l.jsx)("div",{children:d()(c||new Date).locale(a.localeLanguage).tz(d().tz.guess()).fromNow()});case"checkbox":return t?(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[f&&(0,l.jsx)("i",{onClick:()=>j(e),style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-times-circle text-danger cursor-pointer"}),b&&(0,l.jsx)("i",{onClick:()=>v(!0),style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-plus-circle text-success cursor-pointer"})]}):(0,l.jsx)("div",{...M,children:c});case"date":return(0,l.jsx)(o.A,{value:w||new Date,format:"y-MM-dd",clearIcon:null,onChange:a=>{_(a),g(e,(e=>{const[a,t,s]=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:`0${e.getMonth()+1}`,e.getDate()>9?e.getDate():`0${e.getDate()}`];return`${a}-${t}-${s}`})(a),u)}});case"dateTime":return(0,l.jsx)(o.A,{value:D,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:a=>{A(a),g(e,(e=>{let[a,t,s,n,l,r]=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:`0${e.getMonth()+1}`,e.getDate()>9?e.getDate():`0${e.getDate()}`,e.getHours(),e.getMinutes(),e.getSeconds()];return n=n<10?"0"+n:n,l=l<10?"0"+l:l,r=r<10?"0"+r:r,`${a}-${t}-${s} ${n}:${l}:${r}`})(a),u)}})}else if("object"===typeof s&&null!==s){switch(Object.keys(s)[0]){case"fetch":return(0,l.jsx)(i.A,{index:e,primaryKey:u,onChange:(e,a,t)=>g(e,a,t),element:s,value:c,type:Array.isArray(c)?"multiple":"single",searchable:s.searchable,theme:y});case"radio":return(0,l.jsx)(r,{index:e,primaryKey:u,onChange:(e,a,t)=>g(e,a,t),element:s,value:c},`${e.i}-${e.j}`);default:return(0,l.jsx)("div",{children:"Unknown Element"})}}})(c,h,m,p)})};var h=t(8311),p=t(2083);const g=e=>{const{totalPages:a,maxPagesToShow:t,onSetPage:n}=e,[r,i]=(0,s.useState)(e.currentPage),[o,c]=(0,s.useState)([]);(0,s.useEffect)((()=>{let e=[];e=t<a&&r>0?r<a-t?[...u(t,r),"...",a]:[...u(t+1,a-t)]:Array.from({length:a},((e,a)=>++a)),c(e)}),[t,a,r]);const d=e=>{i(e),n(e)},u=(e,a)=>Array(e).fill().map(((e,t)=>a+t));return o.length>0&&(0,l.jsxs)("ul",{className:"page",children:[(0,l.jsx)("li",{onClick:()=>r>1?d(1):null,className:"lt "+(r>1?"":"disabled"),children:"<<"}),(0,l.jsx)("li",{onClick:()=>r>1?d(r-1):null,className:"lt "+(r>1?"":"disabled"),children:"<"}),o.map(((e,t)=>(0,l.jsx)("li",{onClick:()=>!isNaN(e)&&e<=a?d(e):null,...e===r&&{className:"active"},children:e},(e=>`page-${e}`)(t)))),(0,l.jsx)("li",{onClick:()=>r<a?d(r+1):null,className:"gt "+(r===a?"disabled":""),children:">"}),(0,l.jsx)("li",{onClick:()=>r<a?d(a):null,className:"gt "+(r===a?"disabled":""),children:">>"})]})},x=e=>{const{className:a,entity:t,...s}=e;return(0,l.jsx)("span",{className:`htmlIcon ${a}`,dangerouslySetInnerHTML:{__html:t},...s})};var f=t(9288);const b=e=>{const a=(0,f.A)(),{defaultRecordsPerPage:t,config:n,searchString:r,onSearchChange:i,onDropDownChange:o,onDismissSearch:c,theme:d,options:u}=e,[m,h]=(0,s.useState)(!1),[p,g]=(0,s.useState)(r),[b,j]=(0,s.useState)(t),v=(0,s.useRef)(null),y=(0,s.useRef)(null),M=e=>{v.current&&!v.current.contains(e.target)&&h(!1)};(0,s.useEffect)((()=>(document.addEventListener("click",M,!0),()=>{document.removeEventListener("click",M,!0)})),[]),(0,s.useEffect)((()=>{r&&y.current.focus({preventScroll:!0})}),[r]);return(0,l.jsxs)("div",{className:"group-input",children:[(0,l.jsxs)("div",{className:"inputWrapper",children:[(0,l.jsx)("input",{ref:y,onChange:e=>(e=>{const a=e.target.value;i(a),g(a)})(e),placeholder:n.header.searchPlaceholder,type:"text",value:p,className:`join-input small ${d}`,spellCheck:"false"}),p&&(0,l.jsx)(x,{onClick:()=>{c(),g("")},className:"dismiss",entity:"&#215;"})]}),(0,l.jsxs)("div",{ref:v,onClick:()=>h(!m),title:a.formatMessage({id:"showNRecordsPerPage",defaultMessage:"showNRecordsPerPage"},{n:b}),className:"join-select",children:[(0,l.jsx)("div",{style:m?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:b}),(0,l.jsx)(x,{className:"icon up",entity:"&#9662;"})]})}),m&&(0,l.jsx)("ul",{children:u.map(((e,a)=>(0,l.jsx)("li",{onClick:()=>{return j(a=e),void o(a);var a},children:e},a)))})]})]})};var j=t(3027),v=t(4408),y=t(5491),M=t.n(y);const N=(0,v.Ay)((function(e){var a,t;const r=(0,f.A)(),i=e.Table,o=e.config,c=e.className||"",d=e.id||"",u=e.TableRows||"MyTable",v=e.TableAliasRows||[],y=e.postApiUrl,N=e.onPostApi,w=e.insertCloneData||[],_=e.showTooltipFor||[],D=e.defaultValues||[],A=e.onTableUpdate,k=e.onReFetchData,C=e.apiParams,S=e.onChangeParams,Y=e.cellWidth||"13rem",T=e.appIdKeyValue,P=e.theme,[$,I]=(0,s.useState)([]),[E,L]=(0,s.useState)(e.dbData.table),[F,R]=(0,s.useState)([]),[B,O]=(0,s.useState)(!1),[U,z]=(0,s.useState)(!1),[V,H]=(0,s.useState)([]),[K,W]=(0,s.useState)({}),[J,G]=(0,s.useState)([]),q=o&&o.footer&&o.footer.pagination&&Object.keys(o.footer.pagination).length>0&&o.footer.pagination,Z=o&&o.footer&&o.footer.total,X=e.ajaxType||"post",Q=e.ajaxButtonName||"Submit",[ee,ae]=(0,s.useState)(null===C||void 0===C?void 0:C.limit),[te,se]=(0,s.useState)(e.dbData.page),ne=q&&q.maxPagesToShow,le=a=>{O(!0);const t=e.rowElements.map((e=>new Promise(((a,t)=>{a(e)}))));Promise.all([t]).then((async e=>{await Promise.all(e[0]).then((e=>{I(e),O(!1)})),"function"===typeof a&&a()}))};(0,s.useEffect)((()=>{const e=[];return v.length!==u.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),i&&0!==i.toString().length&&""!==i||e.push({error:'The "Table" props should be a valid string.'}),y&&!["put","post","delete","patch","request","get","head","options"].includes(X)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&G(e),()=>{}}),[]),(0,s.useEffect)((()=>{le()}),[u,i,e.rowElements]),(0,s.useEffect)((()=>{var a;(null===e||void 0===e||null===(a=e.rowElements)||void 0===a?void 0:a.length)>0&&I(null===e||void 0===e?void 0:e.rowElements)}),[e]),(0,s.useEffect)((()=>{var a,t;(null===(a=e.dbData.table)||void 0===a?void 0:a.length)>0&&L(null===e||void 0===e||null===(t=e.dbData)||void 0===t?void 0:t.table)}),[e.dbData.table]),(0,s.useEffect)((()=>{if(w&&w.length>0){O(!0);const e=[...w,...E];L(e),setTimeout((()=>{O(!1)}),500)}}),[w]);const re=e=>{if(e){const e={};u.map(((a,t)=>{const s=D.findIndex((e=>Object.keys(e)[0]===a));return e[a]=s>-1?D[s][a]:"",null}));const a=[...E];a.push(e),L(a)}},ie=a=>{let t="";return e.dbData.total.hasOwnProperty(a)&&(t=e.dbData.total[a].map(((e,a)=>(0,l.jsx)("div",{className:"my-1",children:(0,l.jsxs)("span",{className:`${e.className}`,children:[null===e||void 0===e?void 0:e.prefix," ",Z&&p.A.countryCurrencyLacSeperator(Z.locale,Z.currency,e.value,Z.maxDecimal)," ",null===e||void 0===e?void 0:e.suffix]})},a)))),t},oe=e=>E.sort(((a,t)=>K.asc?t[e]-a[e]:a[e]-t[e])),ce=e=>E.sort(((a,t)=>K.asc?new Date(t[e])-new Date(a[e]):new Date(a[e])-new Date(t[e]))),de=e=>E.sort(((a,t)=>K.asc?(t[e]>a[e])-(t[e]<a[e]):(a[e]>t[e])-(a[e]<t[e]))),ue=(0,s.useCallback)(M()((e=>{S({start:0,searchString:e})}),500),[]),me=()=>r.formatMessage({id:"recordsLengthLine",defaultMessage:"recordsLengthLine"},{start:e.dbData.rangeStart,end:e.dbData.rangeEnd,length:e.dbData.numRows});return!1===B?(0,l.jsx)("div",{className:`react-responsive-ajax-data-table ${c}`,id:d,children:0===J.length?(0,l.jsxs)(l.Fragment,{children:[q&&(0,l.jsxs)("div",{className:"biGrid",children:[e.dbData.rangeStart&&e.dbData.rangeEnd&&e.dbData.numRows?(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"heading",title:me(),children:me()})}):(0,l.jsx)("div",{}),(null===o||void 0===o||null===(a=o.header)||void 0===a?void 0:a.searchable)&&(0,l.jsx)("div",{children:(0,l.jsx)(b,{theme:P,config:o,options:[10,25,50,100],searchString:null===C||void 0===C?void 0:C.searchString,defaultRecordsPerPage:null===C||void 0===C?void 0:C.limit,onSearchChange:e=>ue(e),onDropDownChange:e=>{ae(e),S({start:0,limit:e})},onDismissSearch:()=>ue("")})})]}),(0,l.jsx)("div",{className:"grid-responsive",children:(0,l.jsxs)("div",{style:{...Array.isArray(Y)&&{gridTemplateColumns:""+(Y.join("rem ")+"rem")},..."string"===typeof Y&&{gridTemplateColumns:`repeat(${u.length}, ${Y})`}},className:"grid-container responsive-grid",children:[v.map(((e,a)=>(0,l.jsx)("div",{onClick:()=>(e=>{let a=null===E||void 0===E?void 0:E.map((a=>a[e]&&(a[e].toString().indexOf("-")>-1||a[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(a[e]).replace(/-/g,"/"))?"date":""===a[e]||isNaN(a[e])?"string":"number"));a=a.sort(((e,t)=>a.filter((a=>a===e)).length-a.filter((e=>e===t)).length)).pop();let t=[];"date"===a&&(t=ce(e)),"number"===a&&(t=oe(e)),"string"===a&&(t=de(e)),L([...t]),W((a=>({asc:!a.asc,key:e})))})(u[a]),className:"header",children:a>0||!y?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{title:e,children:e})," ",u[a]===K.key&&(0,l.jsx)(x,{className:"default",entity:K.asc?"&#8593;":"&#8595;"})]}):(0,l.jsx)(x,{className:"default",entity:"&#9776;"})},`key-${a}`))),(null===E||void 0===E?void 0:E.length)>0?(0,l.jsxs)(l.Fragment,{children:[E.map(((e,a)=>u.map(((t,s)=>(0,l.jsx)("div",{className:"",children:(0,l.jsxs)("div",{..._.includes(t)&&{className:"tooltipContainer"},children:[""!==e[t]&&_.includes(t)&&(0,l.jsx)("span",{className:"tooltips",children:e[t]}),(0,l.jsx)(m,{config:o,onDelete:e=>(e=>{const{i:a}=e,t=E[a]&&E[a][u[0]];t&&void 0!==t&&(F.push(t),R(F));const s=E.filter(((e,t)=>t!==a));L(s),A&&A(s)})(e),onChange:(e,a,t)=>{((e,a,t)=>{if(!a){const t=u.findIndex((a=>a===e.j));t>-1&&$[t]&&(a="number"===$[t]?"0.00":"")}const{i:s,j:n}=e;E[s][n]=a,L(E);const l=E.filter(((e,a)=>a===s&&e))[0][t]||"";let r=l?[...V,l]:[...V];r=[...new Set(r)],H(r),A&&A(E)})(e,a,t)},index:{i:a,j:t},placeholder:v[s],value:e[t],element:$[s],showIncrement:E.length-1===a,showDecrement:!0,onAddRow:e=>re(e),primaryKey:u[0],isPostable:Boolean(y),theme:P},`${a}-${s}`)]})},`${e[t]}-${s}`))))),(null===e||void 0===e||null===(t=e.dbData)||void 0===t?void 0:t.total)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"textCenter",children:Z.title}),u.slice(1).map(((a,t)=>{var s;const n=null===e||void 0===e||null===(s=e.dbData)||void 0===s?void 0:s.total.hasOwnProperty(a);return(0,l.jsx)("div",{className:n?"totalColumn":"",children:n?ie(a):""},t)}))]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{index:{i:0,j:0},element:$[0],showIncrement:!0,showDecrement:!1,onAddRow:e=>re(e)},-1),(0,l.jsx)("div",{className:"py-3 text-center",style:{gridColumn:`1 / span ${u.length}`},children:(0,l.jsx)(j.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})}),(0,l.jsxs)("div",{className:"footer",children:[q&&(0,l.jsx)(g,{currentPage:te,totalPages:Math.ceil(e.dbData.numRows/ee),onSetPage:e=>{se(e),S({start:(e-1)*ee})},maxPagesToShow:ne}),y&&(0,l.jsx)("div",{className:"py-2 text-end",children:(0,l.jsx)("button",{onClick:()=>(()=>{z(!0);let e=E.filter((e=>""===e[u[0]])).map((e=>(""===e[u[0]]&&(e[u[0]]=null),null!==T&&void 0!==T&&T.key&&null!==T&&void 0!==T&&T.value&&(e[null===T||void 0===T?void 0:T.key]=null===T||void 0===T?void 0:T.value),e))),a=E.filter((e=>V.includes(e[u[0]]))).filter((e=>e&&("number"===typeof e[u[0]]||"string"===typeof e[u[0]]))).map((e=>(null!==T&&void 0!==T&&T.key&&null!==T&&void 0!==T&&T.value&&(e[null===T||void 0===T?void 0:T.key]=null===T||void 0===T?void 0:T.value),e)));const t={...(e.length>0||F.length>0||a.length>0)&&{Table:i},...e.length>0&&{insertData:e},...F.length>0&&{deleteData:F},...a.length>0&&{updateData:a}},s=new FormData;s.append("postData",JSON.stringify(t)),n.A[X](y,s).then((t=>{N&&N(t),(e.length>0||a.length>0||F.length>0)&&(O(!0),setTimeout((()=>{k(!0),O(!1)}),1e3))})).catch((e=>{N&&N({error:e,status:!1})})).finally((()=>{R([]),H([]),z(!1),a=[],e=[]}))})(),disabled:U,className:"btn btn-bni",children:U?(0,l.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):(0,l.jsx)(l.Fragment,{children:Q})})})]})]}):(0,l.jsxs)("div",{className:"errorWrapper",children:[(0,l.jsx)("h5",{children:"Please resolve the following issues:"}),(0,l.jsx)("ol",{children:J.map(((e,a)=>(0,l.jsx)("li",{children:e.error},a)))})]})}):(0,l.jsx)("div",{className:"relativeSpinner",children:(0,l.jsx)(h.A,{type:p.A.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}))},970:(e,a,t)=>{"use strict";t.d(a,{A:()=>m});var s=t(9950),n=t(3302),l=t(4414);const r=e=>{const{info:a,checked:t,theme:s,marker:r,...i}=e;return(0,l.jsxs)(n.A.Group,{className:"dropdown-item mb-0",controlId:a.id,children:[r&&(0,l.jsx)("span",{className:"sup",children:"*"}),(0,l.jsx)(n.A.Check,{className:"px-3 py-0 "+("dark"===s?"text-light":"text-dark"),type:"checkbox",label:a.value,checked:t,...i})]})};var i=t(3027),o=t(4408),c=t(5342),d=t(5623),u=t(5358);const m=(0,o.Ay)((e=>{const{index:a,type:t="single",primaryKey:o,element:m,value:h,placeholder:p="select",onChange:g,intl:x,theme:f=""}=e,b=(0,s.useRef)(null),j=(0,s.useRef)(null),[v,y]=(0,s.useState)(!1),M=(0,s.useRef)(),N=()=>x.formatMessage({id:p,defaultMessage:p}),w=()=>{let e=h;const a=m.fetch.dropDownList;return"single"===t?(e=a.length>0&&a.filter((e=>e.id===h)),e=e.length>0?e[0].value:N()):e="object"===typeof e&&e.length>0?e.map((e=>e.toString())):[],[a,e]},[_,D]=w(),A=_.map((e=>(e.checked=e.id&&(Array.isArray(D)?D.filter((a=>a.toString()===e.id.toString())).length>0:D===e.value),e))),k="single"===t?_:A,[C,S]=(0,s.useState)(k),[Y,T]=(0,s.useState)(D),[P,$]=(0,s.useState)(""),[I,E]=(0,s.useState)(D);(0,s.useEffect)((()=>{const[e,a]=w(),s=e.map((e=>(e.checked=e.id&&(Array.isArray(a)?a.filter((a=>a.toString()===e.id.toString())).length>0:a===e.value),e)));S("single"===t?e:s),T(a),E(a)}),[m]),(0,s.useEffect)((()=>{"multiple"===t&&T(F(D))}),[D]);const L=async e=>{$(e);const a=_.filter((a=>a.value.toString().toLowerCase().includes(e.toString().toLowerCase())));await S(a)},F=e=>{let a=e.length>0&&_.filter((a=>a.id===e[0]));if(1===a.length){a=a[0].value;return e.length>1?`${a} + ${e.length-1} more...`:a}return N()};return(0,s.useEffect)((()=>{var e;v&&(M.current&&M.current.focus({preventScroll:!0}),null===j||void 0===j||null===(e=j.current)||void 0===e||e.focus({preventScroll:!0}),setTimeout((()=>{var e;null===j||void 0===j||null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"instant",block:"nearest"})}),1))}),[v]),(0,l.jsxs)(c.A,{show:v,onToggle:()=>y(!v),ref:b,autoClose:"outside",className:"d-inline-block w-100",children:[(0,l.jsx)(c.A.Toggle,{variant:""+("dark"===f?"dark":"white"),className:"p-2 rounded cursor-pointer w-100 border d-flex align-items-center justify-content-between "+("dark"===f?"border-black":"border-1"),style:{fontSize:"0.9rem"},as:"div",children:(0,l.jsx)("span",{className:"text-truncate",children:Y||x.formatMessage({id:p,defaultMessage:p})})}),(0,l.jsxs)(c.A.Menu,{variant:""+("dark"===f?"dark":"white"),className:"w-100 p-0 border "+("dark"===f?"border-black":"border-1"),show:v,children:[(null===m||void 0===m?void 0:m.searchable)&&(0,l.jsx)(c.A.Item,{className:"p-0 border-0",children:(0,l.jsxs)(d.A,{children:[(0,l.jsx)(n.A.Control,{size:"sm",ref:M,className:("dark"===f?"bg-dark text-white":"bg-white text-dark")+" rounded-bottom-0 border-0 shadow-none py-2",onChange:e=>{e.preventDefault(),L(e.target.value)},placeholder:x.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),type:"text",value:P}),P&&(0,l.jsx)("i",{onClick:e=>{$(""),L("")},className:`fa fa-times text-danger bg-${f} p-2`})]})}),(0,l.jsx)(u.A,{className:"px-0",style:{maxHeight:"200px",overflowY:"auto",overflowX:"hidden"},children:C.length>0?C.map(((e,s)=>(0,l.jsx)(c.A.Item,{ref:e.checked?j:null,className:"small px-0 py-0 border-0 text-wrap",as:"div",children:"multiple"===t?(0,l.jsx)(r,{onChange:t=>{((e,t)=>{const{target:{checked:s}}=e;let n=t.id&&s?[...I,t.id]:I.filter((e=>e!==t.id));n=[...new Set(n)];const l=C.map((e=>n.includes(e.id)?{...e,checked:!0}:{...e,checked:!1}));S(l),E(n),T(F(n)),g(a,n,o)})(t,e)},checked:e.checked,marker:e.marker,info:e,theme:f},s):(0,l.jsxs)("div",{className:`cursor-pointer px-2 py-1 ${e.checked?"bni-bg text-dark":""} ${0!==s||m.searchable?"":"rounded-top"} ${s===C.length-1?"rounded-bottom":""}\n                    `,onClick:()=>{return g(a,(s=e).id,o),T(s.value),void("single"===t&&y(!1));var s},children:[e.value,e.marker&&(0,l.jsx)("span",{className:"sup",children:"*"})]})},s))):(0,l.jsx)(c.A.Item,{className:"text-center small text-wrap",children:(0,l.jsx)(i.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})})]})]})}))},3177:(e,a,t)=>{"use strict";t.d(a,{GG:()=>l,Kg:()=>r,UT:()=>i});var s=t(9051),n=t.n(s);const l=[{id:"bankAccounts",Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_swift_code","bank_account_type","bank_country","bank_sort","bank_locale","bank_currency"],defaultValues:[{bank_sort:"0"}],cellWidth:[4,13,11,11,13,13,5,13,13]},{id:"creditCardAccounts",Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date","credit_card_annual_interest","credit_card_locale","credit_card_currency"],defaultValues:[{credit_card_annual_interest:"48"}],cellWidth:[4,13,11,8,8,8,8,13,13]},{id:"incExpCat",config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name","inc_exp_cat_is_metric","inc_exp_cat_is_plan_metric"],defaultValues:[{inc_exp_cat_is_metric:"0"},{inc_exp_cat_is_plan_metric:"0"}],cellWidth:[4,13,13,13]},{id:"incExpTemp",config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type","temp_inc_exp_date","temp_category","temp_bank"],defaultValues:[{temp_inc_exp_date:"1"},{temp_inc_exp_type:"Dr"},{temp_amount:"0.00"},{temp_inc_exp_name:""}],cellWidth:[4,13,13,13,5,13,13]}],r=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:[],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:n()(new Date).format("YYYY-MM-DD")}],rowElements:["checkbox","textbox","number","label",null,"date",{fetch:{dropDownList:[]},searchable:!0},{fetch:{dropDownList:[]},searchable:!0},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],i=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",maxPagesToShow:5}},searchable:!0},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_transaction_status","cc_comments","cc_added_at"],TableAliasRows:[],rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]},searchable:!0},{fetch:{dropDownList:[]},searchable:!0},{fetch:{dropDownList:[{checked:!1,id:"1",value:"Settled"},{checked:!1,id:"0",value:"Pending"},{checked:!1,id:"2",value:"Part payment"}]}},"textbox","relativeTime"],defaultValues:[{cc_date:n()().format("YYYY-MM-DD")},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0},{cc_transaction_status:"0"}],showTooltipFor:["cc_transaction","cc_comments"]}]},8743:(e,a,t)=>{"use strict";t.d(a,{nd:()=>n,wm:()=>l,ww:()=>s});const s=["aws_s3_access_key_id","aws_s3_region","aws_s3_secret_access_key","google_map_api_key","google_login_auth_token","facebook_app_id"],n="encryptSalt",l=["fileStorageAccessKey"]},5956:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ie});var s=t(9950),n=t(8429),l=t(2436),r=t(4414);const i=e=>{let{children:a,accessGiven:t}=e;const i=(0,s.useContext)(l.R);return t.includes(i.userData.type)?a:(0,r.jsx)(n.C5,{replace:!0,to:"/401"})};var o=t(2074),c=t(3027);const d=function(){const e=(0,s.useContext)(l.R);return(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsxs)("div",{className:"pt-5 text-center",children:[(0,r.jsxs)("h1",{className:"",children:[(0,r.jsx)(c.A,{id:"oops",defaultMessage:"oops"}),"!"]}),(0,r.jsx)("h1",{className:"text-danger",children:"404"}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(c.A,{id:"sorryYourRequestedPageCannotBeFound",defaultMessage:"sorryYourRequestedPageCannotBeFound"}),"!"]}),(0,r.jsx)("hr",{className:"hr"}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(o.N_,{to:"/",className:"me-2 btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-home"})," ",(0,r.jsx)(c.A,{id:"home",defaultMessage:"home"})]}),(0,r.jsxs)("a",{rel:"noopener noreferrer",href:`mailto:${e.userConfig.email}`,className:"btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-envelope"})," ",(0,r.jsx)(c.A,{id:"support",defaultMessage:"support"})]})]})]})})})};const u=function(){const e=(0,s.useContext)(l.R);return(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsxs)("div",{className:"pt-5 text-center",children:[(0,r.jsxs)("h1",{className:"",children:[(0,r.jsx)(c.A,{id:"oops",defaultMessage:"oops"}),"!"]}),(0,r.jsx)("h1",{className:"text-danger",children:"401"}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(c.A,{id:"unAuthorizedPage",defaultMessage:"unAuthorizedPage"}),"!"]}),(0,r.jsx)("hr",{className:"hr"}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(o.N_,{to:"/",className:"me-2 btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-home"})," ",(0,r.jsx)(c.A,{id:"home",defaultMessage:"home"})]}),(0,r.jsxs)("a",{rel:"noopener noreferrer",href:`mailto:${e.userConfig.email}`,className:"btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-envelope"})," ",(0,r.jsx)(c.A,{id:"support",defaultMessage:"support"})]})]})]})})})};var m=t(8311),h=t(6283),p=t(3508);const g=e=>{const a=(0,s.useContext)(l.R),t=a.userData.menu;return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(m.A,{middle:!0}),children:t&&(null===t||void 0===t?void 0:t.length)>0&&(0,r.jsxs)(n.BV,{children:[(0,r.jsx)(n.qh,{path:"/",element:a.userData.userId?(0,r.jsx)(h.default,{}):(0,r.jsx)(p.default,{})}),t.map(((e,a)=>(0,r.jsx)(n.qh,{path:e.href,element:(0,r.jsx)(i,{accessGiven:e.hasAccessTo,children:e.component},e.page_id)},a))),a.userData.userId&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.qh,{path:"/",element:(0,r.jsx)(n.C5,{to:"/dashboard"}),replace:!0})}),(0,r.jsx)(n.qh,{path:"/404",element:(0,r.jsx)(d,{})}),(0,r.jsx)(n.qh,{path:"/401",element:(0,r.jsx)(u,{})}),(0,r.jsx)(n.qh,{path:"*",element:(0,r.jsx)(n.C5,{to:"/404",replace:!0})})]})})};var x=t(6773);const f=t.p+"static/media/brandLogo.5bbcd38a59a610cf05df.png";var b=t(9288);const j=function(e){const[a,t]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const a=a=>{let{key:s}=a;s===e&&t(!0)},s=a=>{let{key:s}=a;s===e&&t(!1)};return window.addEventListener("keydown",a),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",s)}}),[e]),a};var v=t(4570),y=t(5491),M=t.n(y);const N=e=>{const a=(0,n.Zp)(),[t,i]=(0,s.useState)({}),d=(0,s.useRef)(null),u=(0,s.useRef)(null),m={category:"incExpCat",bank:"bank",creditCard:"creditCard",ccTransactions:"creditCardTransactions",bankTransactions:"bankTransactions",workbook:"workbook"},h=e=>{let{item:a,active:t,setSelected:s,setHovered:n}=e;return(0,r.jsx)("li",{className:`list-group-item cursor-pointer small px-2 py-1 border-0 rounded-0 ${"dark"===C.userData.theme?"bg-dark text-light":"bg-white text-dark"} ${t?"bni-bg bni-text":""} `,style:{},onClick:()=>s(a),onMouseEnter:()=>{n(a.id),w(a.id)},onMouseLeave:()=>n(void 0),children:(0,r.jsx)(o.N_,{to:`${a.target}`,relative:"path",className:"d-block "+("dark"===C.userData.theme?"text-light":"text-dark"),children:a.name})})},[p,g]=(0,s.useState)(void 0),x=j("ArrowDown"),f=j("ArrowUp"),y=j("Enter"),[N,w]=(0,s.useState)(void 0),[_,D]=(0,s.useState)(void 0),A=Object.keys(t).map((e=>[].concat(...t[e]))).flat();(0,s.useEffect)((()=>{A.length&&x&&w((e=>{const a=A.findIndex((a=>a.id===e));var t,s;return a<A.length-1?(null===(t=A[a+1])||void 0===t?void 0:t.id)||e:null===(s=A[0])||void 0===s?void 0:s.id}))}),[x]),(0,s.useEffect)((()=>{Object.keys(t).length&&f&&w((e=>{const a=A.findIndex((a=>a.id===e));var t,s;return a-1>-1?(null===(t=A[a-1])||void 0===t?void 0:t.id)||e:null===(s=A[A.length-1])||void 0===s?void 0:s.id}))}),[f]),(0,s.useEffect)((()=>{if(Object.keys(t).length&&y){const e=A.findIndex((e=>e.id===N));g(A[e]),L()}}),[N,y]),(0,s.useEffect)((()=>{Object.keys(t).length&&_&&w((e=>{var a;const t=A.findIndex((a=>a.id===e));return(null===(a=A[t])||void 0===a?void 0:a.id)||e}))}),[_]),(0,s.useEffect)((()=>{p&&(Y(null===p||void 0===p?void 0:p.name),P(!1))}),[p]);const k=(0,b.A)(),C=(0,s.useContext)(l.R),[S,Y]=(0,s.useState)(""),[T,P]=(0,s.useState)(!1),[$,I]=(0,s.useState)(!1),E=(0,s.useCallback)(M()((e=>{e.target.value?(I(!0),F(e.target.value).then((e=>{const a=e.data.response;a?(P(!0),i(a)):(P(!1),i([]))})).catch((()=>P(!1))).finally((()=>I(!1))),13!==e.which&&13!==e.keyCode||L()):(P(!1),i([]))}),500),[C.userConfig.appId]),L=()=>{null!==p&&void 0!==p&&p.target&&a(`/${p.target}`)},F=e=>{const a=new FormData;return a.append("searchString",e),a.append("appId",C.userConfig.appId),v.A.post("/dashboard/searchTopics",a)},R=e=>{u.current&&!u.current.contains(e.target)&&P(!1)};return(0,s.useEffect)((()=>(document.addEventListener("click",R,!0),()=>{document.removeEventListener("click",R,!0)})),[]),(0,r.jsxs)("div",{className:"position-relative",ref:u,children:[(0,r.jsxs)("div",{className:"input-group input-group-sm",children:[(0,r.jsx)("span",{className:`btn border border-1 border-end-0 rounded-start-0 border-${"dark"===C.userData.theme?"secondary":""} btn-${"dark"===C.userData.theme?"transparent":"white"}`,children:$?(0,r.jsx)("i",{className:"fa fa-circle-o-notch fa-spin text-"+("dark"===C.userData.theme?"secondary":"dark")}):(0,r.jsx)("i",{className:"fa fa-search text-"+("dark"===C.userData.theme?"secondary":"dark")})}),(0,r.jsx)("input",{ref:d,type:"text",spellCheck:"false",placeholder:k.formatMessage({id:"globalSearch",defaultMessage:"globalSearch"}),className:`form-control shadow-none rounded-end-0 form-control-sm text-secondary border-${"dark"===C.userData.theme?"secondary text-secondary":"1 text-dark"} bg-transparent`,onChange:e=>{E(e),Y(e.target.value)},onKeyDown:e=>{Y(e.target.value)},value:S}),S&&(0,r.jsx)("button",{className:`btn border border-1 border-start-0 rounded-end-0 border-${"dark"===C.userData.theme?"secondary":""} btn-${"dark"===C.userData.theme?"transparent":"white"}`,onClick:()=>{Y(""),P(!1),d.current.focus()},children:(0,r.jsx)("i",{className:"fa fa-times text-"+("dark"===C.userData.theme?"secondary":"dark")})})]}),T&&(0,r.jsx)("div",{className:"position-absolute w-100",children:(0,r.jsxs)("ul",{className:`list-group rounded-bottom p-0 rounded-top-0 border ${"dark"===C.userData.theme?"bg-dark border-secondary":"bg-light border-1"} border-top-0`,style:{opacity:.9},children:[Object.keys(t).length>0?Object.keys(t).map(((e,a)=>(0,r.jsx)(s.Fragment,{children:(0,r.jsxs)("li",{className:"p-0 list-group-item border-0",style:{},children:[(0,r.jsx)("div",{className:"fw-bolder px-1 py-1 "+("dark"===C.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:(0,r.jsx)("span",{className:"badge "+("dark"===C.userData.theme?"bg-secondary":"bg-white text-dark border border-1"),children:(0,r.jsx)(c.A,{id:m[e],defaultMessage:m[e]})})}),(0,r.jsx)("ul",{className:"list-group",children:t[e].map(((e,a)=>(0,r.jsx)(h,{active:e.id===N,item:e,setSelected:g,setHovered:D},e.id)))})]})},a))):(0,r.jsx)("li",{className:"p-1 list-group-item border-0 small "+("dark"===C.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:(0,r.jsx)(c.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),A.length>0&&(0,r.jsx)("li",{className:"p-0 px-1 pb-1 list-group-item border-0 "+("dark"===C.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:(0,r.jsxs)("div",{className:"text-end fst-italic small",children:[(0,r.jsx)("span",{children:"\u2191"}),(0,r.jsx)("span",{className:"px-1",children:A.length}),(0,r.jsx)("span",{children:(0,r.jsx)(c.A,{id:"recordsFound",defaultMessage:"recordsFound"})})]})})]})})]})},w=e=>{const a=(0,s.useContext)(l.R),{onNavBarToggle:t,navBarExpanded:n}=e,i=a.userData.menu;return(0,r.jsx)("div",{className:"mobile-menu",children:(0,r.jsxs)(x.A,{style:{top:"45px"},className:"py-0 ps-2 pe-2 justify-content-between "+("dark"===a.userData.theme?"bg-dark":"bg-white"),fixed:"top",onToggle:t,expanded:n,expand:"lg",children:[(0,r.jsx)(x.A.Brand,{className:"navbar-brand pt-2 me-0",style:{flexBasis:"10%"},children:(0,r.jsx)(o.N_,{to:"/dashboard",children:(0,r.jsx)("img",{className:"img-fluid",src:f,style:{width:"40px",height:"40px"}})})}),(0,r.jsx)("div",{style:{flexBasis:"75%"},children:(0,r.jsx)(N,{})}),(0,r.jsx)(x.A.Toggle,{style:{boxShadow:"none",flexBasis:"5%"},className:"p-0 pe-1 fs-2 btn text-secondary border-1","aria-controls":"basic-navbar-nav",bsPrefix:"navbar-toggle",children:(0,r.jsx)("i",{className:"fa fa-bars icon-bni"})}),(0,r.jsx)(x.A.Collapse,{children:(0,r.jsx)("ul",{className:"header-menu",children:(null===i||void 0===i?void 0:i.length)>0&&i.map(((e,s)=>(0,r.jsx)("li",{children:(0,r.jsx)(o.N_,{className:"dark"===a.userData.theme?"link-light":"link-dark",onClick:t,to:e.href,children:(0,r.jsx)(c.A,{id:e.page_id,defaultMessage:e.page_id})})},s)))})})]})})},_=e=>{var a,t,n,i,d;const u=(0,s.useContext)(l.R),m=u.userData.menu;return(0,r.jsx)("header",{className:`vertical-header ${null===u||void 0===u||null===(a=u.userConfig)||void 0===a?void 0:a.webLayoutType}`,children:(0,r.jsx)("div",{className:`vertical-header-wrapper ${null===u||void 0===u||null===(t=u.userConfig)||void 0===t?void 0:t.webMenuType}`,children:(0,r.jsxs)("nav",{className:`nav-menu ${null===(n=u.userConfig)||void 0===n?void 0:n.webMenuType} ${null===u||void 0===u||null===(i=u.userConfig)||void 0===i?void 0:i.webLayoutType} ${"dark"===u.userData.theme?"bg-dark":"bg-white"}`,children:[(0,r.jsx)("div",{className:"nav-header",children:(0,r.jsx)("span",{className:"",children:(0,r.jsx)(o.N_,{to:"/dashboard",children:(0,r.jsx)("img",{className:"brand img-fluid",src:f,style:{width:"40",height:"40"}})})})}),(0,r.jsx)("ul",{className:`header-menu ${null===u||void 0===u||null===(d=u.userConfig)||void 0===d?void 0:d.webMenuType}`,children:(null===m||void 0===m?void 0:m.length)>0&&m.map(((e,a)=>(0,r.jsx)("li",{children:(0,r.jsx)(o.N_,{className:"dark"===u.userData.theme?"text-white-50":"text-black",to:e.href,children:(0,r.jsx)(c.A,{id:e.page_id,defaultMessage:e.page_id})})},a)))})]})})})};var D=t(9845);const A=(0,s.lazy)((()=>t.e(6772).then(t.bind(t,6772)).then((e=>({default:e.ExpiryHeading}))))),k=(0,s.lazy)((()=>t.e(6772).then(t.bind(t,6772)).then((e=>({default:e.ExpiryContent}))))),C=e=>{const a=(0,n.Zp)(),t=(0,s.useContext)(l.R),i=(0,s.useContext)(D.O),{setAppExpired:o,userData:c}=t;return(0,s.useEffect)((()=>{const e=setInterval((()=>{(e=>{const a=+new Date(e)-+new Date;return Math.floor(a/1e3)})(t.userConfig.expiryDateTime)<=0&&c.userId&&(o(!0),a("/billing"),setTimeout((()=>{clearInterval(e),i.setConfig({show:!1}),i.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!1,heading:(0,r.jsx)(A,{}),content:(0,r.jsx)(k,{})})}),1e3))}),1e3);return()=>clearInterval(e)}),[t.userConfig.expiryDateTime]),(0,r.jsx)(s.Suspense,{children:null})};t(7923);t.p;t(9635);var S=t(100),Y=t(9800),T=t(1535),P=t(6400),$=t(7863),I=t(9210),E=t.n(I),L=t(8743);class F{constructor(e){this.uploadFile=e=>new P._({client:new S.Y(this.config),leavePartsOnError:!1,params:{...e,Bucket:this.Bucket}}),this.deleteFile=async e=>{const a={Bucket:this.Bucket,...Object.keys(e).length>0&&{...e}};return new Y.S3(this.config).deleteObject(a)},this.deleteFolder=async(e,a)=>{let t={Bucket:this.Bucket,Prefix:e};new Y.S3(this.config).listObjects(t,((e,s)=>{if(e)return a({status:"fail"});0===s.Contents.length&&a({status:"success"}),t={Bucket:this.Bucket},t.Delete={Objects:[]},s.Contents.forEach((e=>{t.Delete.Objects.push({Key:e.Key})})),new Y.S3(this.config).deleteObjects(t,((e,t)=>{if(e)return a({status:"fail"});t.IsTruncated?this.self.deleteFolder(this.Bucket,a):a({status:"success"})}))}))},this.renameFile=async e=>{const a=this.Bucket;return new Y.S3(this.config).copyObject({Bucket:a,CopySource:`${a}/${e.oldKey}`,Key:e.newKey},(()=>{new Y.S3(this.config).deleteObject({Bucket:a,Key:e.oldKey})}))},this.renameFolder=async e=>{const a=this.Bucket,t=`${e.oldKey}/`,s=`${e.newKey}`;try{const e=await new Y.S3(this.self.config).listObjects({Bucket:a,Prefix:t}),n=e.Contents,l=e.Prefix;await Promise.all(n.map((async e=>{const t={Bucket:a,CopySource:`${a}/${e.Key}`,Key:`${s}/${e.Key.replace(l,"")}`};await new Y.S3(this.self.config).copyObject(t);const n={Bucket:a,Key:e.Key};await new Y.S3(this.self.config).deleteObject(n)})))}catch(n){console.error(n)}},this.isUrlInternal=e=>"https:"!==(e?e.split("/"):["/"])[0],this.getSignedUrl=async e=>{if(this.isUrlInternal(e)){const a=e.split("/").slice(1,e.length).join("/"),t=e?e.split("/"):["/"],s=t[t.length-1].split(".").pop(),n={Bucket:this.Bucket,Key:a,expiresIn:this.expiresIn},l=new S.Y(this.config),r=new T.j(n);return{url:await(0,$.A)(l,r,{expiresIn:this.expiresIn}),path:a,extension:s}}return{url:e,path:"",extension:""}},this.downloadToBrowser=e=>{const a=e.split("/"),t=a[a.length-1],s=e.split("/").slice(1,e.split("/").length).join("/");this.getSignedUrl(s,this.expiresIn,this.Bucket).then((e=>{const a=document.createElement("a");a.setAttribute("target","_blank"),a.setAttribute("href",e),a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a)}))},this.fetchStream=async e=>{const a=new S.Y(this.config);return await a.send(new T.j({Bucket:this.Bucket,Key:e})).then((async e=>{const a=e.Body.pipeThrough(new TextDecoderStream("utf-8")).getReader(),t=[];for(;;){const{value:e,done:s}=await a.read();if(s)break;t.push(e)}return t.join("")}))},this.Bucket=e.aws_s3_bucket,this.expiresIn=86400,this.config={region:E().AES.decrypt(e.aws_s3_region,e[L.nd]).toString(E().enc.Utf8),credentials:{accessKeyId:E().AES.decrypt(e.aws_s3_access_key_id,e[L.nd]).toString(E().enc.Utf8),secretAccessKey:E().AES.decrypt(e.aws_s3_secret_access_key,e[L.nd]).toString(E().enc.Utf8)}},this.self=this}getBuckeName(){return this.Bucket}fetchFileFolder(e){const a={Bucket:this.Bucket,...Object.keys(e).length>0&&{...e}};return new Y.S3(this.config).listObjects(a)}}var R=t(2860),B=t(8981);class O{constructor(e){var a=this;this.uploadFile=e=>{const a=new B;return a.done=()=>{const t={onUploadProgress:t=>{const s={loaded:t.loaded,total:t.total,Key:e.Key};a.emit("httpUploadProgress",s)}},s=new FormData;return s.append("X-Access-Key",this.config.fileStorageAccessKey),s.append("file",e.Body),s.append("folder",e.Key.split("/").slice(0,-1).join("/")),v.A.post("/api/media/upload",s,t)},a},this.renameFile=async e=>{const a=new URLSearchParams({fromFileURL:e.oldKey,toFileURL:e.newKey,"X-Access-Key":this.config.fileStorageAccessKey}).toString();return v.A.get(`/api/media/renameFile?${a}`)},this.renameFolder=async e=>{const a=new URLSearchParams({fromFileURL:e.oldKey,toFileURL:e.newKey,"X-Access-Key":this.config.fileStorageAccessKey}).toString();return v.A.get(`/api/media/renameFile?${a}`)},this.deleteFolder=async(e,a)=>{const t=new URLSearchParams({fileURL:e,"X-Access-Key":this.config.fileStorageAccessKey}).toString();v.A.get(`/api/media/deleteFile?${t}`).then((e=>a({status:"success"}))).catch((()=>a({status:"fail"})))},this.isUrlInternal=e=>"https:"!==(e?e.split("/"):["/"])[0],this.getSignedUrl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(a.isUrlInternal(e)){const s=e.split("/").slice(1,e.length).join("/"),n=e?e.split("/"):["/"],l=n[n.length-1].split(".").pop(),r=new URLSearchParams({fileURL:s,"X-Access-Key":a.config.fileStorageAccessKey,downloadable:t}).toString();return{url:`${(0,R.p)()}/api/media/render?${r}`,path:s,extension:l}}return{url:e,path:"",extension:""}},this.downloadToBrowser=e=>{const a=e.split("/"),t=a[a.length-1];this.getSignedUrl(e,"1").then((e=>{const a=document.createElement("a");a.setAttribute("target","_blank"),a.setAttribute("href",e.url),a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a)}))},this.fetchStream=async e=>{const a=new URLSearchParams({fileURL:e,"X-Access-Key":this.config.fileStorageAccessKey}).toString(),t=`${(0,R.p)()}/api/media/render?${a}`;return fetch(t).then((async e=>{const a=e.body.pipeThrough(new TextDecoderStream("utf-8")).getReader(),t=[];for(;;){const{value:e,done:s}=await a.read();if(s)break;t.push(e)}return t.join("")}))},this.Bucket="",this.config={fileStorageAccessKey:e.fileStorageAccessKey}}getBuckeName(){return this.Bucket}fetchFileFolder(e){const a=new URLSearchParams(e).toString();return v.A.get(`/api/media/getList?X-Access-Key=${this.config.fileStorageAccessKey}&${a}`).then((e=>({Contents:e.data.response.map((e=>({...e,LastModified:new Date(e.LastModified)})))})))}}const U=(e,a)=>{switch(e){case"AWSS3":return{library:new F(a)};case"SELF":case"https:":return{library:new O(a)};default:return{library:null}}};var z=t(1308);const V=e=>(e?e.split("/"):["/"])[0];var H=t(6781),K=t(8459),W=t(5342),J=t(5623),G=t(3302),q=t(8751),Z=t(6082),X=t(7391),Q=t(8092),ee=t.n(Q);const ae=t.p+"static/media/horizontalLogo.373857dca326cf845319.png";var te=t(9051),se=t.n(te);t(5045);const ne=[{name:"Facebook",icon:"fa fa-facebook",id:"facebookUrl"},{name:"LinkedIn",icon:"fa fa-linkedin",id:"linkedInUrl"},{name:"Twitter",icon:"fa fa-twitter",id:"twitterUrl"},{name:"Instagram",icon:"fa fa-instagram",id:"instagramUrl"}];const le=function(e){var a,t,n,i,o,d,u,m,h,p,g,x;const f=(0,b.A)(),j=(0,s.useContext)(z.F),v=(0,s.useContext)(l.R),y=(0,s.useContext)(X.U),[M,w]=(0,s.useState)(!1),[_,D]=(0,s.useState)(!1),[A,k]=(0,s.useState)([]),[C,S]=(0,s.useState)(v.userData.theme),[Y,T]=(0,s.useState)(""),[P,$]=(0,s.useState)(""),[I,E]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{var e,a,t,s;const n=V(null===j||void 0===j?void 0:j.bgSong),l=(null===(e=U(n,j))||void 0===e||null===(a=e.library)||void 0===a?void 0:a.getSignedUrl(null===j||void 0===j?void 0:j.bgSong))||Promise.resolve({url:null===j||void 0===j?void 0:j.bgSong,path:"",extension:""}),r=V(null===j||void 0===j?void 0:j.bgVideo),i=(null===(t=U(r,j))||void 0===t||null===(s=t.library)||void 0===s?void 0:s.getSignedUrl(null===j||void 0===j?void 0:j.bgVideo))||Promise.resolve({url:null===j||void 0===j?void 0:j.bgVideo,path:"",extension:""});Promise.all([l,i]).then((e=>{T(e[0].url),$(e[1].url)}))}),[v.userConfig]),(0,s.useEffect)((()=>{v.updateUserData("theme",C)}),[C]),(0,s.useEffect)((()=>{v.updateUserData("videoShown",_)}),[_]),(0,s.useEffect)((()=>{v.updateUserData("audioShown",M)}),[M]),(0,s.useEffect)((()=>{v.userConfig&&Object.keys(v.userConfig).length>0&&(w("1"===v.userConfig.bgSongDefaultPlay),D("1"===v.userConfig.bgVideoDefaultPlay))}),[v.userConfig]),(0,s.useEffect)((()=>{if(j&&Object.keys(j).length>0){const e=Object.keys(j),a=[...ne].map((a=>(e.includes(a.id)&&(a.href=j[a.id]),a)));k(a)}}),[j]),(0,r.jsxs)("div",{children:[(0,r.jsx)(ee(),{controls:!1,loop:!0,playing:M,width:"0px",height:"0px",url:Y,config:{forceAudio:!0}}),(0,r.jsx)(ee(),{className:"videoTag d-print-none",playsinline:!0,style:{display:_?"block":"none"},playing:_,loop:!0,muted:!0,controls:!1,width:"100%",height:"100vh",url:P}),(null===v||void 0===v||null===(a=v.userData)||void 0===a?void 0:a.userId)&&(0,r.jsx)("div",{className:`globalHeader globalHeader-${v.userData.theme} d-print-none fixed-top ${v.userData.videoShown?"opac":""}`,children:(0,r.jsxs)(H.A,{className:"justify-content-between align-items-center",children:[(0,r.jsx)(K.A,{xl:4,lg:3,md:3,xs:9,className:"",children:(0,r.jsx)("a",{href:"/dashboard",className:"pe-2",children:(0,r.jsx)("img",{style:{width:"150px",height:"40px"},className:"brand global img-fluid",src:ae})})}),(0,r.jsx)(K.A,{xl:4,lg:6,md:7,className:"d-none d-sm-block",children:(0,r.jsx)(N,{})}),(0,r.jsx)(K.A,{xl:4,lg:3,md:2,xs:3,className:"text-end p-0",children:(0,r.jsxs)(W.A,{show:I,onToggle:(e,a)=>{"select"!==a.source&&E(e)},children:[(0,r.jsx)(W.A.Toggle,{as:"i",children:(0,r.jsx)("i",{className:"fa fa-user gIcon icon-bni pe-2"})}),(0,r.jsxs)(W.A.Menu,{align:"start",className:"mt-2 "+("dark"===v.userData.theme?"bg-dark text-white-50":"bg-white text-black"),children:[(null===v||void 0===v||null===(t=v.userConfig)||void 0===t?void 0:t.planName)&&(null===v||void 0===v||null===(n=v.userConfig)||void 0===n?void 0:n.planCode)&&(0,r.jsx)(W.A.Item,{as:"div",className:"p-0",children:(0,r.jsxs)("div",{style:{fontSize:"0.75rem"},className:"d-flex align-items-center justify-content-around small bni-bg rounded-top text-dark p-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("i",{className:"fa fa-diamond pe-2"}),(0,r.jsx)("span",{children:(0,r.jsx)(c.A,{id:"plan",defaultMessage:"plan"})})]}),(0,r.jsx)("div",{className:"text-truncate",children:(0,r.jsx)("span",{children:(0,r.jsx)(c.A,{id:null===v||void 0===v||null===(i=v.userConfig)||void 0===i?void 0:i.planName,defaultMessage:null===v||void 0===v||null===(o=v.userConfig)||void 0===o?void 0:o.planName})})}),(0,r.jsx)("div",{className:"text-truncate",children:null===v||void 0===v||null===(d=v.userConfig)||void 0===d?void 0:d.planCode})]})}),(0,r.jsx)(W.A.Item,{as:"div",children:(0,r.jsx)(Z.A,{onLogAction:e=>{E(!0)}})}),Boolean(Number(null===v||void 0===v||null===(u=v.userConfig)||void 0===u?void 0:u.switchSongFeatureRequired))&&(0,r.jsx)(W.A.Item,{as:"div",onClick:()=>{w(!M)},children:(0,r.jsxs)("div",{className:"options",children:[(0,r.jsx)("div",{className:"labelText",children:(0,r.jsx)(c.A,{id:"music",defaultMessage:"music"})}),(0,r.jsx)(q.A,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===v.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===v.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:()=>{w(!M)},checked:!0===M})]})}),Boolean(Number(null===v||void 0===v||null===(m=v.userConfig)||void 0===m?void 0:m.switchVideoFeatureRequired))&&(0,r.jsx)(W.A.Item,{as:"div",onClick:()=>D(!_),children:(0,r.jsxs)("div",{className:"options",children:[(0,r.jsx)("div",{className:"labelText",children:(0,r.jsx)(c.A,{id:"video",defaultMessage:"video"})}),(0,r.jsx)(q.A,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===v.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===v.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:()=>D(!_),checked:!0===_})]})}),Boolean(Number(null===v||void 0===v||null===(h=v.userConfig)||void 0===h?void 0:h.switchThemeFeatureRequired))&&(0,r.jsx)(W.A.Item,{as:"div",children:(0,r.jsxs)("div",{className:"options",children:[(0,r.jsx)("button",{className:`btn btn-sm rounded-circle ${"dark"===v.userData.theme?"btn-dark btn-outline-secondary":"btn-light btn-outline-dark"} ${"dark"===v.userData.theme?"active":""}`,onClick:()=>S("dark"),title:f.formatMessage({id:"dark",defaultMessage:"dark"}),children:(0,r.jsx)("i",{className:"fa fa-moon-o"})}),(0,r.jsx)("button",{className:`btn btn-sm rounded-circle ${"dark"===v.userData.theme?"btn-dark btn-outline-secondary":"btn-light btn-outline-dark"} ${"light"===v.userData.theme?"active":""}`,onClick:()=>S("light"),title:f.formatMessage({id:"light",defaultMessage:"light"}),children:(0,r.jsx)("i",{className:"fa fa-sun-o"})})]})}),y.localeList.length>0&&(0,r.jsx)(W.A.Item,{as:"div",children:(0,r.jsxs)(J.A,{style:{width:"90%",margin:"0 auto"},children:[(0,r.jsx)(J.A.Text,{children:(0,r.jsx)("i",{className:"fa fa-globe"})}),(0,r.jsx)(G.A.Select,{value:y.localeId,size:"sm",onChange:e=>y.setLocaleId(e.target.value),children:y.localeList.map(((e,a)=>(0,r.jsx)("option",{value:e.string,children:e.label},a)))})]})}),Boolean(Number(null===j||void 0===j?void 0:j.switchSocialMediaFeatureRequired))&&A.length>0&&(0,r.jsx)(W.A.Item,{as:"div",children:(0,r.jsx)("div",{className:"options text-center",children:A.map(((e,a)=>(0,r.jsx)("a",{className:"dark"===v.userData.theme?"text-white-50":"text-black-50",href:e.href,target:"_blank",rel:"noreferrer",children:(0,r.jsx)("i",{className:`${e.icon} social-icons`})},a)))})}),(null===v||void 0===v||null===(p=v.userConfig)||void 0===p?void 0:p.expiryDateTime)&&(0,r.jsx)(W.A.Item,{as:"div",className:"p-0",children:(0,r.jsx)("div",{style:{fontSize:"0.75rem"},className:"small bni-bg rounded-bottom text-dark p-1",title:se()(null===v||void 0===v||null===(g=v.userConfig)||void 0===g?void 0:g.expiryDateTime).format("MMM Do YYYY, h:mm:ss a").toString(),children:(0,r.jsxs)("div",{className:"text-center text-wrap",children:[(0,r.jsx)("i",{className:"fa fa-hourglass-end pe-1"}),(0,r.jsx)("span",{className:"ps-2 pe-1",children:(0,r.jsx)(c.A,{id:"expiring",defaultMessage:"expiring"})}),(0,r.jsx)("span",{className:"",children:se()(null===v||void 0===v||null===(x=v.userConfig)||void 0===x?void 0:x.expiryDateTime,"YYYYMMDD").locale(y.localeLanguage).tz(se().tz.guess()).fromNow()})]})})})]})]})})]})}),e.children]})};const re=function(e){var a,t,n,i,o,c,d;const u=(0,s.useContext)(l.R),[m,h]=(0,s.useState)(!1);return(0,r.jsx)(le,{children:(0,r.jsxs)("div",{className:`application-wrapper ${null===u||void 0===u||null===(a=u.userConfig)||void 0===a?void 0:a.webLayoutType} ${"dark"===u.userData.theme?"bg-dark":"bg-white"}`,children:[(0,r.jsx)("div",{className:""}),(0,r.jsxs)("div",{className:`application-content ${null===u||void 0===u||null===(t=u.userConfig)||void 0===t?void 0:t.webMenuType}`,children:[(null===u||void 0===u||null===(n=u.userData)||void 0===n?void 0:n.userId)&&(0,r.jsxs)("div",{className:"menu-wrapper d-print-none p-0 "+(["sideMenuRight","sideMenuLeft"].includes(null===u||void 0===u||null===(i=u.userConfig)||void 0===i?void 0:i.webMenuType)?"col-sm-2":""),children:[(0,r.jsx)("div",{className:"fixed-content",children:(0,r.jsx)(_,{})}),(0,r.jsx)(w,{onNavBarToggle:()=>{h(!m)},navBarExpanded:m,onNavBarClose:()=>{h(!1)}})]}),(0,r.jsx)("div",{style:{opacity:u.userData.videoShown?.9:1},className:`wrapper ${null===(o=u.userConfig)||void 0===o?void 0:o.webLayoutType} ${"dark"===u.userData.theme?"bg-dark text-white":"bg-white text-dark"} p-0 ${null===u||void 0===u||null===(c=u.userConfig)||void 0===c?void 0:c.webMenuType} ${["sideMenuRight","sideMenuLeft"].includes(null===u||void 0===u||null===(d=u.userConfig)||void 0===d?void 0:d.webMenuType)?"col-sm-10":"col-sm-12"}`,children:(0,r.jsxs)(D.A,{children:[(0,r.jsx)(C,{}),(0,r.jsx)(g,{})]})})]}),(0,r.jsx)("div",{className:""})]})})};const ie=function(e){return(0,r.jsx)(z.A,{children:(0,r.jsx)(l.A,{children:(0,r.jsx)(X.A,{children:(0,r.jsx)(re,{})})})})}},6731:(e,a,t)=>{"use strict";t.d(a,{E:()=>i,x:()=>r});t(9950);var s=t(3027),n=t(2074),l=t(4414);const r=()=>(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("i",{className:"fa fa-exclamation-triangle fa-2x pt-2 text-danger"}),(0,l.jsxs)("div",{className:"ps-2",children:[(0,l.jsx)("div",{className:"fs-3",children:(0,l.jsx)(s.A,{id:"alert",defaultMessage:"alert"})}),(0,l.jsx)("div",{className:"fs-6",children:(0,l.jsx)(s.A,{id:"maximumQuotaExceeded",defaultMessage:"maximumQuotaExceeded"})})]})]})}),i=()=>(0,l.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.N_,{className:"btn btn-sm btn-primary me-1 rounded-pill",to:"/billing",children:[(0,l.jsx)("i",{className:"fa fa-credit-card-alt pe-1"}),(0,l.jsx)(s.A,{id:"upgradeNow",defaultMessage:"upgradeNow"})]}),(0,l.jsx)("span",{className:"fs-6",children:(0,l.jsx)(s.A,{id:"accessUnlimitedStorage",defaultMessage:"accessUnlimitedStorage"})})]})})},8311:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});t(9950);var s=t(4414);const n=e=>{let{middle:a}=e;return(0,s.jsx)("div",{className:""+(a?"d-flex align-items-center w-100 h-100 justify-content-center":""),children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120px",height:"120px",viewBox:"0 0 870.90927 799.99997",id:"svg2",version:"1.1",className:"animate__animated animate__rotateIn",style:{animation:"rotation 3s infinite linear"},children:[(0,s.jsx)("defs",{id:"defs4"}),(0,s.jsx)("g",{id:"layer1",transform:"translate(-15.331724,-41.857599)",children:(0,s.jsx)("path",{style:{opacity:1,fill:"#c2d82e",fillOpacity:1,fillRule:"nonzero",stroke:"none",strokeWidth:60,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1},d:"M 365.37878,64.741292 C 284.80804,111.29713 256.3768,213.77533 301.2855,295.27584 c 11.27662,20.46484 17.18766,43.46365 17.19278,66.82945 0.005,23.14491 -5.80462,45.92514 -16.91305,66.23006 -23.79063,43.4865 -69.07493,70.89529 -118.63329,71.8963 -93.035422,1.87918 -167.578508,77.75761 -167.600216,170.81239 -0.02201,94.33754 76.476012,170.86577 170.813536,170.81356 59.83747,-0.0331 115.21102,-31.51048 146.23497,-82.67769 12.11455,-19.9803 29.10117,-36.58343 49.33344,-48.27097 20.0409,-11.57699 42.67332,-17.93678 65.81162,-18.46919 49.5575,-1.14031 95.93627,24.37614 121.5847,66.79522 48.14632,79.62758 151.12873,106.24287 231.72518,59.73609 81.71019,-47.14945 109.73481,-151.66374 62.52068,-233.33657 -29.94729,-51.80398 -84.89193,-84.0602 -144.7163,-85.32211 -49.56642,-1.04553 -94.84858,-28.47847 -118.63329,-71.97737 -11.10377,-20.30724 -16.93811,-43.08536 -16.9107,-66.23005 0.0276,-23.35479 5.97291,-46.34549 17.19278,-66.82946 28.7458,-52.48083 28.30862,-116.16937 -1.57278,-168.01154 C 569.67468,76.880027 516.93564,44.791802 458.84609,42.047774 426.15972,40.503739 393.71166,48.36983 365.37878,64.741292 Z m 86.70669,25.246156 c 43.24816,0.4543 83.23448,23.712162 104.96196,61.345342 33.82911,58.59409 13.68226,133.78283 -44.91184,167.61194 -58.59409,33.8291 -133.78283,13.68225 -167.61193,-44.91184 -33.8291,-58.59409 -13.68226,-133.78284 44.91184,-167.61193 17.80253,-10.278169 37.90322,-15.920202 58.45403,-16.405301 1.40137,-0.03298 2.80083,-0.04285 4.19594,-0.02816 z m -0.18806,18.053122 c -1.19062,-0.0125 -2.38393,-0.005 -3.58006,0.0235 -17.5278,0.41374 -34.67149,5.22491 -49.85529,13.99116 -50.14459,28.9508 -67.25492,92.8065 -38.30411,142.95109 28.9508,50.1446 92.8065,67.25492 142.95108,38.30411 50.14459,-28.9508 67.25493,-92.8065 38.30411,-142.95109 -18.54516,-32.12125 -52.60626,-51.93343 -89.51573,-52.31878 z m -2.34596,52.34699 c 19.12026,-0.45117 36.9618,9.57117 46.52439,26.13471 14.44112,25.01323 5.87124,56.99741 -19.14148,71.4391 -25.01307,14.44185 -56.99748,5.87191 -71.43911,-19.14147 -14.44112,-25.01323 -5.87124,-56.99741 19.14148,-71.4391 7.58794,-4.38146 16.15511,-6.78615 24.91472,-6.99324 z m 2.53402,232.77709 c 45.88128,0.48166 88.30062,25.15124 111.35107,65.07584 35.89141,62.16616 14.52049,141.92243 -47.64566,177.81384 -62.16618,35.8914 -141.92005,14.52048 -177.81148,-47.64568 -35.8914,-62.16603 -14.52283,-141.92243 47.64332,-177.81383 18.88615,-10.90373 40.21125,-16.88737 62.01293,-17.40189 1.48672,-0.0397 2.96977,-0.0433 4.44982,-0.0277 z m -0.18806,18.05083 c -1.27557,-0.0144 -2.55483,0 -3.83628,0.0253 -18.77869,0.44326 -37.14444,5.5961 -53.41185,14.98794 -53.71665,31.01309 -72.0487,99.43634 -41.03559,153.15291 31.01312,53.7167 99.43396,72.05108 153.15063,41.03799 53.71665,-31.01309 72.05105,-99.43646 41.03794,-153.15303 C 527.9341,432.85395 491.44015,411.62794 451.89741,411.215 Z M 187.44507,548.36034 c 43.24818,0.45433 83.23452,23.71217 104.96196,61.34534 33.82908,58.59416 13.68224,133.78047 -44.91184,167.60961 C 188.90111,811.14443 113.71236,790.99751 79.88327,732.40346 46.054198,673.80942 66.201051,598.62299 124.7951,564.79385 c 17.80253,-10.27812 37.90322,-15.92008 58.45403,-16.40523 1.40139,-0.0289 2.80084,-0.0421 4.19594,-0.0289 z m 529.28314,0 c 43.24804,0.45433 83.23217,23.71217 104.95961,61.34534 33.82908,58.59416 13.68222,133.78047 -44.91183,167.60961 -58.59409,33.82914 -133.78049,13.68222 -167.60959,-44.91183 -33.82907,-58.59404 -13.68223,-133.78047 44.91184,-167.60961 17.80253,-10.27812 37.90321,-15.92008 58.45403,-16.40523 1.40138,-0.0289 2.80085,-0.0421 4.19594,-0.0289 z m -529.47354,18.05312 c -1.19064,-0.012 -2.38394,0 -3.58007,0.0241 -17.52781,0.41377 -34.66912,5.22481 -49.85294,13.99116 -50.144563,28.95071 -67.254901,92.80411 -38.304112,142.94869 28.950802,50.14459 92.806502,67.25497 142.951092,38.30415 50.14457,-28.95082 67.25491,-92.80423 38.30412,-142.94881 -18.54517,-32.12119 -52.60845,-51.93341 -89.51809,-52.31878 z m 529.28313,0 c -1.19063,-0.012 -2.38393,0 -3.58006,0.0241 -17.5278,0.41377 -34.66914,5.22481 -49.85294,13.99116 -50.14457,28.95071 -67.25489,92.80411 -38.30411,142.94869 28.95081,50.14459 92.80412,67.25497 142.94874,38.30415 50.14454,-28.95082 67.2549,-92.80423 38.30411,-142.94881 -18.54515,-32.12119 -52.60623,-51.93341 -89.51574,-52.31878 z m -531.62675,52.34706 c 19.12025,-0.45118 36.96179,9.57114 46.52439,26.13466 14.44111,25.01322 5.87123,56.99739 -19.14147,71.43908 -25.01367,14.44145 -56.99826,5.87044 -71.4391,-19.14377 -14.44111,-25.01322 -5.87124,-56.99738 19.14146,-71.43908 7.58816,-4.38064 16.15532,-6.78452 24.91472,-6.99089 z m 529.2808,0 c 19.12061,-0.45252 36.96314,9.56898 46.52674,26.13237 14.44227,25.01435 5.8711,57.00042 -19.14383,71.44137 -25.01368,14.44146 -56.99827,5.87044 -71.43911,-19.14377 -14.44071,-25.01384 -5.86973,-56.9982 19.14383,-71.43908 7.58746,-4.38026 16.15377,-6.78413 24.91237,-6.99089 z",id:"circle4252"})})]})})}},6447:(e,a,t)=>{"use strict";t.d(a,{U:()=>r});t(9950);var s=t(8045),n=t(8989),l=t(4414);function r(e){const{children:a}=e,{attributes:t,listeners:r,setNodeRef:i,transform:o,transition:c}=(0,s.gl)({id:e.id}),d={transform:n.Ks.Transform.toString(o),transition:c};return(0,l.jsx)("div",{ref:i,style:d,...t,...r,children:a})}},8002:(e,a,t)=>{"use strict";t.r(a),t.d(a,{BoxPlotChart:()=>p,CircleShape:()=>j,CircularBarChart:()=>f,CylinderShape:()=>A,DensityChart:()=>h,DiamondShape:()=>M,DirectionArrowShape:()=>k,DivergingBarChart:()=>r,DonutChart:()=>u,DoubleArrowShape:()=>_,HorizontalArrowShape:()=>w,HorizontalBarChart:()=>o,LineChart:()=>g,LineShape:()=>S,PannableChart:()=>l,ParllelogramShape:()=>D,PieChart:()=>d,ScatterPlotChart:()=>m,SmileyEmoji:()=>C,SquareShape:()=>y,StackedVerticalBarChart:()=>c,TriangleShape:()=>v,Tshape:()=>N,VerticalBarChart:()=>n,VoronoiChart:()=>x,WordCloudChart:()=>b,ZoomableCirclePackingChart:()=>i});var s=t(9950);const n=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(8129)]).then(t.bind(t,8129)))),l=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(7771)]).then(t.bind(t,7771)))),r=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(2730)]).then(t.bind(t,2730)))),i=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(7626)]).then(t.bind(t,7626)))),o=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(5843)]).then(t.bind(t,5843)))),c=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(9066)]).then(t.bind(t,9066)))),d=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(8162)]).then(t.bind(t,8162)))),u=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(4596)]).then(t.bind(t,4596)))),m=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(2633)]).then(t.bind(t,2633)))),h=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(8566)]).then(t.bind(t,8566)))),p=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(3674)]).then(t.bind(t,3674)))),g=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(6180)]).then(t.bind(t,6180)))),x=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(166)]).then(t.bind(t,166)))),f=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(4778)]).then(t.bind(t,4778)))),b=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(853),t.e(6688)]).then(t.bind(t,6688)))),j=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(8939)]).then(t.bind(t,8939)))),v=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(6527)]).then(t.bind(t,6527)))),y=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(9754)]).then(t.bind(t,9754)))),M=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(316)]).then(t.bind(t,316)))),N=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(833)]).then(t.bind(t,833)))),w=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(6454)]).then(t.bind(t,6454)))),_=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(979)]).then(t.bind(t,979)))),D=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(6803)]).then(t.bind(t,6803)))),A=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(5005)]).then(t.bind(t,5005)))),k=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(1313)]).then(t.bind(t,1313)))),C=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(7901)]).then(t.bind(t,7901)))),S=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(910),t.e(7301)]).then(t.bind(t,7301))))},3058:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var s=t(9950),n=t(3027),l=t(2436),r=t(4414);const i=e=>{let{icon:a,intlId:t,children:i,...o}=e;const c=(0,s.useContext)(l.R);return(0,r.jsx)("div",{...o,className:`bg-gradient ${"dark"===c.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"} mt-2 ps-3 py-2 rounded-pill`,children:(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("i",{className:`${a} fa-1x`}),(0,r.jsx)("div",{className:"ps-2 mb-0",children:(0,r.jsx)(n.A,{id:t,defaultMessage:t})})]}),i]})})}},9845:(e,a,t)=>{"use strict";t.d(a,{A:()=>i,O:()=>r});var s=t(9950),n=t(9360),l=t(4414);const r=s.createContext(void 0),i=e=>{const{children:a,...t}=e,[i,o]=(0,s.useState)(t);return(0,s.useEffect)((()=>{document.body.scrollTop=document.documentElement.scrollTop=0}),[i]),(0,l.jsxs)(r.Provider,{value:{config:i,setConfig:o},children:[i.show?(0,l.jsx)("div",{className:"container-fluid mt-2",children:(0,l.jsxs)(n.A,{variant:i.type,className:i.className,onClose:()=>o((e=>({...e,show:!1}))),dismissible:i.dismissible,children:[i.heading&&(0,l.jsx)(n.A.Heading,{children:i.heading}),i.content&&(0,l.jsx)("div",{children:i.content})]})}):null,a]})}},1308:(e,a,t)=>{"use strict";t.d(a,{A:()=>i,F:()=>r});var s=t(9950),n=t(4570),l=t(4414);const r=(0,s.createContext)([{},()=>{}]),i=e=>{const[a,t]=(0,s.useState)({});return(0,s.useEffect)((()=>{n.A.get("/").then((e=>{const a=e.data.response[0];document.documentElement.style.setProperty("--app-theme-color",a.webThemeColor),document.documentElement.style.setProperty("--app-theme-bg-color",a.webThemeBackground),t(a)})).catch((e=>console.error(e))).finally((e=>!1))}),[]),Object.keys(a).length>0&&(0,l.jsx)(r.Provider,{value:{...a},children:e.children})}},7391:(e,a,t)=>{"use strict";t.d(a,{A:()=>u,U:()=>d});var s=t(9950),n=t(9097),l=t(4570),r=t(1397),i=t.n(r),o=t(2436),c=t(4414);const d=(0,s.createContext)([{},()=>{}]),u=e=>{var a;const[t,r]=(0,s.useState)([]),[u,m]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[g,x]=(0,s.useState)({}),f=(0,s.useContext)(o.R),b=null!==(a=navigator)&&void 0!==a&&a.language?navigator.language.toLowerCase():"en",[j,v]=(0,s.useState)(b);return(0,s.useEffect)((()=>{const e=l.A.get("/getUniqueLocales");Promise.all([e]).then((e=>{const a=e[0].data.response.map((e=>({string:e.locale_string,label:e.locale_label,id:e.locale_id,currency:e.locale_currency,language:e.locale_language}))).sort(((e,a)=>e-a.locale_sort));r(a)})).catch((e=>{f.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load browser locale lists. Please try again later"})})).finally((e=>!1))}),[]),(0,s.useEffect)((()=>{if(j&&t&&t.length>0){const e=t.filter((e=>e.string===j)).length>0?j:"en",a=new FormData;a.append("localeCode",e);const s=l.A.post("/getLocale",a);Promise.all([s]).then((a=>{const s=t.filter((a=>a.string===e))[0],{currency:n,language:l}=s,r=a[0].data.response;let o=Object.entries(i().groupBy(r,"locale_string")).map((e=>({[e[0]]:Object.assign({},...e[1].map((e=>({[e.locale_key]:e.locale_value}))))})));o=Object.assign({},...o),x(o),v(e),m(n),p(l)})).catch((e=>{f.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load selected locale objects. Please try again later"})}))}}),[j,t]),(0,c.jsx)(d.Provider,{value:{localeList:t,localeId:j,setLocaleId:v,localeCurrency:u,localeLanguage:h,msg:g},children:Object.keys(g).length>0&&j&&(0,c.jsx)(n.A,{messages:g[j],locale:j,defaultLocale:j,children:e.children})})}},2436:(e,a,t)=>{"use strict";t.d(a,{A:()=>b,R:()=>f});var s=t(9950),n=t(5923),l=(t(7705),t(4570)),r=t(4414);const i=(0,s.lazy)((()=>Promise.resolve().then(t.bind(t,2272)))),o=(0,s.lazy)((()=>Promise.all([t.e(9210),t.e(2097),t.e(9710)]).then(t.bind(t,9710)))),c=(0,s.lazy)((()=>t.e(1936).then(t.bind(t,1936)))),d=(0,s.lazy)((()=>Promise.all([t.e(4761),t.e(6693)]).then(t.bind(t,6693)))),u=(0,s.lazy)((()=>Promise.resolve().then(t.bind(t,3508)))),m=(0,s.lazy)((()=>Promise.resolve().then(t.bind(t,6283)))),h=(0,s.lazy)((()=>t.e(4451).then(t.bind(t,4451)))),p=(0,s.lazy)((()=>Promise.all([t.e(2097),t.e(2223)]).then(t.bind(t,2223)))),g=(0,s.lazy)((()=>Promise.all([t.e(2097),t.e(5265)]).then(t.bind(t,5265)))),x=(0,s.lazy)((()=>t.e(8379).then(t.bind(t,8379)))),f=(0,s.createContext)([{},()=>{}]);const b=function(e){const a={type:"public",theme:"",audioShown:!1,videoShown:!1,email:null,imageUrl:null,name:null,source:"self",userId:null,menu:[]},t={webMenuType:"topMenu"},b=JSON.parse(localStorage.getItem("userData"))||a,j=JSON.parse(localStorage.getItem("userConfig"))||t,[v,y]=(0,s.useState)(b),[M,N]=(0,s.useState)(j),[w,_]=(0,s.useState)(!0),[D,A]=(0,s.useState)(!1),k=[{page_id:"home",hasAccessTo:["public"],href:"/",label:"Home",component:(0,r.jsx)(u,{})},{...!D&&{page_id:"dashboard",hasAccessTo:["admin","superAdmin"],href:"/dashboard",label:"Dashboard",component:(0,r.jsx)(m,{})}},{...!D&&{page_id:"category",hasAccessTo:["admin","superAdmin"],href:"/category",label:"category",component:(0,r.jsx)(h,{})}},{...!D&&{page_id:"bank",hasAccessTo:["admin","superAdmin"],href:"/bank",label:"bank",component:(0,r.jsx)(p,{})}},{...!D&&{page_id:"creditCard",hasAccessTo:["admin","superAdmin"],href:"/creditCard",label:"creditCard",component:(0,r.jsx)(g,{})}},{...!D&&{page_id:"schedules",hasAccessTo:["admin","superAdmin"],href:"/schedules",label:"schedules",component:(0,r.jsx)(x,{})}},{...!D&&{page_id:"moneyPlanner",hasAccessTo:["admin","superAdmin"],href:"/moneyPlanner",label:"Money Planner",component:(0,r.jsx)(i,{})}},{...!D&&{page_id:"workbook",hasAccessTo:["admin","superAdmin"],href:"/workbook",label:"Workbook",component:(0,r.jsx)(d,{})}},{page_id:"billing",hasAccessTo:["admin","superAdmin"],href:"/billing",label:"billing",component:(0,r.jsx)(c,{})},{...!D&&{page_id:"settings",hasAccessTo:["superAdmin"],href:"/settings",label:"Settings",component:(0,r.jsx)(o,{})}}],C=e=>{y({...v,...e})},S=(e,a)=>{y((t=>({...t,[e]:a})))};(0,s.useEffect)((()=>{null!==v&&void 0!==v&&v.type&&Y(null===v||void 0===v?void 0:v.type,D).then((e=>{S("menu",e)}))}),[v.type,D]);const Y=(e,a)=>new Promise((t=>{const s=[...k].filter((t=>{var s;return a?"home"===(null===t||void 0===t?void 0:t.page_id):(null===t||void 0===t||null===(s=t.hasAccessTo)||void 0===s?void 0:s.includes(e))&&Object.keys(t).length>0}));setTimeout((()=>t(s)),[])}));(0,s.useEffect)((()=>{M.appId&&T(M.appId).then((e=>{const{data:{response:a}}=e,t={theme:a[0].webTheme,audioShown:"1"===a[0].bgSongDefaultPlay,videoShown:"1"===a[0].bgVideoDefaultPlay};y((e=>({...e,...t}))),N((e=>({...e,...a[0]})))})).catch((e=>console.error("Unable to fetch user config")))}),[M.appId]),(0,s.useEffect)((()=>{null!==M&&void 0!==M&&M.webTheme&&setTimeout((()=>{C({theme:M.webTheme})}),100)}),[M]);const T=async e=>{const a=new FormData;return a.append("appId",e),await l.A.post("/getUserConfig",a)};return(0,r.jsxs)(f.Provider,{value:{linklist:k,userData:v,addUserData:e=>{y(e)},updateUserData:S,removeUserData:e=>{const a={...v};e.forEach((e=>{delete a[e]})),y((e=>({...a})))},renderToast:e=>{let{autoClose:a=5e3,type:t="success",position:s="top-right",message:l,theme:r="colored",hideProgressBar:i=!1,closeOnClick:o=!1,pauseOnHover:c=!0,draggable:d=!0}=e;return n.oR[t](l,{autoClose:a,position:s,theme:r,hideProgressBar:i,closeOnClick:o,pauseOnHover:c,draggable:d})},openAppLoginModal:w,setOpenAppLoginModal:_,userConfig:M,setUserConfig:N,updateBulkUserData:C,defUserData:a,defUserConfig:t,getUserConfig:T,appExpired:D,setAppExpired:A},children:[(0,r.jsx)(n.N9,{className:"bniToaster"}),e.children]})}},2860:(e,a,t)=>{"use strict";t.d(a,{S:()=>n,p:()=>s});const s=()=>"https://apps.bharani.tech/services",n="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0.By2r2BwheJsbrEGrHOaMQwrrmlY7wHVFzWtuEmv39fM"},2083:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});const s={self:void 0,sageHeaderAndList:(e,a)=>{const t=e.filter((e=>Number(e[a])>1));return[e.filter((e=>1===Number(e[a])))[0],t]},loadRandomSpinnerIcon:()=>"Oval",stringToCapitalize:e=>e.split("_").map((e=>e.substring(0,1).toUpperCase()+e.substring(1,e.length))).join(" "),donutChartColors:["#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#f44336"],indianLacSeperator:(e,a)=>e.toLocaleString("en-IN",{maximumFractionDigits:a,style:"currency",currency:"INR"}),countryCurrencyLacSeperator:(e,a,t,s)=>Number(t).toLocaleString(e,{maximumFractionDigits:s,minimumFractionDigits:s,style:a?"currency":"decimal",...a&&{currency:a}}),lacSeperator:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IN";return null===e||void 0===e?void 0:e.toLocaleString(a)},strToNumMonth:{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},monthToStr:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},fullmonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],threeDigitMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],leadingZeros:e=>{const a=Number(e);return a<10?`0${a}`:a},dateToMonthYear:e=>{const a=new Date(e);return`${s.threeDigitMonthNames[a.getMonth()]}-${a.getFullYear()}`},addMonths:(e,a)=>{if(e&&a){let[t,s]=["",(e=new Date(+e)).getDate()];e.setMonth(e.getMonth()+a,1),t=e.getMonth(),e.setDate(s),e.getMonth()!==t&&e.setDate(0)}return e},getNextMonthDate:e=>{const a=new Date;let t=a.getFullYear(),s=a.getMonth()+2;s>12&&(t+=1,s=1);const n=new Date(`${t}-${s}-01`);let l=n.getMonth()+1;l=l<10?`0${l}`:l;const r=e<10?`0${e}`:e;return`${n.getFullYear()}-${l}-${r}`},getNow:()=>{const e=e=>{const a=Number(e);return a<10?`0${a}`:a},a=new Date;return`${a.getFullYear()}-${e(a.getMonth()+1)}-${e(a.getDate())} ${e(a.getHours())}:${e(a.getMinutes())}:${e(a.getSeconds())}`},dateToYYYYMMDD:e=>{const a=e=>{const a=Number(e);return a<10?`0${a}`:a};return`${e.getFullYear()}-${a(e.getMonth()+1)}-${a(e.getDate())}`},stripCommasInCSV:e=>e.map((e=>{const a=Object.keys(e).map((a=>({[a]:String(e[a]).replace(/,/g,"")})));return Object.assign({},{},...a)})),chunkArray:(e,a)=>e.map(((t,s)=>e.slice(s*a,s*a+a))).filter((e=>e.length>0)),shorten:(e,a)=>e&&e.length>a?e.slice(0,Math.ceil(a/2))+"..."+e.slice(-10,e.length):e},n=s},4570:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var s=t(9246),n=t(2860);const l=s.A.create({baseURL:(0,n.p)(),headers:{Authorization:n.S}})},477:()=>{},2959:()=>{},9838:()=>{}}]);