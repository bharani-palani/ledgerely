"use strict";(self.webpackChunkledgerely_com=self.webpackChunkledgerely_com||[]).push([[9710],{9710:(e,s,a)=>{a.r(s),a.d(s,{default:()=>O});var t=a(9950),l=a(4570),i=a(8311),r=a(2436),d=a(5942),n=a(1432),o=a(5491),c=a.n(o),u=a(23),m=a(1397),g=a.n(m),p=a(6275),f=a(3027),h=a(1960),x=a(2083),b=a(4414);function M(e){const{structure:s,showSubmit:a,parentClassName:l,onChange:i,onSubmit:d,submitBtnLabel:n,submitBtnClassName:o,...m}=e,M=(0,t.useContext)(r.R),[y,N]=(0,t.useState)(s),[v,j]=(0,t.useState)(!1),[w,S]=(0,t.useState)([]),A=204800;(0,t.useEffect)((()=>{N(y)}),[JSON.stringify(y)]);const C=(e,s,a,t)=>{i(s,a,t)},k=e=>{const{label:s}=e;return(0,b.jsx)("div",{className:"text-danger pt-2",children:s})},_=(e,s)=>{if(e.options&&e.options.validation){let a=[...w];if(new RegExp(e.options.validation).test(s)){const s=a.indexOf(e.index);-1!==s&&a.splice(s,1)}else a.push(e.index);a=[...new Set(a)],S(a)}},T=(0,t.useCallback)(c()(((e,s)=>{C(0,s.index,e.target.value),_(s,e.target.value)}),300),[]),D=e=>{let s="";for(let a=0;a<e.length;a++)s+=String.fromCharCode(e[a]);return btoa(s)},F=(e,s)=>{switch(e.elementType){case"hidden":return(0,b.jsx)("div",{children:(0,b.jsx)("input",{id:e.id,className:"d-none",type:"hidden",defaultValue:e.value,...m})},s);case"invisible":return(0,b.jsx)("div",{...m,children:e.value},s);case"file":return(0,b.jsx)(p.Ay,{maxSize:A,accept:{"image/png":[],"image/jpeg":[]},onDrop:s=>((e,s)=>{if(e.length>0){const a=new FileReader;a.addEventListener("load",(()=>{const e=new Uint8Array(a.result);T({target:{value:D(Array.from(e))}},s)})),a.readAsArrayBuffer(e[0])}})(s,e),children:s=>{let{acceptedFiles:a,fileRejections:t,getRootProps:l,getInputProps:i}=s;return(0,b.jsx)("div",{className:"text-secondary rounded-3 cursor-pointer w-100 smallDropZone",children:(0,b.jsxs)("div",{...l({className:"d-flex align-items-center justify-content-between"}),children:[e.value&&0===a.length&&(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("div",{style:{opacity:.7},className:"position-absolute bottom-0 start-50 translate-middle-x w-100 bg-danger text-light text-center",onClick:s=>{s.stopPropagation(),T({target:{value:""}},e)},children:(0,b.jsx)("i",{className:"fa fa-trash"})}),(0,b.jsx)(h.A,{className:"img-fluid rounded-start-3",src:`data:image/*;base64,${e.value}`,style:{height:"50px",width:"50px"}})]}),(0,b.jsxs)("div",{className:`${a.length>0?"w-75":"w-100"} text-center ${"dark"===M.userData.theme?"text-light":"text-dark"}`,children:[(0,b.jsx)("input",{...i()}),a.length>0&&a.map((e=>(0,b.jsx)("small",{className:"text-danger",children:x.A.shorten(e.path,15)},e.path))),0===a.length&&0===t.length&&(0,b.jsxs)("div",{className:"p-3 small",children:[(0,b.jsx)("span",{children:(0,b.jsx)(f.A,{id:"dragFilesHere",defaultMessage:"dragFilesHere"})}),(0,b.jsx)("span",{className:"ps-1",children:"PNG | JPEG"})]}),t.length>0&&(0,b.jsxs)("div",{className:"text-danger p-3",children:[(0,b.jsx)("span",{children:(0,b.jsx)(f.A,{id:"maxFileSizeLimitIs",defaultMessage:"maxFileSizeLimitIs"})}),(0,b.jsxs)("span",{className:"ps-1",children:[200," kB"]})]})]}),a.length>0&&(0,b.jsx)(h.A,{className:"img-fluid rounded-end-3",src:URL.createObjectURL(a[0]),style:{height:"50px",width:"50px"}})]})})}});case"text":return(0,b.jsxs)("div",{className:"py-2 text-dark",style:e.disabled?{opacity:.7}:{},children:[(0,b.jsxs)("div",{className:"form-floating",children:[(0,b.jsx)("input",{id:e.id,type:"text",placeholder:e.placeHolder,onChange:s=>{s.persist(),T(s,e)},className:"form-control "+(w.includes(e.index)?"is-invalid":""),defaultValue:e.value,disabled:null===e||void 0===e?void 0:e.disabled,...m,style:e.disabled?{cursor:"not-allowed"}:{}}),e.options&&e.options.help&&(0,b.jsx)(u.A,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map(((e,s)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===M.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},s)))})},1),(0,b.jsxs)("label",{htmlFor:e.id,className:"text-truncate w-100",children:[e.options&&e.options.required&&(0,b.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]}),w.includes(e.index)&&(0,b.jsx)(k,{label:e.options.errorMsg})]},s);case"number":return(0,b.jsx)("div",{className:"py-2 text-dark",style:e.disabled?{opacity:.7,cursor:"not-allowed"}:{},children:(0,b.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&(0,b.jsx)(u.A,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map(((e,s)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===M.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},s)))})},1),(0,b.jsx)("input",{id:e.id,type:"number",placeholder:e.placeHolder,onChange:s=>{s.persist(),T(s,e)},className:"form-control "+(w.includes(e.index)?"is-invalid":""),defaultValue:e.value,disabled:null===e||void 0===e?void 0:e.disabled,...m}),w.includes(e.index)&&(0,b.jsx)(k,{label:e.options.errorMsg}),(0,b.jsxs)("label",{htmlFor:e.id,className:"text-truncate w-100",children:[e.options&&e.options.required&&(0,b.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},s);case"textArea":return(0,b.jsx)("div",{className:"py-2 text-dark",style:e.disabled?{opacity:.7,cursor:"not-allowed"}:{},children:(0,b.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&(0,b.jsx)(u.A,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map(((e,s)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===M.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},s)))})},1),(0,b.jsx)("textarea",{id:e.id,style:{height:`${e.options.rowLength}px`},placeholder:e.placeHolder,onChange:s=>{s.persist(),T(s,e)},className:"form-control "+(w.includes(e.index)?"is-invalid":""),...m,defaultValue:e.value,disabled:null===e||void 0===e?void 0:e.disabled}),w.includes(e.index)&&(0,b.jsx)(k,{label:e.options.errorMsg}),(0,b.jsxs)("label",{htmlFor:e.id,className:"text-truncate w-100",children:[e.options&&e.options.required&&(0,b.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},s);case"password":return(0,b.jsx)("div",{className:"py-2 text-dark",style:e.disabled?{opacity:.7,cursor:"not-allowed"}:{},children:(0,b.jsxs)("div",{className:"form-floating password",children:[e.options&&e.options.help&&(0,b.jsx)(u.A,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map(((e,s)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===M.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},s)))})},1),(0,b.jsx)("input",{id:e.id,type:""+(v?"text":"password"),placeholder:e.placeHolder,onChange:s=>{s.persist(),T(s,e)},className:"form-control "+(w.includes(e.index)?"is-invalid":""),defaultValue:e.value,disabled:null===e||void 0===e?void 0:e.disabled,...m}),(0,b.jsx)("i",{onClick:()=>j(!v),className:"eye fa fa-"+(v?"eye":"eye-slash")}),w.includes(e.index)&&(0,b.jsx)(k,{label:e.options.errorMsg}),(0,b.jsxs)("label",{htmlFor:e.id,className:"text-truncate w-100",children:[e.options&&e.options.required&&(0,b.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},s);case"dropDown":return(0,b.jsx)("div",{className:"py-2 text-dark",style:e.disabled?{opacity:.7,cursor:"not-allowed"}:{},children:(0,b.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&(0,b.jsx)(u.A,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map(((e,s)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===M.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},s)))})},1),(0,b.jsxs)("select",{id:e.id,onChange:s=>{_(e,s.target.value),C(0,e.index,s.target.value)},style:e.disabled?{cursor:"not-allowed"}:{},className:"form-select "+(w.includes(e.index)?"is-invalid":""),value:e.value,disabled:e.disabled,...m,children:[(0,b.jsx)("option",{value:"",children:e.placeHolder}),e.list&&e.list.length>0&&e.list.map(((e,s)=>(0,b.jsx)("option",{value:e.value,children:e.label},s)))]}),w.includes(e.index)&&(0,b.jsx)(k,{label:e.options.errorMsg}),(0,b.jsxs)("label",{htmlFor:e.id,className:"text-truncate w-100",children:[e.options&&e.options.required&&(0,b.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},s);case"checkBox":return(0,b.jsx)("div",{className:"py-2",children:(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("div",{children:e.label}),(0,b.jsxs)("div",{children:[e.options&&e.options.help&&(0,b.jsx)(u.A,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map(((e,s)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===M.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},s)))})},1),e.list.map(((s,a)=>{const t=g().uniqueId(`checkbox-${s.id}-`);return(0,b.jsxs)("div",{className:"form-check "+(e.isInline?"d-inline-block":"d-block"),children:[(0,b.jsx)("input",{className:"form-check-input",onChange:a=>{C(0,e.index,"",{id:s.id,checked:a.target.checked}),_(e,e.value)},type:"checkbox",defaultValue:s.value,id:t,disabled:s.disabled,defaultChecked:s.checked,name:e.index,...m}),(0,b.jsx)("label",{className:"form-check-label pe-2 text-truncate w-100",htmlFor:t,children:s.label})]},a)}))]}),w.includes(e.index)&&(0,b.jsx)(k,{label:e.options.errorMsg})]})},s);case"radio":return(0,b.jsx)("div",{className:"py-2",children:(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("div",{children:e.label}),(0,b.jsxs)("div",{children:[e.options&&e.options.help&&(0,b.jsx)(u.A,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map(((e,s)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===M.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},s)))})},1),e.list.map(((s,a)=>{const t=g().uniqueId(`radio-${s.id}-`);return(0,b.jsxs)("div",{className:"form-check "+(e.options.isInline?"d-inline-block":"d-block"),children:[(0,b.jsx)("input",{className:"form-check-input",onChange:s=>{_(e,s.target.value),C(0,e.index,s.target.value)},type:"radio",defaultValue:s.value,id:t,disabled:s.disabled,defaultChecked:s.checked,name:e.index,...m}),(0,b.jsx)("label",{className:"form-check-label pe-2 text-truncate w-100",htmlFor:t,children:s.label})]},a)}))]}),w.includes(e.index)&&(0,b.jsx)(k,{label:e.options.errorMsg})]})},s);default:return(0,b.jsx)("div",{children:"Unknown Element"})}};return(0,b.jsx)("div",{className:l,children:(0,b.jsxs)("div",{className:"row",children:[y.length>0&&y.map(((e,s)=>(0,b.jsx)("div",{className:e.className,children:F(e,s)},s))),y.length>0&&y.filter((e=>"hidden"===e.elementType)).length>0&&y.filter((e=>"hidden"===e.elementType)).map(((e,s)=>F(e,s))),a&&(0,b.jsx)("div",{className:"col-md-12 py-2",children:(0,b.jsx)("button",{onClick:()=>(()=>{const e=y.map((e=>!!e.options&&!!e.options.validation&&!new RegExp(e.options.validation).test(e.value)&&e.index)).filter((e=>e));e.length>0?S(e):d()})(),className:o,children:n})})]})})}M.defaultProps={structure:{options:{rowLength:3}},submitBtnLabel:"Submit",submitBtnClassName:"btn btn-sm btn-success",showSubmit:!0,parentClassName:"my-reactive-form"};const y=M;const N=function(e){const{data:s,menu:a,onMassagePayload:l,onReactiveFormSubmit:i}=e,[r,o]=(0,t.useState)(0),[c,u]=(0,t.useState)([]);(0,t.useEffect)((()=>{m(a[0].filterArray.sort(((e,s)=>e.sort>s.sort)))}),[]),(0,t.useEffect)((()=>{m(a[r].filterArray.sort(((e,s)=>e.sort>s.sort)))}),[r]);const m=e=>{const a=[...s].map((s=>(s.className=s.className.replaceAll(" d-none",""),e.includes(s.id)||(s.className=`${s.className} d-none`),s)));u(a)};return(0,b.jsx)("section",{children:(0,b.jsxs)("div",{className:"wizard",children:[(0,b.jsx)("div",{className:"py-3",children:(0,b.jsx)("ul",{className:"d-flex justify-content-between",role:"tablist",children:a.map(((s,a)=>{return(0,b.jsx)(n.A,{placement:"top",overlay:(t=s.label,(0,b.jsx)(d.A,{id:"wizard-tooltip",className:"in show",...e,children:t})),triggerType:"hover",children:(0,b.jsx)("li",{className:"btn rounded-circle "+(s.id===r?"btn-bni":"btn-secondary"),onClick:()=>o(s.id),children:(0,b.jsx)("span",{className:"round-tab",children:(0,b.jsx)("i",{className:s.icon})})})},a);var t}))})}),(0,b.jsxs)("div",{className:"tab-content",children:[(0,b.jsxs)("div",{className:"row pb-2",children:[(0,b.jsx)("div",{className:"col-6",children:(0,b.jsx)("button",{disabled:0===r,onClick:()=>{o(r-1)},className:"btn btn-bni pull-left",children:(0,b.jsx)("i",{className:"fa fa-angle-double-left"})})}),(0,b.jsx)("div",{className:"col-6",children:(0,b.jsx)("button",{disabled:r===a.length-1,onClick:()=>{o(r+1)},className:"btn btn-bni pull-right",children:(0,b.jsx)("i",{className:"fa fa-angle-double-right"})})})]}),c.length>0&&(0,b.jsx)(y,{parentClassName:"reactive-form text-dark",structure:c,onChange:(e,s)=>l(e,s),onSubmit:()=>i(),submitBtnClassName:"btn btn-bni pull-right"}),(0,b.jsx)("div",{className:"clearfix"})]})]})})};var v=a(9210),j=a.n(v);const w=class{get encryptMethodLength(){const e=this.encryptMethod.match(/\d+/)[0];return parseInt(e)}get encryptKeySize(){const e=this.encryptMethodLength;return parseInt(e/8)}get encryptMethod(){return"AES-256-CBC"}decrypt(e,s){if(!e)return"";const a=JSON.parse(j().enc.Utf8.stringify(j().enc.Base64.parse(e))),t=j().enc.Hex.parse(a.salt),l=j().enc.Hex.parse(a.iv),i=a.ciphertext;let r=parseInt(a.iterations);r<=0&&(r=999);const d=this.encryptMethodLength/4,n=j().PBKDF2(s,t,{hasher:j().algo.SHA512,keySize:d/8,iterations:r});return j().AES.decrypt(i,n,{mode:j().mode.CBC,iv:l}).toString(j().enc.Utf8)}encrypt(e,s){const a=j().lib.WordArray.random(16),t=j().lib.WordArray.random(256),l=this.encryptMethodLength/4,i=j().PBKDF2(s,t,{hasher:j().algo.SHA512,keySize:l/8,iterations:999}),r=j().AES.encrypt(e,i,{mode:j().mode.CBC,iv:a}),d={ciphertext:j().enc.Base64.stringify(r.ciphertext),iv:j().enc.Hex.stringify(a),salt:j().enc.Hex.stringify(t),iterations:999};return j().enc.Base64.stringify(j().enc.Utf8.parse(JSON.stringify(d)))}};var S=a(8743),A=a(9288),C=a(1308),k=a(2097);const _=function(e){const s=(0,A.A)(),a=(0,t.useContext)(r.R),d=(0,t.useContext)(C.F),n=[{id:0,label:s.formatMessage({id:"accountInfo",defaultMessage:"accountInfo"}),icon:"fa fa-user",filterArray:["name","email","mobile","country","address1","address2","city","postalCode","state","currency"]},{id:1,label:s.formatMessage({id:"webDefaults",defaultMessage:"webDefaults"}),icon:"fa fa-globe",filterArray:["bgSongDefaultPlay","switchSongFeatureRequired","bgVideoDefaultPlay","switchVideoFeatureRequired","webLayoutType","webMenuType","webTheme","switchThemeFeatureRequired"]},{id:2,label:s.formatMessage({id:"socialMedia",defaultMessage:"socialMedia"}),icon:"fa fa-facebook",filterArray:["social_media_facebook","social_media_twitter","social_media_linkedIn","social_media_instagram"]}],o=[{id:"appId",index:"appId",elementType:"hidden",value:"",className:""},{id:"isOwner",index:"isOwner",elementType:"hidden",value:"",className:""},{id:"name",index:"name",label:s.formatMessage({id:"name",defaultMessage:"name"}),elementType:"text",value:"",placeHolder:"johndoe.com",className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"enterValidWebsite",defaultMessage:"enterValidWebsite"})}},{id:"mobile",index:"mobile",label:s.formatMessage({id:"mobile",defaultMessage:"mobile"}),elementType:"text",value:"",placeHolder:"+91 9XXXXXXXXX",className:"col-md-3 col-sm-6",options:{required:!0,validation:/^[0-9]{10}$/,errorMsg:s.formatMessage({id:"enterValidMobileNumber",defaultMessage:"enterValidMobileNumber"})}},{id:"email",index:"email",label:s.formatMessage({id:"email",defaultMessage:"email"}),elementType:"text",value:"",placeHolder:"support@johndoe.com",className:"col-md-3 col-sm-6",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:s.formatMessage({id:"enterValidEmail",defaultMessage:"enterValidEmail"})}},{id:"country",index:"country",label:s.formatMessage({id:"country",defaultMessage:"country"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),list:k.HH.map((e=>({label:e.value,value:e.id}))),className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"address1",index:"address1",label:s.formatMessage({id:"address1",defaultMessage:"address1"}),elementType:"text",value:"",placeHolder:"5, East woods street",className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"address2",index:"address2",label:s.formatMessage({id:"address2",defaultMessage:"address2"}),elementType:"text",value:"",placeHolder:"Downtown",className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"city",index:"city",label:s.formatMessage({id:"city",defaultMessage:"city"}),elementType:"text",value:"",placeHolder:"New York",className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"postalCode",index:"postalCode",label:s.formatMessage({id:"postalCode",defaultMessage:"postalCode"}),elementType:"text",value:"",placeHolder:"New York",className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"state",index:"state",label:s.formatMessage({id:"state",defaultMessage:"state"}),elementType:"text",value:"",placeHolder:"New York",className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"currency",index:"currency",label:`${s.formatMessage({id:"billing",defaultMessage:"billing"})} ${s.formatMessage({id:"currency",defaultMessage:"currency"})}`,elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),list:[],className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"bgSongDefaultPlay",index:"bgSongDefaultPlay",label:s.formatMessage({id:"themeMusicDefaultPlay",defaultMessage:"themeMusicDefaultPlay"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),list:[{label:s.formatMessage({id:"yes",defaultMessage:"yes"}),value:1},{label:s.formatMessage({id:"no",defaultMessage:"no"}),value:0}],className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"themeBackgroundMusicWillBePlayed",defaultMessage:"themeBackgroundMusicWillBePlayed"}),s.formatMessage({id:"ifRequiredPasteItFromAwsGallery",defaultMessage:"ifRequiredPasteItFromAwsGallery"})]}},{id:"switchSongFeatureRequired",index:"switchSongFeatureRequired",label:s.formatMessage({id:"requireBackgroundSongSwitch",defaultMessage:"requireBackgroundSongSwitch"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),className:"col-md-3 col-sm-6",list:[{label:s.formatMessage({id:"yes",defaultMessage:"yes"}),value:"1"},{label:s.formatMessage({id:"no",defaultMessage:"no"}),value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"youCanShowOrHideAudioControl",defaultMessage:"youCanShowOrHideAudioControl"}),s.formatMessage({id:"thisFeatureCanBeEnabledOrDisabled",defaultMessage:"thisFeatureCanBeEnabledOrDisabled"})]}},{id:"bgVideoDefaultPlay",index:"bgVideoDefaultPlay",label:s.formatMessage({id:"themeVideoDefaultPlay",defaultMessage:"themeVideoDefaultPlay"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),list:[{label:s.formatMessage({id:"yes",defaultMessage:"yes"}),value:"1"},{label:s.formatMessage({id:"no",defaultMessage:"no"}),value:"0"}],className:"col-md-3 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"themeBackgroundVideoWillBePlayed",defaultMessage:"themeBackgroundVideoWillBePlayed"})]}},{id:"switchVideoFeatureRequired",index:"switchVideoFeatureRequired",label:s.formatMessage({id:"requireBackgroundVideoSwitch",defaultMessage:"requireBackgroundVideoSwitch"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),className:"col-md-3 col-sm-6",list:[{label:s.formatMessage({id:"yes",defaultMessage:"yes"}),value:"1"},{label:s.formatMessage({id:"no",defaultMessage:"no"}),value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"youCanShowOrHideVideoControlSwitch",defaultMessage:"youCanShowOrHideVideoControlSwitch"}),s.formatMessage({id:"thisFeatureCanBeEnabledOrDisabled",defaultMessage:"thisFeatureCanBeEnabledOrDisabled"})]}},{id:"webLayoutType",index:"webLayoutType",label:s.formatMessage({id:"WebLayoutType",defaultMessage:"WebLayoutType"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),className:"col-md-3 col-sm-6",list:[{label:"Default",value:"default"},{label:"Classic",value:"classic"}],options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"thisSetupIsOnlyForLargeDisplays",defaultMessage:"thisSetupIsOnlyForLargeDisplays"}),`Default: ${s.formatMessage({id:"occupiesEntireWidthOfScreen",defaultMessage:"occupiesEntireWidthOfScreen"})}`,`Classic: ${s.formatMessage({id:"occupies70%WidthInScreenMiddle",defaultMessage:"occupies70%WidthInScreenMiddle"})}`]}},{id:"webMenuType",index:"webMenuType",label:s.formatMessage({id:"WebMenuType",defaultMessage:"WebMenuType"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),className:"col-md-3 col-sm-6",list:[{label:s.formatMessage({id:"top",defaultMessage:"top"}),value:"topMenu"},{label:s.formatMessage({id:"left",defaultMessage:"left"}),value:"sideMenuLeft"},{label:s.formatMessage({id:"right",defaultMessage:"right"}),value:"sideMenuRight"}],options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"whereYouWantToPlaceYourMenuLinks",defaultMessage:"whereYouWantToPlaceYourMenuLinks"})]}},{id:"webTheme",index:"webTheme",label:s.formatMessage({id:"webTheme",defaultMessage:"webTheme"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),className:"col-md-3 col-sm-6",list:[{label:s.formatMessage({id:"dark",defaultMessage:"dark"}),value:"dark"},{label:s.formatMessage({id:"light",defaultMessage:"light"}),value:"light"}],options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"howDoesYourWebsiteLookOnStartUp",defaultMessage:"howDoesYourWebsiteLookOnStartUp"}),`${s.formatMessage({id:"dark",defaultMessage:"dark"})} / ${s.formatMessage({id:"light",defaultMessage:"light"})}`]}},{id:"switchThemeFeatureRequired",index:"switchThemeFeatureRequired",label:s.formatMessage({id:"switchThemeFeatureRequired",defaultMessage:"switchThemeFeatureRequired"}),elementType:"dropDown",value:"",placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),className:"col-md-3 col-sm-6",list:[{label:s.formatMessage({id:"yes",defaultMessage:"yes"}),value:"1"},{label:s.formatMessage({id:"no",defaultMessage:"no"}),value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[s.formatMessage({id:"youCanShowOrHideThemeButtons",defaultMessage:"youCanShowOrHideThemeButtons"}),s.formatMessage({id:"thisFeatureCanBeEnabledOrDisabled",defaultMessage:"thisFeatureCanBeEnabledOrDisabled"})]}},{id:"social_media_facebook",index:"social_media_facebook",label:s.formatMessage({id:"facebook",defaultMessage:"facebook"}),elementType:"textArea",value:"",placeHolder:"https://facebook.com/xyz",className:"col-md-3 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"social_media_twitter",index:"social_media_twitter",label:s.formatMessage({id:"twitter",defaultMessage:"twitter"}),elementType:"textArea",value:"",placeHolder:"https://twitter.com/xyz",className:"col-md-3 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"social_media_linkedIn",index:"social_media_linkedIn",label:s.formatMessage({id:"linkedIn",defaultMessage:"linkedIn"}),elementType:"textArea",value:"",placeHolder:"https://linkedIn.com/xyz",className:"col-md-3 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}},{id:"social_media_instagram",index:"social_media_instagram",label:"",elementType:"textArea",label:s.formatMessage({id:"instagram",defaultMessage:"instagram"}),placeHolder:"https://instagram.com/xyz",className:"col-md-3 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"})}}],[c,u]=(0,t.useState)(o),[m,g]=(0,t.useState)(!0),p=new w;return(0,t.useEffect)((()=>{g(!0);const e=((e,s)=>{const t=new FormData;return t.append("TableRows",s),t.append("Table",e),t.append("appId",a.userConfig.appId),l.A.post("getBackend",t)})("apps",c.map((e=>e.index))),s=l.A.get("/payments/getPricingCurrencies");Promise.all([e,s]).then((e=>{const s=e[1].data.response.map((e=>({value:e.currency,label:e.currency}))),a=e[0].data.response[0],t=Object.keys(a);let l=[...c];l=l.map((e=>(t.includes(e.index)&&(e.value=S.ww.includes(e.index)?j().AES.decrypt(a[e.index],d[S.nd]).toString(j().enc.Utf8):S.wm.includes(e.index)?p.decrypt(a[e.index],d[S.nd]):a[e.index]),"currency"===e.index&&(e.list=s),e))),u(l)})).catch((e=>{console.log(e)})).finally((()=>{g(!1)}))}),[JSON.stringify(a.userConfig)]),(0,b.jsx)("div",{className:"",children:m?(0,b.jsx)("div",{className:"text-center mt-100",children:(0,b.jsx)(i.A,{})}):(0,b.jsx)(N,{data:c,menu:n,onMassagePayload:(e,s)=>{let a=[...c];a=a.map((a=>(a.id===e&&(a.value=s),a))),u(a)},onReactiveFormSubmit:()=>{var e;g(!0);const t=null===(e=[...c].filter((e=>e.id===S.nd))[0])||void 0===e?void 0:e.value;let i=[...c].map((e=>({[e.id]:S.ww.includes(e.id)?j().AES.encrypt(e.value,t).toString():S.wm.includes(e.id)?p.encrypt(e.value,t):e.value})));i=Object.assign({},...i);const r={Table:"apps",updateData:[i]},d=new FormData;d.append("postData",JSON.stringify(r)),l.A.post("/postBackend",d).then((e=>{if(null!==e.data.response&&e.data.response){let e=[...c];const t=Object.keys(i);e=e.map((e=>(t.includes(e.index)&&(e.value=i[e.index]),e))),u(e),a.renderToast({message:s.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})});let l=e.map((e=>[e.id,e.value]));l=Object.fromEntries(l),a.setUserConfig({...a.userConfig,...l}),localStorage.setItem("userConfig",JSON.stringify(l)),a.updateUserData("theme",l.webTheme)}})).catch((e=>a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})}))).finally((()=>g(!1)))}},1)})};var T=a(69),D=a.n(T),F=a(1576),q=a(4408),I=a(9845),R=a(6731);const L=(0,q.Ay)((function(e){const{intl:s}=e,a=(0,t.useContext)(r.R),d=(0,t.useContext)(I.O),[n,o]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[m,g]=(0,t.useState)([]),[p,h]=(0,t.useState)([]),[x,M]=(0,t.useState)("Create"),[N,v]=(0,t.useState)(!1),[j,w]=(0,t.useState)({}),[S,A]=(0,t.useState)({}),[C,k]=(0,t.useState)({mode:"Create",icon:"fa fa-plus"}),[_,T]=(0,t.useState)(!1),[q,L]=(0,t.useState)(!0),[H,P]=(0,t.useState)(!1),$=[{id:"user_id",index:"user_id",elementType:"hidden",updateStatus:!0,value:null,className:""},{id:"user_name",index:"user_name",label:s.formatMessage({id:"userName",defaultMessage:"userName"}),elementType:"text",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"userName",defaultMessage:"userName"}),className:"col-lg-3 col-md-6",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:s.formatMessage({id:"userNameRequired",defaultMessage:"userNameRequired"}),help:[s.formatMessage({id:"setUniqueUserName",defaultMessage:"setUniqueUserName"}),s.formatMessage({id:"thisShouldNotConflictOtherUserNames",defaultMessage:"thisShouldNotConflictOtherUserNames"}),s.formatMessage({id:"minimumLetters",defaultMessage:"minimumLetters"},{n:4}),s.formatMessage({id:"maxLetters",defaultMessage:"maxLetters"},{n:20}),s.formatMessage({id:"noSpecialCharactersAllowed",defaultMessage:"noSpecialCharactersAllowed"})]}},{id:"user_display_name",index:"user_display_name",label:s.formatMessage({id:"displayName",defaultMessage:"displayName"}),elementType:"text",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"displayName",defaultMessage:"displayName"}),className:"col-lg-3 col-md-6",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:s.formatMessage({id:"inputDoesNotMatchCriteria",defaultMessage:"inputDoesNotMatchCriteria"}),help:[s.formatMessage({id:"minimumLetters",defaultMessage:"minimumLetters"},{n:4}),s.formatMessage({id:"maxLetters",defaultMessage:"maxLetters"},{n:20}),s.formatMessage({id:"noSpecialCharactersAllowed",defaultMessage:"noSpecialCharactersAllowed"})]}},{id:"user_profile_name",index:"user_profile_name",label:s.formatMessage({id:"profileName",defaultMessage:"profileName"}),elementType:"text",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"profileName",defaultMessage:"profileName"}),className:"col-lg-3 col-md-6",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,50}$/g,errorMsg:s.formatMessage({id:"inputDoesNotMatchCriteria",defaultMessage:"inputDoesNotMatchCriteria"}),help:[s.formatMessage({id:"minimumLetters",defaultMessage:"minimumLetters"},{n:4}),s.formatMessage({id:"maxLetters",defaultMessage:"maxLetters"},{n:50}),s.formatMessage({id:"noSpecialCharactersAllowed",defaultMessage:"noSpecialCharactersAllowed"})]}},{id:"user_password",index:"user_password",label:s.formatMessage({id:"password",defaultMessage:"password"}),elementType:"text",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"password",defaultMessage:"password"}),className:"col-lg-3 col-md-6",options:{required:!0,validation:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_])(?=.{8,})/,errorMsg:`${s.formatMessage({id:"password",defaultMessage:"password"})} ${s.formatMessage({id:"inputDoesNotMatchCriteria",defaultMessage:"inputDoesNotMatchCriteria"})}`,help:[s.formatMessage({id:"minimumLetters",defaultMessage:"minimumLetters"},{n:8}),s.formatMessage({id:"atleastNCapitalLetter",defaultMessage:"atleastNCapitalLetter"},{n:1}),s.formatMessage({id:"atleastNSpecialCharacter",defaultMessage:"atleastNSpecialCharacter"},{n:1}),s.formatMessage({id:"atleastNNumber",defaultMessage:"atleastNNumber"},{n:1}),s.formatMessage({id:"allTheAboveAreRequired",defaultMessage:"allTheAboveAreRequired"})]}},{id:"user_email",index:"user_email",label:s.formatMessage({id:"email",defaultMessage:"email"}),elementType:"text",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"email",defaultMessage:"email"}),className:"col-lg-3 col-md-6",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:s.formatMessage({id:"enterValidEmail",defaultMessage:"enterValidEmail"}),help:[s.formatMessage({id:"enterValidEmail",defaultMessage:"enterValidEmail"})]}},{id:"user_type",index:"user_type",label:s.formatMessage({id:"type",defaultMessage:"type"}),elementType:"dropDown",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"select",defaultMessage:"select"}),className:"col-lg-3 col-md-6",list:[],options:{required:!0,validation:/([^\s])/,errorMsg:s.formatMessage({id:"thisFieldIsRequired",defaultMessage:"thisFieldIsRequired"}),help:[`Super Admin: ${s.formatMessage({id:"hasAccessToSetingsAndBuildInApplications",defaultMessage:"hasAccessToSetingsAndBuildInApplications"})}`,`Admin: ${s.formatMessage({id:"doesNotHaveAccessToSettingsOnlyToApps",defaultMessage:"doesNotHaveAccessToSettingsOnlyToApps"})}`]}},{id:"user_mobile",index:"user_mobile",label:s.formatMessage({id:"mobile",defaultMessage:"mobile"}),elementType:"number",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"mobile",defaultMessage:"mobile"}),className:"col-lg-3 col-md-6",options:{required:!0,validation:/^[0-9]{10}$/,errorMsg:s.formatMessage({id:"enterValidMobileNumber",defaultMessage:"enterValidMobileNumber"}),help:[s.formatMessage({id:"enterValidMobileNumber",defaultMessage:"enterValidMobileNumber"})]}},{id:"user_image",index:"user_image",label:s.formatMessage({id:"image",defaultMessage:"image"}),elementType:"file",value:"",updateStatus:!1,placeHolder:s.formatMessage({id:"image",defaultMessage:"image"}),className:"col-lg-3 col-md-6 d-flex align-items-center",options:{}},{id:"user_appId",index:"user_appId",elementType:"invisible",value:a.userConfig.appId,updateStatus:!0,className:"d-none"}];(0,t.useEffect)((()=>(O(),B(),()=>{U()})),[]),(0,t.useEffect)((()=>{if(n.length>0){const e=n.filter((e=>"user_name"===e.id))[0],s=n.filter((e=>"user_email"===e.id))[0],a=new RegExp(e.options.validation).test(e.value),t=new RegExp(s.options.validation).test(s.value);a&&t&&E(e.value,s.value,"").then((e=>{var s;return P(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.response)})).catch((e=>console.log("bbb",e)))}}),[n]);const B=()=>{l.A.post("fetchAccessLevels").then((e=>{const s=e.data.response;h(s);const a=$.map((e=>("user_type"===e.id&&(e.list=s.map((e=>({value:e.access_id,label:e.access_label})))),e)));o(a)})).catch((()=>a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})}))).finally((()=>u(!1)))};(0,t.useEffect)((()=>{if(q){let e=[...n];e=e.map((e=>(["user_name","user_display_name","user_profile_name","user_email","user_type","user_mobile"].includes(e.id)&&(e.updateStatus=!0),e))),o(e)}}),[q]);const O=()=>{u(!0);const e=new FormData;e.append("appId",a.userConfig.appId),l.A.post("fetchUsers",e).then((e=>{g(e.data.response)})).catch((()=>a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})}))).finally((()=>u(!1)))},E=(e,s,a)=>{const t=new FormData;return t.append("username",e),t.append("email",s),t.append("userId",a),l.A.post("checkUserExists",t)},V=(e,t,i)=>{u(!0);const r=new FormData;r.append("postData",JSON.stringify(e));const n=l.A.post("/postBackend",r),o=q&&i.length>0?(e=>{const s=new FormData;return e.filter((e=>"user_email"===e.id)).length>0&&s.append("email",e.filter((e=>"user_email"===e.id))[0].value),e.filter((e=>"user_name"===e.id)).length>0&&s.append("userName",e.filter((e=>"user_name"===e.id))[0].value),e.filter((e=>"user_password"===e.id)).length>0&&s.append("password",e.filter((e=>"user_password"===e.id))[0].value),e.filter((e=>"user_display_name"===e.id)).length>0&&s.append("displayName",e.filter((e=>"user_display_name"===e.id))[0].value),e.filter((e=>"user_profile_name"===e.id)).length>0&&s.append("profileName",e.filter((e=>"user_profile_name"===e.id))[0].value),e.filter((e=>"user_type"===e.id)).length>0&&s.append("type",e.filter((e=>"user_type"===e.id))[0].value),e.filter((e=>"user_mobile"===e.id)).length>0&&s.append("mobile",e.filter((e=>"user_mobile"===e.id))[0].value),s.has("email")?l.A.post("sendUserInfo",s):Promise.resolve(!0)})(i):1,c=[n,o];Promise.all(c).then((e=>{e[0].data.response&&a.renderToast({message:t}),null===e[0].data.response&&d.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,b.jsx)(R.x,{}),content:(0,b.jsx)(R.E,{})})})).catch((e=>{a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})).finally((()=>{O(),B(),U(),u(!1),v(!1)}))},U=()=>{let e=[...$];e=e.map((e=>e)),u(!0),o([]),P(!1),setTimeout((()=>{o(e),u(!1),M("Create"),L(!0)}),1e3)},Y=()=>{k({id:null,label:"",value:"",mode:"Create",icon:"fa fa-plus"})};return(0,b.jsxs)("div",{className:"container-fluid mt-3",children:[(0,b.jsx)(F.A,{show:N,confirmationstring:s.formatMessage({id:"areYouSureToDeleteUser",defaultMessage:"areYouSureToDeleteUser"},{user:j.user_display_name}),handleHide:()=>{v(!1),w({})},handleYes:()=>(()=>{const e={Table:"users",deleteData:[j.user_id]};V(e,s.formatMessage({id:"userSuccessfullyDeleted",defaultMessage:"userSuccessfullyDeleted"}),[])})(),size:"md"}),(0,b.jsx)(F.A,{show:_,confirmationstring:s.formatMessage({id:"areYouSureToDeleteAccess",defaultMessage:"areYouSureToDeleteAccess"},{access:S.access_label}),handleHide:()=>{T(!1),A({})},handleYes:()=>(()=>{u(!0);const e=new FormData;e.append("accessId",S.access_id),l.A.post("/deleteAccessLevel",e).then((e=>{e.data.response&&(U(),B(),a.renderToast({message:s.formatMessage({id:"accessLevelSuccessfullyDeleted",defaultMessage:"accessLevelSuccessfullyDeleted"})}))})).catch((e=>{a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"accessHasAssociations",defaultMessage:"accessHasAssociations"},{level:S.access_label})})})).finally((()=>{u(!1),T(!1),Y(),U()}))})(),size:"md"}),c?(0,b.jsx)("div",{className:"text-center mt-100",children:(0,b.jsx)(i.A,{})}):(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-lg-12 p-0",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("p",{className:"",children:[(0,b.jsx)(f.A,{id:"users",defaultMessage:"users"})," ",s.formatMessage({id:x.toLowerCase(),defaultMessage:x.toLowerCase()})]}),"Create"!==x&&(0,b.jsxs)("button",{title:s.formatMessage({id:"reset",defaultMessage:"reset"}),onClick:()=>U(),className:"btn btn-sm btn-primary",children:[(0,b.jsx)("i",{className:"fa fa-undo pe-1"}),(0,b.jsx)(f.A,{id:"reset",defaultMessage:"reset"})]})]}),"Create"===x&&(0,b.jsx)("div",{className:"d-flex gap-1 align-items-center justify-content-between",children:(0,b.jsx)("div",{className:"small text-danger",children:H?(0,b.jsx)("span",{children:(0,b.jsx)(f.A,{id:"userAlreadyExist",defaultMessage:"userAlreadyExist"})}):null})}),(0,b.jsxs)("div",{className:"position-relative",children:[n&&n.length>0&&(0,b.jsx)(y,{parentClassName:"reactive-form text-dark",structure:n,onChange:(e,s)=>((e,s)=>{let a=[...n];a=a.map((a=>(a.id===e&&(a.value=s,a.updateStatus=!0),a))),o(a)})(e,s),onSubmit:()=>(()=>{let e=[...n];"Update"===x&&(e=e.filter((e=>"user_appId"!==e.id&&e.updateStatus)));let t=e.map((e=>({[e.id]:"user_password"===e.id?D()(e.value):"user_id"===e.id&&"Create"===x?null:e.value})));t=Object.assign({},...t);const l={Create:{key:"insertData",responseString:s.formatMessage({id:"userSuccessfullyCreated",defaultMessage:"userSuccessfullyCreated"})},Update:{key:"updateData",responseString:s.formatMessage({id:"userSuccessfullyUpdated",defaultMessage:"userSuccessfullyUpdated"})}},i={Table:"users",[l[x].key]:[t]};E(t.user_name||"",t.user_email||"",t.user_id).then((t=>{t.data.response?a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"userAlreadyExist",defaultMessage:"userAlreadyExist"})}):V(i,l[x].responseString,e)})).catch((()=>{a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}))})(),submitBtnLabel:s.formatMessage({id:x.toLowerCase(),defaultMessage:x.toLowerCase()}),submitBtnClassName:"btn btn-bni pull-right"}),(0,b.jsxs)("div",{className:"form-check position-absolute w-75",style:{bottom:"ta"===s.locale?"0px":"15px"},children:[(0,b.jsx)("input",{className:"form-check-input",type:"checkbox",checked:q,onChange:e=>L(e.target.checked),id:"sendMailCheck"}),(0,b.jsx)("label",{className:"form-check-label small",htmlFor:"sendMailCheck",children:(0,b.jsx)("em",{children:(0,b.jsx)(f.A,{id:"notifyUserOnMail",defaultMessage:"notifyUserOnMail"})})})]})]})]}),(0,b.jsxs)("div",{className:"col-lg-12 p-0",children:[(0,b.jsx)("p",{className:"",children:(0,b.jsx)(f.A,{id:"usersList",defaultMessage:"usersList"})}),m&&m.length>0&&(0,b.jsx)("div",{className:"table-responsive pb-2 mb-3",children:(0,b.jsxs)("table",{className:`table table-striped ${"dark"===a.userData.theme?"table-dark":"table-light"} table-sm small`,children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-truncate",children:(0,b.jsx)(f.A,{id:"action",defaultMessage:"action"})}),(0,b.jsx)("th",{className:"text-truncate",children:(0,b.jsx)(f.A,{id:"userName",defaultMessage:"userName"})}),(0,b.jsx)("th",{className:"text-truncate",children:(0,b.jsx)(f.A,{id:"displayName",defaultMessage:"displayName"})}),(0,b.jsx)("th",{className:"text-truncate",children:(0,b.jsx)(f.A,{id:"profileName",defaultMessage:"profileName"})}),(0,b.jsx)("th",{className:"text-truncate",children:(0,b.jsx)(f.A,{id:"email",defaultMessage:"email"})}),(0,b.jsx)("th",{className:"text-truncate",children:(0,b.jsx)(f.A,{id:"mobile",defaultMessage:"mobile"})}),(0,b.jsx)("th",{className:"text-truncate",children:(0,b.jsx)(f.A,{id:"type",defaultMessage:"type"})})]})}),(0,b.jsx)("tbody",{children:m.map(((e,s)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"",children:(0,b.jsxs)("div",{className:"d-flex gap-1 justify-content-between align-items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("button",{className:"btn btn-sm btn-primary rounded-circle p-0 d-block mb-1",style:{width:"25px",height:"25px"},onClick:()=>(e=>{o([]);let s=[...n];s=s.filter((e=>"user_password"!==e.id)).map((t=>{var l;e.hasOwnProperty(t.id)?(t.value=e[t.id],"user_type"===t.id&&(t.value=p.filter((s=>s.access_label===String(e.user_type)))[0].access_id||"",t.disabled=a.userData.userId===(null===(l=s.filter((e=>"user_id"===e.id))[0])||void 0===l?void 0:l.value)),"user_name"===t.id&&(t.disabled=!0)):t.value="";return t})),o([]),u(!0),setTimeout((()=>{o(s),u(!1),M("Update"),L(!1)}),1e3)})(e),children:(0,b.jsx)("i",{className:"fa fa-pencil ps-1"})}),"0"===e.user_is_founder?(0,b.jsx)("button",{className:"btn btn-sm btn-danger rounded-circle p-0",style:{width:"25px",height:"25px"},children:(0,b.jsx)("i",{onClick:()=>(w(e),void v(!0)),className:"fa fa-times pb-1"})}):(0,b.jsx)("span",{style:{width:"25px",height:"25px"}})]}),e.user_image?(0,b.jsx)("img",{className:"rounded-circle",src:`data:image/*;base64,${e.user_image}`,style:{width:"50px",height:"50px"}}):(0,b.jsx)("span",{style:{width:"50px",height:"50px"},className:`rounded-circle bg-${"dark"===a.userData.theme?"black":"secondary"} d-flex align-items-center justify-content-center`,children:(0,b.jsx)("i",{className:"fa fa-user fa-2x icon-bni"})})]})}),(0,b.jsx)("td",{className:"text-truncate align-middle",children:e.user_name}),(0,b.jsx)("td",{className:"text-truncate align-middle",children:e.user_display_name}),(0,b.jsx)("td",{className:"text-truncate align-middle",children:e.user_profile_name}),(0,b.jsx)("td",{className:"text-truncate align-middle",children:e.user_email}),(0,b.jsx)("td",{className:"text-truncate align-middle",children:e.user_mobile}),(0,b.jsx)("td",{className:"text-truncate align-middle",children:e.user_type})]},s)))})]})})]})]})]})}));const H=function(e){const s=(0,A.A)(),{...a}=e,o=(0,t.useContext)(r.R),[c,u]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[p,h]=(0,t.useState)(""),[x,M]=(0,t.useState)(!1),[y,N]=(0,t.useState)(!0),[v,j]=(0,t.useState)(!1),[w,S]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=[0===c.length,0===m.length,0===p.length,c===m&&c===p,m!==p,!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_])(?=.{8,})/).test(m),!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_])(?=.{8,})/).test(p)];N(e.some((e=>!0===e)))}),[c,m,p]);const _=(e,s,t)=>{const l=()=>s.length>1?(0,b.jsx)("ul",{style:{listStyle:"decimal",padding:"10px",textAlign:"left",margin:"5px"},children:s.map(((e,s)=>(0,b.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},s)))}):(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:s[0]}});return(0,b.jsx)(d.A,{style:{zIndex:1e4},id:`tooltip-${t}`,className:"in show",...a,children:(0,b.jsx)(l,{},"html-1")})},T=e=>{const{label:s,id:a}=e;return(0,b.jsx)(n.A,{placement:"bottom",overlay:_(0,s,a),trigger:"click",rootClose:!0,children:(0,b.jsx)("i",{className:"fa fa-question-circle help text-secondary cursor-pointer"})})};return(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-xl-12",children:x?(0,b.jsx)("div",{className:"login-loader text-center",children:(0,b.jsx)(i.A,{})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-lg-4 col-sm-6 py-2",children:(0,b.jsxs)("div",{className:"form-floating passwordArea",children:[(0,b.jsx)("input",{onChange:e=>{u(e.target.value),j(!0)},type:"password",className:"form-control",placeholder:s.formatMessage({id:"currentPassword",defaultMessage:"currentPassword"}),onBlur:e=>j(!0),id:"currentPassword",autoComplete:"none"}),v&&(0,b.jsx)("i",{className:"fa fa-"+(c.length>0?"check good":"times bad")}),(0,b.jsx)("label",{htmlFor:"currentPassword",className:"text-dark",children:(0,b.jsx)(f.A,{id:"currentPassword",defaultMessage:"currentPassword"})})]})})}),(0,b.jsx)("div",{className:"row",children:(0,b.jsxs)("div",{className:"col-lg-4 col-sm-6 py-2 position-relative",children:[(0,b.jsxs)("div",{className:"form-floating passwordArea",children:[(0,b.jsx)("input",{onChange:e=>{g(e.target.value),S(!0)},type:"password",className:"form-control",placeholder:s.formatMessage({id:"newPassword",defaultMessage:"newPassword"}),onBlur:e=>S(!0),id:"newPassword",autoComplete:"new-password"}),w&&(0,b.jsx)("i",{className:"fa fa-"+(m.length>0?"check good":"times bad")}),(0,b.jsx)("label",{htmlFor:"newPassword",className:"text-dark",children:(0,b.jsx)(f.A,{id:"newPassword",defaultMessage:"newPassword"})})]}),(0,b.jsx)("div",{className:"position-absolute bottom-0 end-0 px-3 py-2",children:(0,b.jsx)(T,{label:[s.formatMessage({id:"minimumLetters",defaultMessage:"minimumLetters"},{n:8}),s.formatMessage({id:"atleastNCapitalLetter",defaultMessage:"atleastNCapitalLetter"},{n:1}),s.formatMessage({id:"atleastNSpecialCharacter",defaultMessage:"atleastNSpecialCharacter"},{n:1}),s.formatMessage({id:"atleastNNumber",defaultMessage:"atleastNNumber"},{n:1}),s.formatMessage({id:"allTheAboveAreRequired",defaultMessage:"allTheAboveAreRequired"})],id:1})})]})}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-lg-4 col-sm-6 py-2",children:(0,b.jsxs)("div",{className:"form-floating passwordArea",children:[(0,b.jsx)("input",{onChange:e=>{h(e.target.value),k(!0)},type:"password",className:"form-control",placeholder:s.formatMessage({id:"retypePassword",defaultMessage:"retypePassword"}),onBlur:e=>k(!0),id:"repeatPassword",autoComplete:"retype-password"}),C&&(0,b.jsx)("i",{className:"fa fa-"+(p.length>0&&p===m?"check good":"times bad")}),(0,b.jsx)("label",{htmlFor:"repeatPassword",className:"text-dark",children:(0,b.jsx)(f.A,{id:"retypePassword",defaultMessage:"retypePassword"})})]})})}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-sm-6 py-2",children:(0,b.jsx)("button",{disabled:y,onClick:()=>(()=>{M(!0);const e=new FormData;e.append("userId",o.userData.userId),e.append("currentPass",c),e.append("newPass",m),e.append("repeatPass",p),e.append("appId",o.userConfig.appId),l.A.post("/changePassword",e).then((e=>{e.data.response?o.renderToast({message:s.formatMessage({id:"passwordSuccessfullyChanged",defaultMessage:"passwordSuccessfullyChanged"})}):o.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"passwordChangeFailedInvalidCredentials",defaultMessage:"passwordChangeFailedInvalidCredentials"})})})).catch((()=>{o.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((()=>{M(!1),g(""),h("")}))})(),className:"btn btn-bni",children:(0,b.jsx)(f.A,{id:"submit",defaultMessage:"submit"})})})})]})})})};var P=a(8127),$=a(1515),B=a(3276);const O=e=>{const s=(0,t.useContext)(r.R),[a,l]=(0,t.useState)(""),i=(0,A.A)(),d=(0,t.useContext)(C.F);document.title=`${d.appName} - ${i.formatMessage({id:"settings",defaultMessage:"settings"})}`;const n=[{id:"configuration",label:i.formatMessage({id:"configuration",defaultMessage:"configuration"}),component:_,help:{heading:i.formatMessage({id:"configuration",defaultMessage:"configuration"}),points:[i.formatMessage({id:"configWebDefaults",defaultMessage:"configWebDefaults"}),i.formatMessage({id:"configSocialMedia",defaultMessage:"configSocialMedia"})]}},{id:"changePassword",label:i.formatMessage({id:"changePassword",defaultMessage:"changePassword"}),component:H,help:{heading:i.formatMessage({id:"changePassword",defaultMessage:"changePassword"}),points:[i.formatMessage({id:"changePasswordHelp",defaultMessage:"changePasswordHelp"})]}},{...Number(s.userConfig.planUsersLimit)>1&&{id:"users",label:i.formatMessage({id:"users",defaultMessage:"users"}),component:L,help:{heading:i.formatMessage({id:"users",defaultMessage:"users"}),points:[i.formatMessage({id:"setUsersToHandleAndMaintainYourApp",defaultMessage:"setUsersToHandleAndMaintainYourApp"}),i.formatMessage({id:"superAdminIsAddedByDefault",defaultMessage:"superAdminIsAddedByDefault"}),i.formatMessage({id:"superAdminHasAccessToControl",defaultMessage:"superAdminHasAccessToControl"}),i.formatMessage({id:"crudOperationsAreAvailable",defaultMessage:"crudOperationsAreAvailable"}),i.formatMessage({id:"onceUsersCreated",defaultMessage:"onceUsersCreated"})]}}}];function o(e){let{children:a,eventKey:t,eventLabel:i}=e;const r=(0,P.M)(t,(()=>l(i)));return(0,b.jsx)("button",{type:"button",className:"col-11 text-start btn "+("dark"===s.userData.theme?"btn-dark":"btn-white"),onClick:r,children:a})}return(0,b.jsxs)("section",{className:"container-fluid",children:[(0,b.jsx)("div",{className:`bg-gradient ${"dark"===s.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"} mt-2 ps-3 py-2 rounded-pill mb-4`,children:(0,b.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("i",{className:"fa fa-cog fa-1x"}),(0,b.jsx)("div",{className:"ps-2 mb-0",children:(0,b.jsx)(f.A,{id:"settings",defaultMessage:"settings"})})]})})}),(0,b.jsx)("div",{className:"px-1",children:(0,b.jsx)("div",{className:"",children:(0,b.jsx)($.A,{bsPrefix:"util",defaultActiveKey:"",className:"",children:n.filter((e=>e.id)).map(((e,l)=>(0,b.jsxs)(B.A,{className:"my-2 "+("dark"===s.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[(0,b.jsxs)(B.A.Header,{className:"row m-0",children:[(0,b.jsx)(o,{eventLabel:e.label,eventKey:e.id,children:e.label}),(0,b.jsx)(u.A,{className:"text-center "+("dark"===s.userData.theme?"bg-dark text-white-50":"bg-white text-black"),btnValue:"<i class='fa fa-question-circle' />",btnClassName:"col-1 btn btn-sm "+("dark"===s.userData.theme?"text-white":"text-dark"),placement:"end",label:e.help.heading,children:e.help.points.length>0&&(0,b.jsx)("ul",{className:"list-group list-group-flush",children:e.help.points.map(((e,a)=>(0,b.jsx)("li",{className:"list-group-item border-bottom-0 "+("dark"===s.userData.theme?"bg-dark text-white-50":"bg-white text-black"),dangerouslySetInnerHTML:{__html:e}},a)))})},e.id)]}),(0,b.jsx)($.A.Collapse,{eventKey:e.id,children:(0,b.jsx)(B.A.Body,{className:"p-2",children:e.label===a&&t.createElement(e.component)})})]},e.id)))})})})]})}},6731:(e,s,a)=>{a.d(s,{E:()=>d,x:()=>r});a(9950);var t=a(3027),l=a(2074),i=a(4414);const r=()=>(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("i",{className:"fa fa-exclamation-triangle fa-2x pt-2 text-danger"}),(0,i.jsxs)("div",{className:"ps-2",children:[(0,i.jsx)("div",{className:"fs-3",children:(0,i.jsx)(t.A,{id:"alert",defaultMessage:"alert"})}),(0,i.jsx)("div",{className:"fs-6",children:(0,i.jsx)(t.A,{id:"maximumQuotaExceeded",defaultMessage:"maximumQuotaExceeded"})})]})]})}),d=()=>(0,i.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(l.N_,{className:"btn btn-sm btn-primary me-1 rounded-pill",to:"/billing",children:[(0,i.jsx)("i",{className:"fa fa-credit-card-alt pe-1"}),(0,i.jsx)(t.A,{id:"upgradeNow",defaultMessage:"upgradeNow"})]}),(0,i.jsx)("span",{className:"fs-6",children:(0,i.jsx)(t.A,{id:"accessUnlimitedStorage",defaultMessage:"accessUnlimitedStorage"})})]})})},23:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(9950),l=a(7937),i=a(9639),r=a(2436),d=a(4414);const n=function(e){let{btnValue:s,btnClassName:a,label:n,children:o,...c}=e;const[u,m]=(0,t.useState)(!1),g=(0,t.useContext)(r.R);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{tabIndex:"-1",variant:null,dangerouslySetInnerHTML:{__html:s},className:a,onClick:()=>m(!0)}),(0,d.jsxs)(i.A,{show:u,onHide:()=>m(!1),...c,className:""+("dark"===g.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[(0,d.jsx)(i.A.Header,{closeButton:!0,children:(0,d.jsx)(i.A.Title,{children:n})}),(0,d.jsx)(i.A.Body,{className:""+("dark"===g.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:o})]})]})}},2083:(e,s,a)=>{a.d(s,{A:()=>l});const t={self:void 0,sageHeaderAndList:(e,s)=>{const a=e.filter((e=>Number(e[s])>1));return[e.filter((e=>1===Number(e[s])))[0],a]},loadRandomSpinnerIcon:()=>"Oval",stringToCapitalize:e=>e.split("_").map((e=>e.substring(0,1).toUpperCase()+e.substring(1,e.length))).join(" "),donutChartColors:["#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#f44336"],indianLacSeperator:(e,s)=>e.toLocaleString("en-IN",{maximumFractionDigits:s,style:"currency",currency:"INR"}),countryCurrencyLacSeperator:(e,s,a,t)=>Number(a).toLocaleString(e,{maximumFractionDigits:t,minimumFractionDigits:t,style:s?"currency":"decimal",...s&&{currency:s}}),lacSeperator:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IN";return null===e||void 0===e?void 0:e.toLocaleString(s)},strToNumMonth:{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},monthToStr:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},fullmonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],threeDigitMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],leadingZeros:e=>{const s=Number(e);return s<10?`0${s}`:s},dateToMonthYear:e=>{const s=new Date(e);return`${t.threeDigitMonthNames[s.getMonth()]}-${s.getFullYear()}`},addMonths:(e,s)=>{if(e&&s){let[a,t]=["",(e=new Date(+e)).getDate()];e.setMonth(e.getMonth()+s,1),a=e.getMonth(),e.setDate(t),e.getMonth()!==a&&e.setDate(0)}return e},getNextMonthDate:e=>{const s=new Date;let a=s.getFullYear(),t=s.getMonth()+2;t>12&&(a+=1,t=1);const l=new Date(`${a}-${t}-01`);let i=l.getMonth()+1;i=i<10?`0${i}`:i;const r=e<10?`0${e}`:e;return`${l.getFullYear()}-${i}-${r}`},getNow:()=>{const e=e=>{const s=Number(e);return s<10?`0${s}`:s},s=new Date;return`${s.getFullYear()}-${e(s.getMonth()+1)}-${e(s.getDate())} ${e(s.getHours())}:${e(s.getMinutes())}:${e(s.getSeconds())}`},dateToYYYYMMDD:e=>{const s=e=>{const s=Number(e);return s<10?`0${s}`:s};return`${e.getFullYear()}-${s(e.getMonth()+1)}-${s(e.getDate())}`},stripCommasInCSV:e=>e.map((e=>{const s=Object.keys(e).map((s=>({[s]:String(e[s]).replace(/,/g,"")})));return Object.assign({},{},...s)})),chunkArray:(e,s)=>e.map(((a,t)=>e.slice(t*s,t*s+s))).filter((e=>e.length>0)),shorten:(e,s)=>e&&e.length>s?e.slice(0,Math.ceil(s/2))+"..."+e.slice(-10,e.length):e},l=t}}]);