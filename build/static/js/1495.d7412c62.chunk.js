(self.webpackChunkledgerely_com=self.webpackChunkledgerely_com||[]).push([[1495],{9635:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});t(9950);const a=t.p+"static/media/spinner-1.f767f1657eaa4d002cb20e0a99a86e07.svg"},6082:(e,s,t)=>{"use strict";t.d(s,{A:()=>p});var a=t(9950),n=t(2436),i=t(1576),r=t(4570),l=t(8311),o=t(9288),d=t(3027),c=t(4414);const u=function(e){const s=(0,o.A)(),t=(0,a.useContext)(n.R),{onToggle:i,handlesuccess:u}=e,[h,m]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[f,x]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),j=e=>{13!==e.which&&13!==e.keyCode||y()},y=async()=>{b(!0);const e=new FormData;e.append("username",h),e.append("password",g),await r.A.post("/validateUser",e).then((e=>{const a=e.data.response;if(a){const e={appId:a.appId,userId:a.user_id,type:a.user_type,email:a.user_email,name:a.user_display_name,imageUrl:a.user_image,source:"self"};u(e)}else t.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"invalidUserNameOrPassword",defaultMessage:"invalidUserNameOrPassword"})})})).catch((e=>{t.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((()=>b(!1)))};return(0,c.jsx)("div",{children:v?(0,c.jsx)("div",{className:"login-loader text-center",children:(0,c.jsx)(l.A,{})}):(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-lg-12 py-2",children:(0,c.jsxs)("div",{className:"form-floating",children:[(0,c.jsx)("input",{onChange:e=>m(e.target.value),type:"text",id:"username",className:"form-control",onKeyDown:e=>j(e),placeholder:s.formatMessage({id:"userName",defaultMessage:"userName"})}),(0,c.jsxs)("label",{htmlFor:"username",children:[(0,c.jsx)(d.A,{id:"email",defaultMessage:"email"})," / ",(0,c.jsx)(d.A,{id:"userName",defaultMessage:"userName"})]})]})}),(0,c.jsx)("div",{className:"col-lg-12 py-2",children:(0,c.jsxs)("div",{className:"form-floating passwordArea",children:[(0,c.jsx)("input",{onChange:e=>p(e.target.value),type:f?"text":"password",id:"userPassword",className:"form-control",onKeyDown:e=>j(e),placeholder:s.formatMessage({id:"password",defaultMessage:"password"})}),(0,c.jsx)("i",{onClick:()=>x(!f),className:"fa fa-"+(f?"eye-slash":"eye")}),(0,c.jsx)("label",{htmlFor:"userPassword",children:(0,c.jsx)(d.A,{id:"password",defaultMessage:"password"})})]})}),(0,c.jsx)("div",{className:"pt-3 col-lg-12",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6 pb-3",children:(0,c.jsx)("div",{className:"d-grid gap-2",children:(0,c.jsx)("button",{onClick:()=>y(),className:"btn btn-bni rounded-0",children:(0,c.jsx)(d.A,{id:"submit",defaultMessage:"submit"})})})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)("div",{className:"d-grid gap-2",children:(0,c.jsx)("button",{onClick:()=>i("resetPassword"),className:"btn btn-md btn-dark icon-bni rounded-0",children:(0,c.jsx)(d.A,{id:"resetPassword",defaultMessage:"resetPassword"})})})})]})})]})})};const h=function(e){const s=(0,o.A)(),{onClose:t}=e,i=(0,a.useContext)(n.R),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[x,v]=(0,a.useState)(!0),[b,j]=(0,a.useState)(!1),[y,k]=(0,a.useState)(null);let[w,N]=(0,a.useState)(300);(0,a.useEffect)((()=>{v(!new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/).test(u))}),[u]);const A=()=>{0===w?C(A):w--,N(w),setTimeout(A,1e3)},C=()=>{clearTimeout(A)};(0,a.useEffect)((()=>{b&&A()}),[b]);const S=()=>{f(!0);const e=new FormData;e.append("email",u),r.A.post("/sendOtp",e).then((e=>{const t=e.data.response;t?(i.renderToast({message:s.formatMessage({id:"OtpSuccessfullyMailedToYou",defaultMessage:"OtpSuccessfullyMailedToYou"})}),k(t),j(!0)):i.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"errorYourMailIsInValid",defaultMessage:"errorYourMailIsInValid"})})})).catch((e=>{i.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((()=>{f(!1)}))};return(0,c.jsx)("div",{children:p?(0,c.jsx)("div",{className:"login-loader text-center py-3",children:(0,c.jsx)(l.A,{})}):(0,c.jsxs)("div",{children:[b?(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"form-floating mb-3",children:[(0,c.jsx)("input",{onChange:e=>{g(e.target.value)},type:"number",className:"form-control",placeholder:s.formatMessage({id:"enterOtp",defaultMessage:"enterOtp"}),id:"otp"}),(0,c.jsx)("label",{htmlFor:"otp",children:(0,c.jsx)(d.A,{id:"enterOtp",defaultMessage:"enterOtp"})})]}),(0,c.jsx)("div",{className:"pb-2",children:(0,c.jsx)("button",{disabled:w>0,onClick:()=>S(),className:"btn btn-sm btn-primary",children:(0,c.jsx)(d.A,{id:"resendOtp",defaultMessage:"resendOtp"})})}),w>0&&(0,c.jsx)("div",{className:"pb-2 text-danger fst-italic",children:(0,c.jsx)(d.A,{id:"enterOtp",defaultMessage:"enterOtp",values:{seconds:w}})})]}):(0,c.jsxs)("div",{className:"form-floating mb-3",children:[(0,c.jsx)("input",{onChange:e=>{h(e.target.value)},type:"email",className:"form-control",placeholder:s.formatMessage({id:"yourEmailPlease",defaultMessage:"yourEmailPlease"}),id:"email"}),(0,c.jsx)("label",{htmlFor:"email",children:(0,c.jsx)(d.A,{id:"yourEmailPlease",defaultMessage:"yourEmailPlease"})})]}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-lg-6 py-2",children:(0,c.jsx)("div",{className:"d-grid",children:b?(0,c.jsx)("button",{onClick:()=>(()=>{f(!0);const e=new FormData;e.append("otp",m),e.append("id",y),e.append("email",u),r.A.post("/resetPassword",e).then((e=>{e.data.response?(i.renderToast({message:s.formatMessage({id:"resetSuccess",defaultMessage:"resetSuccess"})}),t()):i.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"OtpFailed",defaultMessage:"OtpFailed"})})})).catch((e=>{i.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((()=>{f(!1)}))})(),className:"btn btn-bni",children:(0,c.jsx)(d.A,{id:"send",defaultMessage:"send"})}):(0,c.jsx)("button",{disabled:x,onClick:()=>S(),className:"btn btn-bni",children:(0,c.jsx)(d.A,{id:"reset",defaultMessage:"reset"})})})}),(0,c.jsx)("div",{className:"col-lg-6 py-2",children:(0,c.jsx)("div",{className:"d-grid",children:(0,c.jsx)("button",{onClick:t,className:"btn btn-secondary",children:(0,c.jsx)(d.A,{id:"cancel",defaultMessage:"cancel"})})})})]})]})})};const m=function(e){const s=(0,o.A)(),{onClose:t,handlesuccess:n}=e,[i,r]=(0,a.useState)("login"),l={login:s.formatMessage({id:"login",id:"login"}),resetPassword:s.formatMessage({id:"resetPassword",defaultMessage:"resetPassword"}),changePassword:s.formatMessage({id:"changePassword",defaultMessage:"changePassword"})};return(0,c.jsxs)("div",{className:"text-dark",children:["login"!==i&&(0,c.jsx)("button",{onClick:()=>r("login"),className:"btn btn-sm btn-default me-2",children:(0,c.jsx)("i",{className:"fa fa-chevron-left"})}),(0,c.jsx)("span",{className:"pl-5",children:l[i]}),"login"===i&&(0,c.jsx)(u,{onToggle:e=>r(e),onClose:t,handlesuccess:n}),"resetPassword"===i&&(0,c.jsx)(h,{onClose:t})]})};var g=t(8429);const p=e=>{const s=(0,g.Zp)(),{onLogAction:l}=e,u=(0,o.A)(),h=(0,a.useContext)(n.R),[p,f]=(0,a.useState)(!1),x=e=>{let s={};fetch("https://geolocation-db.com/json/").then((e=>e.json())).then((t=>{s={...e,time:(new Date).toString(),ip:t.IPv4}})).catch((()=>{s={...e,time:(new Date).toString(),ip:"127.0.0.1"}})).finally((()=>{const e=new FormData;e.append("log",JSON.stringify(s)),r.A.post("/saveLog",e)}))};return(0,c.jsxs)(a.Fragment,{children:[!h.userData.userId&&(0,c.jsx)(m,{onClose:()=>{h.setOpenAppLoginModal(!1)},handlesuccess:e=>(e=>{let s=[];h.getMenus("superAdmin",!1).then((async e=>{s=e})),h.getUserConfig(e.appId).then((async t=>{console.log("bbb",s);const a=t.data.response[0],n={type:e.type,theme:a.webTheme,audioShown:"1"===a.bgSongDefaultPlay,videoShown:"1"===a.bgVideoDefaultPlay,email:e.email,imageUrl:e.imageUrl,name:e.name,userId:e.userId,source:e.source,menu:s},i=JSON.stringify(n);localStorage.setItem("userData",i);const r=JSON.stringify(a);localStorage.setItem("userConfig",r),await h.updateBulkUserData(n),await h.setUserConfig((e=>({...e,...a}))),l(e),x(e)}))})(e)}),(0,c.jsx)(i.A,{show:p,confirmationstring:u.formatMessage({id:"sureToLogout",defaultMessage:"sureToLogout"}),handleHide:()=>{f(!1)},handleYes:()=>(h.addUserData(h.defUserData),h.setUserConfig(h.defUserConfig),localStorage.setItem("userData",JSON.stringify(h.defUserData)),localStorage.setItem("userConfig",JSON.stringify(h.defUserConfig)),l({}),f(!1),void s("/")),size:"md",animation:!1}),h.userData.userId&&(0,c.jsxs)("div",{className:"d-print-none",children:[(0,c.jsx)("div",{className:"options welcomeText",children:(0,c.jsx)(d.A,{id:"welcome",defaultMessage:"welcome"})}),(0,c.jsx)("div",{className:"options",children:(0,c.jsx)("div",{className:"welcomeText pb-10",children:h.userData.name})}),(0,c.jsxs)("div",{className:"options pt-3",children:[["facebook","google"].includes(h.userData.source)&&h.userData.imageUrl&&(0,c.jsx)("img",{className:"userImage",alt:"userImage",src:h.userData.imageUrl||t(9635).A}),"self"===h.userData.source&&h.userData.imageUrl?(0,c.jsx)("img",{className:"rounded-circle",alt:"userImage",style:{height:"50px",width:"50px"},src:`data:image/png;base64,${h.userData.imageUrl}`}):(0,c.jsx)("i",{className:"fa fa-user fa-2x"}),(0,c.jsx)("i",{onClick:e=>{f(!0)},title:u.formatMessage({id:"logout",defaultMessage:"logout"}),className:"fa fa-sign-out text-secondary cursor-pointer fs-4"})]})]})]})}},1576:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var a=t(9950),n=t(4268),i=t(2436),r=t(3027),l=t(4414);const o=function(e){const s=(0,a.useContext)(i.R),{confirmationstring:t,handleHide:o,handleYes:d,...c}=e;return(0,l.jsxs)(n.A,{...c,style:{zIndex:1e4},children:[(0,l.jsx)(n.A.Header,{children:(0,l.jsx)(n.A.Title,{children:t})}),(0,l.jsxs)(n.A.Body,{className:"rounded-bottom "+("dark"===s.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[(0,l.jsx)("p",{className:"text-center",children:(0,l.jsx)(r.A,{id:"thisActionCannotBeUndone",defaultMessage:"thisActionCannotBeUndone"})}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-6 text-center",children:(0,l.jsx)("button",{onClick:()=>d(),className:"btn btn-bni",children:(0,l.jsx)("i",{className:"fa fa-thumbs-o-up"})})}),(0,l.jsx)("div",{className:"col-6 text-center",children:(0,l.jsx)("button",{onClick:()=>o(),className:"btn btn-bni dark",children:(0,l.jsx)("i",{className:"fa fa-thumbs-o-down"})})})]})]})]})}},8743:(e,s,t)=>{"use strict";t.d(s,{nd:()=>n,wm:()=>i,ww:()=>a});const a=["aws_s3_access_key_id","aws_s3_region","aws_s3_secret_access_key","google_map_api_key","google_login_auth_token","facebook_app_id"],n="encryptSalt",i=["fileStorageAccessKey"]},5956:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>pe});var a=t(9950),n=t(8429),i=t(2436),r=t(4414);const l=e=>{let{children:s,accessGiven:t}=e;const l=(0,a.useContext)(i.R);return t.includes(l.userData.type)?s:(0,r.jsx)(n.C5,{replace:!0,to:"/401"})};var o=t(2074),d=t(3027);const c=function(){const e=(0,a.useContext)(i.R);return(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsxs)("div",{className:"pt-5 text-center",children:[(0,r.jsxs)("h1",{className:"",children:[(0,r.jsx)(d.A,{id:"oops",defaultMessage:"oops"}),"!"]}),(0,r.jsx)("h1",{className:"text-danger",children:"404"}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(d.A,{id:"sorryYourRequestedPageCannotBeFound",defaultMessage:"sorryYourRequestedPageCannotBeFound"}),"!"]}),(0,r.jsx)("hr",{className:"hr"}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(o.N_,{to:"/",className:"me-2 btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-home"})," ",(0,r.jsx)(d.A,{id:"home",defaultMessage:"home"})]}),(0,r.jsxs)("a",{rel:"noopener noreferrer",href:`mailto:${e.userConfig.email}`,className:"btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-envelope"})," ",(0,r.jsx)(d.A,{id:"support",defaultMessage:"support"})]})]})]})})})};const u=function(){const e=(0,a.useContext)(i.R);return(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsx)("div",{className:"pt-5",children:(0,r.jsxs)("div",{className:"pt-5 text-center",children:[(0,r.jsxs)("h1",{className:"",children:[(0,r.jsx)(d.A,{id:"oops",defaultMessage:"oops"}),"!"]}),(0,r.jsx)("h1",{className:"text-danger",children:"401"}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(d.A,{id:"unAuthorizedPage",defaultMessage:"unAuthorizedPage"}),"!"]}),(0,r.jsx)("hr",{className:"hr"}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(o.N_,{to:"/",className:"me-2 btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-home"})," ",(0,r.jsx)(d.A,{id:"home",defaultMessage:"home"})]}),(0,r.jsxs)("a",{rel:"noopener noreferrer",href:`mailto:${e.userConfig.email}`,className:"btn "+("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[(0,r.jsx)("i",{className:"fa fa-envelope"})," ",(0,r.jsx)(d.A,{id:"support",defaultMessage:"support"})]})]})]})})})};var h=t(8311);const m=(0,a.lazy)((()=>Promise.all([t.e(1432),t.e(3932),t.e(1880),t.e(6275),t.e(5122),t.e(527),t.e(2272),t.e(8)]).then(t.bind(t,2272)))),g=(0,a.lazy)((()=>Promise.all([t.e(1432),t.e(6275),t.e(2473),t.e(2097),t.e(9710)]).then(t.bind(t,9710)))),p=(0,a.lazy)((()=>Promise.all([t.e(4761),t.e(6693)]).then(t.bind(t,6693)))),f=(0,a.lazy)((()=>t.e(854).then(t.bind(t,3508)))),x=(0,a.lazy)((()=>Promise.all([t.e(1432),t.e(3932),t.e(1880),t.e(6275),t.e(5122),t.e(8045),t.e(527),t.e(2272),t.e(194)]).then(t.bind(t,6283)))),v=(0,a.lazy)((()=>Promise.all([t.e(3932),t.e(1880),t.e(527),t.e(4451)]).then(t.bind(t,4451)))),b=(0,a.lazy)((()=>Promise.all([t.e(3932),t.e(1880),t.e(527),t.e(2097),t.e(2223)]).then(t.bind(t,2223)))),j=(0,a.lazy)((()=>Promise.all([t.e(1432),t.e(1936)]).then(t.bind(t,1936)))),y=(0,a.lazy)((()=>Promise.all([t.e(3932),t.e(1880),t.e(527),t.e(2097),t.e(5265)]).then(t.bind(t,5265)))),k=(0,a.lazy)((()=>Promise.all([t.e(1432),t.e(3932),t.e(1880),t.e(527),t.e(8379)]).then(t.bind(t,8379)))),w=e=>{var s,t;const o=(0,a.useContext)(i.R),d=o.userData.menu,w={home:(0,r.jsx)(f,{}),dashboard:(0,r.jsx)(x,{}),category:(0,r.jsx)(v,{}),bank:(0,r.jsx)(b,{}),creditCard:(0,r.jsx)(y,{}),schedules:(0,r.jsx)(k,{}),moneyPlanner:(0,r.jsx)(m,{}),workbook:(0,r.jsx)(p,{}),billing:(0,r.jsx)(j,{}),settings:(0,r.jsx)(g,{})};return(0,a.useEffect)((()=>{console.log("bbb",d)}),[d]),(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(h.A,{middle:!0}),children:(0,r.jsxs)(n.BV,{children:[(0,r.jsx)(n.qh,{path:"/",element:null!==o&&void 0!==o&&null!==(s=o.userData)&&void 0!==s&&s.userId?(0,r.jsx)(x,{}):(0,r.jsx)(f,{})}),d&&(null===d||void 0===d?void 0:d.length)>0&&d.map(((e,s)=>(0,r.jsx)(n.qh,{path:e.href,element:(0,r.jsx)(l,{accessGiven:e.hasAccessTo,children:w[e.page_id]},e.page_id)},s))),(0,r.jsx)(n.qh,{path:"/",element:(null===o||void 0===o||null===(t=o.userData)||void 0===t?void 0:t.userId)&&(0,r.jsx)(n.C5,{to:"/dashboard"})}),(0,r.jsx)(n.qh,{path:"/404",element:(0,r.jsx)(c,{})}),(0,r.jsx)(n.qh,{path:"/401",element:(0,r.jsx)(u,{})}),(0,r.jsx)(n.qh,{path:"*",element:(0,r.jsx)(n.C5,{to:"/404"})})]})})};var N=t(6773);const A=t.p+"static/media/brandLogo.5bbcd38a59a610cf05df.png";var C=t(9288);const S=function(e){const[s,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const s=s=>{let{key:a}=s;a===e&&t(!0)},a=s=>{let{key:a}=s;a===e&&t(!1)};return window.addEventListener("keydown",s),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",a)}}),[e]),s};var D=t(4570),M=t(5491),T=t.n(M);const I=e=>{const s=(0,n.Zp)(),[t,l]=(0,a.useState)({}),c=(0,a.useRef)(null),u=(0,a.useRef)(null),h={category:"incExpCat",bank:"bank",creditCard:"creditCard",ccTransactions:"creditCardTransactions",bankTransactions:"bankTransactions",workbook:"workbook"},m=e=>{let{item:s,active:t,setSelected:a,setHovered:n}=e;return(0,r.jsx)("li",{className:`list-group-item cursor-pointer small px-2 py-1 border-0 rounded-0 ${"dark"===A.userData.theme?"bg-dark text-light":"bg-white text-dark"} ${t?"bni-bg bni-text":""} `,style:{},onClick:()=>a(s),onMouseEnter:()=>{n(s.id),j(s.id)},onMouseLeave:()=>n(void 0),children:(0,r.jsx)(o.N_,{to:`${s.target}`,relative:"path",className:"d-block "+("dark"===A.userData.theme?"text-light":"text-dark"),children:s.name})})},[g,p]=(0,a.useState)(void 0),f=S("ArrowDown"),x=S("ArrowUp"),v=S("Enter"),[b,j]=(0,a.useState)(void 0),[y,k]=(0,a.useState)(void 0),w=Object.keys(t).map((e=>[].concat(...t[e]))).flat();(0,a.useEffect)((()=>{w.length&&f&&j((e=>{const s=w.findIndex((s=>s.id===e));var t,a;return s<w.length-1?(null===(t=w[s+1])||void 0===t?void 0:t.id)||e:null===(a=w[0])||void 0===a?void 0:a.id}))}),[f]),(0,a.useEffect)((()=>{Object.keys(t).length&&x&&j((e=>{const s=w.findIndex((s=>s.id===e));var t,a;return s-1>-1?(null===(t=w[s-1])||void 0===t?void 0:t.id)||e:null===(a=w[w.length-1])||void 0===a?void 0:a.id}))}),[x]),(0,a.useEffect)((()=>{if(Object.keys(t).length&&v){const e=w.findIndex((e=>e.id===b));p(w[e]),L()}}),[b,v]),(0,a.useEffect)((()=>{Object.keys(t).length&&y&&j((e=>{var s;const t=w.findIndex((s=>s.id===e));return(null===(s=w[t])||void 0===s?void 0:s.id)||e}))}),[y]),(0,a.useEffect)((()=>{g&&(I(null===g||void 0===g?void 0:g.name),O(!1))}),[g]);const N=(0,C.A)(),A=(0,a.useContext)(i.R),[M,I]=(0,a.useState)(""),[_,O]=(0,a.useState)(!1),[U,P]=(0,a.useState)(!1),E=(0,a.useCallback)(T()((e=>{e.target.value?(P(!0),B(e.target.value).then((e=>{const s=e.data.response;s?(O(!0),l(s)):(O(!1),l([]))})).catch((()=>O(!1))).finally((()=>P(!1))),13!==e.which&&13!==e.keyCode||L()):(O(!1),l([]))}),500),[A.userConfig.appId]),L=()=>{null!==g&&void 0!==g&&g.target&&s(`/${g.target}`)},B=e=>{const s=new FormData;return s.append("searchString",e),s.append("appId",A.userConfig.appId),D.A.post("/dashboard/searchTopics",s)},$=e=>{u.current&&!u.current.contains(e.target)&&O(!1)};return(0,a.useEffect)((()=>(document.addEventListener("click",$,!0),()=>{document.removeEventListener("click",$,!0)})),[]),(0,r.jsxs)("div",{className:"position-relative",ref:u,children:[(0,r.jsxs)("div",{className:"input-group input-group-sm",children:[(0,r.jsx)("span",{className:`btn border border-1 border-end-0 rounded-start-0 border-${"dark"===A.userData.theme?"secondary":""} btn-${"dark"===A.userData.theme?"transparent":"white"}`,children:U?(0,r.jsx)("i",{className:"fa fa-circle-o-notch fa-spin text-"+("dark"===A.userData.theme?"secondary":"dark")}):(0,r.jsx)("i",{className:"fa fa-search text-"+("dark"===A.userData.theme?"secondary":"dark")})}),(0,r.jsx)("input",{ref:c,type:"text",spellCheck:"false",placeholder:N.formatMessage({id:"globalSearch",defaultMessage:"globalSearch"}),className:`form-control shadow-none rounded-end-0 form-control-sm text-secondary border-${"dark"===A.userData.theme?"secondary text-secondary":"1 text-dark"} bg-transparent`,onChange:e=>{E(e),I(e.target.value)},onKeyDown:e=>{I(e.target.value)},value:M}),M&&(0,r.jsx)("button",{className:`btn border border-1 border-start-0 rounded-end-0 border-${"dark"===A.userData.theme?"secondary":""} btn-${"dark"===A.userData.theme?"transparent":"white"}`,onClick:()=>{I(""),O(!1),c.current.focus()},children:(0,r.jsx)("i",{className:"fa fa-times text-"+("dark"===A.userData.theme?"secondary":"dark")})})]}),_&&(0,r.jsx)("div",{className:"position-absolute w-100",children:(0,r.jsxs)("ul",{className:`list-group rounded-bottom p-0 rounded-top-0 border ${"dark"===A.userData.theme?"bg-dark border-secondary":"bg-light border-1"} border-top-0`,style:{opacity:.9},children:[Object.keys(t).length>0?Object.keys(t).map(((e,s)=>(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)("li",{className:"p-0 list-group-item border-0",style:{},children:[(0,r.jsx)("div",{className:"fw-bolder px-1 py-1 "+("dark"===A.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:(0,r.jsx)("span",{className:"badge "+("dark"===A.userData.theme?"bg-secondary":"bg-white text-dark border border-1"),children:(0,r.jsx)(d.A,{id:h[e],defaultMessage:h[e]})})}),(0,r.jsx)("ul",{className:"list-group",children:t[e].map(((e,s)=>(0,r.jsx)(m,{active:e.id===b,item:e,setSelected:p,setHovered:k},e.id)))})]})},s))):(0,r.jsx)("li",{className:"p-1 list-group-item border-0 small "+("dark"===A.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:(0,r.jsx)(d.A,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),w.length>0&&(0,r.jsx)("li",{className:"p-0 px-1 pb-1 list-group-item border-0 "+("dark"===A.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:(0,r.jsxs)("div",{className:"text-end fst-italic small",children:[(0,r.jsx)("span",{children:"\u2191"}),(0,r.jsx)("span",{className:"px-1",children:w.length}),(0,r.jsx)("span",{children:(0,r.jsx)(d.A,{id:"recordsFound",defaultMessage:"recordsFound"})})]})})]})})]})},_=e=>{const s=(0,a.useContext)(i.R),{onNavBarToggle:t,navBarExpanded:n}=e,l=s.userData.menu;return(0,r.jsx)("div",{className:"mobile-menu",children:(0,r.jsxs)(N.A,{style:{top:"45px"},className:"py-0 ps-2 pe-2 justify-content-between "+("dark"===s.userData.theme?"bg-dark":"bg-white"),fixed:"top",onToggle:t,expanded:n,expand:"lg",children:[(0,r.jsx)(N.A.Brand,{className:"navbar-brand pt-2 me-0",style:{flexBasis:"10%"},children:(0,r.jsx)(o.N_,{to:"/dashboard",children:(0,r.jsx)("img",{className:"img-fluid",src:A,style:{width:"40px",height:"40px"}})})}),(0,r.jsx)("div",{style:{flexBasis:"75%"},children:(0,r.jsx)(I,{})}),(0,r.jsx)(N.A.Toggle,{style:{boxShadow:"none",flexBasis:"5%"},className:"p-0 pe-1 fs-2 btn text-secondary border-1","aria-controls":"basic-navbar-nav",bsPrefix:"navbar-toggle",children:(0,r.jsx)("i",{className:"fa fa-bars icon-bni"})}),(0,r.jsx)(N.A.Collapse,{children:(0,r.jsx)("ul",{className:"header-menu",children:(null===l||void 0===l?void 0:l.length)>0&&l.map(((e,a)=>(0,r.jsx)("li",{children:(0,r.jsx)(o.N_,{className:"dark"===s.userData.theme?"link-light":"link-dark",onClick:t,to:e.href,children:(0,r.jsx)(d.A,{id:e.page_id,defaultMessage:e.page_id})})},a)))})})]})})},O=e=>{var s,t,n,l,c;const u=(0,a.useContext)(i.R),h=u.userData.menu;return(0,r.jsx)("header",{className:`vertical-header ${null===u||void 0===u||null===(s=u.userConfig)||void 0===s?void 0:s.webLayoutType}`,children:(0,r.jsx)("div",{className:`vertical-header-wrapper ${null===u||void 0===u||null===(t=u.userConfig)||void 0===t?void 0:t.webMenuType}`,children:(0,r.jsxs)("nav",{className:`nav-menu ${null===(n=u.userConfig)||void 0===n?void 0:n.webMenuType} ${null===u||void 0===u||null===(l=u.userConfig)||void 0===l?void 0:l.webLayoutType} ${"dark"===u.userData.theme?"bg-dark":"bg-white"}`,children:[(0,r.jsx)("div",{className:"nav-header",children:(0,r.jsx)("span",{className:"",children:(0,r.jsx)(o.N_,{to:"/dashboard",children:(0,r.jsx)("img",{className:"brand img-fluid",src:A,style:{width:"40",height:"40"}})})})}),(0,r.jsx)("ul",{className:`header-menu ${null===u||void 0===u||null===(c=u.userConfig)||void 0===c?void 0:c.webMenuType}`,children:(null===h||void 0===h?void 0:h.length)>0&&h.map(((e,s)=>(0,r.jsx)("li",{children:(0,r.jsx)(o.N_,{className:"dark"===u.userData.theme?"text-white-50":"text-black",to:e.href,children:(0,r.jsx)(d.A,{id:e.page_id,defaultMessage:e.page_id})})},s)))})]})})})};var U=t(9845);const P=(0,a.lazy)((()=>t.e(6772).then(t.bind(t,6772)).then((e=>({default:e.ExpiryHeading}))))),E=(0,a.lazy)((()=>t.e(6772).then(t.bind(t,6772)).then((e=>({default:e.ExpiryContent}))))),L=e=>{const s=(0,n.Zp)(),t=(0,a.useContext)(i.R),l=(0,a.useContext)(U.O),{setAppExpired:o,userData:d}=t;return(0,a.useEffect)((()=>{const e=setInterval((()=>{(e=>{const s=+new Date(e)-+new Date;return Math.floor(s/1e3)})(t.userConfig.expiryDateTime)<=0&&d.userId&&(o(!0),s("/billing"),setTimeout((()=>{clearInterval(e),l.setConfig({show:!1}),l.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!1,heading:(0,r.jsx)(P,{}),content:(0,r.jsx)(E,{})})}),1e3))}),1e3);return()=>clearInterval(e)}),[t.userConfig.expiryDateTime]),(0,r.jsx)(a.Suspense,{children:null})};t(7923);t.p;t(9635);var B=t(100),$=t(9800),F=t(1535),R=t(6400),K=t(7863),z=t(9210),Y=t.n(z),H=t(8743);class W{constructor(e){this.uploadFile=e=>new R._({client:new B.Y(this.config),leavePartsOnError:!1,params:{...e,Bucket:this.Bucket}}),this.deleteFile=async e=>{const s={Bucket:this.Bucket,...Object.keys(e).length>0&&{...e}};return new $.S3(this.config).deleteObject(s)},this.deleteFolder=async(e,s)=>{let t={Bucket:this.Bucket,Prefix:e};new $.S3(this.config).listObjects(t,((e,a)=>{if(e)return s({status:"fail"});0===a.Contents.length&&s({status:"success"}),t={Bucket:this.Bucket},t.Delete={Objects:[]},a.Contents.forEach((e=>{t.Delete.Objects.push({Key:e.Key})})),new $.S3(this.config).deleteObjects(t,((e,t)=>{if(e)return s({status:"fail"});t.IsTruncated?this.self.deleteFolder(this.Bucket,s):s({status:"success"})}))}))},this.renameFile=async e=>{const s=this.Bucket;return new $.S3(this.config).copyObject({Bucket:s,CopySource:`${s}/${e.oldKey}`,Key:e.newKey},(()=>{new $.S3(this.config).deleteObject({Bucket:s,Key:e.oldKey})}))},this.renameFolder=async e=>{const s=this.Bucket,t=`${e.oldKey}/`,a=`${e.newKey}`;try{const e=await new $.S3(this.self.config).listObjects({Bucket:s,Prefix:t}),n=e.Contents,i=e.Prefix;await Promise.all(n.map((async e=>{const t={Bucket:s,CopySource:`${s}/${e.Key}`,Key:`${a}/${e.Key.replace(i,"")}`};await new $.S3(this.self.config).copyObject(t);const n={Bucket:s,Key:e.Key};await new $.S3(this.self.config).deleteObject(n)})))}catch(n){console.error(n)}},this.isUrlInternal=e=>"https:"!==(e?e.split("/"):["/"])[0],this.getSignedUrl=async e=>{if(this.isUrlInternal(e)){const s=e.split("/").slice(1,e.length).join("/"),t=e?e.split("/"):["/"],a=t[t.length-1].split(".").pop(),n={Bucket:this.Bucket,Key:s,expiresIn:this.expiresIn},i=new B.Y(this.config),r=new F.j(n);return{url:await(0,K.A)(i,r,{expiresIn:this.expiresIn}),path:s,extension:a}}return{url:e,path:"",extension:""}},this.downloadToBrowser=e=>{const s=e.split("/"),t=s[s.length-1],a=e.split("/").slice(1,e.split("/").length).join("/");this.getSignedUrl(a,this.expiresIn,this.Bucket).then((e=>{const s=document.createElement("a");s.setAttribute("target","_blank"),s.setAttribute("href",e),s.setAttribute("download",t),document.body.appendChild(s),s.click(),document.body.removeChild(s)}))},this.fetchStream=async e=>{const s=new B.Y(this.config);return await s.send(new F.j({Bucket:this.Bucket,Key:e})).then((async e=>{const s=e.Body.pipeThrough(new TextDecoderStream("utf-8")).getReader(),t=[];for(;;){const{value:e,done:a}=await s.read();if(a)break;t.push(e)}return t.join("")}))},this.Bucket=e.aws_s3_bucket,this.expiresIn=86400,this.config={region:Y().AES.decrypt(e.aws_s3_region,e[H.nd]).toString(Y().enc.Utf8),credentials:{accessKeyId:Y().AES.decrypt(e.aws_s3_access_key_id,e[H.nd]).toString(Y().enc.Utf8),secretAccessKey:Y().AES.decrypt(e.aws_s3_secret_access_key,e[H.nd]).toString(Y().enc.Utf8)}},this.self=this}getBuckeName(){return this.Bucket}fetchFileFolder(e){const s={Bucket:this.Bucket,...Object.keys(e).length>0&&{...e}};return new $.S3(this.config).listObjects(s)}}var J=t(2860),q=t(8981);class V{constructor(e){var s=this;this.uploadFile=e=>{const s=new q;return s.done=()=>{const t={onUploadProgress:t=>{const a={loaded:t.loaded,total:t.total,Key:e.Key};s.emit("httpUploadProgress",a)}},a=new FormData;return a.append("X-Access-Key",this.config.fileStorageAccessKey),a.append("file",e.Body),a.append("folder",e.Key.split("/").slice(0,-1).join("/")),D.A.post("/api/media/upload",a,t)},s},this.renameFile=async e=>{const s=new URLSearchParams({fromFileURL:e.oldKey,toFileURL:e.newKey,"X-Access-Key":this.config.fileStorageAccessKey}).toString();return D.A.get(`/api/media/renameFile?${s}`)},this.renameFolder=async e=>{const s=new URLSearchParams({fromFileURL:e.oldKey,toFileURL:e.newKey,"X-Access-Key":this.config.fileStorageAccessKey}).toString();return D.A.get(`/api/media/renameFile?${s}`)},this.deleteFolder=async(e,s)=>{const t=new URLSearchParams({fileURL:e,"X-Access-Key":this.config.fileStorageAccessKey}).toString();D.A.get(`/api/media/deleteFile?${t}`).then((e=>s({status:"success"}))).catch((()=>s({status:"fail"})))},this.isUrlInternal=e=>"https:"!==(e?e.split("/"):["/"])[0],this.getSignedUrl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(s.isUrlInternal(e)){const a=e.split("/").slice(1,e.length).join("/"),n=e?e.split("/"):["/"],i=n[n.length-1].split(".").pop(),r=new URLSearchParams({fileURL:a,"X-Access-Key":s.config.fileStorageAccessKey,downloadable:t}).toString();return{url:`${(0,J.p)()}/api/media/render?${r}`,path:a,extension:i}}return{url:e,path:"",extension:""}},this.downloadToBrowser=e=>{const s=e.split("/"),t=s[s.length-1];this.getSignedUrl(e,"1").then((e=>{const s=document.createElement("a");s.setAttribute("target","_blank"),s.setAttribute("href",e.url),s.setAttribute("download",t),document.body.appendChild(s),s.click(),document.body.removeChild(s)}))},this.fetchStream=async e=>{const s=new URLSearchParams({fileURL:e,"X-Access-Key":this.config.fileStorageAccessKey}).toString(),t=`${(0,J.p)()}/api/media/render?${s}`;return fetch(t).then((async e=>{const s=e.body.pipeThrough(new TextDecoderStream("utf-8")).getReader(),t=[];for(;;){const{value:e,done:a}=await s.read();if(a)break;t.push(e)}return t.join("")}))},this.Bucket="",this.config={fileStorageAccessKey:e.fileStorageAccessKey}}getBuckeName(){return this.Bucket}fetchFileFolder(e){const s=new URLSearchParams(e).toString();return D.A.get(`/api/media/getList?X-Access-Key=${this.config.fileStorageAccessKey}&${s}`).then((e=>({Contents:e.data.response.map((e=>({...e,LastModified:new Date(e.LastModified)})))})))}}const X=(e,s)=>{switch(e){case"AWSS3":return{library:new W(s)};case"SELF":case"https:":return{library:new V(s)};default:return{library:null}}};var G=t(1308);const Z=e=>(e?e.split("/"):["/"])[0];var Q=t(6781),ee=t(8459),se=t(5342),te=t(5623),ae=t(3302),ne=t(8751),ie=t(6082),re=t(7391),le=t(8092),oe=t.n(le);const de=t.p+"static/media/horizontalLogo.373857dca326cf845319.png";var ce=t(9051),ue=t.n(ce);t(5045);const he=[{name:"Facebook",icon:"fa fa-facebook",id:"facebookUrl"},{name:"LinkedIn",icon:"fa fa-linkedin",id:"linkedInUrl"},{name:"Twitter",icon:"fa fa-twitter",id:"twitterUrl"},{name:"Instagram",icon:"fa fa-instagram",id:"instagramUrl"}];const me=function(e){var s,t,n,l,o,c,u,h,m,g,p,f;const x=(0,C.A)(),v=(0,a.useContext)(G.F),b=(0,a.useContext)(i.R),j=(0,a.useContext)(re.U),[y,k]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[A,S]=(0,a.useState)([]),[D,M]=(0,a.useState)(b.userData.theme),[T,_]=(0,a.useState)(""),[O,U]=(0,a.useState)(""),[P,E]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{var e,s,t,a;const n=Z(null===v||void 0===v?void 0:v.bgSong),i=(null===(e=X(n,v))||void 0===e||null===(s=e.library)||void 0===s?void 0:s.getSignedUrl(null===v||void 0===v?void 0:v.bgSong))||Promise.resolve({url:null===v||void 0===v?void 0:v.bgSong,path:"",extension:""}),r=Z(null===v||void 0===v?void 0:v.bgVideo),l=(null===(t=X(r,v))||void 0===t||null===(a=t.library)||void 0===a?void 0:a.getSignedUrl(null===v||void 0===v?void 0:v.bgVideo))||Promise.resolve({url:null===v||void 0===v?void 0:v.bgVideo,path:"",extension:""});Promise.all([i,l]).then((e=>{_(e[0].url),U(e[1].url)}))}),[b.userConfig]),(0,a.useEffect)((()=>{b.updateUserData("theme",D)}),[D]),(0,a.useEffect)((()=>{b.updateUserData("videoShown",w)}),[w]),(0,a.useEffect)((()=>{b.updateUserData("audioShown",y)}),[y]),(0,a.useEffect)((()=>{b.userConfig&&Object.keys(b.userConfig).length>0&&(k("1"===b.userConfig.bgSongDefaultPlay),N("1"===b.userConfig.bgVideoDefaultPlay))}),[b.userConfig]),(0,a.useEffect)((()=>{if(v&&Object.keys(v).length>0){const e=Object.keys(v),s=[...he].map((s=>(e.includes(s.id)&&(s.href=v[s.id]),s)));S(s)}}),[v]),(0,r.jsxs)("div",{children:[(0,r.jsx)(oe(),{controls:!1,loop:!0,playing:y,width:"0px",height:"0px",url:T,config:{forceAudio:!0}}),(0,r.jsx)(oe(),{className:"videoTag d-print-none",playsinline:!0,style:{display:w?"block":"none"},playing:w,loop:!0,muted:!0,controls:!1,width:"100%",height:"100vh",url:O}),(null===b||void 0===b||null===(s=b.userData)||void 0===s?void 0:s.userId)&&(0,r.jsx)("div",{className:`globalHeader globalHeader-${b.userData.theme} d-print-none fixed-top ${b.userData.videoShown?"opac":""}`,children:(0,r.jsxs)(Q.A,{className:"justify-content-between align-items-center",children:[(0,r.jsx)(ee.A,{xl:4,lg:3,md:3,xs:9,className:"",children:(0,r.jsx)("a",{href:"/dashboard",className:"pe-2",children:(0,r.jsx)("img",{style:{width:"150px",height:"40px"},className:"brand global img-fluid",src:de})})}),(0,r.jsx)(ee.A,{xl:4,lg:6,md:7,className:"d-none d-sm-block",children:(0,r.jsx)(I,{})}),(0,r.jsx)(ee.A,{xl:4,lg:3,md:2,xs:3,className:"text-end p-0",children:(0,r.jsxs)(se.A,{show:P,onToggle:(e,s)=>{"select"!==s.source&&E(e)},children:[(0,r.jsx)(se.A.Toggle,{as:"i",children:(0,r.jsx)("i",{className:"fa fa-user gIcon icon-bni pe-2"})}),(0,r.jsxs)(se.A.Menu,{align:"start",className:"mt-2 "+("dark"===b.userData.theme?"bg-dark text-white-50":"bg-white text-black"),children:[(null===b||void 0===b||null===(t=b.userConfig)||void 0===t?void 0:t.planName)&&(null===b||void 0===b||null===(n=b.userConfig)||void 0===n?void 0:n.planCode)&&(0,r.jsx)(se.A.Item,{as:"div",className:"p-0",children:(0,r.jsxs)("div",{style:{fontSize:"0.75rem"},className:"d-flex align-items-center justify-content-around small bni-bg rounded-top text-dark p-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("i",{className:"fa fa-diamond pe-2"}),(0,r.jsx)("span",{children:(0,r.jsx)(d.A,{id:"plan",defaultMessage:"plan"})})]}),(0,r.jsx)("div",{className:"text-truncate",children:(0,r.jsx)("span",{children:(0,r.jsx)(d.A,{id:null===b||void 0===b||null===(l=b.userConfig)||void 0===l?void 0:l.planName,defaultMessage:null===b||void 0===b||null===(o=b.userConfig)||void 0===o?void 0:o.planName})})}),(0,r.jsx)("div",{className:"text-truncate",children:null===b||void 0===b||null===(c=b.userConfig)||void 0===c?void 0:c.planCode})]})}),(0,r.jsx)(se.A.Item,{as:"div",children:(0,r.jsx)(ie.A,{onLogAction:e=>{E(!0)}})}),Boolean(Number(null===b||void 0===b||null===(u=b.userConfig)||void 0===u?void 0:u.switchSongFeatureRequired))&&(0,r.jsx)(se.A.Item,{as:"div",onClick:()=>{k(!y)},children:(0,r.jsxs)("div",{className:"options",children:[(0,r.jsx)("div",{className:"labelText",children:(0,r.jsx)(d.A,{id:"music",defaultMessage:"music"})}),(0,r.jsx)(ne.A,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===b.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===b.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:()=>{k(!y)},checked:!0===y})]})}),Boolean(Number(null===b||void 0===b||null===(h=b.userConfig)||void 0===h?void 0:h.switchVideoFeatureRequired))&&(0,r.jsx)(se.A.Item,{as:"div",onClick:()=>N(!w),children:(0,r.jsxs)("div",{className:"options",children:[(0,r.jsx)("div",{className:"labelText",children:(0,r.jsx)(d.A,{id:"video",defaultMessage:"video"})}),(0,r.jsx)(ne.A,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===b.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===b.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:()=>N(!w),checked:!0===w})]})}),Boolean(Number(null===b||void 0===b||null===(m=b.userConfig)||void 0===m?void 0:m.switchThemeFeatureRequired))&&(0,r.jsx)(se.A.Item,{as:"div",children:(0,r.jsxs)("div",{className:"options",children:[(0,r.jsx)("button",{className:`btn btn-sm rounded-circle ${"dark"===b.userData.theme?"btn-dark btn-outline-secondary":"btn-light btn-outline-dark"} ${"dark"===b.userData.theme?"active":""}`,onClick:()=>M("dark"),title:x.formatMessage({id:"dark",defaultMessage:"dark"}),children:(0,r.jsx)("i",{className:"fa fa-moon-o"})}),(0,r.jsx)("button",{className:`btn btn-sm rounded-circle ${"dark"===b.userData.theme?"btn-dark btn-outline-secondary":"btn-light btn-outline-dark"} ${"light"===b.userData.theme?"active":""}`,onClick:()=>M("light"),title:x.formatMessage({id:"light",defaultMessage:"light"}),children:(0,r.jsx)("i",{className:"fa fa-sun-o"})})]})}),j.localeList.length>0&&(0,r.jsx)(se.A.Item,{as:"div",children:(0,r.jsxs)(te.A,{style:{width:"90%",margin:"0 auto"},children:[(0,r.jsx)(te.A.Text,{children:(0,r.jsx)("i",{className:"fa fa-globe"})}),(0,r.jsx)(ae.A.Select,{value:j.localeId,size:"sm",onChange:e=>j.setLocaleId(e.target.value),children:j.localeList.map(((e,s)=>(0,r.jsx)("option",{value:e.string,children:e.label},s)))})]})}),Boolean(Number(null===v||void 0===v?void 0:v.switchSocialMediaFeatureRequired))&&A.length>0&&(0,r.jsx)(se.A.Item,{as:"div",children:(0,r.jsx)("div",{className:"options text-center",children:A.map(((e,s)=>(0,r.jsx)("a",{className:"dark"===b.userData.theme?"text-white-50":"text-black-50",href:e.href,target:"_blank",rel:"noreferrer",children:(0,r.jsx)("i",{className:`${e.icon} social-icons`})},s)))})}),(null===b||void 0===b||null===(g=b.userConfig)||void 0===g?void 0:g.expiryDateTime)&&(0,r.jsx)(se.A.Item,{as:"div",className:"p-0",children:(0,r.jsx)("div",{style:{fontSize:"0.75rem"},className:"small bni-bg rounded-bottom text-dark p-1",title:ue()(null===b||void 0===b||null===(p=b.userConfig)||void 0===p?void 0:p.expiryDateTime).format("MMM Do YYYY, h:mm:ss a").toString(),children:(0,r.jsxs)("div",{className:"text-center text-wrap",children:[(0,r.jsx)("i",{className:"fa fa-hourglass-end pe-1"}),(0,r.jsx)("span",{className:"ps-2 pe-1",children:(0,r.jsx)(d.A,{id:"expiring",defaultMessage:"expiring"})}),(0,r.jsx)("span",{className:"",children:ue()(null===b||void 0===b||null===(f=b.userConfig)||void 0===f?void 0:f.expiryDateTime,"YYYYMMDD").locale(j.localeLanguage).tz(ue().tz.guess()).fromNow()})]})})})]})]})})]})}),e.children]})};const ge=function(e){var s,t,n,l,o,d,c;const u=(0,a.useContext)(i.R),[h,m]=(0,a.useState)(!1);return(0,r.jsx)(me,{children:(0,r.jsxs)("div",{className:`application-wrapper ${null===u||void 0===u||null===(s=u.userConfig)||void 0===s?void 0:s.webLayoutType} ${"dark"===u.userData.theme?"bg-dark":"bg-white"}`,children:[(0,r.jsx)("div",{className:""}),(0,r.jsxs)("div",{className:`application-content ${null===u||void 0===u||null===(t=u.userConfig)||void 0===t?void 0:t.webMenuType}`,children:[(null===u||void 0===u||null===(n=u.userData)||void 0===n?void 0:n.userId)&&(0,r.jsxs)("div",{className:"menu-wrapper d-print-none p-0 "+(["sideMenuRight","sideMenuLeft"].includes(null===u||void 0===u||null===(l=u.userConfig)||void 0===l?void 0:l.webMenuType)?"col-sm-2":""),children:[(0,r.jsx)("div",{className:"fixed-content",children:(0,r.jsx)(O,{})}),(0,r.jsx)(_,{onNavBarToggle:()=>{m(!h)},navBarExpanded:h,onNavBarClose:()=>{m(!1)}})]}),(0,r.jsx)("div",{style:{opacity:u.userData.videoShown?.9:1},className:`wrapper ${null===(o=u.userConfig)||void 0===o?void 0:o.webLayoutType} ${"dark"===u.userData.theme?"bg-dark text-white":"bg-white text-dark"} p-0 ${null===u||void 0===u||null===(d=u.userConfig)||void 0===d?void 0:d.webMenuType} ${["sideMenuRight","sideMenuLeft"].includes(null===u||void 0===u||null===(c=u.userConfig)||void 0===c?void 0:c.webMenuType)?"col-sm-10":"col-sm-12"}`,children:(0,r.jsxs)(U.A,{children:[(0,r.jsx)(L,{}),(0,r.jsx)(w,{})]})})]}),(0,r.jsx)("div",{className:""})]})})};const pe=function(e){return(0,r.jsx)(G.A,{children:(0,r.jsx)(i.A,{children:(0,r.jsx)(re.A,{children:(0,r.jsx)(ge,{})})})})}},8311:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});t(9950);var a=t(4414);const n=e=>{let{middle:s}=e;return(0,a.jsx)("div",{className:""+(s?"d-flex align-items-center w-100 h-100 justify-content-center":""),children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120px",height:"120px",viewBox:"0 0 870.90927 799.99997",id:"svg2",version:"1.1",className:"animate__animated animate__rotateIn",style:{animation:"rotation 3s infinite linear"},children:[(0,a.jsx)("defs",{id:"defs4"}),(0,a.jsx)("g",{id:"layer1",transform:"translate(-15.331724,-41.857599)",children:(0,a.jsx)("path",{style:{opacity:1,fill:"#c2d82e",fillOpacity:1,fillRule:"nonzero",stroke:"none",strokeWidth:60,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1},d:"M 365.37878,64.741292 C 284.80804,111.29713 256.3768,213.77533 301.2855,295.27584 c 11.27662,20.46484 17.18766,43.46365 17.19278,66.82945 0.005,23.14491 -5.80462,45.92514 -16.91305,66.23006 -23.79063,43.4865 -69.07493,70.89529 -118.63329,71.8963 -93.035422,1.87918 -167.578508,77.75761 -167.600216,170.81239 -0.02201,94.33754 76.476012,170.86577 170.813536,170.81356 59.83747,-0.0331 115.21102,-31.51048 146.23497,-82.67769 12.11455,-19.9803 29.10117,-36.58343 49.33344,-48.27097 20.0409,-11.57699 42.67332,-17.93678 65.81162,-18.46919 49.5575,-1.14031 95.93627,24.37614 121.5847,66.79522 48.14632,79.62758 151.12873,106.24287 231.72518,59.73609 81.71019,-47.14945 109.73481,-151.66374 62.52068,-233.33657 -29.94729,-51.80398 -84.89193,-84.0602 -144.7163,-85.32211 -49.56642,-1.04553 -94.84858,-28.47847 -118.63329,-71.97737 -11.10377,-20.30724 -16.93811,-43.08536 -16.9107,-66.23005 0.0276,-23.35479 5.97291,-46.34549 17.19278,-66.82946 28.7458,-52.48083 28.30862,-116.16937 -1.57278,-168.01154 C 569.67468,76.880027 516.93564,44.791802 458.84609,42.047774 426.15972,40.503739 393.71166,48.36983 365.37878,64.741292 Z m 86.70669,25.246156 c 43.24816,0.4543 83.23448,23.712162 104.96196,61.345342 33.82911,58.59409 13.68226,133.78283 -44.91184,167.61194 -58.59409,33.8291 -133.78283,13.68225 -167.61193,-44.91184 -33.8291,-58.59409 -13.68226,-133.78284 44.91184,-167.61193 17.80253,-10.278169 37.90322,-15.920202 58.45403,-16.405301 1.40137,-0.03298 2.80083,-0.04285 4.19594,-0.02816 z m -0.18806,18.053122 c -1.19062,-0.0125 -2.38393,-0.005 -3.58006,0.0235 -17.5278,0.41374 -34.67149,5.22491 -49.85529,13.99116 -50.14459,28.9508 -67.25492,92.8065 -38.30411,142.95109 28.9508,50.1446 92.8065,67.25492 142.95108,38.30411 50.14459,-28.9508 67.25493,-92.8065 38.30411,-142.95109 -18.54516,-32.12125 -52.60626,-51.93343 -89.51573,-52.31878 z m -2.34596,52.34699 c 19.12026,-0.45117 36.9618,9.57117 46.52439,26.13471 14.44112,25.01323 5.87124,56.99741 -19.14148,71.4391 -25.01307,14.44185 -56.99748,5.87191 -71.43911,-19.14147 -14.44112,-25.01323 -5.87124,-56.99741 19.14148,-71.4391 7.58794,-4.38146 16.15511,-6.78615 24.91472,-6.99324 z m 2.53402,232.77709 c 45.88128,0.48166 88.30062,25.15124 111.35107,65.07584 35.89141,62.16616 14.52049,141.92243 -47.64566,177.81384 -62.16618,35.8914 -141.92005,14.52048 -177.81148,-47.64568 -35.8914,-62.16603 -14.52283,-141.92243 47.64332,-177.81383 18.88615,-10.90373 40.21125,-16.88737 62.01293,-17.40189 1.48672,-0.0397 2.96977,-0.0433 4.44982,-0.0277 z m -0.18806,18.05083 c -1.27557,-0.0144 -2.55483,0 -3.83628,0.0253 -18.77869,0.44326 -37.14444,5.5961 -53.41185,14.98794 -53.71665,31.01309 -72.0487,99.43634 -41.03559,153.15291 31.01312,53.7167 99.43396,72.05108 153.15063,41.03799 53.71665,-31.01309 72.05105,-99.43646 41.03794,-153.15303 C 527.9341,432.85395 491.44015,411.62794 451.89741,411.215 Z M 187.44507,548.36034 c 43.24818,0.45433 83.23452,23.71217 104.96196,61.34534 33.82908,58.59416 13.68224,133.78047 -44.91184,167.60961 C 188.90111,811.14443 113.71236,790.99751 79.88327,732.40346 46.054198,673.80942 66.201051,598.62299 124.7951,564.79385 c 17.80253,-10.27812 37.90322,-15.92008 58.45403,-16.40523 1.40139,-0.0289 2.80084,-0.0421 4.19594,-0.0289 z m 529.28314,0 c 43.24804,0.45433 83.23217,23.71217 104.95961,61.34534 33.82908,58.59416 13.68222,133.78047 -44.91183,167.60961 -58.59409,33.82914 -133.78049,13.68222 -167.60959,-44.91183 -33.82907,-58.59404 -13.68223,-133.78047 44.91184,-167.60961 17.80253,-10.27812 37.90321,-15.92008 58.45403,-16.40523 1.40138,-0.0289 2.80085,-0.0421 4.19594,-0.0289 z m -529.47354,18.05312 c -1.19064,-0.012 -2.38394,0 -3.58007,0.0241 -17.52781,0.41377 -34.66912,5.22481 -49.85294,13.99116 -50.144563,28.95071 -67.254901,92.80411 -38.304112,142.94869 28.950802,50.14459 92.806502,67.25497 142.951092,38.30415 50.14457,-28.95082 67.25491,-92.80423 38.30412,-142.94881 -18.54517,-32.12119 -52.60845,-51.93341 -89.51809,-52.31878 z m 529.28313,0 c -1.19063,-0.012 -2.38393,0 -3.58006,0.0241 -17.5278,0.41377 -34.66914,5.22481 -49.85294,13.99116 -50.14457,28.95071 -67.25489,92.80411 -38.30411,142.94869 28.95081,50.14459 92.80412,67.25497 142.94874,38.30415 50.14454,-28.95082 67.2549,-92.80423 38.30411,-142.94881 -18.54515,-32.12119 -52.60623,-51.93341 -89.51574,-52.31878 z m -531.62675,52.34706 c 19.12025,-0.45118 36.96179,9.57114 46.52439,26.13466 14.44111,25.01322 5.87123,56.99739 -19.14147,71.43908 -25.01367,14.44145 -56.99826,5.87044 -71.4391,-19.14377 -14.44111,-25.01322 -5.87124,-56.99738 19.14146,-71.43908 7.58816,-4.38064 16.15532,-6.78452 24.91472,-6.99089 z m 529.2808,0 c 19.12061,-0.45252 36.96314,9.56898 46.52674,26.13237 14.44227,25.01435 5.8711,57.00042 -19.14383,71.44137 -25.01368,14.44146 -56.99827,5.87044 -71.43911,-19.14377 -14.44071,-25.01384 -5.86973,-56.9982 19.14383,-71.43908 7.58746,-4.38026 16.15377,-6.78413 24.91237,-6.99089 z",id:"circle4252"})})]})})}},9845:(e,s,t)=>{"use strict";t.d(s,{A:()=>l,O:()=>r});var a=t(9950),n=t(9360),i=t(4414);const r=a.createContext(void 0),l=e=>{const{children:s,...t}=e,[l,o]=(0,a.useState)(t);return(0,a.useEffect)((()=>{document.body.scrollTop=document.documentElement.scrollTop=0}),[l]),(0,i.jsxs)(r.Provider,{value:{config:l,setConfig:o},children:[l.show?(0,i.jsx)("div",{className:"container-fluid mt-2",children:(0,i.jsxs)(n.A,{variant:l.type,className:l.className,onClose:()=>o((e=>({...e,show:!1}))),dismissible:l.dismissible,children:[l.heading&&(0,i.jsx)(n.A.Heading,{children:l.heading}),l.content&&(0,i.jsx)("div",{children:l.content})]})}):null,s]})}},1308:(e,s,t)=>{"use strict";t.d(s,{A:()=>l,F:()=>r});var a=t(9950),n=t(4570),i=t(4414);const r=(0,a.createContext)([{},()=>{}]),l=e=>{const[s,t]=(0,a.useState)({});return(0,a.useEffect)((()=>{n.A.get("/").then((e=>{const s=e.data.response[0];document.documentElement.style.setProperty("--app-theme-color",s.webThemeColor),document.documentElement.style.setProperty("--app-theme-bg-color",s.webThemeBackground),t(s)})).catch((e=>console.error(e))).finally((e=>!1))}),[]),Object.keys(s).length>0&&(0,i.jsx)(r.Provider,{value:{...s},children:e.children})}},7391:(e,s,t)=>{"use strict";t.d(s,{A:()=>u,U:()=>c});var a=t(9950),n=t(9097),i=t(4570),r=t(1397),l=t.n(r),o=t(2436),d=t(4414);const c=(0,a.createContext)([{},()=>{}]),u=e=>{var s;const[t,r]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[p,f]=(0,a.useState)({}),x=(0,a.useContext)(o.R),v=null!==(s=navigator)&&void 0!==s&&s.language?navigator.language.toLowerCase():"en",[b,j]=(0,a.useState)(v);return(0,a.useEffect)((()=>{const e=i.A.get("/getUniqueLocales");Promise.all([e]).then((e=>{const s=e[0].data.response.map((e=>({string:e.locale_string,label:e.locale_label,id:e.locale_id,currency:e.locale_currency,language:e.locale_language}))).sort(((e,s)=>e-s.locale_sort));r(s)})).catch((e=>{x.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load browser locale lists. Please try again later"})})).finally((e=>!1))}),[]),(0,a.useEffect)((()=>{if(b&&t&&t.length>0){const e=t.filter((e=>e.string===b)).length>0?b:"en",s=new FormData;s.append("localeCode",e);const a=i.A.post("/getLocale",s);Promise.all([a]).then((s=>{const a=t.filter((s=>s.string===e))[0],{currency:n,language:i}=a,r=s[0].data.response;let o=Object.entries(l().groupBy(r,"locale_string")).map((e=>({[e[0]]:Object.assign({},...e[1].map((e=>({[e.locale_key]:e.locale_value}))))})));o=Object.assign({},...o),f(o),j(e),h(n),g(i)})).catch((e=>{x.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load selected locale objects. Please try again later"})}))}}),[b,t]),(0,d.jsx)(c.Provider,{value:{localeList:t,localeId:b,setLocaleId:j,localeCurrency:u,localeLanguage:m,msg:p},children:Object.keys(p).length>0&&b&&(0,d.jsx)(n.A,{messages:p[b],locale:b,defaultLocale:b,children:e.children})})}},2436:(e,s,t)=>{"use strict";t.d(s,{A:()=>o,R:()=>l});var a=t(9950),n=t(5923),i=(t(7705),t(4570)),r=t(4414);const l=(0,a.createContext)([{},()=>{}]);const o=function(e){const s={type:"public",theme:"",audioShown:!1,videoShown:!1,email:null,imageUrl:null,name:null,source:"self",userId:null,menu:[]},t={webMenuType:"topMenu"},o=JSON.parse(localStorage.getItem("userData"))||s,d=JSON.parse(localStorage.getItem("userConfig"))||t,[c,u]=(0,a.useState)(o),[h,m]=(0,a.useState)(d),[g,p]=(0,a.useState)(!0),[f,x]=(0,a.useState)(!1),v=[{page_id:"home",hasAccessTo:["public"],href:"/",isLinkActiveOnExpiry:!1},{page_id:"dashboard",hasAccessTo:["admin","superAdmin"],href:"/dashboard",isLinkActiveOnExpiry:!0},{page_id:"category",hasAccessTo:["admin","superAdmin"],href:"/category",isLinkActiveOnExpiry:!0},{page_id:"bank",hasAccessTo:["admin","superAdmin"],href:"/bank",isLinkActiveOnExpiry:!0},{page_id:"creditCard",hasAccessTo:["admin","superAdmin"],href:"/creditCard",isLinkActiveOnExpiry:!0},{page_id:"schedules",hasAccessTo:["admin","superAdmin"],href:"/schedules",isLinkActiveOnExpiry:!0},{page_id:"moneyPlanner",hasAccessTo:["admin","superAdmin"],href:"/moneyPlanner",isLinkActiveOnExpiry:!0},{page_id:"workbook",hasAccessTo:["admin","superAdmin"],href:"/workbook",isLinkActiveOnExpiry:!0},{page_id:"billing",hasAccessTo:["admin","superAdmin"],href:"/billing",isLinkActiveOnExpiry:!1},{page_id:"settings",hasAccessTo:["superAdmin"],href:"/settings",isLinkActiveOnExpiry:!0}],b=e=>{u({...c,...e})},j=(e,s)=>{u((t=>({...t,[e]:s})))};(0,a.useEffect)((()=>{null!==c&&void 0!==c&&c.type&&y(null===c||void 0===c?void 0:c.type,f).then((e=>{j("menu",e)}))}),[c.type,f]);const y=(e,s)=>new Promise((t=>{const a=[...v].filter((t=>{var a;return s?!t.isLinkActiveOnExpiry:(null===t||void 0===t||null===(a=t.hasAccessTo)||void 0===a?void 0:a.includes(e))&&t.isLinkActiveOnExpiry}));setTimeout((()=>t(a)),[])}));(0,a.useEffect)((()=>{h.appId&&k(h.appId).then((e=>{const{data:{response:s}}=e,t={theme:s[0].webTheme,audioShown:"1"===s[0].bgSongDefaultPlay,videoShown:"1"===s[0].bgVideoDefaultPlay};u((e=>({...e,...t}))),m((e=>({...e,...s[0]})))})).catch((e=>console.error("Unable to fetch user config")))}),[h.appId]),(0,a.useEffect)((()=>{null!==h&&void 0!==h&&h.webTheme&&setTimeout((()=>{b({theme:h.webTheme})}),100)}),[h]);const k=async e=>{const s=new FormData;return s.append("appId",e),await i.A.post("/getUserConfig",s)};return(0,r.jsxs)(l.Provider,{value:{linklist:v,userData:c,addUserData:e=>{u(e)},updateUserData:j,removeUserData:e=>{const s={...c};e.forEach((e=>{delete s[e]})),u((e=>({...s})))},renderToast:e=>{let{autoClose:s=5e3,type:t="success",position:a="top-right",message:i,theme:r="colored",hideProgressBar:l=!1,closeOnClick:o=!1,pauseOnHover:d=!0,draggable:c=!0}=e;return n.oR[t](i,{autoClose:s,position:a,theme:r,hideProgressBar:l,closeOnClick:o,pauseOnHover:d,draggable:c})},openAppLoginModal:g,setOpenAppLoginModal:p,userConfig:h,setUserConfig:m,updateBulkUserData:b,defUserData:s,defUserConfig:t,getUserConfig:k,appExpired:f,setAppExpired:x,getMenus:y},children:[(0,r.jsx)(n.N9,{className:"bniToaster"}),e.children]})}},2860:(e,s,t)=>{"use strict";t.d(s,{S:()=>n,p:()=>a});const a=()=>"https://apps.bharani.tech/services",n="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0.By2r2BwheJsbrEGrHOaMQwrrmlY7wHVFzWtuEmv39fM"},4570:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(9246),n=t(2860);const i=a.A.create({baseURL:(0,n.p)(),headers:{Authorization:n.S}})},477:()=>{},2959:()=>{},9838:()=>{}}]);