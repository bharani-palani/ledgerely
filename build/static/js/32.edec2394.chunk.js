(this["webpackJsonpledgerely.com"]=this["webpackJsonpledgerely.com"]||[]).push([[32],{1079:function(e,a,t){"use strict";t.r(a);var n=t(28),i=t(39),d=t(29),o=t(25),r=t(26),u=t(1),m=t(55),c=t.n(m),l=t(50),_=t(785),s=t(1267),f=t(49),b=t(44),p=t(41),v=t(96),h=t(74),j=t(0),g=Object(u.lazy)((function(){return t.e(11).then(t.bind(null,275)).then((function(e){return{default:e.VerticalPanes}}))})),O=Object(u.lazy)((function(){return t.e(11).then(t.bind(null,275)).then((function(e){return{default:e.Pane}}))})),y=Object(u.lazy)((function(){return Promise.all([t.e(7),t.e(25),t.e(67)]).then(t.bind(null,1166))})),I=Object(u.lazy)((function(){return t.e(62).then(t.bind(null,1167))})),w=Object(u.lazy)((function(){return Promise.all([t.e(1),t.e(18)]).then(t.bind(null,1168))})),k=Object(u.lazy)((function(){return t.e(24).then(t.bind(null,1227))})),x=Object(u.lazy)((function(){return Promise.all([t.e(2),t.e(4),t.e(7),t.e(23),t.e(29)]).then(t.bind(null,1219))}));a.default=function(e){var a,t=Object(_.a)(),m=Object(u.useContext)(h.a);document.title="".concat(m.appName," - ").concat(t.formatMessage({id:"workbook",defaultMessage:"workbook"}));var S=Object(u.useRef)(null),R=Object(u.useContext)(p.a),L=[{id:Object(s.a)(),order:0,label:"".concat(t.formatMessage({id:"sheet",defaultMessage:"sheet"})," 1"),charts:[],zoom:100}],B=Object(u.useState)(L),C=Object(r.a)(B,2),F=C[0],D=C[1],z=Object(u.useState)(""),E=Object(r.a)(z,2),T=E[0],N=E[1],U=Object(u.useState)(""),M=Object(r.a)(U,2),P=M[0],V=M[1],A=Object(u.useState)(!1),H=Object(r.a)(A,2),J=H[0],W=H[1],Z=Object(u.useState)({start:"10%",middle:"75%",end:"20%",expanded:!0}),Q=Object(r.a)(Z,2),X=Q[0],Y=Q[1],$=Object(u.useState)({id:null,name:"",appId:R.userConfig.appId,isSaved:!0}),q=Object(r.a)($,2),G=q[0],K=q[1],ee=Object(u.useState)(!1),ae=Object(r.a)(ee,2),te=ae[0],ne=ae[1],ie=Object(u.useState)([]),de=Object(r.a)(ie,2),oe=de[0],re=de[1],ue=function(){var e=new FormData;e.append("appId",R.userConfig.appId),f.a.post("workbook/getSavedQueryLists",e).then((function(e){var a=e.data;W(a.response)})).catch((function(e){return R.renderToast({type:"error",icon:"fa fa-times-circle",position:"bottom-center",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}))},me=function(e){var a=F.map((function(a){return a.id===T&&(a.charts=a.charts.filter((function(a){return a.id!==e}))),a}));D(a),K((function(e){return Object(o.a)(Object(o.a)({},e),{},{isSaved:!1})}))},ce=function(){var e=Object(d.a)(Object(n.a)().mark((function e(a){var d,r,u;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(d=F.filter((function(e){return e.id===T}))[0])||void 0===d?void 0:d.charts).length<b.c.chartLimit?(r=Object(s.a)(),u=F.map((function(e){return e.id===T&&(e.charts=[].concat(Object(i.a)(e.charts),[Object(o.a)(Object(o.a)({},a),{},{id:r,x:0,y:0,z:0})])),e})),D(u),setTimeout((function(){V(r),K((function(e){return Object(o.a)(Object(o.a)({},e),{},{isSaved:!1})}))}),100)):R.renderToast({type:"warn",icon:"fa fa-exclamation-triangle",position:"bottom-center",message:t.formatMessage({id:"chartLimitExceeded",defaultMessage:"chartLimitExceeded"})});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),le=function(e){e.preventDefault(),e.stopImmediatePropagation();return e.returnValue="",e.returnValue},_e=function(e){if(("Delete"===e.key||"Backspace"===e.key)&&"text"!==document.activeElement.type){var a=Object(i.a)(document.body.classList);S.current&&!a.includes("modal-open")&&me(P)}};Object(u.useEffect)((function(){ue()}),[]),Object(u.useEffect)((function(){return G.isSaved||window.addEventListener("beforeunload",le,{capture:!0}),function(){window.removeEventListener("beforeunload",le,{capture:!0})}}),[G]),Object(u.useEffect)((function(){return Object(i.a)(F).map((function(e){return e.charts.filter((function(e){return e.id===P})).length>0})).every((function(e){return!1===e}))&&V(""),document.body.addEventListener("keydown",_e),function(){document.body.removeEventListener("keydown",_e)}}),[F,P]);return Object(j.jsx)(u.Suspense,{fallback:Object(j.jsx)("div",{className:"relativeSpinner middle",children:Object(j.jsx)(c.a,{type:l.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}),children:Object(j.jsxs)(v.a.Provider,{value:{defaultSheet:L,sheets:F,setSheets:D,theme:R.userData.theme,activeSheet:T,setActiveSheet:N,activeChart:P,setActiveChart:V,deleteChart:me,cloneChart:ce,workbookRef:S,file:G,setFile:K,saveLoading:te,setSaveLoading:ne,savedWorkbooks:oe,setSavedWorkbooks:re,savedQueryList:J,setSavedQueryList:W,fetchSavedQueryList:ue},children:[Object(j.jsx)(I,{}),Object(j.jsxs)("div",{className:"workbook container-fluid small d-none d-sm-block",ref:S,children:[Object(j.jsxs)(g,{theme:R.userData.theme,className:"border border-1 ".concat(null===R||void 0===R||null===(a=R.userConfig)||void 0===a?void 0:a.webMenuType," ").concat("dark"===R.userData.theme?"border-secondary":""," rounded-top"),children:[Object(j.jsx)(O,{width:X.start,className:"text-center overflow-auto",children:Object(j.jsx)(w,{})}),Object(j.jsx)(O,{width:P?X.middle:"100%",className:"border border-1 ".concat("dark"===R.userData.theme?"border-secondary":""," border-top-0 border-bottom-0"),children:Object(j.jsx)(k,{})}),P&&Object(j.jsxs)(O,{width:X.end,className:"position-relative",children:[Object(j.jsx)("button",{className:"btn btn-sm btn-bni position-absolute",style:Object(o.a)({left:"-30px",paddingBottom:"2px"},X.expanded?{borderRadius:"0"}:{borderRadius:"0 0.25rem 0 0"}),onClick:function(){Y((function(e){return Object(o.a)(Object(o.a)({},e),{},{middle:X.expanded?"95%":"75%",end:X.expanded?"0%":"25%",expanded:!X.expanded})}))},children:Object(j.jsx)("i",{className:"fa fa-arrow-".concat(X.expanded?"right":"left")})}),Object(j.jsx)("div",{className:"",style:Object(o.a)({},X.expanded?{display:"block"}:{display:"none"}),children:Object(j.jsx)(x,{})})]})]}),Object(j.jsx)(y,{})]})]})})}},1267:function(e,a,t){"use strict";var n,i=new Uint8Array(16);function d(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var r=function(e){return"string"===typeof e&&o.test(e)},u=[],m=0;m<256;++m)u.push((m+256).toString(16).substr(1));var c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(u[e[a+0]]+u[e[a+1]]+u[e[a+2]]+u[e[a+3]]+"-"+u[e[a+4]]+u[e[a+5]]+"-"+u[e[a+6]]+u[e[a+7]]+"-"+u[e[a+8]]+u[e[a+9]]+"-"+u[e[a+10]]+u[e[a+11]]+u[e[a+12]]+u[e[a+13]]+u[e[a+14]]+u[e[a+15]]).toLowerCase();if(!r(t))throw TypeError("Stringified UUID is invalid");return t};a.a=function(e,a,t){var n=(e=e||{}).random||(e.rng||d)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,a){t=t||0;for(var i=0;i<16;++i)a[t+i]=n[i];return a}return c(n)}},44:function(e,a,t){"use strict";t.d(a,"g",(function(){return o})),t.d(a,"e",(function(){return i})),t.d(a,"f",(function(){return d})),t.d(a,"d",(function(){return r})),t.d(a,"b",(function(){return u})),t.d(a,"a",(function(){return m})),t.d(a,"c",(function(){return c}));var n=t(43),i="#c2d82e",d="#000000",o=n.N("body").append("div").attr("class","tooltip").attr("role","tooltip").style("position","absolute").style("background","#222222").style("border-radius","5px").style("color","#ffffff"),r=[{id:"animate__animated animate__bounce",value:"Bounce"},{id:"animate__animated animate__flash",value:"Flash"},{id:"animate__animated animate__pulse",value:"Pulse"},{id:"animate__animated animate__rubberBand",value:"Rubberband"},{id:"animate__animated animate__shakeX",value:"Shake horizontal"},{id:"animate__animated animate__shakeY",value:"Shake vertical"},{id:"animate__animated animate__headShake",value:"Headshake"},{id:"animate__animated animate__swing",value:"Swing"},{id:"animate__animated animate__tada",value:"Tada"},{id:"animate__animated animate__wobble",value:"Wobble"},{id:"animate__animated animate__jello",value:"Jello"},{id:"animate__animated animate__heartBeat",value:"Heart beat"},{id:"animate__animated animate__backInDown",value:"Back in down"},{id:"animate__animated animate__backInLeft",value:"Back in left"},{id:"animate__animated animate__backInRight",value:"Back in right"},{id:"animate__animated animate__backInUp",value:"Back in up"},{id:"animate__animated animate__bounceIn",value:"Bounce in"},{id:"animate__animated animate__bounceInDown",value:"Bounce in down"},{id:"animate__animated animate__bounceInLeft",value:"Bounce in left"},{id:"animate__animated animate__bounceInRight",value:"Bounce in right"},{id:"animate__animated animate__bounceInUp",value:"Bounce in up"},{id:"animate__animated animate__fadeIn",value:"Fade in"},{id:"animate__animated animate__fadeInDown",value:"Fade in down"},{id:"animate__animated animate__fadeInDownBig",value:"Fade in down big"},{id:"animate__animated animate__fadeInLeft",value:"Fade in left"},{id:"animate__animated animate__fadeInLeftBig",value:"Fadeinleftbig"},{id:"animate__animated animate__fadeInRight",value:"Fade in right"},{id:"animate__animated animate__fadeInRightBig",value:"Fade in right big"},{id:"animate__animated animate__fadeInUp",value:"Fade in up"},{id:"animate__animated animate__fadeInUpBig",value:"Fade in up big"},{id:"animate__animated animate__fadeInTopLeft",value:"Fade in top left"},{id:"animate__animated animate__fadeInTopRight",value:"Fade in top right"},{id:"animate__animated animate__fadeInBottomLeft",value:"Fade in bottom left"},{id:"animate__animated animate__fadeInBottomRight",value:"Fade in bottom right"},{id:"animate__animated animate__flip",value:"Flip"},{id:"animate__animated animate__flipInX",value:"Flipin horizontal"},{id:"animate__animated animate__flipInY",value:"Flipin vertical"},{id:"animate__animated animate__lightSpeedInRight",value:"Light speed in right"},{id:"animate__animated animate__lightSpeedInLeft",value:"Light speed in left"},{id:"animate__animated animate__rotateIn",value:"Rotate in"},{id:"animate__animated animate__rotateInDownLeft",value:"Rotate in down left"},{id:"animate__animated animate__rotateInDownRight",value:"Rotate in down right"},{id:"animate__animated animate__rotateInUpLeft",value:"Rotate in up left"},{id:"animate__animated animate__rotateInUpLeft",value:"Rotate in up left"},{id:"animate__animated animate__jackInTheBox",value:"Jack in the box"},{id:"animate__animated animate__rollIn",value:"Roll in"},{id:"animate__animated animate__zoomIn",value:"Zoom in"},{id:"animate__animated animate__zoomInDown",value:"Zoom in down"},{id:"animate__animated animate__zoomInLeft",value:"Zoom in left"},{id:"animate__animated animate__zoomInRight",value:"Zoom in right"},{id:"animate__animated animate__zoomInUp",value:"Zoom in up"},{id:"animate__animated animate__slideInDown",value:"Slide in down"},{id:"animate__animated animate__slideInLeft",value:"Slide in left"},{id:"animate__animated animate__slideInRight",value:"Slide in right"},{id:"animate__animated animate__slideInUp",value:"Slide in up"}],u={0:"CIRCULAR",1:"BAR",2:"DISTRIBUTION",3:"CORRELATION",4:"SHAPES",5:"EMOJI"},m={minWidth:100,maxWidth:1e3,minHeight:100,maxHeight:1e3},c={chartLimit:Math.pow(2,5),sheetLimit:Math.pow(2,4)}},96:function(e,a,t){"use strict";var n=t(1),i=t.n(n).a.createContext({});a.a=i}}]);