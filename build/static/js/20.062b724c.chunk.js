(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[20],{1278:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(27),s=n(76),i=n(25),o=n(28),l=n(38),u=n(138),d=n(0),b=["component"],f=function(e){var t=e.component,n=Object(o.a)(e,b);return Object(d.jsx)(u.a.Consumer,{children:function(e){return Object(d.jsx)(l.a.Consumer,{children:function(e){return Object(d.jsx)(s.b,Object(i.a)(Object(i.a)({},n),{},{render:function(a){return n.accessGiven.includes(e.userData.type)?Object(d.jsx)(t,Object(i.a)({},a)):Object(d.jsx)(s.a,{to:{pathname:"error",state:{from:a.location}}})}}))}})}})},j=n(64),h=n(1260);var m=function(){var e=Object(a.useContext)(l.a);return Object(d.jsx)("div",{className:"pt-5",children:Object(d.jsx)("div",{className:"pt-5",children:Object(d.jsxs)("div",{className:"pt-5 text-center",children:[Object(d.jsxs)("h1",{className:"",children:[Object(d.jsx)(h.a,{id:"oops",defaultMessage:"oops"}),"!"]}),Object(d.jsx)("h1",{className:"text-danger",children:"404"}),Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)(h.a,{id:"sorryYourRequestedPageCannotBeFound",defaultMessage:"sorryYourRequestedPageCannotBeFound"}),"!"]}),Object(d.jsx)("hr",{className:"hr"}),Object(d.jsxs)("div",{className:"py-2",children:[Object(d.jsxs)(j.a,{to:"/",className:"me-2 btn ".concat("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[Object(d.jsx)("i",{className:"fa fa-home"})," ",Object(d.jsx)(h.a,{id:"home",defaultMessage:"home"})]}),Object(d.jsxs)("a",{rel:"noopener noreferrer",href:"mailto:".concat(e.userConfig.email),className:"btn ".concat("dark"===e.userData.theme?"btn-outline-light":"btn-outline-dark"),children:[Object(d.jsx)("i",{className:"fa fa-envelope"})," ",Object(d.jsx)(h.a,{id:"support",defaultMessage:"support"})]})]})]})})})},p=Object(s.i)((function(e){var t=Object(a.useContext)(l.a),n=t.userData.menu;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(s.d,{children:[n.length>0&&n.map((function(e,t){return Object(d.jsx)(f,{accessGiven:e.hasAccessTo,exact:!0,path:e.href,component:e.component},t)})),t.userData.userId&&Object(d.jsx)(s.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)(s.a,{to:"/dashboard"})}}),Object(d.jsx)(s.b,{path:"*",component:m})]})})})),g=n(1283),O=n.p+"static/media/brandLogo.5bbcd38a.png",v=n(43),x=n(777),y=n(289),w=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){var t=function(t){t.key===e&&s(!0)},n=function(t){t.key===e&&s(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}}),[e]),c},k=n(47),N=n(140),C=n.n(N),S=function(e){var t=Object(a.useState)({}),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(a.useRef)(null),u=Object(a.useRef)(null),b={category:"incExpCat",bank:"bank",creditCard:"creditCard",ccTransactions:"creditCardTransactions",bankTransactions:"bankTransactions",workbook:"workbook"},f=function(e){var t=e.item,n=e.active,a=e.setSelected,c=e.setHovered;return Object(d.jsx)("li",{className:"list-group-item cursor-pointer small px-2 py-1 border-0 rounded-0 ".concat("dark"===E.userData.theme?"bg-dark text-light":"bg-white text-dark"," ").concat(n?"bni-bg bni-text":""," "),style:{},onClick:function(){return a(t)},onMouseEnter:function(){c(t.id),I(t.id)},onMouseLeave:function(){return c(void 0)},children:t.name})},j=Object(a.useState)(void 0),m=Object(r.a)(j,2),p=m[0],g=m[1],O=w("ArrowDown"),N=w("ArrowUp"),S=w("Enter"),M=Object(a.useState)(void 0),D=Object(r.a)(M,2),T=D[0],I=D[1],A=Object(a.useState)(void 0),U=Object(r.a)(A,2),P=U[0],_=U[1],F=Object.keys(s).map((function(e){var t;return(t=[]).concat.apply(t,Object(v.a)(s[e]))})).flat();Object(a.useEffect)((function(){F.length&&O&&I((function(e){var t,n,a=F.findIndex((function(t){return t.id===e}));return a<F.length-1?(null===(t=F[a+1])||void 0===t?void 0:t.id)||e:null===(n=F[0])||void 0===n?void 0:n.id}))}),[O]),Object(a.useEffect)((function(){Object.keys(s).length&&N&&I((function(e){var t,n,a=F.findIndex((function(t){return t.id===e}));return a-1>-1?(null===(t=F[a-1])||void 0===t?void 0:t.id)||e:null===(n=F[F.length-1])||void 0===n?void 0:n.id}))}),[N]),Object(a.useEffect)((function(){if(Object.keys(s).length&&S){var e=F.findIndex((function(e){return e.id===T}));g(F[e]),Z()}}),[T,S]),Object(a.useEffect)((function(){Object.keys(s).length&&P&&I((function(e){var t,n=F.findIndex((function(t){return t.id===e}));return(null===(t=F[n])||void 0===t?void 0:t.id)||e}))}),[P]),Object(a.useEffect)((function(){p&&(J(null===p||void 0===p?void 0:p.name),W(!1),y.a.push("".concat(p.target)))}),[p]);var L=Object(x.a)(),E=Object(a.useContext)(l.a),B=Object(a.useState)(""),K=Object(r.a)(B,2),R=K[0],J=K[1],Y=Object(a.useState)(!1),z=Object(r.a)(Y,2),H=z[0],W=z[1],V=Object(a.useState)(!1),X=Object(r.a)(V,2),q=X[0],G=X[1],Q=Object(a.useCallback)(C()((function(e){e.target.value?(G(!0),$(e.target.value).then((function(e){var t=e.data.response;t?(W(!0),i(t)):(W(!1),i([]))})).catch((function(){return W(!1)})).finally((function(){return G(!1)})),13!==e.which&&13!==e.keyCode||Z()):(W(!1),i([]))}),500),[E.userConfig.appId]),Z=function(){null!==p&&void 0!==p&&p.target&&y.a.push(p.target)},$=function(e){var t=new FormData;return t.append("searchString",e),t.append("appId",E.userConfig.appId),k.a.post("/dashboard/searchTopics",t)},ee=function(e){u.current&&!u.current.contains(e.target)&&W(!1)};return Object(a.useEffect)((function(){return document.addEventListener("click",ee,!0),function(){document.removeEventListener("click",ee,!0)}}),[]),Object(d.jsxs)("div",{className:"position-relative",ref:u,children:[Object(d.jsxs)("div",{className:"input-group input-group-sm",children:[Object(d.jsx)("span",{className:"btn border border-1 border-end-0 rounded-start-0 border-".concat("dark"===E.userData.theme?"secondary":""," btn-").concat("dark"===E.userData.theme?"transparent":"white"),children:q?Object(d.jsx)("i",{className:"fa fa-circle-o-notch fa-spin text-".concat("dark"===E.userData.theme?"secondary":"dark")}):Object(d.jsx)("i",{className:"fa fa-search text-".concat("dark"===E.userData.theme?"secondary":"dark")})}),Object(d.jsx)("input",{ref:o,type:"text",spellCheck:"false",placeholder:L.formatMessage({id:"globalSearch",defaultMessage:"globalSearch"}),className:"form-control shadow-none rounded-end-0 form-control-sm text-secondary border-".concat("dark"===E.userData.theme?"secondary text-secondary":"1 text-dark"," bg-transparent"),onChange:function(e){Q(e),J(e.target.value)},onKeyDown:function(e){J(e.target.value)},value:R}),R&&Object(d.jsx)("button",{className:"btn border border-1 border-start-0 rounded-end-0 border-".concat("dark"===E.userData.theme?"secondary":""," btn-").concat("dark"===E.userData.theme?"transparent":"white"),onClick:function(){J(""),W(!1),o.current.focus()},children:Object(d.jsx)("i",{className:"fa fa-times text-".concat("dark"===E.userData.theme?"secondary":"dark")})})]}),H&&Object(d.jsx)("div",{className:"position-absolute w-100",children:Object(d.jsxs)("ul",{className:"list-group rounded-bottom p-0 rounded-top-0 border ".concat("dark"===E.userData.theme?"bg-dark border-secondary":"bg-light border-1"," border-top-0"),style:{opacity:.9},children:[Object.keys(s).length>0?Object.keys(s).map((function(e,t){return Object(d.jsx)(c.a.Fragment,{children:Object(d.jsxs)("li",{className:"p-0 list-group-item border-0",style:{},children:[Object(d.jsx)("div",{className:"fw-bolder px-1 py-1 ".concat("dark"===E.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:Object(d.jsx)("span",{className:"badge ".concat("dark"===E.userData.theme?"bg-secondary":"bg-white text-dark border border-1"),children:Object(d.jsx)(h.a,{id:b[e],defaultMessage:b[e]})})}),Object(d.jsx)("ul",{className:"list-group",children:s[e].map((function(e,t){return Object(d.jsx)(f,{active:e.id===T,item:e,setSelected:g,setHovered:_},e.id)}))})]})},t)})):Object(d.jsx)("li",{className:"p-1 list-group-item border-0 small ".concat("dark"===E.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:Object(d.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),F.length>0&&Object(d.jsx)("li",{className:"p-0 px-1 pb-1 list-group-item border-0 ".concat("dark"===E.userData.theme?"bg-dark text-light":"bg-white text-dark"),style:{},children:Object(d.jsxs)("div",{className:"text-end fst-italic small",children:[Object(d.jsx)("span",{children:"\u2191"}),Object(d.jsx)("span",{className:"px-1",children:F.length}),Object(d.jsx)("span",{children:Object(d.jsx)(h.a,{id:"recordsFound",defaultMessage:"recordsFound"})})]})})]})})]})},M=function(e){var t=Object(a.useContext)(l.a),n=e.onNavBarToggle,c=e.navBarExpanded,r=t.userData.menu;return Object(d.jsx)("div",{className:"mobile-menu",children:Object(d.jsxs)(g.a,{style:{top:"45px"},className:"py-0 ps-2 pe-2 justify-content-between ".concat("dark"===t.userData.theme?"bg-dark":"bg-white"),fixed:"top",onToggle:n,expanded:c,expand:"lg",children:[Object(d.jsx)(g.a.Brand,{className:"navbar-brand pt-2 me-0",style:{flexBasis:"10%"},children:Object(d.jsx)(j.a,{to:"/dashboard",children:Object(d.jsx)("img",{className:"img-fluid",src:O,style:{width:"40px",height:"40px"}})})}),Object(d.jsx)("div",{style:{flexBasis:"75%"},children:Object(d.jsx)(S,{})}),Object(d.jsx)(g.a.Toggle,{style:{boxShadow:"none",flexBasis:"5%"},className:"p-0 pe-1 fs-2 btn text-secondary border-1","aria-controls":"basic-navbar-nav",bsPrefix:"navbar-toggle",children:Object(d.jsx)("i",{className:"fa fa-bars icon-bni"})}),Object(d.jsx)(g.a.Collapse,{children:Object(d.jsx)("ul",{className:"header-menu",children:r.map((function(e,a){return Object(d.jsx)("li",{children:Object(d.jsx)(j.a,{className:"dark"===t.userData.theme?"link-light":"link-dark",onClick:n,to:e.href,children:Object(d.jsx)(h.a,{id:e.page_id,defaultMessage:e.page_id})})},a)}))})})]})})},D=function(e){var t,n,c,r,s,i=Object(a.useContext)(l.a),o=i.userData.menu;return Object(d.jsx)("header",{className:"vertical-header ".concat(null===i||void 0===i||null===(t=i.userConfig)||void 0===t?void 0:t.webLayoutType),children:Object(d.jsx)("div",{className:"vertical-header-wrapper ".concat(null===i||void 0===i||null===(n=i.userConfig)||void 0===n?void 0:n.webMenuType),children:Object(d.jsxs)("nav",{className:"nav-menu ".concat(null===(c=i.userConfig)||void 0===c?void 0:c.webMenuType," ").concat(null===i||void 0===i||null===(r=i.userConfig)||void 0===r?void 0:r.webLayoutType," ").concat("dark"===i.userData.theme?"bg-dark":"bg-white"),children:[Object(d.jsx)("div",{className:"nav-header",children:Object(d.jsx)("span",{className:"",children:Object(d.jsx)(j.a,{to:"/dashboard",children:Object(d.jsx)("img",{className:"brand img-fluid",src:O,style:{width:"40",height:"40"}})})})}),Object(d.jsx)("ul",{className:"header-menu ".concat(null===i||void 0===i||null===(s=i.userConfig)||void 0===s?void 0:s.webMenuType),children:o.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)(j.a,{className:"dark"===i.userData.theme?"text-white-50":"text-black",to:e.href,children:Object(d.jsx)(h.a,{id:e.page_id,defaultMessage:e.page_id})})},t)}))})]})})})},T=n(65),I=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,1267)).then((function(e){return{default:e.ExpiryHeading}}))})),A=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,1267)).then((function(e){return{default:e.ExpiryContent}}))})),U=function(e){var t=Object(s.g)(),n=Object(a.useContext)(l.a),c=Object(a.useContext)(T.a),r=n.setAppExpired;return Object(a.useEffect)((function(){var e=setInterval((function(){(function(e){var t=+new Date(e)-+new Date;return Math.floor(t/1e3)})(n.userConfig.expiryDateTime)<=0&&(r(!0),t.push("/billing"),setTimeout((function(){clearInterval(e),c.setConfig({show:!1}),c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!1,heading:Object(d.jsx)(I,{}),content:Object(d.jsx)(A,{})})}),1e3))}),1e3);return function(){return clearInterval(e)}}),[n.userConfig.expiryDateTime]),Object(d.jsx)(a.Suspense,{children:null})};var P=function(e){var t,n,i,o,u,b,f,j=Object(a.useContext)(l.a),h=Object(a.useState)(!1),m=Object(r.a)(h,2),g=m[0],O=m[1];return Object(d.jsx)(c.a.Fragment,{children:Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(s.c,{history:y.a,children:Object(d.jsxs)("div",{className:"application-wrapper ".concat(null===j||void 0===j||null===(t=j.userConfig)||void 0===t?void 0:t.webLayoutType," ").concat("dark"===j.userData.theme?"bg-dark":"bg-white"),children:[Object(d.jsx)("div",{className:""}),Object(d.jsxs)("div",{className:"application-content ".concat(null===j||void 0===j||null===(n=j.userConfig)||void 0===n?void 0:n.webMenuType),children:[(null===j||void 0===j||null===(i=j.userData)||void 0===i?void 0:i.userId)&&Object(d.jsxs)("div",{className:"menu-wrapper d-print-none p-0 ".concat(["sideMenuRight","sideMenuLeft"].includes(null===j||void 0===j||null===(o=j.userConfig)||void 0===o?void 0:o.webMenuType)?"col-sm-2":""),children:[Object(d.jsx)("div",{className:"fixed-content",children:Object(d.jsx)(D,{})}),Object(d.jsx)(M,{onNavBarToggle:function(){O(!g)},navBarExpanded:g,onNavBarClose:function(){O(!1)}})]}),Object(d.jsx)("div",{style:{opacity:j.userData.videoShown?.9:1},className:"wrapper ".concat(null===(u=j.userConfig)||void 0===u?void 0:u.webLayoutType," ").concat("dark"===j.userData.theme?"bg-dark text-white":"bg-white text-dark"," p-0 ").concat(null===j||void 0===j||null===(b=j.userConfig)||void 0===b?void 0:b.webMenuType," ").concat(["sideMenuRight","sideMenuLeft"].includes(null===j||void 0===j||null===(f=j.userConfig)||void 0===f?void 0:f.webMenuType)?"col-sm-10":"col-sm-12"),children:Object(d.jsxs)(T.b,{children:[Object(d.jsx)(U,{}),Object(d.jsx)(p,{})]})})]}),Object(d.jsx)("div",{className:""})]})})})})},_=(n(789),n.p,n(451),n(29)),F=n(35),L=n(5),E=n(6),B=n(1233),K=n(1277),R=n(892),J=n(1237),Y=n(1245),z=n(303),H=n.n(z),W=n(472),V=function(){function e(t){var n=this;Object(L.a)(this,e),this.uploadFile=function(e){return new J.a({client:new B.a(n.config),leavePartsOnError:!1,params:Object(i.a)(Object(i.a)({},e),{},{Bucket:n.Bucket})})},this.deleteFile=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a,c;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(i.a)({Bucket:n.Bucket},Object.keys(t).length>0&&Object(i.a)({},t)),c=new K.a(n.config).deleteObject(a),e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteFolder=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t,a){var c;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={Bucket:n.Bucket,Prefix:t},new K.a(n.config).listObjects(c,(function(e,t){if(e)return a({status:"fail"});0===t.Contents.length&&a({status:"success"}),(c={Bucket:n.Bucket}).Delete={Objects:[]},t.Contents.forEach((function(e){c.Delete.Objects.push({Key:e.Key})})),new K.a(n.config).deleteObjects(c,(function(e,t){if(e)return a({status:"fail"});t.IsTruncated?n.self.deleteFolder(n.Bucket,a):a({status:"success"})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.renameFile=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.Bucket,e.abrupt("return",new K.a(n.config).copyObject({Bucket:a,CopySource:"".concat(a,"/").concat(t.oldKey),Key:t.newKey},(function(){new K.a(n.config).deleteObject({Bucket:a,Key:t.oldKey})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renameFolder=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a,c,r,s,i,o;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.Bucket,c="".concat(t.oldKey,"/"),r="".concat(t.newKey),e.prev=3,e.next=6,new K.a(n.self.config).listObjects({Bucket:a,Prefix:c});case 6:return s=e.sent,i=s.Contents,o=s.Prefix,e.next=11,Promise.all(i.map(function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var c,s;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={Bucket:a,CopySource:"".concat(a,"/").concat(t.Key),Key:"".concat(r,"/").concat(t.Key.replace(o,""))},e.next=3,new K.a(n.self.config).copyObject(c);case 3:return s={Bucket:a,Key:t.Key},e.next=6,new K.a(n.self.config).deleteObject(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),this.isUrlInternal=function(e){return"https:"!==(e?e.split("/"):["/"])[0]},this.getSignedUrl=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a,c,r,s,i,o,l;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isUrlInternal(t)){e.next=13;break}return a=t.split("/").slice(1,t.length).join("/"),c=t?t.split("/"):["/"],r=c[c.length-1].split(".").pop(),s={Bucket:n.Bucket,Key:a,expiresIn:n.expiresIn},i=new B.a(n.config),o=new R.a(s),e.next=9,Object(Y.a)(i,o,{expiresIn:n.expiresIn});case 9:return l=e.sent,e.abrupt("return",{url:l,path:a,extension:r});case 13:return e.abrupt("return",{url:t,path:"",extension:""});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.downloadToBrowser=function(e){var t=e.split("/"),a=t[t.length-1],c=e.split("/").slice(1,e.split("/").length).join("/");n.getSignedUrl(c,n.expiresIn,n.Bucket).then((function(e){var t=document.createElement("a");t.setAttribute("target","_blank"),t.setAttribute("href",e),t.setAttribute("download",a),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},this.fetchStream=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a,c;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new B.a(n.config),e.next=3,a.send(new R.a({Bucket:n.Bucket,Key:t})).then(function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var n,a,c,r,s;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.Body.pipeThrough(new TextDecoderStream("utf-8")).getReader(),a=[];case 2:return e.next=5,n.read();case 5:if(c=e.sent,r=c.value,!c.done){e.next=10;break}return e.abrupt("break",13);case 10:a.push(r),e.next=2;break;case 13:return s=a.join(""),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.Bucket=t.aws_s3_bucket,this.expiresIn=86400,this.config={region:H.a.AES.decrypt(t.aws_s3_region,t[W.c]).toString(H.a.enc.Utf8),credentials:{accessKeyId:H.a.AES.decrypt(t.aws_s3_access_key_id,t[W.c]).toString(H.a.enc.Utf8),secretAccessKey:H.a.AES.decrypt(t.aws_s3_secret_access_key,t[W.c]).toString(H.a.enc.Utf8)}},this.self=this}return Object(E.a)(e,[{key:"getBuckeName",value:function(){return this.Bucket}},{key:"fetchFileFolder",value:function(e){var t=Object(i.a)({Bucket:this.Bucket},Object.keys(e).length>0&&Object(i.a)({},e));return new K.a(this.config).listObjects(t)}}]),e}(),X=n(434),q=n(127),G=function(){function e(t){var n=this;Object(L.a)(this,e),this.uploadFile=function(e){var t=new q;return t.done=function(){var a={onUploadProgress:function(n){var a={loaded:n.loaded,total:n.total,Key:e.Key};t.emit("httpUploadProgress",a)}},c=new FormData;return c.append("X-Access-Key",n.config.fileStorageAccessKey),c.append("file",e.Body),c.append("folder",e.Key.split("/").slice(0,-1).join("/")),k.a.post("/api/media/upload",c,a)},t},this.renameFile=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({fromFileURL:t.oldKey,toFileURL:t.newKey,"X-Access-Key":n.config.fileStorageAccessKey}).toString(),e.abrupt("return",k.a.get("/api/media/renameFile?".concat(a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renameFolder=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({fromFileURL:t.oldKey,toFileURL:t.newKey,"X-Access-Key":n.config.fileStorageAccessKey}).toString(),e.abrupt("return",k.a.get("/api/media/renameFile?".concat(a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteFolder=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t,a){var c;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new URLSearchParams({fileURL:t,"X-Access-Key":n.config.fileStorageAccessKey}).toString(),k.a.get("/api/media/deleteFile?".concat(c)).then((function(e){return a({status:"success"})})).catch((function(){return a({status:"fail"})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.isUrlInternal=function(e){return"https:"!==(e?e.split("/"):["/"])[0]},this.getSignedUrl=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a,c,r,s,i,o,l=arguments;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>1&&void 0!==l[1]?l[1]:"0",!n.isUrlInternal(t)){e.next=10;break}return c=t.split("/").slice(1,t.length).join("/"),r=t?t.split("/"):["/"],s=r[r.length-1].split(".").pop(),i=new URLSearchParams({fileURL:c,"X-Access-Key":n.config.fileStorageAccessKey,downloadable:a}).toString(),o="".concat(Object(X.a)(),"/api/media/render?").concat(i),e.abrupt("return",{url:o,path:c,extension:s});case 10:return e.abrupt("return",{url:t,path:"",extension:""});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.downloadToBrowser=function(e){var t=e.split("/"),a=t[t.length-1];n.getSignedUrl(e,"1").then((function(e){var t=document.createElement("a");t.setAttribute("target","_blank"),t.setAttribute("href",e.url),t.setAttribute("download",a),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},this.fetchStream=function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var a,c;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({fileURL:t,"X-Access-Key":n.config.fileStorageAccessKey}).toString(),c="".concat(Object(X.a)(),"/api/media/render?").concat(a),e.abrupt("return",fetch(c).then(function(){var e=Object(F.a)(Object(_.a)().mark((function e(t){var n,a,c,r,s;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.body.pipeThrough(new TextDecoderStream("utf-8")).getReader(),a=[];case 2:return e.next=5,n.read();case 5:if(c=e.sent,r=c.value,!c.done){e.next=10;break}return e.abrupt("break",13);case 10:a.push(r),e.next=2;break;case 13:return s=a.join(""),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.Bucket="",this.config={fileStorageAccessKey:t.fileStorageAccessKey}}return Object(E.a)(e,[{key:"getBuckeName",value:function(){return this.Bucket}},{key:"fetchFileFolder",value:function(e){var t=new URLSearchParams(e).toString();return k.a.get("/api/media/getList?X-Access-Key=".concat(this.config.fileStorageAccessKey,"&").concat(t)).then((function(e){return{Contents:e.data.response.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{LastModified:new Date(e.LastModified)})}))}}))}}]),e}(),Q=function(e,t){switch(e){case"AWSS3":return{library:new V(t)};case"SELF":case"https:":return{library:new G(t)};default:return{library:null}}},Z=(n(1282),n(484)),$=n.n(Z),ee=function(e){return(e?e.split("/"):["/"])[0]},te=n(1263),ne=n(933),ae=n(1243),ce=n(1264),re=n(1279),se=n(201),ie=n.n(se),oe=n(622),le=n(72),ue=n.p+"static/media/horizontalLogo.373857dc.png",de=n(51),be=n.n(de),fe=(n(245),[{name:"Facebook",icon:"fa fa-facebook",id:"facebookUrl"},{name:"LinkedIn",icon:"fa fa-linkedin",id:"linkedInUrl"},{name:"Twitter",icon:"fa fa-twitter",id:"twitterUrl"},{name:"Instagram",icon:"fa fa-instagram",id:"instagramUrl"}]);var je=function(e){var t,n,c,s,i,o,b,f,j,m,p,g,O=Object(x.a)(),v=Object(a.useContext)(u.a),y=Object(a.useContext)(l.a),w=Object(a.useContext)(le.a),k=Object(a.useState)(!1),N=Object(r.a)(k,2),C=N[0],M=N[1],D=Object(a.useState)(!1),T=Object(r.a)(D,2),I=T[0],A=T[1],U=Object(a.useState)([]),P=Object(r.a)(U,2),_=P[0],F=P[1],L=Object(a.useState)(y.userData.theme),E=Object(r.a)(L,2),B=E[0],K=E[1],R=Object(a.useState)(""),J=Object(r.a)(R,2),Y=J[0],z=J[1],H=Object(a.useState)(""),W=Object(r.a)(H,2),V=W[0],X=W[1],q=Object(a.useState)(!1),G=Object(r.a)(q,2),Z=G[0],se=G[1];return Object(a.useEffect)((function(){var e,t,n,a,c=ee(null===v||void 0===v?void 0:v.bgSong),r=(null===(e=Q(c,v))||void 0===e||null===(t=e.library)||void 0===t?void 0:t.getSignedUrl(null===v||void 0===v?void 0:v.bgSong))||Promise.resolve({url:null===v||void 0===v?void 0:v.bgSong,path:"",extension:""}),s=ee(null===v||void 0===v?void 0:v.bgVideo),i=(null===(n=Q(s,v))||void 0===n||null===(a=n.library)||void 0===a?void 0:a.getSignedUrl(null===v||void 0===v?void 0:v.bgVideo))||Promise.resolve({url:null===v||void 0===v?void 0:v.bgVideo,path:"",extension:""});Promise.all([r,i]).then((function(e){z(e[0].url),X(e[1].url)}))}),[y.userConfig]),Object(a.useEffect)((function(){y.updateUserData("theme",B)}),[B]),Object(a.useEffect)((function(){y.updateUserData("videoShown",I)}),[I]),Object(a.useEffect)((function(){y.updateUserData("audioShown",C)}),[C]),Object(a.useEffect)((function(){y.userConfig&&Object.keys(y.userConfig).length>0&&(M("1"===y.userConfig.bgSongDefaultPlay),A("1"===y.userConfig.bgVideoDefaultPlay))}),[y.userConfig]),Object(a.useEffect)((function(){if(v&&Object.keys(v).length>0){var e=Object.keys(v),t=[].concat(fe).map((function(t){return e.includes(t.id)&&(t.href=v[t.id]),t}));F(t)}}),[v]),Object(d.jsxs)("div",{children:[Object(d.jsx)($.a,{controls:!1,loop:!0,playing:C,width:"0px",height:"0px",url:Y,config:{forceAudio:!0}}),Object(d.jsx)($.a,{className:"videoTag d-print-none",playsinline:!0,style:{display:I?"block":"none"},playing:I,loop:!0,muted:!0,controls:!1,width:"100%",height:"100vh",url:V}),(null===y||void 0===y||null===(t=y.userData)||void 0===t?void 0:t.userId)&&Object(d.jsx)("div",{className:"globalHeader globalHeader-".concat(y.userData.theme," d-print-none fixed-top ").concat(y.userData.videoShown?"opac":""),children:Object(d.jsxs)(te.a,{className:"justify-content-between align-items-center",children:[Object(d.jsx)(ne.a,{xl:4,lg:3,md:3,xs:9,className:"",children:Object(d.jsx)("a",{href:"/dashboard",className:"pe-2",children:Object(d.jsx)("img",{style:{width:"150px",height:"40px"},className:"brand global img-fluid",src:ue})})}),Object(d.jsx)(ne.a,{xl:4,lg:6,md:7,className:"d-none d-sm-block",children:Object(d.jsx)(S,{})}),Object(d.jsx)(ne.a,{xl:4,lg:3,md:2,xs:3,className:"text-end p-0",children:Object(d.jsxs)(ae.a,{show:Z,onToggle:function(e,t){"select"!==t.source&&se(e)},children:[Object(d.jsx)(ae.a.Toggle,{as:"i",children:Object(d.jsx)("i",{className:"fa fa-user gIcon icon-bni pe-2"})}),Object(d.jsxs)(ae.a.Menu,{align:"start",className:"mt-2 ".concat("dark"===y.userData.theme?"bg-dark text-white-50":"bg-white text-black"),children:[(null===y||void 0===y||null===(n=y.userConfig)||void 0===n?void 0:n.planName)&&(null===y||void 0===y||null===(c=y.userConfig)||void 0===c?void 0:c.planCode)&&Object(d.jsx)(ae.a.Item,{as:"div",className:"p-0",children:Object(d.jsxs)("div",{style:{fontSize:"0.75rem"},className:"d-flex align-items-center justify-content-around small bni-bg rounded-top text-dark p-1",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"fa fa-diamond pe-2"}),Object(d.jsx)("span",{children:Object(d.jsx)(h.a,{id:"plan",defaultMessage:"plan"})})]}),Object(d.jsx)("div",{className:"text-truncate",children:Object(d.jsx)("span",{children:Object(d.jsx)(h.a,{id:null===y||void 0===y||null===(s=y.userConfig)||void 0===s?void 0:s.planName,defaultMessage:null===y||void 0===y||null===(i=y.userConfig)||void 0===i?void 0:i.planName})})}),Object(d.jsx)("div",{className:"text-truncate",children:null===y||void 0===y||null===(o=y.userConfig)||void 0===o?void 0:o.planCode})]})}),Object(d.jsx)(ae.a.Item,{as:"div",children:Object(d.jsx)(oe.a,{onLogAction:function(e){se(!0)}})}),Boolean(Number(null===y||void 0===y||null===(b=y.userConfig)||void 0===b?void 0:b.switchSongFeatureRequired))&&Object(d.jsx)(ae.a.Item,{as:"div",onClick:function(){M(!C)},children:Object(d.jsxs)("div",{className:"options",children:[Object(d.jsx)("div",{className:"labelText",children:Object(d.jsx)(h.a,{id:"music",defaultMessage:"music"})}),Object(d.jsx)(ie.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===y.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===y.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){M(!C)},checked:!0===C})]})}),Boolean(Number(null===y||void 0===y||null===(f=y.userConfig)||void 0===f?void 0:f.switchVideoFeatureRequired))&&Object(d.jsx)(ae.a.Item,{as:"div",onClick:function(){return A(!I)},children:Object(d.jsxs)("div",{className:"options",children:[Object(d.jsx)("div",{className:"labelText",children:Object(d.jsx)(h.a,{id:"video",defaultMessage:"video"})}),Object(d.jsx)(ie.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===y.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===y.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){return A(!I)},checked:!0===I})]})}),Boolean(Number(null===y||void 0===y||null===(j=y.userConfig)||void 0===j?void 0:j.switchThemeFeatureRequired))&&Object(d.jsx)(ae.a.Item,{as:"div",children:Object(d.jsxs)("div",{className:"options",children:[Object(d.jsx)("button",{className:"btn btn-sm rounded-circle ".concat("dark"===y.userData.theme?"btn-dark btn-outline-secondary":"btn-light btn-outline-dark"," ").concat("dark"===y.userData.theme?"active":""),onClick:function(){return K("dark")},title:O.formatMessage({id:"dark",defaultMessage:"dark"}),children:Object(d.jsx)("i",{className:"fa fa-moon-o"})}),Object(d.jsx)("button",{className:"btn btn-sm rounded-circle ".concat("dark"===y.userData.theme?"btn-dark btn-outline-secondary":"btn-light btn-outline-dark"," ").concat("light"===y.userData.theme?"active":""),onClick:function(){return K("light")},title:O.formatMessage({id:"light",defaultMessage:"light"}),children:Object(d.jsx)("i",{className:"fa fa-sun-o"})})]})}),w.localeList.length>0&&Object(d.jsx)(ae.a.Item,{as:"div",children:Object(d.jsxs)(ce.a,{style:{width:"90%",margin:"0 auto"},children:[Object(d.jsx)(ce.a.Text,{children:Object(d.jsx)("i",{className:"fa fa-globe"})}),Object(d.jsx)(re.a.Select,{value:w.localeId,size:"sm",onChange:function(e){return w.setLocaleId(e.target.value)},children:w.localeList.map((function(e,t){return Object(d.jsx)("option",{value:e.string,children:e.label},t)}))})]})}),Boolean(Number(null===v||void 0===v?void 0:v.switchSocialMediaFeatureRequired))&&_.length>0&&Object(d.jsx)(ae.a.Item,{as:"div",children:Object(d.jsx)("div",{className:"options text-center",children:_.map((function(e,t){return Object(d.jsx)("a",{className:"dark"===y.userData.theme?"text-white-50":"text-black-50",href:e.href,target:"_blank",rel:"noreferrer",children:Object(d.jsx)("i",{className:"".concat(e.icon," social-icons")})},t)}))})}),(null===y||void 0===y||null===(m=y.userConfig)||void 0===m?void 0:m.expiryDateTime)&&Object(d.jsx)(ae.a.Item,{as:"div",className:"p-0",children:Object(d.jsx)("div",{style:{fontSize:"0.75rem"},className:"small bni-bg rounded-bottom text-dark p-1",title:be()(null===y||void 0===y||null===(p=y.userConfig)||void 0===p?void 0:p.expiryDateTime).format("MMM Do YYYY, h:mm:ss a").toString(),children:Object(d.jsxs)("div",{className:"text-center text-wrap",children:[Object(d.jsx)("i",{className:"fa fa-hourglass-end pe-1"}),Object(d.jsx)("span",{className:"ps-2 pe-1",children:Object(d.jsx)(h.a,{id:"expiring",defaultMessage:"expiring"})}),Object(d.jsx)("span",{className:"",children:be()(null===y||void 0===y||null===(g=y.userConfig)||void 0===g?void 0:g.expiryDateTime,"YYYYMMDD").locale(w.localeLanguage).tz(be.a.tz.guess()).fromNow()})]})})})]})]})})]})}),e.children]})};t.default=function(e){return Object(d.jsx)(u.b,{children:Object(d.jsx)(l.b,{children:Object(d.jsx)(le.b,{children:Object(d.jsx)(je,{children:Object(d.jsx)(P,{})})})})})}},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(25),c=n(27),r=n(1),s=n(47),i=n(0),o=Object(r.createContext)([{},function(){}]);t.b=function(e){var t=Object(r.useState)({}),n=Object(c.a)(t,2),l=n[0],u=n[1];return Object(r.useEffect)((function(){s.a.get("/").then((function(e){var t=e.data.response[0];document.documentElement.style.setProperty("--app-theme-color",t.webThemeColor),document.documentElement.style.setProperty("--app-theme-bg-color",t.webThemeBackground),u(t)})).catch((function(e){return console.error(e)})).finally((function(e){return!1}))}),[]),Object.keys(l).length>0&&Object(i.jsx)(o.Provider,{value:Object(a.a)({},l),children:e.children})}},289:function(e,t,n){"use strict";var a=n(379);t.a=Object(a.a)()},307:function(e,t,n){"use strict";var a=n(25),c=n(28),r=n(1),s=n(1282),i=n(38),o=n(1260),l=n(0),u=["confirmationstring","handleHide","handleYes"];t.a=function(e){var t=Object(r.useContext)(i.a),n=e.confirmationstring,d=e.handleHide,b=e.handleYes,f=Object(c.a)(e,u);return Object(l.jsxs)(s.a,Object(a.a)(Object(a.a)({},f),{},{style:{zIndex:1e4},children:[Object(l.jsx)(s.a.Header,{children:Object(l.jsx)(s.a.Title,{children:n})}),Object(l.jsxs)(s.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[Object(l.jsx)("p",{className:"text-center",children:Object(l.jsx)(o.a,{id:"thisActionCannotBeUndone",defaultMessage:"thisActionCannotBeUndone"})}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6 text-center",children:Object(l.jsx)("button",{onClick:function(){return b()},className:"btn btn-bni",children:Object(l.jsx)("i",{className:"fa fa-thumbs-o-up"})})}),Object(l.jsx)("div",{className:"col-6 text-center",children:Object(l.jsx)("button",{onClick:function(){return d()},className:"btn btn-bni dark",children:Object(l.jsx)("i",{className:"fa fa-thumbs-o-down"})})})]})]})]}))}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(29),c=n(35),r=n(36),s=n(25),i=n(27),o=n(1),l=n(378),u=(n(286),n(47)),d=n(0),b=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(3),n.e(4),n.e(8),n.e(27)]).then(n.bind(null,374))})),f=Object(o.lazy)((function(){return Promise.all([n.e(4),n.e(16),n.e(6),n.e(21)]).then(n.bind(null,1241))})),j=Object(o.lazy)((function(){return n.e(28).then(n.bind(null,349))})),h=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(57)]).then(n.bind(null,1099))})),m=Object(o.lazy)((function(){return n.e(63).then(n.bind(null,1249))})),p=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(3),n.e(4),n.e(8),n.e(22)]).then(n.bind(null,1239))})),g=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(3),n.e(5),n.e(59)]).then(n.bind(null,1101))})),O=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(3),n.e(5),n.e(6),n.e(58)]).then(n.bind(null,1102))})),v=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(3),n.e(5),n.e(6),n.e(60)]).then(n.bind(null,1103))})),x=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(3),n.e(26),n.e(5),n.e(64)]).then(n.bind(null,1104))})),y=Object(o.createContext)([{},function(){}]);t.b=function(e){var t={type:"public",theme:"",audioShown:!1,videoShown:!1,email:null,imageUrl:null,name:null,source:"self",userId:null,menu:[]},n={webMenuType:"topMenu"},w=JSON.parse(localStorage.getItem("userData"))||t,k=JSON.parse(localStorage.getItem("userConfig"))||n,N=Object(o.useState)(w),C=Object(i.a)(N,2),S=C[0],M=C[1],D=Object(o.useState)(k),T=Object(i.a)(D,2),I=T[0],A=T[1],U=Object(o.useState)(!0),P=Object(i.a)(U,2),_=P[0],F=P[1],L=Object(o.useState)(!1),E=Object(i.a)(L,2),B=E[0],K=E[1],R=[{page_id:"home",hasAccessTo:["public"],href:"/",label:"Home",component:m},Object(s.a)({},!B&&{page_id:"dashboard",hasAccessTo:["admin","superAdmin"],href:"/dashboard",label:"Dashboard",component:p}),Object(s.a)({},!B&&{page_id:"category",hasAccessTo:["admin","superAdmin"],href:"/category",label:"category",component:g}),Object(s.a)({},!B&&{page_id:"bank",hasAccessTo:["admin","superAdmin"],href:"/bank",label:"bank",component:O}),Object(s.a)({},!B&&{page_id:"creditCard",hasAccessTo:["admin","superAdmin"],href:"/creditCard",label:"creditCard",component:v}),Object(s.a)({},!B&&{page_id:"schedules",hasAccessTo:["admin","superAdmin"],href:"/schedules",label:"schedules",component:x}),Object(s.a)({},!B&&{page_id:"moneyPlanner",hasAccessTo:["admin","superAdmin"],href:"/moneyPlanner",label:"Money Planner",component:b}),Object(s.a)({},!B&&{page_id:"workbook",hasAccessTo:["admin","superAdmin"],href:"/workbook",label:"Workbook",component:h}),{page_id:"billing",hasAccessTo:["admin","superAdmin"],href:"/billing",label:"billing",component:j},Object(s.a)({},!B&&{page_id:"settings",hasAccessTo:["superAdmin"],href:"/settings",label:"Settings",component:f})],J=function(e){M(Object(s.a)(Object(s.a)({},S),e))},Y=function(e,t){M((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(r.a)({},e,t))}))};Object(o.useEffect)((function(){null!==S&&void 0!==S&&S.type&&z(S)}),[JSON.stringify(S),null===I||void 0===I?void 0:I.isOwner,B,I.appId]);var z=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=R.filter((function(e){var n;return null===e||void 0===e||null===(n=e.hasAccessTo)||void 0===n?void 0:n.includes(t.type)})),Y("menu",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){I.appId&&H(I.appId).then((function(e){var t=e.data.response,n={theme:t[0].webTheme,audioShown:"1"===t[0].bgSongDefaultPlay,videoShown:"1"===t[0].bgVideoDefaultPlay};M((function(e){return Object(s.a)(Object(s.a)({},e),n)})),A((function(e){return Object(s.a)(Object(s.a)({},e),t[0])}))})).catch((function(e){return console.error("Unable to fetch user config")}))}),[I.appId]),Object(o.useEffect)((function(){null!==I&&void 0!==I&&I.webTheme&&setTimeout((function(){J({theme:I.webTheme})}),100)}),[I]);var H=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("appId",t),e.next=4,u.a.post("/getUserConfig",n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(y.Provider,{value:{linklist:R,userData:S,addUserData:function(e){M(e)},updateUserData:Y,removeUserData:function(e){var t=Object(s.a)({},S);e.forEach((function(e){delete t[e]})),M((function(e){return Object(s.a)({},t)}))},renderToast:function(e){var t=e.autoClose,n=void 0===t?5e3:t,a=e.type,c=void 0===a?"success":a,r=e.icon,s=void 0===r?"fa fa-check-circle":r,i=e.position,o=void 0===i?"top-right":i,u=e.message;return l.b[c](Object(d.jsx)("div",{children:Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:s})," ",Object(d.jsx)("span",{dangerouslySetInnerHTML:{__html:u}})]})}),{autoClose:n,position:o})},openAppLoginModal:_,setOpenAppLoginModal:F,userConfig:I,setUserConfig:A,updateBulkUserData:J,defUserData:t,defUserConfig:n,getUserConfig:H,appExpired:B,setAppExpired:K},children:[Object(d.jsx)(l.a,{className:"bniToaster"}),e.children]})}},434:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a=function(){return"ledgerely-dev-01-moneyplanner.azurewebsites.net"},c="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0.By2r2BwheJsbrEGrHOaMQwrrmlY7wHVFzWtuEmv39fM"},451:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/spinner-1.650efd36.svg"},47:function(e,t,n){"use strict";var a=n(751),c=n.n(a),r=n(434),s=c.a.create({baseURL:Object(r.a)(),headers:{Authorization:r.b}});t.a=s},472:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r}));var a=["aws_s3_access_key_id","aws_s3_region","aws_s3_secret_access_key","google_map_api_key","google_login_auth_token","facebook_app_id"],c="encryptSalt",r=["fileStorageAccessKey"]},48:function(e,t,n){"use strict";var a=n(43),c=n(36),r=n(25),s={self:void 0,sageHeaderAndList:function(e,t){var n=e.filter((function(e){return Number(e[t])>1}));return[e.filter((function(e){return 1===Number(e[t])}))[0],n]},loadRandomSpinnerIcon:function(){return"Oval"},stringToCapitalize:function(e){return e.split("_").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)})).join(" ")},donutChartColors:["#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#f44336"],indianLacSeperator:function(e,t){return e.toLocaleString("en-IN",{maximumFractionDigits:t,style:"currency",currency:"INR"})},countryCurrencyLacSeperator:function(e,t,n,a){return Number(n).toLocaleString(e,Object(r.a)({maximumFractionDigits:a,minimumFractionDigits:a,style:t?"currency":"decimal"},t&&{currency:t}))},lacSeperator:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-IN";return null===e||void 0===e?void 0:e.toLocaleString(t)},strToNumMonth:{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},monthToStr:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},fullmonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],threeDigitMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],leadingZeros:function(e){var t=Number(e);return t<10?"0".concat(t):t},dateToMonthYear:function(e){var t=new Date(e);return"".concat(s.threeDigitMonthNames[t.getMonth()],"-").concat(t.getFullYear())},addMonths:function(e,t){if(e&&t){var n,a=["",(e=new Date(+e)).getDate()],c=a[1];e.setMonth(e.getMonth()+t,1),n=e.getMonth(),e.setDate(c),e.getMonth()!==n&&e.setDate(0)}return e},getNextMonthDate:function(e){var t=new Date,n=t.getFullYear(),a=t.getMonth()+2;a>12&&(n+=1,a=1);var c=new Date("".concat(n,"-").concat(a,"-01")),r=c.getMonth()+1;r=r<10?"0".concat(r):r;var s=e<10?"0".concat(e):e,i=c.getFullYear();return"".concat(i,"-").concat(r,"-").concat(s)},getNow:function(){var e=function(e){var t=Number(e);return t<10?"0".concat(t):t},t=new Date,n=t.getFullYear(),a=e(t.getMonth()+1),c=e(t.getDate()),r=e(t.getHours()),s=e(t.getMinutes()),i=e(t.getSeconds());return"".concat(n,"-").concat(a,"-").concat(c," ").concat(r,":").concat(s,":").concat(i)},dateToYYYYMMDD:function(e){var t=function(e){var t=Number(e);return t<10?"0".concat(t):t},n=e.getFullYear(),a=t(e.getMonth()+1),c=t(e.getDate());return"".concat(n,"-").concat(a,"-").concat(c)},stripCommasInCSV:function(e){return e.map((function(e){var t=Object.keys(e).map((function(t){return Object(c.a)({},t,String(e[t]).replace(/,/g,""))}));return Object.assign.apply(Object,[{},{}].concat(Object(a.a)(t)))}))},chunkArray:function(e,t){return e.map((function(n,a){return e.slice(a*t,a*t+t)})).filter((function(e){return e.length>0}))},shorten:function(e,t){return e&&e.length>t?e.slice(0,Math.ceil(t/2))+"..."+e.slice(-10,e.length):e}};t.a=s},622:function(e,t,n){"use strict";var a=n(29),c=n(25),r=n(35),s=n(27),i=n(1),o=n.n(i),l=n(38),u=n(307),d=n(36),b=n(47),f=n(52),j=n.n(f),h=n(48),m=n(777),p=n(1260),g=n(0);var O=function(e){var t=Object(m.a)(),n=Object(i.useContext)(l.a),c=e.onToggle,o=e.handlesuccess,u=Object(i.useState)(""),d=Object(s.a)(u,2),f=d[0],O=d[1],v=Object(i.useState)(""),x=Object(s.a)(v,2),y=x[0],w=x[1],k=Object(i.useState)(!1),N=Object(s.a)(k,2),C=N[0],S=N[1],M=Object(i.useState)(!1),D=Object(s.a)(M,2),T=D[0],I=D[1],A=function(e){13!==e.which&&13!==e.keyCode||U()},U=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),(c=new FormData).append("username",f),c.append("password",y),e.next=6,b.a.post("/validateUser",c).then((function(e){var a=e.data.response;if(a){var c={appId:a.appId,userId:a.user_id,type:a.user_type,email:a.user_email,name:a.user_display_name,imageUrl:a.user_image,source:"self"};o(c)}else n.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"invalidUserNameOrPassword",defaultMessage:"invalidUserNameOrPassword"})})})).catch((function(e){n.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((function(){return I(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:T?Object(g.jsx)("div",{className:"login-loader text-center",children:Object(g.jsx)(j.a,{type:h.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-lg-12 py-2",children:Object(g.jsxs)("div",{className:"form-floating",children:[Object(g.jsx)("input",{onChange:function(e){return O(e.target.value)},type:"text",id:"username",className:"form-control",onKeyDown:function(e){return A(e)},placeholder:t.formatMessage({id:"userName",defaultMessage:"userName"})}),Object(g.jsxs)("label",{htmlFor:"username",children:[Object(g.jsx)(p.a,{id:"email",defaultMessage:"email"})," / ",Object(g.jsx)(p.a,{id:"userName",defaultMessage:"userName"})]})]})}),Object(g.jsx)("div",{className:"col-lg-12 py-2",children:Object(g.jsxs)("div",{className:"form-floating passwordArea",children:[Object(g.jsx)("input",{onChange:function(e){return w(e.target.value)},type:C?"text":"password",id:"userPassword",className:"form-control",onKeyDown:function(e){return A(e)},placeholder:t.formatMessage({id:"password",defaultMessage:"password"})}),Object(g.jsx)("i",{onClick:function(){return S(!C)},className:"fa fa-".concat(C?"eye-slash":"eye")}),Object(g.jsx)("label",{htmlFor:"userPassword",children:Object(g.jsx)(p.a,{id:"password",defaultMessage:"password"})})]})}),Object(g.jsx)("div",{className:"pt-3 col-lg-12",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-md-6 pb-3",children:Object(g.jsx)("div",{className:"d-grid gap-2",children:Object(g.jsx)("button",{onClick:function(){return U()},className:"btn btn-bni rounded-0",children:Object(g.jsx)(p.a,{id:"submit",defaultMessage:"submit"})})})}),Object(g.jsx)("div",{className:"col-md-6",children:Object(g.jsx)("div",{className:"d-grid gap-2",children:Object(g.jsx)("button",{onClick:function(){return c("resetPassword")},className:"btn btn-md btn-dark icon-bni rounded-0",children:Object(g.jsx)(p.a,{id:"resetPassword",defaultMessage:"resetPassword"})})})})]})})]})})};var v=function(e){var t=Object(m.a)(),n=e.onClose,a=Object(i.useContext)(l.a),c=Object(i.useState)(""),r=Object(s.a)(c,2),o=r[0],u=r[1],d=Object(i.useState)(""),f=Object(s.a)(d,2),O=f[0],v=f[1],x=Object(i.useState)(!1),y=Object(s.a)(x,2),w=y[0],k=y[1],N=Object(i.useState)(!0),C=Object(s.a)(N,2),S=C[0],M=C[1],D=Object(i.useState)(!1),T=Object(s.a)(D,2),I=T[0],A=T[1],U=Object(i.useState)(null),P=Object(s.a)(U,2),_=P[0],F=P[1],L=Object(i.useState)(300),E=Object(s.a)(L,2),B=E[0],K=E[1];Object(i.useEffect)((function(){M(!new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/).test(o))}),[o]);var R=function e(){0===B?J(e):B--,K(B),setTimeout(e,1e3)},J=function(){clearTimeout(R)};Object(i.useEffect)((function(){I&&R()}),[I]);var Y=function(){k(!0);var e=new FormData;e.append("email",o),b.a.post("/sendOtp",e).then((function(e){var n=e.data.response;n?(a.renderToast({message:t.formatMessage({id:"OtpSuccessfullyMailedToYou",defaultMessage:"OtpSuccessfullyMailedToYou"})}),F(n),A(!0)):a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"errorYourMailIsInValid",defaultMessage:"errorYourMailIsInValid"})})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((function(){k(!1)}))};return Object(g.jsx)("div",{children:w?Object(g.jsx)("div",{className:"login-loader text-center py-3",children:Object(g.jsx)(j.a,{type:h.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(g.jsxs)("div",{children:[I?Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"form-floating mb-3",children:[Object(g.jsx)("input",{onChange:function(e){v(e.target.value)},type:"number",className:"form-control",placeholder:t.formatMessage({id:"enterOtp",defaultMessage:"enterOtp"}),id:"otp"}),Object(g.jsx)("label",{htmlFor:"otp",children:Object(g.jsx)(p.a,{id:"enterOtp",defaultMessage:"enterOtp"})})]}),Object(g.jsx)("div",{className:"pb-2",children:Object(g.jsx)("button",{disabled:B>0,onClick:function(){return Y()},className:"btn btn-sm btn-primary",children:Object(g.jsx)(p.a,{id:"resendOtp",defaultMessage:"resendOtp"})})}),B>0&&Object(g.jsx)("div",{className:"pb-2 text-danger fst-italic",children:Object(g.jsx)(p.a,{id:"enterOtp",defaultMessage:"enterOtp",values:{seconds:B}})})]}):Object(g.jsxs)("div",{className:"form-floating mb-3",children:[Object(g.jsx)("input",{onChange:function(e){u(e.target.value)},type:"email",className:"form-control",placeholder:t.formatMessage({id:"yourEmailPlease",defaultMessage:"yourEmailPlease"}),id:"email"}),Object(g.jsx)("label",{htmlFor:"email",children:Object(g.jsx)(p.a,{id:"yourEmailPlease",defaultMessage:"yourEmailPlease"})})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-lg-6 py-2",children:Object(g.jsx)("div",{className:"d-grid",children:I?Object(g.jsx)("button",{onClick:function(){return function(){k(!0);var e=new FormData;e.append("otp",O),e.append("id",_),e.append("email",o),b.a.post("/resetPassword",e).then((function(e){e.data.response?(a.renderToast({message:t.formatMessage({id:"resetSuccess",defaultMessage:"resetSuccess"})}),n()):a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"OtpFailed",defaultMessage:"OtpFailed"})})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong",defaultMessage:"somethingWentWrong"})})})).finally((function(){k(!1)}))}()},className:"btn btn-bni",children:Object(g.jsx)(p.a,{id:"send",defaultMessage:"send"})}):Object(g.jsx)("button",{disabled:S,onClick:function(){return Y()},className:"btn btn-bni",children:Object(g.jsx)(p.a,{id:"reset",defaultMessage:"reset"})})})}),Object(g.jsx)("div",{className:"col-lg-6 py-2",children:Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("button",{onClick:n,className:"btn btn-secondary",children:Object(g.jsx)(p.a,{id:"cancel",defaultMessage:"cancel"})})})})]})]})})};var x=function(e){var t=Object(m.a)(),n=e.onClose,a=e.handlesuccess,c=Object(i.useState)("login"),r=Object(s.a)(c,2),o=r[0],l=r[1],u={login:t.formatMessage(Object(d.a)({id:"login"},"id","login")),resetPassword:t.formatMessage({id:"resetPassword",defaultMessage:"resetPassword"}),changePassword:t.formatMessage({id:"changePassword",defaultMessage:"changePassword"})};return Object(g.jsxs)("div",{className:"text-dark",children:["login"!==o&&Object(g.jsx)("button",{onClick:function(){return l("login")},className:"btn btn-sm btn-default me-2",children:Object(g.jsx)("i",{className:"fa fa-chevron-left"})}),Object(g.jsx)("span",{className:"pl-5",children:u[o]}),"login"===o&&Object(g.jsx)(O,{onToggle:function(e){return l(e)},onClose:n,handlesuccess:a}),"resetPassword"===o&&Object(g.jsx)(v,{onClose:n})]})},y=n(289),w=function(e){var t=e.onLogAction,d=Object(m.a)(),f=Object(i.useContext)(l.a),j=Object(i.useState)(""),h=Object(s.a)(j,2),O=h[0],v=h[1],w=Object(i.useState)(!1),k=Object(s.a)(w,2),N=k[0],C=k[1],S=function(e){var t={};fetch("https://geolocation-db.com/json/").then((function(e){return e.json()})).then((function(n){t=Object(c.a)(Object(c.a)({},e),{time:(new Date).toString(),ip:n.IPv4})})).catch((function(){t=Object(c.a)(Object(c.a)({},e),{time:(new Date).toString(),ip:"127.0.0.1"})})).finally((function(){var e=new FormData;e.append("log",JSON.stringify(t)),b.a.post("/saveLog",e)}))};return Object(g.jsxs)(o.a.Fragment,{children:[!f.userData.userId&&Object(g.jsx)(x,{onClose:function(){f.setOpenAppLoginModal(!1)},handlesuccess:function(e){return n=e,void f.getUserConfig(n.appId).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(r){var s,i,o,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data.response[0],i={type:n.type,theme:s.webTheme,audioShown:"1"===s.bgSongDefaultPlay,videoShown:"1"===s.bgVideoDefaultPlay,email:n.email,imageUrl:n.imageUrl,name:n.name,userId:n.userId,source:n.source,menu:[]},o=JSON.stringify(i),localStorage.setItem("userData",o),l=JSON.stringify(s),localStorage.setItem("userConfig",l),e.next=8,f.updateBulkUserData(i);case 8:return e.next=10,f.setUserConfig((function(e){return Object(c.a)(Object(c.a)({},e),s)}));case 10:t(n),S(n),v("slideInRight"),y.a.push("/dashboard");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var n}}),Object(g.jsx)(u.a,{show:N,confirmationstring:d.formatMessage({id:"sureToLogout",defaultMessage:"sureToLogout"}),handleHide:function(){C(!1)},handleYes:function(){return f.addUserData(f.defUserData),f.setUserConfig(f.defUserConfig),localStorage.setItem("userData",JSON.stringify(f.defUserData)),localStorage.setItem("userConfig",JSON.stringify(f.defUserConfig)),t({}),C(!1),void y.a.push("/")},size:"md",animation:!1}),f.userData.userId&&Object(g.jsxs)("div",{className:"d-print-none animate__animated animate__".concat(O),children:[Object(g.jsx)("div",{className:"options welcomeText",children:Object(g.jsx)(p.a,{id:"welcome",defaultMessage:"welcome"})}),Object(g.jsx)("div",{className:"options",children:Object(g.jsx)("div",{className:"welcomeText pb-10",children:f.userData.name})}),Object(g.jsxs)("div",{className:"options pt-3",children:[["facebook","google"].includes(f.userData.source)&&f.userData.imageUrl&&Object(g.jsx)("img",{className:"userImage",alt:"userImage",src:f.userData.imageUrl||n(451).default}),"self"===f.userData.source&&f.userData.imageUrl?Object(g.jsx)("img",{className:"rounded-circle",alt:"userImage",style:{height:"50px",width:"50px"},src:"data:image/png;base64,".concat(f.userData.imageUrl)}):Object(g.jsx)("i",{className:"fa fa-user fa-2x"}),Object(g.jsx)("i",{onClick:function(e){C(!0)},title:d.formatMessage({id:"logout",defaultMessage:"logout"}),className:"fa fa-sign-out text-secondary cursor-pointer fs-4"})]})]})]})};w.defaultProps={};t.a=w},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(25),c=n(27),r=n(28),s=n(1),i=n.n(s),o=n(788),l=n(0),u=["children"],d=i.a.createContext(void 0);t.b=function(e){var t=e.children,n=Object(r.a)(e,u),i=Object(s.useState)(n),b=Object(c.a)(i,2),f=b[0],j=b[1];return Object(s.useEffect)((function(){document.body.scrollTop=document.documentElement.scrollTop=0}),[f]),Object(l.jsxs)(d.Provider,{value:{config:f,setConfig:j},children:[f.show?Object(l.jsx)("div",{className:"container-fluid mt-2",children:Object(l.jsxs)(o.a,{variant:f.type,className:f.className,onClose:function(){return j((function(e){return Object(a.a)(Object(a.a)({},e),{},{show:!1})}))},dismissible:f.dismissible,children:[f.heading&&Object(l.jsx)(o.a.Heading,{children:f.heading}),f.content&&Object(l.jsx)("div",{children:f.content})]})}):null,t]})}},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(36),c=n(43),r=n(27),s=n(1),i=n(1280),o=n(47),l=n(202),u=n.n(l),d=n(38),b=n(0),f=Object(s.createContext)([{},function(){}]);t.b=function(e){var t,n=Object(s.useState)([]),l=Object(r.a)(n,2),j=l[0],h=l[1],m=Object(s.useState)(""),p=Object(r.a)(m,2),g=p[0],O=p[1],v=Object(s.useState)(""),x=Object(r.a)(v,2),y=x[0],w=x[1],k=Object(s.useState)({}),N=Object(r.a)(k,2),C=N[0],S=N[1],M=Object(s.useContext)(d.a),D=null!==(t=navigator)&&void 0!==t&&t.language?navigator.language.toLowerCase():"en",T=Object(s.useState)(D),I=Object(r.a)(T,2),A=I[0],U=I[1];return Object(s.useEffect)((function(){var e=o.a.get("/getUniqueLocales");Promise.all([e]).then((function(e){var t=e[0].data.response.map((function(e){return{string:e.locale_string,label:e.locale_label,id:e.locale_id,currency:e.locale_currency,language:e.locale_language}})).sort((function(e,t){return e-t.locale_sort}));h(t)})).catch((function(e){M.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load browser locale lists. Please try again later"})})).finally((function(e){return!1}))}),[]),Object(s.useEffect)((function(){if(A&&j&&j.length>0){var e=j.filter((function(e){return e.string===A})).length>0?A:"en",t=new FormData;t.append("localeCode",e);var n=o.a.post("/getLocale",t);Promise.all([n]).then((function(t){var n=j.filter((function(t){return t.string===e}))[0],r=n.currency,s=n.language,i=t[0].data.response,o=Object.entries(u.a.groupBy(i,"locale_string")).map((function(e){return Object(a.a)({},e[0],Object.assign.apply(Object,[{}].concat(Object(c.a)(e[1].map((function(e){return Object(a.a)({},e.locale_key,e.locale_value)}))))))}));o=Object.assign.apply(Object,[{}].concat(Object(c.a)(o))),S(o),U(e),O(r),w(s)})).catch((function(e){M.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load selected locale objects. Please try again later"})}))}}),[A,j]),Object(b.jsx)(f.Provider,{value:{localeList:j,localeId:A,setLocaleId:U,localeCurrency:g,localeLanguage:y,msg:C},children:Object.keys(C).length>0&&A&&Object(b.jsx)(i.a,{messages:C[A],locale:A,defaultLocale:A,children:e.children})})}},794:function(e,t){},796:function(e,t){},829:function(e,t){},830:function(e,t){}}]);