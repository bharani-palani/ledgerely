(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[23,4],{105:function(e,t,a){"use strict";var n=a(28),c=a(25),r=a(42),s=a(30),o=a(35),l=a(27),i=a(1),d=a(92),u=a(0),_=["info","checked","marker"],b=function(e){var t=e.info,a=e.checked,r=e.marker,s=Object(n.a)(e,_);return Object(u.jsxs)("label",{className:"checkBoxComponent",children:[Object(u.jsx)("span",{children:t.value}),r&&Object(u.jsx)("span",{className:"sup",children:"*"}),Object(u.jsx)("input",Object(c.a)({checked:a,type:"checkbox"},s)),Object(u.jsx)("span",{className:"checkmark"})]})};b.defaultProps={checked:!1};var j=b,m=a(1269),p=a(435),f=a(1251),h=a(1287),O=["placement","arrowProps","show","popper","hasDoneInitialMeasure"],g=function(e){var t=e.index,a=e.type,_=e.primaryKey,b=e.searchable,p=e.element,g=e.value,x=e.placeholder,M=e.onChange,v=e.intl,D=e.theme,y=Object(i.useRef)(null),P=Object(i.useState)(!1),w=Object(l.a)(P,2),E=w[0],N=w[1],C=Object(i.useRef)(),T=function(){return v.formatMessage({id:x,defaultMessage:x})},S=function(){var e=g,t=p.fetch.dropDownList;return e="single"===a?(e=t.length>0&&t.filter((function(e){return e.id===g}))).length>0?e[0].value:T():"object"===typeof e&&e.length>0?e.map((function(e){return e.toString()})):[],[t,e]},k=S(),Y=Object(l.a)(k,2),A=Y[0],I=Y[1],R=A.map((function(e){return e.checked=e.id&&(Array.isArray(I)?I.filter((function(t){return t.toString()===e.id.toString()})).length>0:I===e.value),e})),L="single"===a?A:R,B=Object(i.useState)(L),K=Object(l.a)(B,2),U=K[0],W=K[1],F=Object(i.useState)(I),V=Object(l.a)(F,2),H=V[0],q=V[1],z=Object(i.useState)(""),G=Object(l.a)(z,2),J=G[0],Z=G[1],Q=Object(i.useState)(I),$=Object(l.a)(Q,2),X=$[0],ee=$[1];Object(i.useEffect)((function(){var e=S(),t=Object(l.a)(e,2),n=t[0],c=t[1],r=n.map((function(e){return e.checked=e.id&&(Array.isArray(c)?c.filter((function(t){return t.toString()===e.id.toString()})).length>0:c===e.value),e}));W("single"===a?n:r),q(c),ee(c)}),[p]),Object(i.useEffect)((function(){"multiple"===a&&q(ne(I))}),[I]);var te=function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(t),a=A.filter((function(e){return e.value.toString().toLowerCase().includes(t.toString().toLowerCase())})),e.next=4,W(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){Z(""),te("")},ne=function(e){var t=e.length>0&&A.filter((function(t){return t.id===e[0]}));return 1===t.length?(t=t[0].value,e.length>1?"".concat(t," + ").concat(e.length-1," more..."):t):T()},ce=function(e,a){var n=e.target.checked,s=a.id&&n?[].concat(Object(r.a)(X),[a.id]):X.filter((function(e){return e!==a.id}));s=Object(r.a)(new Set(s));var o=U.map((function(e){return s.includes(e.id)?Object(c.a)(Object(c.a)({},e),{},{checked:!0}):Object(c.a)(Object(c.a)({},e),{},{checked:!1})}));W(o),ee(s),q(ne(s)),M(t,s,_)};return Object(i.useEffect)((function(){E&&C.current&&C.current.focus()}),[E]),Object(u.jsxs)("div",{ref:y,className:"filterSelectComponent ".concat(D),children:[Object(u.jsxs)("div",{onClick:function(){return N(!E)},className:"selected ".concat(E?"yes":"no"),children:[Object(u.jsx)("div",{className:"string",title:H,children:H||v.formatMessage({id:x,defaultMessage:x})}),Object(u.jsx)("div",{children:Object(u.jsx)(d.a,{className:"caretIcon ".concat(E?"down":"up"),entity:"&#9662;"})})]}),Object(u.jsx)(f.a,{target:y.current,show:E,placement:"bottom",rootClose:!0,rootCloseEvent:"click",onHide:function(e){return N(!1)},children:function(e){e.placement,e.arrowProps,e.show,e.popper,e.hasDoneInitialMeasure;var r=Object(n.a)(e,O);return Object(u.jsxs)("div",Object(c.a)(Object(c.a)({},r),{},{className:"wrapperFS ".concat(D),style:Object(c.a)({width:"".concat(null===y||void 0===y?void 0:y.current.clientWidth,"px")},r.style),children:[b&&Object(u.jsxs)("div",{className:"searchContent d-flex align-items-center",children:[Object(u.jsx)(h.a.Control,{className:"inputText",onChange:function(e){e.preventDefault(),te(e.target.value)},placeholder:v.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),type:"text",value:J,autoFocus:!0}),J&&Object(u.jsx)(d.a,{onClick:ae,className:"icon",entity:"&#10006;"})]}),Object(u.jsx)("div",{className:"listWrapper",style:{maxHeight:"20rem"},children:Object(u.jsx)("ul",{children:U.length>0?U.map((function(e,n){return Object(u.jsx)("li",{className:e.checked?"selectedSingle":"",children:"multiple"===a?Object(u.jsx)(j,{onChange:function(t){return ce(t,e)},checked:e.checked,marker:e.marker,info:e},n):Object(u.jsxs)("div",{onClick:function(){return M(t,(n=e).id,_),q(n.value),void("single"===a&&N(!1));var n},children:[e.value,e.marker&&Object(u.jsx)("span",{className:"sup",children:"*"})]})},n)})):Object(u.jsx)("li",{className:"textCenter",children:Object(u.jsx)(m.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})})})]}))}})]})};g.defaultProps={type:"single",searchable:!0,placeholder:"select",theme:""};t.a=Object(p.c)(g)},193:function(e,t,a){"use strict";var n=a(25),c=a(42),r=a(27),s=a(1),o=a(0),l=function(e){var t=e.totalPages,a=e.maxPagesToShow,l=e.selectedPageString,i=e.onSetPage,d=Object(s.useState)(e.currentPage),u=Object(r.a)(d,2),_=u[0],b=u[1],j=function(e){return Array.from({length:e},(function(e,t){return++t}))},m=Object(s.useState)(j(t)),p=Object(r.a)(m,2),f=p[0],h=p[1];Object(s.useEffect)((function(){h(j(t));var e="first"===l?1:t;b(e),i(e)}),[t]),Object(s.useEffect)((function(){var e=[];a<t&&_>0&&(_<t-a?(e=[].concat(Object(c.a)(g(a,_)),["...",t]),h(e)):(e=Object(c.a)(g(a+1,t-a)),h(e)))}),[_]);var O=function(e){b(e),i(e)},g=function(e,t){return Array(e).fill().map((function(e,a){return t+a}))};return f.length>0&&Object(o.jsxs)("ul",{className:"page",children:[Object(o.jsx)("li",{onClick:function(){return _>1?O(1):null},className:"lt ".concat(_>1?"":"disabled"),children:"<<"}),Object(o.jsx)("li",{onClick:function(){return _>1?O(_-1):null},className:"lt ".concat(_>1?"":"disabled"),children:"<"}),f.map((function(e,a){return Object(o.jsx)("li",Object(n.a)(Object(n.a)({onClick:function(){return!isNaN(e)&&e<=t?O(e):null}},e===_&&{className:"active"}),{},{children:e}),function(e){return"page-".concat(e)}(a))})),Object(o.jsx)("li",{onClick:function(){return _<t?O(_+1):null},className:"gt ".concat(_===t?"disabled":""),children:">"}),Object(o.jsx)("li",{onClick:function(){return _<t?O(t):null},className:"gt ".concat(_===t?"disabled":""),children:">>"})]})};l.defaultProps={},t.a=l},194:function(e,t,a){"use strict";var n=a(27),c=a(1),r=a(92),s=a(779),o=a(0),l=function(e){var t=Object(s.a)(),a=e.defaultRecordsPerPage,l=e.config,i=e.onSearchChange,d=e.onDropDownChange,u=e.onDismissSearch,_=e.theme,b=Object(c.useState)(!1),j=Object(n.a)(b,2),m=j[0],p=j[1],f=Object(c.useState)(""),h=Object(n.a)(f,2),O=h[0],g=h[1],x=Object(c.useState)(a),M=Object(n.a)(x,2),v=M[0],D=M[1],y=Object(c.useRef)(null),P=Array.from({length:10},(function(e,t){return++t})).map((function(e,t){return t>=0&&t<=2?e*a:t>=3&&t<=5?e*a*5:t>=6&&t<=9?e*a*10:null})),w=function(e){y.current&&!y.current.contains(e.target)&&p(!1)};Object(c.useEffect)((function(){return document.addEventListener("click",w,!0),function(){document.removeEventListener("click",w,!0)}}),[]);return Object(o.jsxs)("div",{className:"group-input",children:[Object(o.jsxs)("div",{className:"inputWrapper",children:[Object(o.jsx)("input",{onChange:function(e){return function(e){var t=e.target.value;i(t),g(t)}(e)},placeholder:l.header.searchPlaceholder,type:"text",value:O,className:"join-input ".concat(_)}),O&&Object(o.jsx)(r.a,{onClick:function(){u(),g("")},className:"dismiss",entity:"&#215;"})]}),Object(o.jsxs)("div",{ref:y,onClick:function(){return p(!m)},title:t.formatMessage({id:"showNRecordsPerPage",defaultMessage:"showNRecordsPerPage"},{n:v}),className:"join-select",children:[Object(o.jsx)("div",{style:m?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:v}),Object(o.jsx)(r.a,{className:"icon up",entity:"&#9662;"})]})}),m&&Object(o.jsx)("ul",{children:P.map((function(e,t){return Object(o.jsx)("li",{onClick:function(){return D(t=e),void d(t);var t},children:e},t)}))})]})]})};l.defaultProps={property:"String name"},t.a=l},215:function(e,t,a){"use strict";var n=a(25),c=a(34),r=a(27),s=a(28),o=a(1),l=a(0),i=function(e){var t=e.index,a=e.primaryKey,n=e.onChange,c=e.element,s=e.value,i=t.i,d=t.j,u=Object(o.useState)(c.radio.radioList),_=Object(r.a)(u,1)[0],b=e.value||_.filter((function(e){return e.checked}))[0].value,j=Object(o.useState)(b),m=Object(r.a)(j,2),p=m[0],f=m[1];return Object(o.useEffect)((function(){f(s)}),[s]),Object(l.jsx)("div",{className:"radioComponent",children:_.length&&_.map((function(e,c){return Object(l.jsxs)("div",{className:"radioWrapper",children:[Object(l.jsx)("input",{type:"radio",onChange:function(c){f(c.target.value),n(t,e.value,a)},value:e.value,checked:e.value===p,name:"".concat(d,"-").concat(i),id:"".concat(d,"-").concat(c,"-").concat(i)})," ",Object(l.jsx)("span",{className:"checkmark"}),Object(l.jsx)("label",{htmlFor:"".concat(d,"-").concat(c,"-").concat(i),children:e.label})]},c)}))})};i.defaultProps={property:"String name"};var d=i,u=a(105),_=a(109),b=a.n(_),j=a(50),m=a.n(j),p=a(70),f=(a(235),a(321),["isPostable","config","index","value","element","primaryKey","onChange","placeholder","showDecrement","showIncrement","onDelete","onAddRow","theme"]);t.a=function(e){var t=Object(o.useContext)(p.a),a=e.isPostable,i=e.config,_=e.index,j=e.value,h=e.element,O=e.primaryKey,g=e.onChange,x=e.placeholder,M=e.showDecrement,v=e.showIncrement,D=e.onDelete,y=e.onAddRow,P=e.theme,w=Object(s.a)(e,f),E=Object(o.useRef)([]);E.current=[];var N=Object(o.useState)(j?new Date(j):new Date),C=Object(r.a)(N,2),T=C[0],S=C[1],k=Object(o.useState)(j?new Date(j):new Date),Y=Object(r.a)(k,2),A=Y[0],I=Y[1],R=function(e,t,a,n){g(t,a,n)};return Object(l.jsx)("div",{children:function(e,r,s,o){if("string"===typeof r)switch(r){case"textbox":return Object(l.jsx)("input",Object(n.a)({type:"text",placeholder:x,onBlur:function(t){return R(0,e,t.target.value,o)},className:"inputText ".concat(P),defaultValue:s},w));case"number":return Object(l.jsx)("input",Object(n.a)({type:"number",min:"0",step:".01",placeholder:x,ref:function(t){return function(e,t){t&&!E.current.includes(t)&&E.current.push(Object(c.a)({},e.i,t))}(e,t)},onBlur:function(t){return R(0,e,t.target.value,o)},className:"inputText ".concat(P),defaultValue:Number(s).toFixed(i.footer.total.maxDecimal)},w));case"textarea":return Object(l.jsx)("textarea",Object(n.a)({placeholder:x,onBlur:function(t){return R(0,e,t.target.value,o)},rows:"3",className:"inputText ".concat(P),defaultValue:s},w));case"label":default:return Object(l.jsx)("div",Object(n.a)(Object(n.a)({},w),{},{children:s}));case"boolean":return Object(l.jsxs)("div",Object(n.a)(Object(n.a)({},w),{},{className:"text-center",children:[("1"===s||"True"===s||"true"===s||!0===s)&&Object(l.jsx)("i",{className:"fa fa-check"}),("0"===s||"False"===s||"false"===s||!1===s)&&Object(l.jsx)("i",{className:"fa fa-times"})]}));case"relativeTime":return Object(l.jsx)("div",{children:m()(s||new Date).locale(t.localeLanguage).tz(m.a.tz.guess()).fromNow()});case"checkbox":return a?Object(l.jsxs)("div",{className:"d-flex justify-content-between",children:[M&&Object(l.jsx)("i",{onClick:function(){return D(e)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-times-circle text-danger cursor-pointer"}),v&&Object(l.jsx)("i",{onClick:function(){return y(!0)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-plus-circle text-success cursor-pointer"})]}):Object(l.jsx)("div",Object(n.a)(Object(n.a)({},w),{},{children:s}));case"date":return Object(l.jsx)(b.a,{value:T||new Date,format:"y-MM-dd",clearIcon:null,onChange:function(t){S(t),g(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)}(t),o)}});case"dateTime":return Object(l.jsx)(b.a,{value:A,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:function(t){I(t),g(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate()),e.getHours(),e.getMinutes(),e.getSeconds()],a=t[1],n=t[2],c=t[3],r=t[4],s=t[5];return c=c<10?"0"+c:c,r=r<10?"0"+r:r,s=s<10?"0"+s:s,"".concat(t[0],"-").concat(a,"-").concat(n," ").concat(c,":").concat(r,":").concat(s)}(t),o)}})}else if("object"===typeof r&&null!==r){switch(Object.keys(r)[0]){case"fetch":return Object(l.jsx)(u.a,{index:e,primaryKey:o,onChange:function(e,t,a){return g(e,t,a)},element:r,value:s,type:Array.isArray(s)?"multiple":"single",searchable:r.searchable,theme:P});case"radio":return Object(l.jsx)(d,{index:e,primaryKey:o,onChange:function(e,t,a){return g(e,t,a)},element:r,value:s},"".concat(e.i,"-").concat(e.j));default:return Object(l.jsx)("div",{children:"Unknown Element"})}}}(_,h,j,O)})}},368:function(e,t,a){"use strict";a.r(t),a.d(t,"AccountContext",(function(){return Ce}));var n=a(30),c=a(35),r=a(27),s=a(1),o=a.n(s),l=a(52),i=a.n(l),d=a(48),u=a(42),_=a(495),b=a.n(_),j=a(50),m=a.n(j),p=a(240),f=a.n(p),h=a(1269),O=a(435),g=a(70),x=a(1272),M=a(937),v=a(0),D=Object(O.c)((function(e){var t=e.intl,a=Object(s.useContext)(Ce),n=a.chartData,c=a.bankDetails,o=a.onMonthYearSelected,l=a.monthYearSelected,i=Object(s.useContext)(g.a),_=Object(s.useRef)(null),j=Object(s.useState)([]),p=Object(r.a)(j,2),O=p[0],D=p[1],y=Object(s.useState)([]),P=Object(r.a)(y,2),w=P[0],E=P[1],N=Object(s.useState)(0),C=Object(r.a)(N,2),T=C[0],S=C[1],k=Object(s.useState)({}),Y=Object(r.a)(k,2),A=Y[0],I=Y[1],R=getComputedStyle(document.documentElement).getPropertyValue("--bs-indigo"),L=getComputedStyle(document.documentElement).getPropertyValue("--bs-pink"),B="debit-card-income";Object(s.useEffect)((function(){S(_.current.clientWidth)}),[]),Object(s.useEffect)((function(){var e,t,r=n.map((function(e){return String(e.dated)}));r=Object(u.a)(new Set(r));var s=function(e){var t=e.category,a=e.total;return{month:e.dated,label:d.a.shorten(t,15),value:Number(a),isEmpty:Number(a)<=0}},o=r.map((function(e){var t=n.filter((function(t){return String(t.dated)===String(e)&&"Dr"===t.type})).map((function(e){return s(e)}));t=0===t.length?[s({category:"No Data",total:0,dated:null})]:t;var a=n.filter((function(t){return String(t.dated)===String(e)&&"Cr"===t.type})).map((function(e){return s(e)}));return a=0===a.length?[s({category:"No Data",total:0,dated:null})]:a,{month:e,cData:t,creditData:a}}));D(o);var l=function(e,t){var a=m()().isSame(e,"month"),n=0!==t?1:m()(e).daysInMonth(),c=m()("".concat(e.split("/")[0],"/").concat(e.split("/")[1],"/").concat(n)).toDate();return a?new Date:c},i=a.yearSelected,b=[{color:R,points:new Array(12).fill().map((function(e,t){return t>8?String(t+1):"0".concat(t+1)})).map((function(e){var t=d.a.monthToStr[e],a=n.filter((function(e){return"Cr"===e.type&&e.dated.split("-")[0].includes(t)})),c=m()("".concat(i,"/").concat(e,"/").concat(m()("".concat(i,"/").concat(e)).daysInMonth())).isBefore();return{month:m()("".concat(i,"/").concat(e,"/01")).format("MMM-YYYY"),x:m()("".concat(i,"/").concat(e,"/01")).format("YYYY-MM-DD"),z:m()(c?"".concat(i,"/").concat(e,"/").concat(m()("".concat(i,"/").concat(e)).daysInMonth()):m()()).format("YYYY-MM-DD"),y:a.length>0?a.reduce((function(e,t){return Number((Number(e)+Number(t.total)).toFixed(2))}),0):0,metricTotal:a.filter((function(e){return"1"===e.isIncomeMetric})).reduce((function(e,t){return Number(e)+Number(t.total)}),0),measureDate:l("".concat(i,"/").concat(e,"/01"),1)}}))},{color:L,points:new Array(12).fill().map((function(e,t){return t>8?String(t+1):"0".concat(t+1)})).map((function(e){var t=d.a.monthToStr[e],a=n.filter((function(e){return"Cr"===e.type&&e.dated.split("-")[0].includes(t)&&"1"===e.isIncomeMetric}));return{month:m()("".concat(i,"/").concat(e,"/01")).format("MMM-YYYY"),x:m()("".concat(i,"/").concat(e,"/01")).format("YYYY-MM-DD"),y:a.length>0?a.reduce((function(e,t){return Number((Number(e)+Number(t.total)).toFixed(2))}),0):0}}))}];E([]);var j=b[0].points.filter((function(e){return 0!==e.y})),p=new Date(null===(e=j[j.length-1])||void 0===e?void 0:e.z),f=new Date(null===(t=j[0])||void 0===t?void 0:t.x),h=K(f,p);setTimeout((function(){var e,t;E(b);var a=b[0].points.reduce((function(e,t){return e+t.metricTotal}),0),n=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/(40*h)||0,2),r=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/(5*h)||0,2),s=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/h||0,2);I({hourly:n,daily:r,weekly:s}),null!==(e=_.current)&&void 0!==e&&null!==(t=e.childNodes[2])&&void 0!==t&&t.childNodes[0]&&(_.current.childNodes[2].childNodes[0].style.height=260)}),1)}),[n,t,i]),Object(s.useEffect)((function(){if(w.length>0&&O.length>0){for(var e,t,a,n=function(e){var t=e.target.id;o(t)},c=null===(e=_.current)||void 0===e||null===(t=e.querySelector("#".concat(B," svg")))||void 0===t?void 0:t.getElementsByClassName("axis")[0].children,r=c&&(null===(a=Array.from(c))||void 0===a?void 0:a.filter((function(e){return e.classList.contains("tick")}))),s=0;s<r.length;s++)r[s].children[1].classList.remove("colored"),r[s].children[1].setAttribute("id",w[0].points[s].month),r[s].children[1].addEventListener("click",n);if(l){var i,d=r&&(null===(i=Array.from(r))||void 0===i?void 0:i.filter((function(e){return e.children[1].id===l}))[0]);d&&d.getElementsByTagName("text")[0].classList.add("colored")}return function(){for(var e=0;e<r.length;e++)r[e].children[1].removeEventListener("click",n)}}}),[l,w,O]);var K=function(e,t){var a=Math.floor((t-e)/864e5);return Math.ceil(a/7)||1},U=d.a.donutChartColors,W=function(e,t){var a=isFinite(Math[t].apply(Math,Object(u.a)(e)))?Math[t].apply(Math,Object(u.a)(e)):0;return a=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a,2)},F=function(e){var a=e.i18Key,n=e.value;return Object(v.jsxs)("div",{className:"position-relative small py-4",children:[t.formatMessage({id:a,defaultMessage:a}),Object(v.jsx)("span",{title:n,className:"position-absolute top-0 start-50 translate-middle rounded-pill bni-bg bni-text w-100 py-2 text-break",children:n})]})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{ref:_,children:w.length>0&&O.length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"badge bni-bg bni-text",children:Object(v.jsx)(h.a,{id:"incomeMetrics",defaultMessage:"incomeMetrics"})}),Object(v.jsxs)(x.a,{className:"mt-3",children:[Object(v.jsx)(M.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(v.jsx)(F,{i18Key:"total",value:function(e){var t=e.reduce((function(e,t){return e+t.metricTotal}),0);return t=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,t,2)}(w[0].points)})}),Object(v.jsx)(M.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(v.jsx)(F,{i18Key:"highest",value:W(w[0].points.filter((function(e){return 0!==e.metricTotal})).map((function(e){return e.metricTotal})),"max")})}),Object(v.jsx)(M.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(v.jsx)(F,{i18Key:"lowest",value:W(w[0].points.filter((function(e){return 0!==e.metricTotal})).map((function(e){return e.metricTotal})),"min")})}),Object(v.jsx)(M.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(v.jsx)(F,{i18Key:"weekly",value:A.weekly})}),Object(v.jsx)(M.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(v.jsx)(F,{i18Key:"daily",value:A.daily})}),Object(v.jsx)(M.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(v.jsx)(F,{i18Key:"hourly",value:A.hourly})})]}),Object(v.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(v.jsx)("div",{children:Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{style:{color:R},className:"fa fa-circle me-2",title:t.formatMessage({id:"credit",defaultMessage:"credit"})}),t.formatMessage({id:"credit",defaultMessage:"credit"})]})}),Object(v.jsxs)("div",{className:"fst-italic text-wrap",children:[Object(v.jsx)("sup",{className:"text-danger",children:"*"}),t.formatMessage({id:"CreditInclusiveIncome",defaultMessage:"CreditInclusiveIncome"})]}),Object(v.jsx)("div",{children:Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{style:{color:L},className:"fa fa-circle me-2",title:t.formatMessage({id:"income",defaultMessage:"income"})}),t.formatMessage({id:"income",defaultMessage:"income"})]})})]}),Object(v.jsx)(f.a,{data:w,id:B,margins:{top:50,right:T>450?80:30,bottom:50,left:135},width:T,isDate:!0,height:250,xLabel:t.formatMessage({id:"month",defaultMessage:"month"}),yLabel:"".concat(t.formatMessage({id:"credit",defaultMessage:"credit"})," & ").concat(t.formatMessage({id:"income",defaultMessage:"income"})),onPointHover:function(e){return d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:12,xDisplay:function(e,a){return function(e){var a="";if(T>450){var n=(a=m()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase(),c=e.getFullYear();a="".concat(t.formatMessage({id:n,defaultMessage:n})," ").concat(c)}else a=m()(e).format("M");return a}(e)},onPointClick:function(e,t){o(t.month)}})]})}),Object(v.jsx)("div",{className:"x-scroll",children:O.length>0&&Object(v.jsx)("div",{className:"d-flex align-items-center pt-2 ps-3",children:O.map((function(e,a){return Object(v.jsxs)("div",{className:"chartWrapper",children:[Object(v.jsx)("div",{className:"text-center pt-10 pb-10",children:Object(v.jsx)("button",{className:"btn btn-sm btn-bni ".concat(String(l)===String(e.month)?"active":""),onClick:function(){o(e.month)},children:"".concat(t.formatMessage({id:e.month.split("-")[0].toLowerCase(),defaultMessage:e.month.split("-")[0].toLowerCase()})," ").concat(e.month.split("-")[1])})}),Object(v.jsxs)("div",{className:"floatingChartWrapper",children:[a<1&&Object(v.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(v.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(v.jsx)(b.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:U,height:220,width:220,legend:!1,data:e.cData,formatValues:function(e,t){return"".concat(d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e,2))}})]}),Object(v.jsxs)("div",{className:"floatingChartWrapper",children:[a<1&&Object(v.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(v.jsx)(h.a,{id:"income",defaultMessage:"income"})}),Object(v.jsx)(b.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:U,height:220,width:220,legend:!1,data:e.creditData,formatValues:function(e,t){return"".concat(d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e,2))}})]})]},function(e){return"chart-".concat(e)}(a))}))})})]})})),y=a(25),P=(a(509),a(155)),w=a.n(P),E=Object(O.c)((function(e){var t,a=Object(s.useContext)(Ce),n=Object(s.useContext)(g.a),c=e.data,o=e.intl,l=a.ccMonthYearSelected,i=a.ccDetails,u=a.setCcDetails,_=a.onCcMonthYearSelected,b=Object(s.useState)(0),j=Object(r.a)(b,2),p=j[0],O=j[1],x=Object(s.useState)([]),M=Object(r.a)(x,2),D=M[0],P=M[1],E=Object(s.useState)(!0),N=Object(r.a)(E,2),C=N[0],T=N[1],S=Object(s.useRef)(null),k=getComputedStyle(document.documentElement).getPropertyValue("--bs-danger"),Y=getComputedStyle(document.documentElement).getPropertyValue("--bs-primary"),A=getComputedStyle(document.documentElement).getPropertyValue("--bs-success"),I=getComputedStyle(document.documentElement).getPropertyValue("--bs-warning"),R=Object(s.useState)({}),L=Object(r.a)(R,2),B=L[0],K=L[1],U="credit-card-usage";Object(s.useEffect)((function(){var e=l.split("-"),t=Object(r.a)(e,2),a=t[0],n=t[1],c=d.a.strToNumMonth[a],s=Number(i.credit_card_start_date),o=Number(i.credit_card_end_date),_=new Date("".concat(Number(n),"-").concat(Number(c),"-").concat(o).replace(/-/g,"/")),b="".concat(_.getFullYear(),"-").concat(d.a.leadingZeros(_.getMonth()+1),"-").concat(d.a.leadingZeros(_.getDate())),j=_.setTime(_.getTime()-2592e6);j=new Date(j),j=new Date(j.setDate(s));var m="".concat(j.getFullYear(),"-").concat(d.a.leadingZeros(j.getMonth()+1),"-").concat(d.a.leadingZeros(j.getDate())),p=Number(i.credit_card_payment_date);p=p<10?"0".concat(p):p,p=new Date("".concat(p,"-").concat(l));var f=[(p=d.a.addMonths(p,1)).getFullYear(),p.getMonth()+1,p.getDate()],h=f[0],g=f[1],x=f[2];g=g<10?"0".concat(g):g,x=x<10?"0".concat(x):x,p="".concat(h,"-").concat(g,"-").concat(x),K({sDateStr:m,eDateStr:b,payDate:p}),u((function(e){return Object(y.a)(Object(y.a)({},e),{},{creditCardCycleStartDate:m,creditCardCycleEndDate:b})})),O(S.current.clientWidth)}),[l]),Object(s.useEffect)((function(){if(C&&D.length>0){for(var e,t,a,n=function(e){var t=e.target.id;_(t)},c=null===(e=S.current)||void 0===e||null===(t=e.querySelector("#".concat(U," svg")))||void 0===t?void 0:t.getElementsByClassName("axis")[0].children,r=c&&(null===(a=Array.from(c))||void 0===a?void 0:a.filter((function(e){return e.classList.contains("tick")}))),s=0;s<r.length;s++)r[s].children[1].classList.remove("colored"),r[s].children[1].setAttribute("id",D[0].points[s].month),r[s].children[1].addEventListener("click",n);if(l){var o,i=r&&(null===(o=Array.from(r))||void 0===o?void 0:o.filter((function(e){return e.children[1].id===l}))[0]);i&&i.getElementsByTagName("text")[0].classList.add("colored")}return function(){for(var e=0;e<r.length;e++)r[e].children[1].removeEventListener("click",n)}}}),[l,C,D]);var W=function(e){var t=l.split("-")[1],a=new Array(12).fill().map((function(e,t){return t>8?String(t+1):"0".concat(t+1)})).map((function(a){var n=d.a.monthToStr[a],r=c.filter((function(e){return e.month.split("-")[0].includes(n)})),s=r.length?r[0].cData.filter((function(t){return t.label===e}))[0].value:0;return{x:m()("".concat(t,"/").concat(a,"/01")).format("YYYY-MM-DD"),y:s,month:"".concat(n,"-").concat(t)}}));return a=w.a.flatten(a)},F=function(e){var t=W(e).reduce((function(e,t){return e+Number(t.y.toFixed(2))}),0);return t=d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,t,2)};Object(s.useEffect)((function(){if(c.length>0){var e,t,a=[{color:k,points:W("Taxes & Interest")},{color:Y,points:W("Purchases")},{color:A,points:W("Paid")},{color:I,points:W("Opening Balance")}];P([]),setTimeout((function(){P(a)}),100),null!==(e=S.current)&&void 0!==e&&null!==(t=e.childNodes[2])&&void 0!==t&&t.childNodes[0]&&(S.current.childNodes[2].childNodes[0].style.height=260)}}),[c]);var V=function(e){if(null!==o&&void 0!==o&&o.formatMessage){var t="";if(p>450){var a=(t=m()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase(),n=e.getFullYear();t="".concat(o.formatMessage({id:a,defaultMessage:a})," ").concat(n)}else t=m()(e).format("M");return t}};return Object(v.jsxs)("div",{ref:S,className:"position-relative",children:[Object(v.jsx)("i",{className:"fa fa-".concat(C?"minus":"plus","-circle roundedButton"),onClick:function(){return T(!C)},style:C?{}:{position:"absolute",top:"15px"}}),C&&D.length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"row rounded pt-2",children:[Object(v.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:"fa fa-circle text-warning me-2",title:o.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"})}),Object(v.jsx)(h.a,{id:"openingBalance",defaultMessage:"openingBalance"})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"pe-2",children:Object(v.jsx)(h.a,{id:"year",defaultMessage:"year"})}),null===(t=c[0])||void 0===t?void 0:t.month.split("-")[1]]})]}),Object(v.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:"fa fa-circle text-primary me-2",title:o.formatMessage({id:"purchases",defaultMessage:"purchases"})}),Object(v.jsx)(h.a,{id:"purchases",defaultMessage:"purchases"})]}),Object(v.jsx)("span",{children:"".concat(F("Purchases"))})]}),Object(v.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:"fa fa-circle text-success me-2",title:o.formatMessage({id:"payments",defaultMessage:"payments"})}),Object(v.jsx)(h.a,{id:"payments",defaultMessage:"payments"})]}),Object(v.jsx)("span",{children:"".concat(F("Paid"))})]}),Object(v.jsxs)("div",{className:"col-md-3 small d-flex flex-nowrap justify-content-between align-items-center",children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:"fa fa-circle text-danger me-2",title:o.formatMessage({id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})}),Object(v.jsx)(h.a,{id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})]}),Object(v.jsx)("span",{children:"".concat(F("Taxes & Interest"))})]})]}),Object(v.jsx)(f.a,{data:D,id:U,margins:{top:50,right:p>450?80:30,bottom:50,left:135},width:p,isDate:!0,height:250,xLabel:o.formatMessage({id:"month",defaultMessage:"month"}),yLabel:o.formatMessage({id:"amount",defaultMessage:"amount"}),onPointHover:function(e){return d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:12,xDisplay:function(e,t){return V(e)},onPointClick:function(e,t){return _(t.month)}}),l&&B&&i&&B.payDate&&Object(v.jsx)("div",{className:"pt-4",children:Object(v.jsxs)("div",{className:"row mt-10",children:[Object(v.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[Object(v.jsx)("span",{children:Object(v.jsx)(h.a,{id:"month",defaultMessage:"month"})}),Object(v.jsx)("span",{children:V(new Date("\n                        ".concat(l.split("-")[1],"/").concat(d.a.strToNumMonth[l.split("-")[0]],"/01")))})]}),Object(v.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(v.jsx)("i",{className:"fa fa-credit-card-alt"}),Object(v.jsx)("span",{children:i.credit_card_number})]}),Object(v.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(v.jsx)("span",{children:Object(v.jsx)(h.a,{id:"cycle",defaultMessage:"cycle"})}),Object(v.jsxs)("span",{children:[B.sDateStr," ",Object(v.jsx)(h.a,{id:"to",defaultMessage:"to"})," ",B.eDateStr]})]}),Object(v.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[Object(v.jsx)("span",{children:Object(v.jsx)(h.a,{id:"payDate",defaultMessage:"payDate"})}),Object(v.jsx)("span",{children:B.payDate})]})]})})]})]})})),N=function(e){var t=Object(s.useContext)(Ce),a=t.ccChartData,n=t.ccYearSelected,c=t.ccDetails,o=t.onCcMonthYearSelected,l=Object(s.useState)([]),i=Object(r.a)(l,2),u=i[0],_=i[1];return Object(s.useEffect)((function(){if(a.length>0){var e=Array.from({length:12},(function(e,t){return++t})).map((function(e){var t=d.a.addMonths(new Date("".concat(n-1,"-11-").concat(c.credit_card_start_date)),e),r=d.a.addMonths(new Date("".concat(n-1,"-12-").concat(c.credit_card_end_date)),e);return a.filter((function(e){var a=new Date(e.month);return a>=t&&a<=r})).reduce((function(t,a){var c=new Date(n,e-1,1);return{month:d.a.dateToMonthYear(c),cData:[{label:"Opening Balance",value:t.cData[0].value+Number(a.ob)},{label:"Paid",value:t.cData[1].value+Number(a.paid)},{label:"Purchases",value:t.cData[2].value+Number(a.purchases)},{label:"Taxes & Interest",value:t.cData[3].value+Number(a.taxesInterest)},{label:"Balance",value:t.cData[4].value+Number(a.balance)}]}}),{cData:[{label:"Opening Balance",value:0},{label:"Paid",value:0},{label:"Purchases",value:0},{label:"Taxes & Interest",value:0},{label:"Balance",value:0}]})})).filter((function(e){return e.month})).reverse();_(e)}}),[a,c,n,o]),Object(v.jsx)("div",{children:Object(v.jsx)(E,{data:u})})};N.defaultProps={property:"String name"};var C=N,T=a(28),S=a(82),k=a(46),Y=a(934),A=a(1293),I=a(322),R=(a(514),a(1290)),L=a(39),B=a(779),K=["monthYearSelected","bankSelected","selectedPlan"],U=function(e){var t=Object(B.a)(),a=e.monthYearSelected,n=e.bankSelected,c=e.selectedPlan,o=Object(T.a)(e,K),l=Object(s.useContext)(L.a),u=Object(s.useContext)(g.a),_=Object(s.useState)([]),b=Object(r.a)(_,2),j=b[0],m=b[1],p=Object(s.useState)(!0),f=Object(r.a)(p,2),O=f[0],x=f[1];Object(s.useEffect)((function(){x(!0);var e=M();Promise.all([e]).then((function(e){var t=e[0];m(t),x(!1)}))}),[a,n,c]);var M=function(){var e=new FormData;return e.append("startDate",c.startDate),e.append("endDate",c.endDate),e.append("bankSelected",n),e.append("criteria",c.criteria),e.append("appId",l.userConfig.appId),k.a.post("/account_planner/getPlanDetails",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))},D=function(e,t){return"E0"===c.criteria?Number(e):"0TO100"===c.criteria||"E100"===c.criteria||"G100"===c.criteria?Number(e)-Number(t):0},P=function(e){var t=e.reduce((function(e,t){return e+t}),0);return d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,t,2)},w=[],E=[],N=[];return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},o),{},{style:{zIndex:9999},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsxs)(R.a.Title,{children:[t.formatMessage({id:a.split("-")[0].toLowerCase(),defaultMessage:a.split("-")[0].toLowerCase()})," ",a.split("-")[1]," ",Object(v.jsx)("i",{className:"fa fa-angle-double-right"})," ",c.label]})}),Object(v.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===l.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(v.jsx)("div",{className:"table-responsive p-10",children:O?Object(v.jsx)("div",{className:"relativeSpinner",children:Object(v.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(v.jsx)("table",{className:"table ".concat("dark"===l.userData.theme?"table-dark":"table-white"),children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"#"}),Object(v.jsx)("th",{children:Object(v.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(v.jsx)("th",{children:Object(v.jsx)(h.a,{id:"committed",defaultMessage:"committed"})}),Object(v.jsx)("th",{children:Object(v.jsx)(h.a,{id:"plan",defaultMessage:"plan"})}),Object(v.jsx)("th",{children:Object(v.jsx)(h.a,{id:"difference",defaultMessage:"difference"})})]}),j&&j.length>0?j.map((function(e,t){var a=D(e.inc_exp_plan_amount,e.inc_exp_amount);w.push(Number(e.inc_exp_amount)),E.push(Number(e.inc_exp_plan_amount));var n=D(e.inc_exp_plan_amount,e.inc_exp_amount);return N.push(n),Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[t+1,"."]}),Object(v.jsx)("td",{children:e.inc_exp_name}),Object(v.jsx)("td",{children:e.inc_exp_amount}),Object(v.jsx)("td",{children:e.inc_exp_plan_amount}),Object(v.jsx)("td",{className:"text-".concat(a>=0?"success":"danger"),children:a>=0?"+".concat(d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,a,2)):"(".concat(d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,a,2),")")})]},t)})):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{className:"text-center py-3",colSpan:"5",children:Object(v.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})}),j&&j.length>0&&Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(h.a,{id:"total",defaultMessage:"total"})}),Object(v.jsx)("td",{}),Object(v.jsx)("td",{children:P(w)}),Object(v.jsx)("td",{children:P(E)}),Object(v.jsx)("td",{children:P(N)})]})]})})})})]}))};U.defaultProps={property:"String name"};var W=U,F=["totals"],V=function(e){var t=Object(B.a)(),a=Object(s.useContext)(L.a),n=Object(s.useContext)(g.a),c=e.totals,o=Object(T.a)(e,F),l=Object(s.useState)(0),i=Object(r.a)(l,2),u=i[0],_=i[1],b=Object(s.useState)(0),j=Object(r.a)(b,2),m=j[0],p=j[1],f=Object(s.useState)(0),O=Object(r.a)(f,2),x=O[0],M=O[1],D=Object(s.useState)(0),P=Object(r.a)(D,2),w=P[0],E=P[1],N=Object(s.useState)(0),C=Object(r.a)(N,2),S=C[0],k=C[1],Y=Object(s.useState)(0),A=Object(r.a)(Y,2),I=A[0],K=A[1];Object(s.useEffect)((function(){if(c.length>0){var e=c.length>0&&c.filter((function(e){return"danger"===e.flagString&&e.amount>0}));e=(e=e.length>0?e[0].amount:0).toFixed(2),e=Number(e),_(e)}}),[c]),Object(s.useEffect)((function(){var e=u-m-x-w;e=Math.round(100*e)/100,k(e=-0===e?0:e);var t=(Number(u)-e)/u;t=(t*=100)>100?100:t,t=isNaN(t)?100:t,K(t)}),[u,m,x,w]);var U=function(e){return{label:0===e?t.formatMessage({id:"solved",defaultMessage:"solved"}):e>0?t.formatMessage({id:"behind",defaultMessage:"behind"}):t.formatMessage({id:"ahead",defaultMessage:"ahead"}),class:0===e?"text-success":e>0?"text-danger":"text-primary"}};return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},o),{},{style:{zIndex:9999},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:Object(v.jsx)(h.a,{id:"tally",defaultMessage:"tally"})})}),Object(v.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===a.userData.theme?"bg-dark":"bg-white"),children:Object(v.jsxs)("div",{className:"tallyModal text-dark",children:[Object(v.jsxs)("div",{className:"py-2 form-floating",children:[Object(v.jsx)("input",{id:"appplicationBalance",value:u,onChange:function(e){return _(Number(e.target.value))},placeholder:t.formatMessage({id:"balance",defaultMessage:"balance"}),type:"number",className:"form-control"}),Object(v.jsx)("label",{htmlFor:"appplicationBalance",children:Object(v.jsx)(h.a,{id:"balance",defaultMessage:"balance"})})]}),Object(v.jsxs)("div",{className:"py-2 form-floating",children:[Object(v.jsx)("input",{id:"bankBalance",onChange:function(e){return p(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"bank",defaultMessage:"bank"})," ").concat(t.formatMessage({id:"balance",defaultMessage:"balance"}))}),Object(v.jsxs)("label",{htmlFor:"bankBalance",children:[Object(v.jsx)(h.a,{id:"bank",defaultMessage:"bank"})," ",Object(v.jsx)(h.a,{id:"balance",defaultMessage:"balance"})]})]}),Object(v.jsxs)("div",{className:"py-2 form-floating",children:[Object(v.jsx)("input",{id:"unAccounted",onChange:function(e){return M(Number(e.target.value))},type:"number",className:"form-control",placeholder:t.formatMessage({id:"unaccounted",defaultMessage:"unaccounted"})}),Object(v.jsx)("label",{htmlFor:"unAccounted",children:Object(v.jsx)(h.a,{id:"unaccounted",defaultMessage:"unaccounted"})})]}),Object(v.jsxs)("div",{className:"py-2 form-floating",children:[Object(v.jsx)("input",{id:"walletBalance",onChange:function(e){return E(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"wallet",defaultMessage:"wallet"})," ").concat(t.formatMessage({id:"balance",defaultMessage:"balance"}))}),Object(v.jsxs)("label",{htmlFor:"walletBalance",children:[Object(v.jsx)(h.a,{id:"wallet",defaultMessage:"wallet"})," ",Object(v.jsx)(h.a,{id:"balance",defaultMessage:"balance"})]})]}),Object(v.jsxs)("div",{className:"py-2",children:[Object(v.jsx)("div",{className:"text-center p-10",children:Object(v.jsxs)("h5",{className:U(S).class,children:[U(S).label,"\xa0",Object(v.jsx)("i",{className:"fa ".concat(100===I?"fa-check":"fa-times-circle")})]})}),Object(v.jsx)("div",{className:"text-center ".concat(U(S).class),children:d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,S,2)})]}),Object(v.jsx)("div",{className:"custom-progress-bar ".concat(I<100?"danger":"success"),style:{width:"".concat(I,"%")}})]})})]}))},H=["srcArr"],q=function(e){var t=Object(s.useContext)(Ce),a=e.srcArr,n=Object(T.a)(e,H),c=t.incExpList,o=Object(s.useState)([]),l=Object(r.a)(o,2),i=l[0],d=l[1],_=Object(s.useState)([]),b=Object(r.a)(_,2),j=b[0],p=b[1],f=Object(B.a)(),O=Object(s.useContext)(L.a),g=Object(s.useState)({amount:"",source:"",dest:"",description:f.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"}),category:"",availableFunds:0}),x=Object(r.a)(g,2),M=x[0],D=x[1];Object(s.useEffect)((function(){a&&a.length>0&&d(a)}),[a]);Object(s.useEffect)((function(){var e=new FormData;e.append("id",M.source),e.append("appId",O.userConfig.appId),k.a.post("/account_planner/getFundDetails",e).then((function(e){D((function(t){return Object(y.a)(Object(y.a)({},t),{},{availableFunds:e.data.response[0].availableFunds})}))})).catch((function(e){console.log(e)}))}),[M.source]);return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},n),{},{style:{zIndex:9999},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:Object(v.jsx)(h.a,{id:"fundTransfer",defaultMessage:"fundTransfer"})})}),Object(v.jsx)(R.a.Body,{className:"p-0 rounded-bottom ".concat("dark"===O.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(v.jsxs)("div",{className:"row m-0",children:[Object(v.jsxs)("div",{className:"col-5 pt-3",children:[Object(v.jsxs)("div",{className:"py-3 text-center",children:[Object(v.jsx)("div",{children:Object(v.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(v.jsx)("small",{children:Object(v.jsx)(h.a,{id:"sourceBank",defaultMessage:"sourceBank"})})]}),Object(v.jsxs)("div",{className:"form-floating mt-1",children:[Object(v.jsxs)("select",{id:"source",className:"form-control",value:M.source,onChange:function(e){!function(e){var t=Object(u.a)(i).filter((function(t){return t.id!==e}));p(t),D((function(t){return Object(y.a)(Object(y.a)({},t),{},{source:e,dest:"",amount:"",category:""})}))}(e.target.value)},children:[Object(v.jsx)("option",{value:"",children:"--"}),i.length&&i.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(v.jsx)("label",{htmlFor:"source",className:"text-dark",children:Object(v.jsx)(h.a,{id:"selectSourceAccount",defaultMessage:"selectSourceAccount"})}),Number(M.availableFunds)>0&&Object(v.jsxs)("small",{className:"text-danger",children:[Object(v.jsx)(h.a,{id:"balance",defaultMessage:"balance"}),":",Number(M.availableFunds).toLocaleString()]})]})]}),Object(v.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-center",children:Object(v.jsx)("i",{className:"fa fa-arrow-circle-right fa-3x"})}),Object(v.jsxs)("div",{className:"col-5 pt-3",children:[Object(v.jsxs)("div",{className:"py-3 text-center",children:[Object(v.jsx)("div",{children:Object(v.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(v.jsx)("small",{children:Object(v.jsx)(h.a,{id:"destinationBank",defaultMessage:"destinationBank"})})]}),Object(v.jsxs)("div",{className:"form-floating mt-1",children:[Object(v.jsxs)("select",{id:"dest",className:"form-control",value:M.dest,onChange:function(e){return D((function(t){return Object(y.a)(Object(y.a)({},t),{},{dest:e.target.value})}))},children:[Object(v.jsx)("option",{value:"",children:"--"}),j.length&&j.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(v.jsx)("label",{htmlFor:"dest",className:"text-dark",children:Object(v.jsx)(h.a,{id:"selectDestinationAccount",defaultMessage:"selectDestinationAccount"})})]})]}),Object(v.jsx)("div",{className:"col-6 pt-3",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsx)("input",{id:"amount",value:M.amount,onChange:function(e){return D((function(t){return Object(y.a)(Object(y.a)({},t),{},{amount:e.target.value})}))},placeholder:f.formatMessage({id:"amount",defaultMessage:"amount"}),type:"number",className:"form-control form-control-sm"}),Object(v.jsx)("label",{htmlFor:"amount",className:"text-dark",children:Object(v.jsx)(h.a,{id:"amount",defaultMessage:"amount"})})]})}),Object(v.jsx)("div",{className:"col-6 pt-3",children:Object(v.jsxs)("div",{className:"form-floating",children:[Object(v.jsxs)("select",{id:"cat",className:"form-control",value:M.category,onChange:function(e){return D((function(t){return Object(y.a)(Object(y.a)({},t),{},{category:e.target.value})}))},children:[Object(v.jsx)("option",{value:"",children:"--"}),c.length&&c.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(v.jsx)("label",{htmlFor:"cat",className:"text-dark",children:Object(v.jsx)(h.a,{id:"category",defaultMessage:"category"})})]})}),Object(v.jsx)("div",{className:"col-12 py-3",children:Object(v.jsx)("button",{disabled:!(M.dest&&M.amount&&M.source&&M.category),className:"btn btn-bni w-100 border-0",onClick:function(){return function(){var e=new FormData;e.append("amount",M.amount),e.append("source",M.source),e.append("dest",M.dest),e.append("description","".concat(M.description,": ").concat(i.filter((function(e){return e.id===M.source}))[0].value," -> ").concat(i.filter((function(e){return e.id===M.dest}))[0].value)),e.append("category",M.category),e.append("date",m()(new Date).format("YYYY-MM-DD")),e.append("dateTime",m()(new Date).format("YYYY-MM-DD HH:mm:ss")),e.append("appId",O.userConfig.appId),k.a.post("/account_planner/postFundTransfer",e).then((function(e){var t=e.data;e&&t&&t.response?(O.renderToast({message:f.formatMessage({id:"fundTransferSuccess",defaultMessage:"fundTransferSuccess"})}),D((function(e){return Object(y.a)(Object(y.a)({},e),{},{source:"",dest:"",amount:"",category:"",description:f.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})})}))):O.renderToast({type:"error",icon:"fa fa-times-circle",message:f.formatMessage({id:"fundTransferFail",defaultMessage:"fundTransferFail"})})})).catch((function(e){O.renderToast({type:"error",icon:"fa fa-times-circle",message:f.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}))}()},children:Object(v.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})})]})})]}))};q.defaultProps={property:"String name"};var z=q,G=a(168),J=a(62),Z=a(57),Q=["intl"],$=Object(O.c)((function(e,t){var a=Object(s.useContext)(Ce),o=Object(s.useContext)(L.a),l=Object(s.useContext)(J.a),_=e.intl,b=Object(T.a)(e,Q),j=a.incExpList,p=a.bankList,f=a.bankSelected,O=a.bankDetails,g=a.monthYearSelected,x=Object(s.useState)([]),M=Object(r.a)(x,2),D=M[0],P=M[1],w=Object(s.useState)([]),E=Object(r.a)(w,2),N=E[0],C=E[1],R=Object(s.useState)([]),B=Object(r.a)(R,2),K=B[0],U=B[1],F=Object(s.useState)(!1),H=Object(r.a)(F,2),q=H[0],$=H[1],X=Object(s.useState)(!1),ee=Object(r.a)(X,2),te=ee[0],ae=ee[1],ne=Object(s.useState)(!1),ce=Object(r.a)(ne,2),re=ce[0],se=ce[1],oe=Object(s.useState)({}),le=Object(r.a)(oe,2),ie=le[0],de=le[1],ue=Object(s.useState)(!1),_e=Object(r.a)(ue,2),be=_e[0],je=_e[1],me=d.a.getNow(),pe=Object(s.useState)({}),fe=Object(r.a)(pe,2),he=fe[0],Oe=fe[1];Object(s.useEffect)((function(){Oe({config:{header:{searchPlaceholder:_.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:_.formatMessage({id:"total",defaultMessage:"total"}),locale:O[0].bank_locale,currency:O[0].bank_currency,maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},rowElements:[],Table:"income_expense",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments","inc_exp_added_at","inc_exp_is_planned"],TableAliasRows:["id","transaction","amount","plan","type","date","category","bank","comments","recorded","isPlanned"].map((function(e){return _.formatMessage({id:e,defaultMessage:e})})),defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:m()(new Date).format("YYYY-MM-DD")}],rowKeyUp:"",showTooltipFor:["inc_exp_name","inc_exp_comments"],showTotal:[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}}]})}),[_]);var ge=function(){if(g){C([]),je(!0);var e=g.split("-"),t=Object(r.a)(e,2),a=t[0],s=t[1],l=d.a.strToNumMonth[a],i=new Date(s,l,0).getDate(),u='inc_exp_date between "'.concat(s,"-").concat(l,'-01" and "').concat(s,"-").concat(l,"-").concat(i,'" and inc_exp_bank = ').concat(f,' and inc_exp_appId = "').concat(o.userConfig.appId,'"'),b={fetch:{dropDownList:j.map((function(e){return{id:e.id,value:e.value}}))}},h={fetch:{dropDownList:p}},O=xe(u);Promise.all([O]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t[0].data.response,C(a),Oe((function(e){var t;return Object(y.a)(Object(y.a)({},e),{rowElements:["checkbox","textbox","number",m()(null===(t=a[0])||void 0===t?void 0:t.inc_exp_date).isAfter()?"number":"label",{radio:{radioList:[{label:_.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:_.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}},"date",b,h,"textbox","relativeTime","boolean"]})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return je(!1)}))}};Object(s.useEffect)((function(){ge()}),[g,f,j,p,_]);Object(s.useEffect)((function(){N.length&&ve(N)}),[_,N]);var xe=function(e){var t=new FormData;return t.append("appId",o.userConfig.appId),t.append("TableRows",he.TableRows),t.append("Table",he.Table),e&&t.append("WhereClause",e),k.a.post("/account_planner/getAccountPlanner",t)},Me=function(e,t){return Object(v.jsx)(Y.a,Object(y.a)(Object(y.a)({id:"button-tooltip-1",className:"in show"},b),{},{children:t}))},ve=function(e){var t=null===e||void 0===e?void 0:e.map((function(e){return e.inc_exp_plan_amount=Number(e.inc_exp_plan_amount),e.inc_exp_amount=Number(e.inc_exp_amount),e})).filter((function(e){return"1"===e.inc_exp_is_planned})).reduce((function(e,t){"Cr"===t.inc_exp_type&&(e.incomeTotal+=t.inc_exp_amount),"Dr"===t.inc_exp_type&&(e.expenseTotal+=t.inc_exp_amount,e.planTotal+=t.inc_exp_plan_amount);var a=t.inc_exp_plan_amount/t.inc_exp_amount;a=Number((100*(a===1/0||isNaN(a)?0:a)).toFixed(2)),e.totalPlans.push(a);var n=Object(y.a)({percent:a},t);return 0===t.inc_exp_plan_amount&&e.noPlans.push(n),100===a&&e.achievedPlans.push(n),a>100&&e.goodPlans.push(n),a<100&&a>0&&e.badPlans.push(n),e}),{expenseTotal:0,incomeTotal:0,planTotal:0,totalPlans:[],goodPlans:[],badPlans:[],noPlans:[],achievedPlans:[]}),a=function(e,t,a){return e.filter((function(e){return e[t]===a})).reduce((function(e,t){return e+t.inc_exp_amount}),0)},n=[{amount:a(e,"inc_exp_type","Cr"),label:_.formatMessage({id:"income",defaultMessage:"income"}),flagString:"success"},{amount:a(e,"inc_exp_type","Dr"),label:_.formatMessage({id:"expense",defaultMessage:"expense"}),flagString:"info"},{amount:a(e,"inc_exp_type","Cr")-a(e,"inc_exp_type","Dr"),label:_.formatMessage({id:"balance",defaultMessage:"balance"}),flagString:"danger"},{amount:t.planTotal,label:_.formatMessage({id:"planning",defaultMessage:"planning"}),flagString:"warning"}];U(n);var c=[{key:"goodPlans",flagString:"success",planString:_.formatMessage({id:"goodPlans",defaultMessage:"goodPlans"}),planArray:t.goodPlans},{key:"achievedPlans",flagString:"info",planString:_.formatMessage({id:"achievedPlans",defaultMessage:"achievedPlans"}),planArray:t.achievedPlans},{key:"badPlans",flagString:"danger",planString:_.formatMessage({id:"badPlans",defaultMessage:"badPlans"}),planArray:t.badPlans},{key:"noPlans",flagString:"warning",planString:_.formatMessage({id:"noPlans",defaultMessage:"noPlans"}),planArray:t.noPlans}];P(c)},De=function(e,t){return e.reduce((function(e,a){return e+function(){switch(t){case"goodPlans":case"badPlans":return a.inc_exp_plan_amount-a.inc_exp_amount;case"achievedPlans":return a.inc_exp_plan_amount;case"noPlans":return a.inc_exp_plan_amount+a.inc_exp_amount;default:return 0}}()}),0)};return Object(v.jsxs)("div",{className:"settings",children:[q&&Object(v.jsx)(W,{className:"planInfoModal",show:q,onHide:function(){return $(!1)},size:"lg",animation:!1,monthYearSelected:g,bankSelected:f,selectedPlan:ie}),te&&Object(v.jsx)(V,{className:"planInfoModal",show:te,onHide:function(){return ae(!1)},size:"sm",totals:K,animation:!1}),re&&he.rowElements[7].fetch.dropDownList.length>0&&Object(v.jsx)(z,{className:"",show:re,onHide:function(){return se(!1)},size:"lg",animation:!1,srcArr:he.rowElements[7].fetch.dropDownList,incExpList:he.rowElements[6].fetch.dropDownList,centered:!0}),Object(v.jsxs)("div",{className:"",children:[!be&&N.length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"buttonGrid",children:g&&N&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h6",{children:"".concat(_.formatMessage({id:g.split("-")[0].toLowerCase(),defaultMessage:g.split("-")[0].toLowerCase()})," ").concat(g.split("-")[1])}),Object(v.jsxs)("div",{className:"d-flex flex-row-reverse",children:[Object(v.jsx)("div",{children:Object(v.jsx)(A.a,{placement:"left",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})),triggerType:"hover",children:Object(v.jsx)("i",{className:"fa fa-arrows-h roundedButton ".concat(o.userData.theme," pull-right"),onClick:function(){return se(!0)}})})}),Object(v.jsx)("div",{children:Object(v.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"PDF"})),triggerType:"hover",children:Object(v.jsx)("i",{onClick:function(){return function(){var e=null===N||void 0===N?void 0:N.map((function(e,t){return[t+1,e.inc_exp_name,e.inc_exp_amount,e.inc_exp_plan_amount,e.inc_exp_type,e.inc_exp_date,e.inc_exp_comments]})),t=new I.default;t.text("".concat(d.a.stringToCapitalize(he.Table)," (").concat(g,")"),15,10),t.autoTable({styles:{overflow:"linebreak"},theme:"grid",head:[["#","Transaction","Amount","Planned","Type","Date","Comments"]],body:Object(u.a)(e)});var a=K.map((function(e){return d.a.lacSeperator(e.amount)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Income","Expense","Balance","Planning"]],body:[a]});var n=D.map((function(e){return d.a.lacSeperator(De(e.planArray,e.key),he.config.footer.total.currency)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Good Plans","Achieved Plans","Bad Plans","No Plans"]],body:[n]}),t.save("".concat(he.Table,"-").concat(me))}()},className:"fa fa-file-pdf-o roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(v.jsx)(G.a,{datas:d.a.stripCommasInCSV(N),filename:"Income-Expense-".concat(me,".csv"),columns:[{displayName:"Transaction",id:"inc_exp_name"},{displayName:"Date",id:"inc_exp_date"},{displayName:"Type",id:"inc_exp_type"},{displayName:"Amount",id:"inc_exp_amount"}],children:Object(v.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"CSV"})),triggerType:"hover",children:Object(v.jsx)("i",{className:"fa fa-file-excel-o roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(v.jsx)("div",{children:Object(v.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"replan",defaultMessage:"replan"})),triggerType:"hover",children:Object(v.jsx)("i",{onClick:function(){return function(){var e=he.rowElements.map((function(e,t){return 3===t?"number":e}));Oe(Object(y.a)(Object(y.a)({},he),{rowElements:e}))}()},className:"fa fa-repeat roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(v.jsx)("div",{children:Object(v.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"tally",defaultMessage:"tally"})),triggerType:"hover",children:Object(v.jsx)("i",{onClick:function(){return ae(!0)},className:"fa fa-text-width roundedButton ".concat(o.userData.theme," pull-right")})})})]})]})}),Object(v.jsx)(S.a,{id:"incExpTable",config:he.config,Table:he.Table,TableRows:he.TableRows,TableAliasRows:he.TableAliasRows,rowElements:he.rowElements,showTotal:he.showTotal,rowKeyUp:he.rowKeyUp,dbData:N,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,n=e.data;if(200===t){if(e&&n&&"boolean"===typeof n.response&&null!==n.response&&n.response&&a.renderToast({message:_.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&n&&"boolean"===typeof n.response&&null!==n.response&&!1===n.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&n&&null===n.response&&l.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(v.jsx)(Z.b,{}),content:Object(v.jsx)(Z.a,{})}),e&&n&&"object"===typeof n.response&&null!==n.response){var c;c=1451===n.response.number?"foreignKeyDeleteMessage":"",o.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:c,defaultMessage:c})})}}else a.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:he.showTooltipFor,defaultValues:he.defaultValues,onTableUpdate:function(e){ve(e)},onReFetchData:function(){ge()},cellWidth:[4,13,8,8,13,8,13,13,13,10,5],ajaxButtonName:_.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:o.userConfig.appId},theme:o.userData.theme},"incExpTable"),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"row",children:K.map((function(e){return Object(v.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"p-6 text-center",children:Object(v.jsx)("h5",{children:e.label})})}),Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"text-center text-".concat(e.flagString),children:d.a.countryCurrencyLacSeperator(O[0].bank_locale,O[0].bank_currency,e.amount,2)})})]})},e.label)}))}),Object(v.jsx)("div",{className:"row",children:D.map((function(e){return Object(v.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"p-6 text-center",children:Object(v.jsxs)("h5",{children:[e.planString,Object(v.jsx)("sup",{className:"superScript text-".concat(e.flagString," border-").concat(e.flagString),children:e.planArray.length})]})})}),Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"text-center text-".concat(e.flagString),children:Object(v.jsx)("button",{onClick:function(){return function(e){var t=g.split("-"),a=Object(r.a)(t,2),n=a[0],c=a[1],s=d.a.strToNumMonth[n],o=new Date(c,s,0).getDate(),l={startDate:"".concat(c,"-").concat(s,"-01"),endDate:"".concat(c,"-").concat(s,"-").concat(o),bankSelected:f};switch(e){case"goodPlans":l=Object(y.a)(Object(y.a)({},l),{},{label:_.formatMessage({id:"goodPlans",defaultMessage:"goodPlans"}),criteria:"G100"});break;case"achievedPlans":l=Object(y.a)(Object(y.a)({},l),{},{label:_.formatMessage({id:"achievedPlans",defaultMessage:"achievedPlans"}),criteria:"E100"});break;case"badPlans":l=Object(y.a)(Object(y.a)({},l),{},{label:_.formatMessage({id:"badPlans",defaultMessage:"badPlans"}),criteria:"0TO100"});break;case"noPlans":l=Object(y.a)(Object(y.a)({},l),{},{label:_.formatMessage({id:"noPlans",defaultMessage:"noPlans"}),criteria:"E0"})}$(!0),de(l)}(e.key)},className:"btn btn-sm btn-".concat(e.flagString),children:d.a.countryCurrencyLacSeperator(O[0].bank_locale,O[0].bank_currency,De(e.planArray,e.key),2)})})})]})},e.key)}))})]})]}),!be&&!N.length&&Object(v.jsx)("div",{className:"py-3 text-center",children:Object(v.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),be&&Object(v.jsx)("div",{className:"relativeSpinner",children:Object(v.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})]})})),X=a(1245),ee=Object(O.c)((function(e){var t,a=Object(s.useContext)(Ce),n=e.intl,c=a.bankList,r=a.bankSelected,o=a.setBankSelected,l=null===(t=c.filter((function(e){return e.id===r}))[0])||void 0===t?void 0:t.value;return Object(v.jsxs)(X.a,{title:n.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(v.jsxs)(X.a.Toggle,{className:"btn btn-bni",children:[l," ",Object(v.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(v.jsx)(X.a.Menu,{children:c.map((function(e,t){return Object(v.jsx)(X.a.Item,{onClick:function(){o(e.id)},children:Object(v.jsxs)("div",{title:e.value,children:[Object(v.jsx)("i",{className:"fa fa-bank"})," ",e.value]})},t)}))})]})})),te=Object(O.c)((function(e){var t=Object(s.useContext)(Ce),a=e.intl,n=t.yearList,c=t.yearSelected,r=t.setYearSelected;return Object(v.jsxs)(X.a,{title:a.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(v.jsxs)(X.a.Toggle,{className:"btn btn-bni",children:[c," ",Object(v.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(v.jsx)(X.a.Menu,{children:n.map((function(e,t){return Object(v.jsx)(X.a.Item,{onClick:function(){r(e.id)},children:Object(v.jsxs)("div",{title:e.value,children:[Object(v.jsx)("i",{className:"fa fa-calendar"})," ",e.value]})},t)}))})]})})),ae=Object(O.c)((function(e){var t=Object(s.useContext)(Ce),a=e.intl,n=t.ccYearList,c=t.ccYearSelected,r=t.setCcYearSelected;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(X.a,{title:a.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(v.jsxs)(X.a.Toggle,{className:"btn btn-bni",children:[c," ",Object(v.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(v.jsx)(X.a.Menu,{children:n&&n.length>0&&n.map((function(e,t){return Object(v.jsx)(X.a.Item,{onClick:function(){r(e.id)},children:Object(v.jsxs)("div",{title:e.value,children:[Object(v.jsx)("i",{className:"fa fa-calendar"})," ",e.value]})},t)}))})]})})})),ne=Object(O.c)((function(e){var t,a=Object(s.useContext)(Ce),n=e.intl,c=a.ccBankList,r=a.ccBankSelected,o=a.setCcBankSelected,l=null===(t=c.filter((function(e){return e.id===r}))[0])||void 0===t?void 0:t.value;return Object(v.jsxs)(X.a,{title:n.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(v.jsxs)(X.a.Toggle,{className:"btn btn-bni",children:[l," ",Object(v.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(v.jsx)(X.a.Menu,{children:c.map((function(e,t){return Object(v.jsx)(X.a.Item,{onClick:function(t){o(e.id)},children:Object(v.jsxs)("div",{title:e.value,children:[Object(v.jsx)("i",{className:"fa fa-credit-card"})," ",e.value]})},t)}))})]})})),ce=a(83),re=function(e){var t=Object(B.a)(),a=e.onImport,n=Object(s.useContext)(L.a),c=Object(s.useState)([]),l=Object(r.a)(c,2),i=l[0],d=l[1],_=Object(s.useState)([]),b=Object(r.a)(_,2),j=b[0],p=b[1],f=Object(s.useState)(-1),O=Object(r.a)(f,2),g=O[0],x=O[1],M=Object(s.useState)(-1),D=Object(r.a)(M,2),P=D[0],w=D[1],E=Object(s.useState)(-1),N=Object(r.a)(E,2),C=N[0],T=N[1],S=Object(s.useState)(" "),k=Object(r.a)(S,2),Y=k[0],A=k[1],I=[{label:t.formatMessage({id:"transaction",defaultMessage:"transaction"}),type:"text",key:"cc_transaction"},{label:t.formatMessage({id:"date",defaultMessage:"date"}),type:"dated",key:"cc_date"},{label:t.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"}),type:"number",key:"cc_opening_balance"},{label:t.formatMessage({id:"credits",defaultMessage:"credits"}),type:"number",key:"cc_payment_credits"},{label:t.formatMessage({id:"purchases",defaultMessage:"purchases"}),type:"number",key:"cc_purchases"},{label:t.formatMessage({id:"interest",defaultMessage:"interest"}),type:"number",key:"cc_taxes_interest"}],K=Object(s.useRef)(null),U="{--#newLine#--}";Object(s.useEffect)((function(){if(g>-1&&P>-1&&C>-1&&g!==P){var e=Object(u.a)(i);e=e.map((function(e,t){return t===C&&e.length>1&&(e[g]=e[g]&&e[P]&&[].concat(Object(u.a)(e[g]),Object(u.a)(e[P])).join(""),e[P]=e[P]&&null),e})).map((function(e){return e.filter((function(e){return null!==e}))})),d(e),w(-1),T(-1),x(-1)}}),[g,P,C]);var W=function(e){e.preventDefault()},F=function(e,t,a){var n,c=JSON.parse(e.dataTransfer.getData("drag-item")),r=c.cell,s=c.i,o="";"dated"===t?(n=r,o=[m()(n,"YYYY/MMM/DD",!0).isValid()&&m()(n,"YYYY/MMM/DD").format("YYYY-MM-DD"),m()(n,"YYYY.MMM.DD",!0).isValid()&&m()(n,"YYYY.MMM.DD").format("YYYY-MM-DD"),m()(n,"YYYY-MMM-DD",!0).isValid()&&m()(n,"YYYY-MMM-DD").format("YYYY-MM-DD"),m()(n,"YYYY MMM DD",!0).isValid()&&m()(n,"YYYY MMM DD").format("YYYY-MM-DD"),m()(n,"YYYY/MM/DD",!0).isValid()&&m()(n,"YYYY/MM/DD").format("YYYY-MM-DD"),m()(n,"YYYY.MM.DD",!0).isValid()&&m()(n,"YYYY.MM.DD").format("YYYY-MM-DD"),m()(n,"YYYY-MM-DD",!0).isValid()&&m()(n,"YYYY-MM-DD").format("YYYY-MM-DD"),m()(n,"YYYY MM DD",!0).isValid()&&m()(n,"YYYY MM DD").format("YYYY-MM-DD"),m()(n,"DD/MM/YYYY",!0).isValid()&&m()(n,"DD/MM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MM-YYYY",!0).isValid()&&m()(n,"DD-MM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MM.YYYY",!0).isValid()&&m()(n,"DD.MM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MM YYYY",!0).isValid()&&m()(n,"DD MM YYYY").format("YYYY-MM-DD"),m()(n,"DD/MMM/YYYY",!0).isValid()&&m()(n,"DD/MMM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MMM-YYYY",!0).isValid()&&m()(n,"DD-MMM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MMM.YYYY",!0).isValid()&&m()(n,"DD.MMM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MMM YYYY",!0).isValid()&&m()(n,"DD MMM YYYY").format("YYYY-MM-DD"),m()(n,"DD/MMMM/YYYY",!0).isValid()&&m()(n,"DD/MMMM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MMMM-YYYY",!0).isValid()&&m()(n,"DD-MMMM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MMMM.YYYY",!0).isValid()&&m()(n,"DD.MMMM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MMMM YYYY",!0).isValid()&&m()(n,"DD MMMM YYYY").format("YYYY-MM-DD")].filter((function(e){return!1!==e}))[0]||"Invalid Date"):"text"===t?o=r:"number"===t&&(r=r.replace(",",""),o=Number(r)||0),e.target.value=o,V(s,a,o)},V=function(e,t,a){var n=Object(u.a)(j);n=n.map((function(n,c){return e===c&&(n[t]=a),n})),p(n)};return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},e),{},{style:{zIndex:9999},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:Object(v.jsx)(h.a,{id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})})}),Object(v.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(v.jsxs)("div",{className:"creditCardModal",children:[i.length?Object(v.jsx)("div",{className:"table-responsive pb-3",children:Object(v.jsxs)("div",{className:"tableGrid",children:[I.map((function(e,t){return Object(v.jsx)("div",{className:"heading",children:e.label},t)})),i.map((function(e,t){return Object(v.jsxs)(o.a.Fragment,{children:[e.length>0&&Object(v.jsxs)("div",{className:"singleLines",children:[e.map((function(e,a){return Object(v.jsxs)("span",{id:a,draggable:"true",onDragStart:function(n){return function(e,t){x(Number(e.target.id)),e.dataTransfer.setData("drag-item",t)}(n,JSON.stringify({cell:e,i:t,j:a}))},onDrop:function(e){return function(e,t){var a=t.i;T(Number(a)),w(Number(e.target.id))}(e,{i:t,j:a})},onDragOver:function(e){return W(e)},className:"cell",children:[e,Object(v.jsx)("i",{onClick:function(){return function(e,t){var a=Object(u.a)(i);a=a.map((function(a,n){return n===e?a.filter((function(e,a){return a!==t})):a})),d(a)}(t,a)},className:"fa fa-times-circle"})]},a)})),e.length>0&&Object(v.jsx)("span",{onClick:function(){return function(e){var t=Object(u.a)(i);t=t.map((function(t,a){return a===e&&(t=[]),t})),d(t)}(t)},className:"cell danger",title:"Delete all?",children:Object(v.jsx)("i",{className:"fa fa-times"})})]}),I.map((function(e,a){return Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:e.type,onChange:function(a){return V(t,e.key,a.target.value)},onDragOver:function(e){return W(e)},onDrop:function(t){return F(t,e.type,e.key)},className:"input"})},a)}))]},t)}))]})}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"row separatorWrapper py-2",children:[Object(v.jsx)("div",{className:"col-md-9 col-7 pl-0",children:Object(v.jsxs)("label",{htmlFor:"paste",children:[Object(v.jsx)(h.a,{id:"pasteYourCreditCardStatementHere",defaultMessage:"pasteYourCreditCardStatementHere"})," ",Object(v.jsx)("i",{className:"fa fa-level-down"})]})}),Object(v.jsx)("div",{className:"col-md-3 col-5 pr-0",children:Object(v.jsxs)("div",{className:"input-group input-group-sm",children:[Object(v.jsx)("span",{className:"input-group-text bni-bg",children:Object(v.jsx)(h.a,{id:"textSeperated",defaultMessage:"textSeperated"})}),Object(v.jsx)("input",{type:"text",defaultValue:Y,onChange:function(e){return A(e.target.value)},className:"form-control"})]})})]}),Object(v.jsx)("textarea",{id:"paste",ref:K,className:"textArea"})]}),Object(v.jsxs)("div",{className:"text-end py-2",children:[i.length>0&&Object(v.jsxs)("button",{onClick:function(){return d([])},className:"btn btn-bni me-3",children:[Object(v.jsx)("i",{className:"fa fa-angle-double-left"})," ",Object(v.jsx)(h.a,{id:"back",defaultMessage:"back"})]}),i.length?Object(v.jsx)("button",{onClick:function(){return a(j)},className:"btn btn-bni",children:Object(v.jsx)(h.a,{id:"generate",defaultMessage:"generate"})}):Object(v.jsx)("button",{onClick:function(){return function(){var e=K.current.value,t=(e=e.replace(/(\r\n|\n|\r)/gm,U).split(U).filter((function(e){return e})).map((function(e){return e.split(Y)}))).map((function(){return{cc_comments:"",cc_date:"",cc_expected_balance:"",cc_for_card:"",cc_id:"",cc_opening_balance:"",cc_payment_credits:"",cc_purchases:"",cc_taxes_interest:"",cc_transaction:""}}));p(t),d(e)}()},className:"btn btn-bni",children:Object(v.jsx)(h.a,{id:"process",defaultMessage:"process"})})]})]})})]}))};re.defaultProps={property:"String name"};var se=re,oe=function(e){var t=Object(s.useContext)(Ce),a=Object(s.useContext)(L.a),o=Object(s.useContext)(J.a),l=e.intl,u=t.ccMonthYearSelected,_=t.ccBankSelected,b=t.ccDetails,j=t.incExpList,m=t.ccBankList,p=Object(s.useState)(!1),f=Object(r.a)(p,2),O=f[0],g=f[1],x=Object(s.useState)([]),M=Object(r.a)(x,2),D=M[0],P=M[1],w=Object(s.useState)(!1),E=Object(r.a)(w,2),N=E[0],C=E[1],T=Object(s.useState)([]),I=Object(r.a)(T,2),R=I[0],B=I[1];Object(s.useEffect)((function(){K()}),[u,_,b,j,m,l]);var K=function(){var e=u.split("-"),t=Object(r.a)(e,2),a=t[0],s=t[1],o=d.a.strToNumMonth[a],l=Number(b.credit_card_start_date),i=Number(b.credit_card_end_date),p=new Date("".concat(Number(s),"-").concat(Number(o),"-").concat(i).replace(/-/g,"/")),f="".concat(p.getFullYear(),"-").concat(d.a.leadingZeros(p.getMonth()+1),"-").concat(d.a.leadingZeros(p.getDate())),h=p.setTime(p.getTime()-2592e6);h=new Date(h),h=new Date(h.setDate(l));var O="".concat(h.getFullYear(),"-").concat(d.a.leadingZeros(h.getMonth()+1),"-").concat(d.a.leadingZeros(h.getDate())),g='cc_date between "'.concat(O,'" and "').concat(f,'" and cc_for_card = ').concat(_);P([]),C(!0);var x=W(g);Promise.all([x]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B([]),P(t[0].data.response),C(!1),ce.a[0].rowElements[8]={fetch:{dropDownList:m}},ce.a[0].rowElements[9]={fetch:{dropDownList:j}},ce.a[0].rowElements[8].searchable=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},U=function(){K()},W=function(e){var t=new FormData;return t.append("appId",a.userConfig.appId),t.append("TableRows",ce.a[0].TableRows),t.append("Table",ce.a[0].Table),e&&t.append("WhereClause",e),k.a.post("/account_planner/getAccountPlanner",t)},F=ce.a.map((function(e){var t={header:{searchPlaceholder:l.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:l.formatMessage({id:"total",defaultMessage:"total"}),locale:b.credit_card_locale,currency:b.credit_card_currency,maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}};return e.config=t,e.TableAliasRows=["id","transaction","date","openingBalance","credits","purchases","taxesAndInterest","balance","creditCard","category","status","comments","recorded"].map((function(e){return l.formatMessage({id:e,defaultMessage:e})})),e}));return Object(v.jsxs)("div",{className:"settings",children:[O&&Object(v.jsx)(se,{className:"creditCardModal",show:O,onHide:function(){return g(!1)},size:"xl",animation:!1,onImport:function(e){B(e),g(!1)}}),Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("div",{className:"row py-2",children:Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsx)(A.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e,t){return Object(v.jsx)(Y.a,Object(y.a)(Object(y.a)({id:"button-tooltip-1",className:"in show"},e),{},{children:t}))}(e,l.formatMessage({id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})),triggerType:"hover",children:Object(v.jsx)("i",{onClick:function(){return g(!O)},className:"fa fa-upload roundedButton pull-right"})})})}),N?Object(v.jsx)("div",{className:"relativeSpinner",children:Object(v.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):D&&D.length>0?F.sort((function(e,t){return e.id>t.id})).map((function(e,n){return Object(v.jsx)(S.a,{id:"ccTable",Table:e.Table,config:e.config,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,dbData:D,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var n=e.status,c=e.data;if(200===n){if(e&&c&&"boolean"===typeof c.response&&null!==c.response&&c.response&&t.renderToast({message:l.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&c&&"boolean"===typeof c.response&&null!==c.response&&!1===c.response&&t.renderToast({type:"error",icon:"fa fa-times-circle",message:l.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&c&&null===c.response&&o.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(v.jsx)(Z.b,{}),content:Object(v.jsx)(Z.a,{})}),e&&c&&"object"===typeof c.response&&null!==c.response){var r;r=1451===c.response.number?"foreignKeyDeleteMessage":"",a.renderToast({type:"error",icon:"fa fa-times-circle",message:l.formatMessage({id:r,defaultMessage:r})})}}else t.renderToast({type:"error",icon:"fa fa-times-circle",message:l.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:U,insertCloneData:R,cellWidth:[4,13,8,8,8,8,8,8,13,13,13,13,10],ajaxButtonName:l.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"cc_appId",value:a.userConfig.appId},theme:a.userData.theme},n)})):Object(v.jsx)("div",{className:"py-3 text-center",children:Object(v.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})};oe.defaultProps={property:"String name"};var le=Object(O.c)(oe),ie=a(34),de=a(109),ue=a.n(de),_e=a(187),be=a.n(_e),je=a(105),me=function(e){var t=Object(B.a)(),a=Object(s.useContext)(Ce),n=Object(s.useContext)(L.a),c=Object(s.useContext)(J.a),o=Object(s.useState)(new Date),l=Object(r.a)(o,2),u=l[0],_=l[1],b=Object(s.useState)(""),j=Object(r.a)(b,2),m=j[0],p=j[1],f=Object(s.useState)(""),O=Object(r.a)(f,2),g=O[0],x=O[1],M=Object(s.useState)("0"),D=Object(r.a)(M,2),P=D[0],w=D[1],E=Object(s.useState)(!0),N=Object(r.a)(E,2),C=N[0],T=N[1],S=Object(s.useState)(!0),Y=Object(r.a)(S,2),A=Y[0],I=Y[1],K=Object(s.useState)([]),U=Object(r.a)(K,2),W=U[0],F=U[1],V=Object(s.useState)([]),H=Object(r.a)(V,2),q=H[0],z=H[1],G=Object(s.useState)(""),Q=Object(r.a)(G,2),$=Q[0],X=Q[1],ee=Object(s.useState)([]),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce=Object(s.useState)(""),re=Object(r.a)(ce,2),se=re[0],oe=re[1],le=Object(s.useState)(""),de=Object(r.a)(le,2),_e=de[0],me=de[1],pe=Object(s.useState)(!1),fe=Object(r.a)(pe,2),he=fe[0],Oe=fe[1],ge=Object(s.useState)(!1),xe=Object(r.a)(ge,2),Me=xe[0],ve=xe[1],De="&Lang;",ye=[{1:t.formatMessage(Object(ie.a)({id:"1"},"id","1"))},{2:t.formatMessage(Object(ie.a)({id:"2"},"id","2"))},{3:t.formatMessage(Object(ie.a)({id:"3"},"id","3"))},{4:t.formatMessage(Object(ie.a)({id:"4"},"id","4"))},{5:t.formatMessage(Object(ie.a)({id:"5"},"id","5"))},{6:t.formatMessage(Object(ie.a)({id:"6"},"id","6"))},{7:t.formatMessage(Object(ie.a)({id:"7"},"id","7"))},{8:t.formatMessage(Object(ie.a)({id:"8"},"id","8"))},{9:t.formatMessage(Object(ie.a)({id:"9"},"id","9"))},{"&Lang;":De},{0:t.formatMessage(Object(ie.a)({id:"0"},"id","0"))},{".":"."},{C:"C"}];Object(s.useEffect)((function(){var e=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/bank_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),t=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/inc_exp_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),a=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e,t,a]).then((function(e){e[0].length>0?F(e[0]):F([{id:null,value:"NULL"}]),e[0].length>0&&e[0][0].id?X(e[0][0].id):X(""),e[1].length>0?ne(e[1]):ne([{id:null,value:"NULL"}]),e[1].length>0&&e[1][0].id?oe(e[1][0].id):oe(""),e[2].length>0?z(e[2]):z([{id:null,value:"NULL"}]),e[2].length>0&&e[2][0].id?me(e[2][0].id):me("")}))}),[]);var Pe=function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)};return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},e),{},{style:{zIndex:9999},enforceFocus:!1,children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:Object(v.jsx)(h.a,{id:"fastShopping",defaultMessage:"fastShopping"})})}),Object(v.jsx)(R.a.Body,{className:"react-responsive-ajax-data-table rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(v.jsxs)("form",{id:"transactForm",onSubmit:function(e){return e.preventDefault()},children:[Object(v.jsx)("div",{className:"",children:Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:t.formatMessage({id:"transaction",defaultMessage:"transaction"}),onChange:function(e){return p(e.target.value)}})}),Object(v.jsx)("div",{className:"overflow text-end",children:P}),Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"numPads pb-2",children:ye.map((function(e,t){var a=isNaN(Number(Object.keys(e)[0]))?Object.keys(e)[0]:Number(Object.keys(e)[0]),n=Object.values(e)[0];return Object(v.jsx)("div",{className:"text-center buttonContainer",children:Object(v.jsx)("button",{disabled:P.toString().includes(".")&&"."===a,onClick:function(){return function(e){var t=P;"number"===typeof e&&(t=he?"".concat(t,".").concat(e):"".concat(P).concat(e),Oe(!1)),"."===e&&(Oe(!0),"0"===t.substring(0,1)&&(t="0"+t)),t.length>0&&"0"===t.substring(0,1)&&!t.includes(".")&&(t=t.substring(1,t.length)),t.length>0&&"."===t.substring(0,1)&&(t="0".concat(t)),"C"===e&&(t="0",Oe(!1)),e===De&&(t=t.length>1?t.slice(0,-1):"0").length>0&&"."===t.slice(t.length-1)&&(t=t.slice(0,-1),Oe(!1)),w(t)}(a)},dangerouslySetInnerHTML:{__html:n}})},t)}))})}),Object(v.jsxs)("div",{className:"row py-2",children:[Object(v.jsx)("div",{className:"col-6 py-2 react-responsive-ajax-data-table",children:Object(v.jsx)(ue.a,{onChange:function(e){_(e)},value:u,format:"y-MM-dd",required:!0,clearIcon:null,className:"fastShoppingDatePicker"})}),Object(v.jsx)("div",{className:"col-6 py-2",children:Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)("div",{onClick:function(){return I(!A)},className:"",children:A?t.formatMessage({id:"debitCard",defaultMessage:"debitCard"}):t.formatMessage({id:"creditCard",defaultMessage:"creditCard"})}),Object(v.jsx)("i",{onClick:function(){return I(!A)},className:"fa fa-circle ps-2 ".concat(A?"debit":"credit")})]})})]}),Object(v.jsx)("div",{className:"py-2",children:Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Comments",onChange:function(e){return x(e.target.value)}})}),Object(v.jsx)("div",{children:W.length>0&&ae.length>0&&q.length>0?Object(v.jsxs)(v.Fragment,{children:[A?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"py-2",children:Object(v.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[Object(v.jsx)("div",{onClick:function(){return T(!0)},className:"",children:Object(v.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(v.jsx)(be.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return T(!C)},checked:!0===C}),Object(v.jsx)("div",{onClick:function(){return T(!1)},className:"",children:Object(v.jsx)(h.a,{id:"income",defaultMessage:"income"})}),Object(v.jsx)(be.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return T(!C)},checked:!1===C})]})}),Object(v.jsx)("div",{className:"py-2",children:Object(v.jsx)(je.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){X(t)},element:{fetch:{dropDownList:W.map((function(e){return{id:e.id,value:e.value}}))}},value:$,type:"single",searchable:!0,theme:n.userData.theme},1)})]}):Object(v.jsx)("div",{className:"py-2",children:Object(v.jsx)(je.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){me(t)},element:{fetch:{dropDownList:q.map((function(e){return{id:e.id,value:e.value}}))}},value:_e,type:"single",searchable:!0,theme:n.userData.theme},1)}),Object(v.jsx)("div",{className:"py-2",children:Object(v.jsx)(je.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){oe(t)},element:{fetch:{dropDownList:ae.map((function(e){return{id:e.id,value:e.value}}))}},value:se,type:"single",searchable:!0,theme:n.userData.theme},1)})]}):Object(v.jsx)("div",{className:"relativeSpinner",children:Object(v.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}),Object(v.jsx)("div",{className:"py-2",children:Object(v.jsx)("button",{disabled:!(Number(P)>0&&m&&!Me),onClick:function(){return function(){ve(!0);var r={Table:A?"income_expense":"credit_card_transactions",insertData:A?[{inc_exp_id:null,inc_exp_appId:n.userConfig.appId,inc_exp_name:m,inc_exp_amount:P,inc_exp_plan_amount:0,inc_exp_type:C?"Dr":"Cr",inc_exp_date:Pe(u),inc_exp_category:se,inc_exp_bank:$,inc_exp_comments:g}]:[{cc_id:null,cc_appId:n.userConfig.appId,cc_transaction:m,cc_date:Pe(u),cc_opening_balance:0,cc_payment_credits:0,cc_purchases:P,cc_taxes_interest:0,cc_expected_balance:P,cc_for_card:_e,cc_inc_exp_cat:se,cc_comments:g,cc_transaction_status:0}]},s=new FormData;document.getElementById("transactForm").reset(),s.append("postData",JSON.stringify(r)),k.a.post("/account_planner/postAccountPlanner",s).then((function(n){var r=n.data;n&&r&&"boolean"===typeof r.response&&null!==r.response&&r.response&&a.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),n&&r&&"boolean"===typeof r.response&&null!==r.response&&!1===r.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),n&&r&&null===r.response&&(c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(v.jsx)(Z.b,{}),content:Object(v.jsx)(Z.a,{})}),e.onHide(!1)),w("0"),p(""),x(""),null!=document.getElementById("transactForm")&&document.getElementById("transactForm").reset()})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})}),console.log(e)})).finally((function(){return ve(!1)}))}()},className:"btn btn-bni border-0",children:Me?Object(v.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(v.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})})]})})]}))};me.defaultProps={property:"String name"};var pe=me,fe=function(e){var t=e.ccDetails,a=Object(s.useState)(0),n=Object(r.a)(a,2),c=n[0],o=n[1],l=24*Number(t.remDays)*3600;Object(s.useEffect)((function(){Number(t.remDays)>0&&i()}),[t.remDays]);var i=function e(){var t=Math.floor(l/24/60/60),a=Math.floor(l-86400*t),n=Math.floor(a/3600),c=Math.floor(a-3600*n),r=Math.floor(c/60),s=l%60,i=u(t)+":"+u(n)+":"+u(r)+":"+u(s);0===l?d(e):l--,o(i),setTimeout(e,1e3)},d=function(){clearTimeout(i)},u=function(e){return e<10?"0"+e:e};return Object(v.jsx)("span",{children:c})};fe.defaultProps={property:"String name"};var he=fe,Oe=function(e){var t=Object(s.useContext)(L.a),a=Object(s.useState)(!1),n=Object(r.a)(a,2),c=n[0],o=n[1],l=Object(s.useState)(!1),u=Object(r.a)(l,2),_=u[0],b=u[1],j=Object(s.useState)(!1),m=Object(r.a)(j,2),p=m[0],f=m[1],O=Object(s.useState)({}),g=Object(r.a)(O,2),x=g[0],M=g[1],D=Object(s.useState)([]),P=Object(r.a)(D,2),w=P[0],E=P[1],N=new Date;Object(s.useEffect)((function(){o(!0);var e=T();Promise.all([e]).then((function(e){var t=e[0];E(t),o(!1)}))}),[]);var C=function(){return Object(v.jsx)("div",{className:"relativeSpinner",children:Object(v.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},T=function(){var e=new FormData;return e.append("appId",t.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))};return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},e),{},{style:{zIndex:9999},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:Object(v.jsx)(h.a,{id:"checkCreditCardCycleDate",defaultMessage:"checkCreditCardCycleDate"})})}),Object(v.jsxs)(R.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[c?C():Object(v.jsx)("div",{className:"row",children:w&&w.length>0&&w.map((function(e,a){return Object(v.jsxs)("div",{onClick:function(){return function(e){var a=new FormData;return a.append("bank",e),a.append("appId",t.userConfig.appId),M({}),b(!0),f(e),k.a.post("/account_planner/credit_card_details",a).then((function(e){var t=e.data.response[0],a=t.credit_card_start_date,n=[(a=d.a.addMonths(new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(a).replace(/-/g,"/")),-1)).getFullYear(),a.getMonth()+1,a.getDate()],c=n[0],r=n[1],s=n[2],o=[r<10?"0".concat(r):r,s<10?"0".concat(s):s];r=o[0],s=o[1],a="".concat(c,"-").concat(r,"-").concat(s);var l=t.credit_card_end_date,i=[(l=new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(l).replace(/-/g,"/"))).getFullYear(),l.getMonth()+1,l.getDate()],u=i[0],_=i[1],j=i[2],m=[_<10?"0".concat(_):_,j<10?"0".concat(j):j];_=m[0],j=m[1],l="".concat(u,"-").concat(_,"-").concat(j);var p=t.credit_card_payment_date,f=[(p=d.a.addMonths(new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(p).replace(/-/g,"/")),1)).getFullYear(),p.getMonth()+1,p.getDate()],h=f[0],O=f[1],g=f[2],x=[O<10?"0".concat(O):O,g<10?"0".concat(g):g];O=x[0],g=x[1],p="".concat(h,"-").concat(O,"-").concat(g);var v=new Date(p)-new Date;v=Math.abs(v),v=Math.ceil(v/864e5);var D={cardNumber:t.credit_card_number,cardName:t.credit_card_name,startDate:a,endDate:l,payDate:p,remDays:v};M(D),b(!1)})).catch((function(e){console.log(e)}))}(e.id)},className:"col-6 text-center cardWrapper ".concat(p===e.id?"active":""),children:[Object(v.jsx)("i",{className:"fa fa-credit-card-alt"}),e.value]},a)}))}),_?C():Object.keys(x).length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"py-3 text-center",children:x.cardName}),Object(v.jsxs)("div",{className:"container mt-10 text-center",children:[Object(v.jsx)("div",{className:"contactLabel",children:Object(v.jsx)(h.a,{id:"cardNumber",defaultMessage:"cardNumber"})}),Object(v.jsx)("div",{children:x.cardNumber}),Object(v.jsxs)("div",{className:"row pb-3 pt-3",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{children:Object(v.jsx)(h.a,{id:"startDate",defaultMessage:"startDate"})}),Object(v.jsx)("div",{children:x.startDate})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{children:Object(v.jsx)(h.a,{id:"endDate",defaultMessage:"endDate"})}),Object(v.jsx)("div",{children:x.endDate})]})]}),Object(v.jsxs)("div",{className:"row text-center",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{children:Object(v.jsx)(h.a,{id:"payDate",defaultMessage:"payDate"})}),Object(v.jsx)("div",{children:x.payDate})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{children:Object(v.jsx)(h.a,{id:"remainingDays",defaultMessage:"remainingDays"})}),Object(v.jsx)("div",{children:Object(v.jsx)(he,{ccDetails:x})})]})]})]})]})]})]}))};Oe.defaultProps={property:"String name"};var ge=Oe,xe=function(e){var t=e.onHide,a=e.onYes,n=Object(s.useContext)(L.a);return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},e),{},{style:{zIndex:9999},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsx)(R.a.Title,{children:Object(v.jsx)(h.a,{id:"sureAbtSqlQueries",defaultMessage:"sureAbtSqlQueries"})})}),Object(v.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(v.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){return a()},className:"btn btn-bni",children:Object(v.jsx)(h.a,{id:"allow",defaultMessage:"allow"})})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){return t()},className:"btn btn-secondary",children:Object(v.jsx)(h.a,{id:"restrict",defaultMessage:"restrict"})})})]})})]}))};xe.defaultProps={};var Me=xe,ve=a(373),De=a(269),ye=function(e){var t=Object(B.a)(),a=Object(s.useContext)(L.a),n=5242880,c=1e3,o=Object(s.useState)({}),l=Object(r.a)(o,2),i=l[0],d=l[1],u=Object(s.useState)([]),_=Object(r.a)(u,2),b=_[0],j=_[1],p=[{inc_exp_id:"null",inc_exp_name:"Gross profit",inc_exp_amount:1e6,inc_exp_plan_amount:0,inc_exp_type:"Cr",inc_exp_date:m()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your profit comments"},{inc_exp_id:"null",inc_exp_name:"Gross expense",inc_exp_amount:5e5,inc_exp_plan_amount:0,inc_exp_type:"Dr",inc_exp_date:m()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your expense comments"}];return Object(v.jsxs)(R.a,Object(y.a)(Object(y.a)({},e),{},{style:{zIndex:9999},children:[Object(v.jsx)(R.a.Header,{closeButton:!0,children:Object(v.jsxs)(R.a.Title,{children:[Object(v.jsx)(h.a,{id:"bulkImport",defaultMessage:"bulkImport"}),Object(v.jsxs)("em",{className:"ps-1",children:["(",Object(v.jsxs)("small",{className:"pe-1",children:[Object(v.jsx)(h.a,{id:"limit",defaultMessage:"limit"}),":"," ","".concat(5," MB,")]}),Object(v.jsxs)("small",{className:"pe-1",children:[Object(v.jsx)(h.a,{id:"maxRows",defaultMessage:"maxRows"}),":"," ","".concat(c,",")]}),Object(v.jsxs)("small",{children:[Object(v.jsx)(h.a,{id:"type",defaultMessage:"type"}),": CSV"]}),")"]})]})}),Object(v.jsx)(R.a.Body,{className:"rounded-bottom p-0 ".concat("dark"===a.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(v.jsxs)("div",{className:"dropZone",children:[Object(v.jsx)(De.a,{accept:"text/csv,text/comma-separated-values,application/csv",maxSize:n,onDrop:function(e,r,s){var o;e.length>0&&(d(e[0]),(o=e[0],new Promise((function(e,a){var r=o,s=new FileReader;s.readAsText(r),s.onload=function(s){var o=[],l=s.target.result.split(/\r\n|\n/),i=l[0].split(",");if(r.size<=n)if(l.length-1<=c){for(var d=1;d<l.length;d++){var u=l[d].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(u.length===i.length){for(var _=[],b=0;b<i.length;b++)_.push(Object(ie.a)({},i[b],u[b].replace(/\\/g,"").replaceAll('"',"")));var j=Object.assign.apply(Object,[{}].concat(_));o.push(j)}}e(o)}else a(new Error("".concat(t.formatMessage({id:"maxAllowedRowLimitIs",defaultMessage:"maxAllowedRowLimitIs"})," ").concat(c)));else a(new Error("".concat(t.formatMessage({id:"maxFileSizeLimitIs",defaultMessage:"maxFileSizeLimitIs"})," ").concat(n," MB")))},s.onerror=function(e){a(e)}}))).then((function(e){a.renderToast({message:"".concat(e.length," ").concat(t.formatMessage({id:"rowsAddedSuccessfully",defaultMessage:"rowsAddedSuccessfully"})),autoClose:1e4}),j(e)})).catch((function(e){j([]),a.renderToast({type:"error",icon:"fa fa-times-circle",message:e})})))},className:"text-center",children:function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragAccept,c=e.isDragReject,r="dropZoneWrapper",s=Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{id:"dragFilesHere",defaultMessage:"dragFilesHere"})});return n&&(r="".concat(r," bg-success"),s=Object(v.jsx)("div",{className:"upload-success",children:Object(v.jsx)(h.a,{id:"dropFileOrfilesHere",defaultMessage:"dropFileOrfilesHere"})})),c&&(r="".concat(r," bg-danger"),s=Object(v.jsx)("div",{className:"upload-error",children:Object(v.jsx)(h.a,{id:"fileTypeNotAllowed",defaultMessage:"fileTypeNotAllowed"})})),Object(v.jsxs)("div",Object(y.a)(Object(y.a)({},t()),{},{className:"".concat(r," title"),children:[Object(v.jsx)("input",Object(y.a)({},a())),s]}))}}),Object.keys(i).length>0&&Object(v.jsx)("div",{className:"p-1 text-center",children:Object(v.jsxs)("small",{className:"icon-bni",children:[Object(v.jsx)("i",{className:"fa fa-file-excel-o pe-1"}),i.name,Object(v.jsx)("small",{className:"ps-1",children:Object(v.jsxs)("em",{children:["(",function(e){var t=(e/1024/1024).toFixed(2);if(t>0)return"".concat(t," MB");var a=(e/1024).toFixed(2);return"".concat(a," KB")}(i.size),")"]})})]})}),Object(v.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(v.jsx)("button",{className:"btn btn-bni w-50 rounded-0 rounded-start border-end",children:Object(v.jsxs)(G.a,{datas:p,filename:"inc-exp-csv-sample-import.csv",children:[Object(v.jsx)("i",{className:"fa fa-file-downoad pe-1"}),Object(v.jsx)(h.a,{id:"downloadCsvTemplate",defaultMessage:"downloadCsvTemplate"})]})}),Object(v.jsx)("button",{disabled:!b.length,onClick:function(){return function(){var e=new FormData;e.append("data",JSON.stringify(b)),e.append("appId",a.userConfig.appId),k.a.post("/account_planner/bulkImport",e).then((function(e){e.data.response&&a.renderToast({message:t.formatMessage({id:"bulkImportSuccess",defaultMessage:"bulkImportSuccess"})}),e.data.response||a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})}),null===e.data.response&&myAlertContext.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(v.jsx)(Z.b,{}),content:Object(v.jsx)(Z.a,{})})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})})})).finally((function(){return j([])}))}()},className:"btn-bni w-50 rounded-0 rounded-end",children:Object(v.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})]})]})})]}))};ye.defaultProps={property:"String name"};var Pe=ye,we=(a(278),Object(O.c)((function(e){var t=e.intl,a=Object(s.useContext)(Ce),n=Object(s.useContext)(L.a),c=Object(s.useContext)(J.a),o=a.incExpList,l=a.bankList,_=a.insertData,b=Object(s.useState)([]),j=Object(r.a)(b,2),p=j[0],f=j[1],O=Object(s.useState)(!1),g=Object(r.a)(O,2),x=g[0],M=g[1],D=function(){M(!0),a.setInsertData([]);var e=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/getIncExpTemplate",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e]).then((function(e){var t=e[0].map((function(e){var t=e.temp_inc_exp_name,a=e.temp_amount,n=e.temp_inc_exp_type,c=e.temp_inc_exp_date,r=e.temp_category,s=e.temp_bank;return{inc_exp_id:"",inc_exp_name:t,inc_exp_amount:0,inc_exp_plan_amount:a,inc_exp_type:n,inc_exp_date:m()().date(c).add(1,"months").format("YYYY-MM-DD"),inc_exp_category:r,inc_exp_bank:s,inc_exp_comments:""}})).sort((function(e,t){return new Date(e.inc_exp_date.replace(/-/g,"/"))-new Date(t.inc_exp_date.replace(/-/g,"/"))}));a.setInsertData(t)})).finally((function(){M(!1)}))};Object(s.useEffect)((function(){D()}),[t]),Object(s.useEffect)((function(){var e={fetch:{dropDownList:o.map((function(e,t){return{id:e.id,value:e.value}}))}},a={fetch:{dropDownList:l}};ce.c[0].rowElements[3]="number",ce.c[0].rowElements[6]=e,ce.c[0].rowElements[7]=a,ce.c[0].rowElements[4]={radio:{radioList:[{label:t.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:t.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}};var n=function(e,t){var a=t&&e.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())}));return a.length>0?a[0].id:""},c=Object(u.a)(_).map((function(e){return e.inc_exp_category=n(o,e.inc_exp_category),e.inc_exp_bank=n(l,e.inc_exp_bank),e}));f([]),setTimeout((function(){f(c)}),100)}),[_,t]);var y=ce.c.map((function(e){var a={header:{searchPlaceholder:t.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:t.formatMessage({id:"total",defaultMessage:"total"}),locale:"en",currency:"",maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}};return e.config=a,e.TableAliasRows=["id","transaction","amount","plan","type","date","category","bank","comments"].map((function(e){return t.formatMessage({id:e,defaultMessage:e})})),e.showTotal=[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}}],e})),P=function(){f([])};return Object(v.jsxs)("div",{children:[p.length>0&&Object(v.jsxs)("div",{children:[Object(v.jsx)("h6",{children:Object(v.jsx)(h.a,{id:"planFromTemplate",defaultMessage:"planFromTemplate"})}),y.sort((function(e,t){return e.id>t.id})).map((function(e,r){return Object(v.jsx)(S.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,dbData:p,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var n=e.status,r=e.data;200===n?(e&&r&&"boolean"===typeof r.response&&null!==r.response&&r.response&&a.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&r&&"boolean"===typeof r.response&&null!==r.response&&!1===r.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&r&&null===r.response&&c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(v.jsx)(Z.b,{}),content:Object(v.jsx)(Z.a,{})})):a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:P,cellWidth:[4,13,10,10,13,10,13,13,13],ajaxButtonName:t.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:n.userConfig.appId},theme:n.userData.theme},r)}))]}),x&&Object(v.jsx)("div",{className:"relativeSpinner",children:Object(v.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})}))),Ee=a(93),Ne=a(94),Ce=o.a.createContext(),Te=function(e){var t,a=Object(B.a)();document.title=a.formatMessage({id:"moneyPlanner",defaultMessage:"moneyPlanner"});var o=Object(s.useContext)(L.a),l=Object(s.useState)([]),u=Object(r.a)(l,2),_=u[0],b=u[1],j=Object(s.useState)([]),p=Object(r.a)(j,2),f=p[0],O=p[1],g=Object(s.useState)([]),x=Object(r.a)(g,2),M=x[0],y=x[1],P=Object(s.useState)([]),w=Object(r.a)(P,2),E=w[0],N=w[1],T=Object(s.useState)([]),S=Object(r.a)(T,2),Y=S[0],A=S[1],I=Object(s.useState)([]),R=Object(r.a)(I,2),K=R[0],U=R[1],W=Object(s.useState)([]),F=Object(r.a)(W,2),V=F[0],H=F[1],q=Object(s.useState)([]),z=Object(r.a)(q,2),G=z[0],J=z[1],Z=Object(s.useState)(""),Q=Object(r.a)(Z,2),X=Q[0],ce=Q[1],re=Object(s.useState)([]),se=Object(r.a)(re,2),oe=se[0],ie=se[1],de=Object(s.useState)(""),ue=Object(r.a)(de,2),_e=ue[0],be=ue[1],je=Object(s.useState)(""),me=Object(r.a)(je,2),fe=me[0],he=me[1],Oe=Object(s.useState)(""),xe=Object(r.a)(Oe,2),De=xe[0],ye=xe[1],Te=Object(s.useState)(""),Se=Object(r.a)(Te,2),ke=Se[0],Ye=Se[1],Ae=Object(s.useState)(""),Ie=Object(r.a)(Ae,2),Re=Ie[0],Le=Ie[1],Be=Object(s.useState)({}),Ke=Object(r.a)(Be,2),Ue=Ke[0],We=Ke[1],Fe=Object(s.useState)(!1),Ve=Object(r.a)(Fe,2),He=Ve[0],qe=Ve[1],ze=Object(s.useState)(!1),Ge=Object(r.a)(ze,2),Je=Ge[0],Ze=Ge[1],Qe=Object(s.useState)(!1),$e=Object(r.a)(Qe,2),Xe=$e[0],et=$e[1],tt=Object(s.useState)(!1),at=Object(r.a)(tt,2),nt=at[0],ct=at[1],rt=Object(s.useState)(!1),st=Object(r.a)(rt,2),ot=st[0],lt=st[1],it=Object(s.useState)(!1),dt=Object(r.a)(it,2),ut=dt[0],_t=dt[1],bt=Object(s.useState)(!1),jt=Object(r.a)(bt,2),mt=jt[0],pt=jt[1],ft=function(e){var t=new FormData;return t.append("bank",e),t.append("appId",o.userConfig.appId),k.a.post("/account_planner/credit_card_details",t)},ht=function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),n.append("appId",o.userConfig.appId),k.a.post("/account_planner/getIncExpChartData",n)},Ot=function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),n.append("appId",o.userConfig.appId),k.a.post("/account_planner/getCreditCardChartData",n)},gt=function(e){var t=new FormData;return t.append("bank",e),t.append("appId",o.userConfig.appId),k.a.post("/account_planner/getBankDetails",t)};Object(s.useEffect)((function(){var e=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/year_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),t=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/bank_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),n=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/cc_year_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),c=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),r=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/inc_exp_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e,t,n,c,r]).then((function(e){var t,n,c,r,s,o,l,i,d;(null===(t=e[0])||void 0===t?void 0:t.length)>0?b(e[0]):b([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(n=e[0])||void 0===n?void 0:n.length)>0&&e[0][0].id?he(e[0][0].id):he("Null"),(null===(c=e[1])||void 0===c?void 0:c.length)>0?y(e[1]):y([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(r=e[1])||void 0===r?void 0:r.length)>0&&e[1][0].id?ye(e[1][0].id):ye("Null"),(null===(s=e[2])||void 0===s?void 0:s.length)>0?O(e[2]):O([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(o=e[2])||void 0===o?void 0:o.length)>0&&e[2][0].id?ce(m()(new Date).format("YYYY").toString()):ce("Null"),(null===(l=e[3])||void 0===l?void 0:l.length)>0?ie(e[3]):ie([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(i=e[3])||void 0===i?void 0:i.length)>0&&e[3][0].id?be(e[3][0].id):be("Null"),(null===(d=e[4])||void 0===d?void 0:d.length)>0?U(e[4]):U([{id:null,value:null,isIncomeMetric:null}])})),A([])}),[]);var xt=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){var r,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qe(!0),N([]),J([]),r="".concat(fe,"-01-01"),s="".concat(fe,"-12-31"),e.next=7,ht(r,s,De).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(r){var s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data.response,N(s),e.next=4,gt(De).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(c){var r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(c.data.response),"function"!==typeof a||!t){e.next=6;break}return e.next=4,a(null===(r=s[0])||void 0===r?void 0:r.dated);case 4:e.next=8;break;case 6:return e.next=8,a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H([])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N([]),console.log(e)})).finally((function(){qe(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ze(!0),A([]),We([]),Le(null),e.next=6,ft(_e).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(r){var s,o,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data.response[0],We(s),o="undefined"!==typeof s?"".concat(X-1,"-12-").concat(s.credit_card_start_date):"".concat(X-1,"-12-1"),l="undefined"!==typeof s?"".concat(X,"-12-").concat(s.credit_card_end_date):"".concat(X,"-12-31"),e.next=6,Ot(o,l,_e).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(c){var r,o,i,u,_;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.data.response,o=r.length>0?new Date(r[0].month):new Date,i=o.getDate(),u=new Date(l).getDate(),_=i>u?d.a.addMonths(o,1):d.a.addMonths(o,0),A(r),"function"!==typeof a||!t){e.next=11;break}return e.next=9,a(m()(_).format("MMM-YYYY").toString());case 9:e.next=13;break;case 11:return e.next=13,a(s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){Ze(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),vt=function(){return Object(v.jsx)("div",{className:"relativeSpinner middle",children:Object(v.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},Dt=Object(Ee.a)(),yt={fetch:Dt.get("fetch"),date:Dt.get("date"),bank:Dt.get("bank"),card:Dt.get("card")},Pt=Object(s.useState)(!1),wt=Object(r.a)(Pt,2),Et=wt[0],Nt=wt[1],Ct=Object(s.useState)(!1),Tt=Object(r.a)(Ct,2),St=Tt[0],kt=Tt[1];return Object(s.useEffect)((function(){var e=m()(yt.date).format("YYYY").toString();_.length>0&&M.length>0&&"bankTransactions"===yt.fetch&&(he(e),ye(yt.bank),Nt(!0))}),[JSON.stringify(yt),_,M]),Object(s.useEffect)((function(){if(oe.length>0&&f.length>0&&"ccTransactions"===yt.fetch){var e=m()(yt.date).format("YYYY").toString();ce(e),be(yt.card),kt(!0)}}),[JSON.stringify(yt),oe,f]),Object(s.useEffect)((function(){if(fe&&De&&Et){var e=m()(yt.date).format("MMM-YYYY").toString();xt(!1,(function(){Ye(e),Nt(!1),setTimeout((function(){var e;null===(e=document.getElementById("incExpTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}}),[JSON.stringify(yt),Et,fe,De]),Object(s.useEffect)((function(){X&&_e&&St&&Mt(!1,(function(e){var t=Number(e.credit_card_start_date)>Number(m()(yt.date).format("D").toString())?m()(yt.date).format("MMM-YYYY").toString():m()(yt.date).add(1,"M").format("MMM-YYYY").toString();Le(t),kt(!1),setTimeout((function(){var e;null===(e=document.getElementById("ccTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}),[JSON.stringify(yt),St,X,_e]),Object(v.jsxs)(Ce.Provider,{value:{renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,r=e.icon,s=void 0===r?"fa fa-check-circle":r,o=e.message;return ve.b[c](Object(v.jsx)("div",{children:Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:s})," ",Object(v.jsx)("span",{dangerouslySetInnerHTML:{__html:o}})]})}),{autoClose:a})},bankSelected:De,setBankSelected:ye,bankDetails:V,bankList:M,setBankList:y,yearSelected:fe,setYearSelected:he,yearList:_,monthYearSelected:ke,onMonthYearSelected:function(e){Ye(""),setTimeout((function(){Ye(e)}),1)},incExpList:K,setIncExpList:U,ccBankList:oe,ccBankSelected:_e,setCcBankSelected:be,ccYearSelected:X,setCcYearSelected:ce,ccYearList:f,setCcBankList:ie,chartData:E,ccChartData:Y,ccDetails:Ue,setCcDetails:We,ccMonthYearSelected:Re,onCcMonthYearSelected:function(e){Le(e)},insertData:G,setInsertData:J},children:[Object(v.jsx)(ve.a,{className:"bniToaster"}),Object(v.jsxs)("section",{className:"",children:[Xe&&Object(v.jsx)(ge,{show:Xe,onHide:function(){return et(!1)},size:"sm",animation:!1}),nt&&Object(v.jsx)(pe,{className:"accountPlanner fastShopping",show:nt,onHide:function(){return ct(!1)},size:"sm",animation:!1}),ot&&Object(v.jsx)(Pe,{className:"accountPlanner",show:ot,onHide:function(){return lt(!1)},centered:!0,size:"lg",backdrop:"static"}),ut&&Object(v.jsx)(Me,{className:"confirmQBModal",show:ut,onHide:function(){_t(!1),setToggleQueryBuilder(!1)},onYes:function(){_t(!1),setToggleQueryBuilder(!0)},size:"md",animation:!1}),Object(v.jsxs)("div",{className:"m-2",children:[Object(v.jsx)(Ne.a,{icon:"fa fa-cubes",intlId:"moneyPlanner"}),Object(v.jsx)("div",{className:"pt-2",children:Object(v.jsx)("div",{className:"accountPlanner ".concat(o.userData.theme),children:M.length>0&&_.length&&f.length>0&&oe.length>0>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"badge ".concat("dark"===o.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:Object(v.jsx)(h.a,{id:"bankTransactions",defaultMessage:"bankTransactions"})}),Object(v.jsxs)("div",{className:"row mt-10",children:[Object(v.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(v.jsx)(ee,{})}),Object(v.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(v.jsx)(te,{})}),Object(v.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(v.jsx)("div",{className:"d-grid gap-2",children:Object(v.jsx)("button",{onClick:function(){return xt(!0,(function(e){Ye(e)}))},className:"btn btn-bni",children:Object(v.jsx)(h.a,{id:"generate",defaultMessage:"generate"})})})}),Object(v.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(v.jsx)("button",{onClick:function(){return ct(!0)},className:"btn btn-bni w-100",title:a.formatMessage({id:"fastShopping",defaultMessage:"fastShopping"}),children:Object(v.jsx)("i",{className:"fa fa-cart-plus"})})}),Object(v.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(v.jsx)("button",{onClick:function(){return lt(!0)},className:"btn btn-bni w-100",title:a.formatMessage({id:"bulkImport",defaultMessage:"bulkImport"}),disabled:"1"!==(null===o||void 0===o||null===(t=o.userConfig)||void 0===t?void 0:t.planIsBulkImport),children:Object(v.jsx)("i",{className:"fa fa-cloud-upload"})})}),Object(v.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(v.jsx)("button",{onClick:function(){return pt(!mt)},className:"btn btn-bni w-100",title:a.formatMessage({id:"planFromTemplate",defaultMessage:"planFromTemplate"}),children:Object(v.jsx)("i",{className:"fa fa-clone"})})})]}),M.length>0&&mt&&Object(v.jsx)(we,{}),He?vt():Object(v.jsx)(v.Fragment,{children:K.length>0&&V.length>0&&Object(v.jsx)(D,{})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-md-12 b-0 mb-10 pr-0 pl-0",children:V.length>0&&Object(v.jsx)($,{})})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsx)("div",{className:"badge ".concat("dark"===o.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:Object(v.jsx)(h.a,{id:"creditCardTransactions",defaultMessage:"creditCardTransactions"})})})}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-4 py-2",children:Object(v.jsx)(ne,{})}),Object(v.jsx)("div",{className:"col-md-4 py-2",children:Object(v.jsx)(ae,{})}),Object(v.jsx)("div",{className:"col-md-3 py-2",children:Object(v.jsx)("div",{className:"d-grid gap-2",children:Object(v.jsx)("button",{onClick:function(){return Mt(!0,(function(e){Le(e)}))},className:"btn btn-bni",children:Object(v.jsx)(h.a,{id:"generate",defaultMessage:"generate"})})})}),Object(v.jsx)("div",{className:"col-md-1 py-2",children:Object(v.jsx)("button",{onClick:function(){return et(!0)},className:"btn btn-bni w-100",children:Object(v.jsx)("i",{className:"fa fa-calendar-o mt-20"})})})]}),Je?vt():Y&&Y.length>0?Object(v.jsx)(C,{}):Object(v.jsx)("div",{className:"py-3 text-center",children:Object(v.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-md-12 pt-2",children:Y.length>0&&_e&&Re&&Object(v.jsx)(le,{})})})]}):vt()})})]})]})]})};Te.defaultProps={property:"String name"};t.default=Te},57:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o}));a(1);var n=a(1269),c=a(58),r=a(0),s=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("i",{className:"fa fa-exclamation-triangle fa-2x pt-2 text-danger"}),Object(r.jsxs)("div",{className:"ps-2",children:[Object(r.jsx)("div",{className:"fs-3",children:Object(r.jsx)(n.a,{id:"alert",defaultMessage:"alert"})}),Object(r.jsx)("div",{className:"fs-6",children:Object(r.jsx)(n.a,{id:"maximumQuotaExceeded",defaultMessage:"maximumQuotaExceeded"})})]})]})})},o=function(){return Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(c.a,{className:"btn btn-sm btn-primary me-1 rounded-pill",to:"/billing",children:[Object(r.jsx)("i",{className:"fa fa-credit-card-alt pe-1"}),Object(r.jsx)(n.a,{id:"upgradeNow",defaultMessage:"upgradeNow"})]}),Object(r.jsx)("span",{className:"fs-6",children:Object(r.jsx)(n.a,{id:"accessUnlimitedStorage",defaultMessage:"accessUnlimitedStorage"})})]})})}},82:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46),_FormElement__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(215),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(52),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__),_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(48),_Pagination__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(193),_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92),_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(194),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(779),react_intl__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1269),react_intl__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(435),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__);function BackendCore(props){var intl=Object(react_intl__WEBPACK_IMPORTED_MODULE_13__.a)(),Table=props.Table,config=props.config,className=props.className||"",id=props.id,TableRows=props.TableRows,TableAliasRows=props.TableAliasRows,postApiUrl=props.postApiUrl,onPostApi=props.onPostApi,showTotal=props.showTotal,rowKeyUp=props.rowKeyUp,insertCloneData=props.insertCloneData,showTooltipFor=props.showTooltipFor,defaultValues=props.defaultValues,onTableUpdate=props.onTableUpdate,onReFetchData=props.onReFetchData,cellWidth=props.cellWidth,appIdKeyValue=props.appIdKeyValue,theme=props.theme,_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),rowElements=_useState2[0],setRowElements=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(props.dbData),_useState4=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState3,2),dbData=_useState4[0],setDbData=_useState4[1],dbDataBackup=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(props.dbData),_useState5=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState6=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState5,2),deleteData=_useState6[0],setDeleteData=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState8=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState7,2),loader=_useState8[0],setLoader=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState10=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState9,2),btnLoader=_useState10[0],setBtnLoader=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState12=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState11,2),updatedIds=_useState12[0],setUpdatedIds=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({}),_useState14=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState13,2),sortType=_useState14[0],setSortType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState16=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState15,2),tableConfigErrors=_useState16[0],setTableConfigErrors=_useState16[1],pagination=config&&config.footer&&config.footer.pagination&&Object.keys(config.footer.pagination).length>0&&config.footer.pagination,cTotal=config&&config.footer&&config.footer.total,ajaxType=props.ajaxType,ajaxButtonName=props.ajaxButtonName,_useState17=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(pagination&&pagination.recordsPerPage),_useState18=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState17,2),recordsPerPage=_useState18[0],setRecordsPerPage=_useState18[1],defaultRecordsPerPage=pagination&&pagination.recordsPerPage,_useState19=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(Math.ceil(dbData.length/recordsPerPage)),_useState20=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState19,2),currentPage=_useState20[0],setCurrentPage=_useState20[1],maxPagesToShow=pagination&&pagination.maxPagesToShow,createElementPromise=function(){return props.rowElements.map((function(e){return new Promise((function(t,a){t(e)}))}))},runAllApis=function(e){setLoader(!0);var t=createElementPromise();Promise.all([t]).then(function(){var t=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function t(a){return Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a[0]).then((function(e){setRowElements(e),setLoader(!1)}));case 2:"function"===typeof e&&e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){var e=[];return TableAliasRows.length!==TableRows.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),Table&&0!==Table.toString().length&&""!==Table||e.push({error:'The "Table" props should be a valid string.'}),postApiUrl&&!["put","post","delete","patch","request","get","head","options"].includes(ajaxType)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&setTableConfigErrors(e),function(){}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){runAllApis()}),[TableRows,Table,props.rowElements]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){dbData.length>0&&setDbData(dbData)}),[props.dbData]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){if(insertCloneData&&insertCloneData.length>0){setLoader(!0);var e=[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(insertCloneData),Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData));setDbData(e),setTimeout((function(){setLoader(!1)}),500)}}),[insertCloneData]);var updateDbData=function updateDbData(index,data,primaryKey){var i=index.i,j=index.j;dbData[i][j]=data,setDbData(dbData);var id=dbData.filter((function(e,t){return t===i&&e}))[0][primaryKey]||"",array=id?[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds),[id]):Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds);if(array=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(new Set(array)),setUpdatedIds(array),rowKeyUp){var _rowKeyUp$split=rowKeyUp.split("="),_rowKeyUp$split2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_rowKeyUp$split,2),declare=_rowKeyUp$split2[0],operands=_rowKeyUp$split2[1];if(declare&&operands){var newDbData=dbData.map((function(row){return row[declare]=eval(operands),row}));setDbData(newDbData),onTableUpdate&&onTableUpdate(newDbData)}}onTableUpdate&&onTableUpdate(dbData)},_onAddRow=function(e){if(e){var t={};TableRows.map((function(e,a){var n=defaultValues.findIndex((function(t){return Object.keys(t)[0]===e}));return t[e]=n>-1?defaultValues[n][e]:"",null}));var a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData);a.push(t),setDbData(a)}},submitData=function(){setBtnLoader(!0);var e=dbData.filter((function(e){return""===e[TableRows[0]]})).map((function(e){return""===e[TableRows[0]]&&(e[TableRows[0]]=null),null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.key&&null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.value&&(e[null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.key]=null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.value),e})),t=dbData.filter((function(e){return updatedIds.includes(e[TableRows[0]])})).filter((function(e){return e&&("number"===typeof e[TableRows[0]]||"string"===typeof e[TableRows[0]])})).map((function(e){return null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.key&&null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.value&&(e[null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.key]=null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.value),e})),a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},(e.length>0||deleteData.length>0||t.length>0)&&{Table:Table}),e.length>0&&{insertData:e}),deleteData.length>0&&{deleteData:deleteData}),t.length>0&&{updateData:t}),n=new FormData;n.append("postData",JSON.stringify(a)),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__.a[ajaxType](postApiUrl,n).then((function(a){onPostApi&&onPostApi(a),(e.length>0||t.length>0)&&(setLoader(!0),setTimeout((function(){onReFetchData(!0),setLoader(!1)}),1e3))})).catch((function(e){onPostApi&&onPostApi({error:e,status:!1})})).finally((function(){setDeleteData([]),setUpdatedIds([]),setBtnLoader(!1),t=[],e=[]}))},getColumnTotal=function(e){var t="";return showTotal.length>0&&showTotal.forEach((function(a,n){if("string"===typeof a&&String(a)===String(e))t=dbData.reduce((function(t,a){return Number(t)+Number(a[e])}),0),t=cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,t,cTotal.maxDecimal);else if("object"===typeof a&&a.whichKey===String(e)){var c=[];t=[a].map((function(t){return t.forValue.map((function(a,n){var r=dbData.filter((function(e){return e[t.forKey]===a.value})).reduce((function(t,a){return Number(t)+Number(a[e])}),0);return c.push(r),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,r,cTotal.maxDecimal),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:" (".concat(a.key,")")})]},n)}))})).concat(a.showDifference&&2===a.showDifference.indexes.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"d-inline-block ".concat(checkSettlement(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))),children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal),cTotal.maxDecimal),"\xa0",a.showDifference.showStability&&checkSettlementString(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))]},"totRow-".concat(n)))}})),t},checkSettlement=function(e){return 0===e?"text-success":e>0?"text-danger":e<0?"text-warning":void 0},checkSettlementString=function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:"(=)"})},onSort=function(e){var t=null===dbData||void 0===dbData?void 0:dbData.map((function(t){return t[e]&&(t[e].toString().indexOf("-")>-1||t[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(t[e]).replace(/-/g,"/"))?"date":""===t[e]||isNaN(t[e])?"string":"number"})),a=[];"date"===(t=t.sort((function(e,a){return t.filter((function(t){return t===e})).length-t.filter((function(e){return e===a})).length})).pop())&&(a=onSortByDate(e)),"number"===t&&(a=onSortByNumber(e)),"string"===t&&(a=onSortByString(e)),setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a)),setSortType((function(t){return{asc:!t.asc,key:e}}))},onSortByNumber=function(e){return dbData.sort((function(t,a){return sortType.asc?a[e]-t[e]:t[e]-a[e]}))},onSortByDate=function(e){return dbData.sort((function(t,a){return sortType.asc?new Date(a[e])-new Date(t[e]):new Date(t[e])-new Date(a[e])}))},onSortByString=function(e){return dbData.sort((function(t,a){return sortType.asc?(a[e]>t[e])-(a[e]<t[e]):(t[e]>a[e])-(t[e]<a[e])}))},onSetCurrentPage=function(e){setCurrentPage(e)},showHideRows=function(e){return e>=(currentPage-1)*recordsPerPage&&e<=currentPage*recordsPerPage-1?"d-block":"d-none"},_onDelete=function(e){var t=e.i,a=dbData[t]&&dbData[t][TableRows[0]];a&&void 0!==a&&(deleteData.push(a),setDeleteData(deleteData));var n=dbData.filter((function(e,a){return a!==t}));setDbData(n),onTableUpdate&&onTableUpdate(n)},onSearch=function(e){var t=[];TableRows.map((function(a){return t.push((function(t){return t[a].toString().toLowerCase().includes(e.toString().toLowerCase())}))}));var a=dbDataBackup.filter((function(e){return t.some((function(t){return t(e)}))&&!deleteData.includes(e[TableRows[0]])}));setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a))},onRecordsChange=function(e){setRecordsPerPage(e)},getPageCounts=function(){var e=(currentPage-1)*recordsPerPage+1;e=e>0?e:0;var t=dbData.length>=currentPage*recordsPerPage?currentPage*recordsPerPage:dbData.length;return intl.formatMessage({id:"recordsLengthLine",defaultMessage:"recordsLengthLine"},{start:e,end:t,length:dbData?dbData.length:0})};return!1===loader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"react-responsive-ajax-data-table ".concat(className),id:id,children:0===tableConfigErrors.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"biGrid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"heading",title:getPageCounts(),children:getPageCounts()})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__.a,{theme:theme,config:config,defaultRecordsPerPage:defaultRecordsPerPage,onSearchChange:function(e){return onSearch(e)},onDropDownChange:function(e){return onRecordsChange(e)},onDismissSearch:function(){return onSearch("")}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"grid-responsive",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{style:Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},Array.isArray(cellWidth)&&{gridTemplateColumns:"".concat(cellWidth.join("rem ")+"rem")}),"string"===typeof cellWidth&&{gridTemplateColumns:"repeat(".concat(TableRows.length,", ").concat(cellWidth,")")}),className:"grid-container responsive-grid",children:[TableAliasRows.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{onClick:function(){return onSort(TableRows[t])},className:"header",children:t>0||!postApiUrl?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{title:e,children:e})," ",TableRows[t]===sortType.key&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:sortType.asc?"&#8593;":"&#8595;"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:"&#9776;"})},"key-".concat(t))})),dbData.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[dbData.map((function(e,t){return TableRows.map((function(a,n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"".concat(pagination?showHideRows(t):""),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},showTooltipFor.includes(a)&&{className:"tooltipContainer"}),{},{children:[""!==e[a]&&showTooltipFor.includes(a)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{className:"tooltips",children:e[a]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{config:config,onDelete:function(e){return _onDelete(e)},onChange:function(e,t,a){updateDbData(e,t,a)},index:{i:t,j:a},placeholder:TableAliasRows[n],value:e[a],element:rowElements[n],showIncrement:dbData.length-1===t,showDecrement:!0,onAddRow:function(e){return _onAddRow(e)},primaryKey:TableRows[0],isPostable:Boolean(postApiUrl),theme:theme},"".concat(t,"-").concat(n))]}))},"".concat(e[a],"-").concat(n))}))})),showTotal&&showTotal.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"textCenter",children:cTotal.title}),TableRows.slice(1).map((function(e,t){var a=showTotal.includes(e)||showTotal.some((function(t){return t.whichKey===e}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:a?"totalColumn":"",children:a?getColumnTotal(e):""},t)}))]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{index:{i:0,j:0},element:rowElements[0],showIncrement:!0,showDecrement:!1,onAddRow:function(e){return _onAddRow(e)}},-1),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-3 text-center",style:{gridColumn:"1 / span ".concat(TableRows.length)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_14__.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"footer",children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_Pagination__WEBPACK_IMPORTED_MODULE_10__.a,{currentPage:currentPage,totalPages:Math.ceil(dbData.length/recordsPerPage),onSetPage:onSetCurrentPage,maxPagesToShow:maxPagesToShow,selectedPageString:pagination.currentPage}),postApiUrl&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-2 text-end",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("button",{onClick:function(){return submitData()},disabled:btnLoader,className:"btn btn-bni",children:btnLoader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:ajaxButtonName})})})]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"errorWrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h5",{children:"Please resolve the following issues:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("ol",{children:tableConfigErrors.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("li",{children:e.error},t)}))})]})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"relativeSpinner",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default.a,{type:_helpers__WEBPACK_IMPORTED_MODULE_9__.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}BackendCore.defaultProps={id:"",Table:"My table",TableRows:[],TableAliasRows:[],showTotal:[],rowKeyUp:"",rowElements:[],insertCloneData:[],showTooltipFor:[],ajaxType:"post",ajaxButtonName:"Submit",config:{header:{searchPlaceholder:"Search"},footer:{total:{title:"Total",locale:"en-IN",currency:"",maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},defaultValues:[],cellWidth:"13rem"},__webpack_exports__.a=Object(react_intl__WEBPACK_IMPORTED_MODULE_15__.c)(BackendCore)},83:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o}));var n=a(50),c=a.n(n),r=[{id:"bankAccounts",Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_swift_code","bank_account_type","bank_country","bank_sort","bank_locale","bank_currency"],defaultValues:[{bank_sort:"0"}],cellWidth:[4,13,11,11,13,13,5,13,13]},{id:"creditCardAccounts",Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date","credit_card_annual_interest","credit_card_locale","credit_card_currency"],defaultValues:[{credit_card_annual_interest:"48"}],cellWidth:[4,13,11,8,8,8,8,13,13]},{id:"incExpCat",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name","inc_exp_cat_is_metric","inc_exp_cat_is_plan_metric"],defaultValues:[{inc_exp_cat_is_metric:"0"},{inc_exp_cat_is_plan_metric:"0"}],cellWidth:[4,13,13,13]},{id:"incExpTemp",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type","temp_inc_exp_date","temp_category","temp_bank"],defaultValues:[{temp_inc_exp_date:"1"},{temp_inc_exp_type:"Dr"},{temp_amount:"0.00"}],cellWidth:[4,13,13,13,5,13,13]}],s=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:[],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:c()(new Date).format("YYYY-MM-DD")}],rowKeyUp:"",rowElements:["checkbox","textbox","number","label",null,"date",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],o=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_transaction_status","cc_comments","cc_added_at"],TableAliasRows:[],showTotal:["cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance"],rowKeyUp:"cc_expected_balance=((Number(row.cc_opening_balance) - Number(row.cc_payment_credits)) + (Number(row.cc_purchases) + Number(row.cc_taxes_interest))).toFixed(2)",rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},{fetch:{dropDownList:[{checked:!1,id:"1",value:"Settled"},{checked:!1,id:"0",value:"Pending"},{checked:!1,id:"2",value:"Part payment"}]}},"textbox","relativeTime"],defaultValues:[{cc_date:c()().format("YYYY-MM-DD")},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0},{cc_transaction_status:"0"}],showTooltipFor:["cc_transaction","cc_comments"]}]},92:function(e,t,a){"use strict";var n=a(25),c=a(28),r=(a(1),a(0)),s=["className","entity"],o=function(e){var t=e.className,a=e.entity,o=Object(c.a)(e,s);return Object(r.jsx)("span",Object(n.a)({className:"htmlIcon ".concat(t),dangerouslySetInnerHTML:{__html:a}},o))};o.defaultProps={property:"String name"},t.a=o},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1),c=a(72),r=function(){var e=Object(c.h)().search;return Object(n.useMemo)((function(){return new URLSearchParams(e)}),[e])}},94:function(e,t,a){"use strict";var n=a(25),c=a(28),r=a(1),s=a(1269),o=a(39),l=a(0),i=["icon","intlId","children"];t.a=function(e){var t=e.icon,a=e.intlId,d=e.children,u=Object(c.a)(e,i),_=Object(r.useContext)(o.a);return Object(l.jsx)("div",Object(n.a)(Object(n.a)({},u),{},{className:"bg-gradient ".concat("dark"===_.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill"),children:Object(l.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(l.jsxs)("div",{className:"d-flex align-items-center",children:[Object(l.jsx)("i",{className:"".concat(t," fa-1x")}),Object(l.jsx)("div",{className:"ps-2 mb-0",children:Object(l.jsx)(s.a,{id:a,defaultMessage:a})})]}),d]})}))}}}]);