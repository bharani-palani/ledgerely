(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[60],{1099:function(e,a,t){"use strict";t.r(a);var s=t(25),l=t(30),n=t(35),c=t(27),o=t(1),r=t(776),i=t(1266),d=t(83),u=t(46),b=t(39),f=t(1242),g=t(52),m=t.n(g),h=t(48),j=t(120),p=t(0);a.default=function(e){var a,t,g=Object(r.a)(),x=Object(o.useState)([]),O=Object(c.a)(x,2),M=O[0],T=O[1],w=Object(o.useState)([]),v=Object(c.a)(w,2),_=v[0],y=v[1],S=Object(o.useState)([]),k=Object(c.a)(S,2),N=k[0],D=k[1],C=Object(o.useState)(""),R=Object(c.a)(C,2),L=R[0],F=R[1],P=Object(o.useState)(!1),A=Object(c.a)(P,2),E=A[0],I=A[1],V=Object(o.useState)(!1),H=Object(c.a)(V,2),z=H[0],B=H[1],K=Object(o.useContext)(b.a),U=Object(o.useState)({start:0,limit:10,searchString:""}),W=Object(c.a)(U,2),q=W[0],J=W[1],Y={id:"internationalization",label:g.formatMessage({id:"internationalization",defaultMessage:"internationalization"}),help:{heading:g.formatMessage({id:"internationalization",defaultMessage:"internationalization"}),points:[g.formatMessage({id:"indentOfIntlForm",defaultMessage:"indentOfIntlForm"}),g.formatMessage({id:"pleaseDonotEditIntlKey",defaultMessage:"pleaseDonotEditIntlKey"}),g.formatMessage({id:"updateTheValuesCorrespondingYourLocales",defaultMessage:"updateTheValuesCorrespondingYourLocales"}),g.formatMessage({id:"submitTheFormToSaveChanges",defaultMessage:"submitTheFormToSaveChanges"})]}},G=function(){return Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(m.a,{type:h.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},Q={config:{header:{searchPlaceholder:g.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),searchable:!0},footer:{total:{},pagination:{currentPage:"first",maxPagesToShow:5}}},id:"intlMaster",Table:"locale_master",label:"Locale master",TableRows:["locale_id","locale_label","locale_string","locale_language","locale_currency","locale_sort"],TableAliasRows:[g.formatMessage({id:"id",defaultMessage:"id"}),g.formatMessage({id:"localeLabel",defaultMessage:"localeLabel"}),g.formatMessage({id:"localeString",defaultMessage:"localeString"}),g.formatMessage({id:"localeLanguage",defaultMessage:"localeLanguage"}),g.formatMessage({id:"localeCurrency",defaultMessage:"localeCurrency"}),g.formatMessage({id:"sort",defaultMessage:"sort"})],defaultValues:[{locale_sort:1}],rowElements:["checkbox","textbox","textbox","textbox","textbox","number"]},X={config:{header:{searchPlaceholder:g.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),searchable:!0},footer:{total:{},pagination:{currentPage:"first",maxPagesToShow:5}}},id:"intlChild",Table:"locale_child",label:"Locale child",TableRows:["loc_id","locale_ref_id","locale_key","locale_value"],TableAliasRows:[g.formatMessage({id:"id",defaultMessage:"id"}),g.formatMessage({id:"localeLanguage",defaultMessage:"localeLanguage"}),g.formatMessage({id:"id",defaultMessage:"id"}),g.formatMessage({id:"value",defaultMessage:"value"})],defaultValues:[],rowElements:["checkbox",{fetch:{dropDownList:N}},"label","textbox"]},Z=[{locale_id:"",locale_label:"",locale_string:"",locale_language:"",locale_currency:"",locale_sort:""}],$=function(){T([]),I(!0);var e=ee(Q),a=u.a.get("/getUniqueLocales");Promise.all([e,a]).then((function(e){var a,t=e[0].data.response,s=e[1].data.response.map((function(e){return{checked:!1,id:e.locale_id,value:e.locale_label}}));D(s),(null===t||void 0===t||null===(a=t.table)||void 0===a?void 0:a.length)>0?T(t):T(Z),t.length>0?F(t[0].locale_id):F("")})).catch((function(){T([])})).finally((function(){return I(!1)}))},ee=function(e,a){var t=new FormData;return t.append("TableRows",e.TableRows),t.append("limit",q.limit),t.append("start",q.start),t.append("searchString",q.searchString),t.append("Table",e.Table),a&&t.append("WhereClause",a),u.a.post("/account_planner/getAccountPlanner",t)},ae=function(){y([]),B(!0),ee(X,"locale_ref_id = ".concat(L)).then(function(){var e=Object(n.a)(Object(l.a)().mark((function e(a){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.data.response.length>0?y(a.data.response):y(Z);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(){y([])})).finally((function(){return B(!1)}))};Object(o.useEffect)((function(){L&&ae()}),[L]);var te=function(e){var a=e.status,t=e.data;if(200===a){if(e&&t&&"boolean"===typeof t.response&&null!==t.response&&t.response&&K.renderToast({message:g.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&t&&"boolean"===typeof t.response&&null!==t.response&&!1===t.response&&K.renderToast({type:"error",icon:"fa fa-times-circle",message:g.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&t&&"object"===typeof t.response&&null!==t.response){var s;if(1451===t.response.number)s="foreignKeyDeleteMessage";else s="";K.renderToast({type:"error",icon:"fa fa-times-circle",message:g.formatMessage({id:s,defaultMessage:s})})}}else K.renderToast({type:"error",icon:"fa fa-times-circle",message:g.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})};return Object(o.useEffect)((function(){$()}),[q]),Object(p.jsxs)("section",{className:"container-fluid",children:[Object(p.jsx)("div",{className:"bg-gradient ".concat("dark"===K.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill mb-4"),children:Object(p.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("i",{className:"fa fa-globe fa-1x"}),Object(p.jsx)("div",{className:"ps-2 mb-0",children:Object(p.jsx)(i.a,{id:"internationalization",defaultMessage:"internationalization"})})]}),Object(p.jsx)(j.a,{className:"text-center ".concat("dark"===K.userData.theme?"bg-dark text-white-50":"bg-white text-black"),btnValue:"<i class='fa fa-question-circle' />",btnClassName:"pe-3 btn btn-sm ".concat("dark"===K.userData.theme?"text-white":"text-dark"),placement:"end",label:Y.help.heading,children:Y.help.points.length>0&&Object(p.jsx)("ul",{className:"list-group list-group-flush",children:Y.help.points.map((function(e,a){return Object(p.jsx)("li",{className:"list-group-item border-bottom-0 ".concat("dark"===K.userData.theme?"bg-dark text-white-50":"bg-white text-black"),dangerouslySetInnerHTML:{__html:e}},a)}))})},Y.id)]})}),Object(p.jsxs)("div",{className:"pt-10",children:[(null===M||void 0===M||null===(a=M.table)||void 0===a?void 0:a.length)>0&&!E?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{children:Object(p.jsx)(i.a,{id:"masterTable",defaultMessage:"masterTable"})}),Object(p.jsx)("h6",{children:Object(p.jsx)(i.a,{id:"note",defaultMessage:"note"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("li",{className:"small",children:Object(p.jsx)(i.a,{id:"youCanStillDuplicateLocales"})})}),Object(p.jsx)(d.a,{config:Q.config,Table:Q.Table,TableRows:Q.TableRows,TableAliasRows:Q.TableAliasRows,rowElements:Q.rowElements,defaultValues:Q.defaultValues,dbData:M,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return te(e)},apiParams:q,onChangeParams:function(e){return function(e){J((function(a){return Object(s.a)(Object(s.a)({},a),e)}))}(e)},onReFetchData:function(){$(),ae()},cellWidth:[4,13,13,13,13,5],ajaxButtonName:g.formatMessage({id:"submit",defaultMessage:"submit"}),theme:K.userData.theme},"lcale-master-table"),Object(p.jsx)("h5",{children:Object(p.jsx)(i.a,{id:"childTable",defaultMessage:"childTable"})}),Object(p.jsxs)("div",{className:"fst-italic",children:[Object(p.jsx)("h6",{children:Object(p.jsx)(i.a,{id:"note",defaultMessage:"note"})}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"small",children:Object(p.jsx)(i.a,{id:"pleaseDonotEditIntlKey",defaultMessage:"pleaseDonotEditIntlKey"})}),Object(p.jsx)("li",{className:"small",children:Object(p.jsx)(i.a,{id:"indentOfIntlForm",defaultMessage:"indentOfIntlForm"})})]})]}),Object(p.jsxs)(f.a,{className:"pb-3",children:[Object(p.jsx)(f.a.Toggle,{className:"btn btn-bni",children:L?null===M||void 0===M?void 0:M.table.filter((function(e){return e.locale_id===L}))[0].locale_label:g.formatMessage({id:"selectLanguage",defaultMessage:"selectLanguage"})}),Object(p.jsx)(f.a.Menu,{children:null===M||void 0===M||null===(t=M.table)||void 0===t?void 0:t.map((function(e,a){return Object(p.jsx)(f.a.Item,{onClick:function(a){return F(e.locale_id)},children:e.locale_label},a)}))})]})]}):G(),_.length>0&&!z?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(d.a,{config:X.config,Table:X.Table,TableRows:X.TableRows,TableAliasRows:X.TableAliasRows,rowElements:X.rowElements,defaultValues:X.defaultValues,dbData:_,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return te(e)},onReFetchData:function(){return ae()},cellWidth:[4,13,13,13],ajaxButtonName:g.formatMessage({id:"submit",defaultMessage:"submit"}),theme:K.userData.theme},"lcale-master-table")}):G()]})]})}},120:function(e,a,t){"use strict";var s=t(25),l=t(27),n=t(28),c=t(1),o=t(935),r=t(1241),i=t(39),d=t(0),u=["btnValue","btnClassName","label","children"];a.a=function(e){var a=e.btnValue,t=e.btnClassName,b=e.label,f=e.children,g=Object(n.a)(e,u),m=Object(c.useState)(!1),h=Object(l.a)(m,2),j=h[0],p=h[1],x=Object(c.useContext)(i.a);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.a,{tabIndex:"-1",variant:null,dangerouslySetInnerHTML:{__html:a},className:t,onClick:function(){return p(!0)}}),Object(d.jsxs)(r.a,Object(s.a)(Object(s.a)({show:j,onHide:function(){return p(!1)}},g),{},{className:"".concat("dark"===x.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[Object(d.jsx)(r.a.Header,{closeButton:!0,children:Object(d.jsx)(r.a.Title,{children:b})}),Object(d.jsx)(r.a.Body,{className:"".concat("dark"===x.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:f})]}))]})}}}]);