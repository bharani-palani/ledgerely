(this["webpackJsonpmoney-planner-applicaion"]=this["webpackJsonpmoney-planner-applicaion"]||[]).push([[4],{159:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70),D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59),D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(53),_FormElement__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(609),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(51),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__),_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(43),_Pagination__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(632),_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(160),_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(633),_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(634),_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_13__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__);function BackendCore(props){var Table=props.Table,config=props.config,className=props.className||"",TableRows=props.TableRows,TableAliasRows=props.TableAliasRows,postApiUrl=props.postApiUrl,onPostApi=props.onPostApi,showTotal=props.showTotal,rowKeyUp=props.rowKeyUp,insertCloneData=props.insertCloneData,showTooltipFor=props.showTooltipFor,defaultValues=props.defaultValues,onTableUpdate=props.onTableUpdate,onReFetchData=props.onReFetchData,cellWidth=props.cellWidth,_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState2=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState,2),rowElements=_useState2[0],setRowElements=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(props.dbData),_useState4=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState3,2),dbData=_useState4[0],setDbData=_useState4[1],dbDataBackup=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(props.dbData),_useState5=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState6=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState5,2),deleteData=_useState6[0],setDeleteData=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState8=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState7,2),loader=_useState8[0],setLoader=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState10=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState9,2),btnLoader=_useState10[0],setBtnLoader=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState12=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState11,2),updatedIds=_useState12[0],setUpdatedIds=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({}),_useState14=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState13,2),sortType=_useState14[0],setSortType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState16=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState15,2),tableConfigErrors=_useState16[0],setTableConfigErrors=_useState16[1],pagination=config&&config.footer&&config.footer.pagination&&Object.keys(config.footer.pagination).length>0&&config.footer.pagination,cTotal=config&&config.footer&&config.footer.total,ajaxType=props.ajaxType,ajaxButtonName=props.ajaxButtonName,_useState17=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(pagination&&pagination.recordsPerPage),_useState18=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState17,2),recordsPerPage=_useState18[0],setRecordsPerPage=_useState18[1],defaultRecordsPerPage=pagination&&pagination.recordsPerPage,_useState19=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(Math.ceil(dbData.length/recordsPerPage)),_useState20=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_useState19,2),currentPage=_useState20[0],setCurrentPage=_useState20[1],maxPagesToShow=pagination&&pagination.maxPagesToShow,createElementPromise=function(){return props.rowElements.map((function(e){return new Promise((function(t,a){t(e)}))}))},runAllApis=function(e){setLoader(!0);var t=createElementPromise();Promise.all([t]).then(function(){var t=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.a)(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function t(a){return D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a[0]).then((function(e){setRowElements(e),setLoader(!1)}));case 2:"function"===typeof e&&e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){var e=[];return TableAliasRows.length!==TableRows.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),Table&&0!==Table.toString().length&&""!==Table||e.push({error:'The "Table" props should be a valid string.'}),postApiUrl&&!["put","post","delete","patch","request","get","head","options"].includes(ajaxType)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&setTableConfigErrors(e),function(){}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){runAllApis()}),[TableRows,Table,props.rowElements]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){dbData.length>0&&setDbData(dbData)}),[props.dbData]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){if(insertCloneData&&insertCloneData.length>0){setLoader(!0);var e=[].concat(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(insertCloneData),Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(dbData));setDbData(e),setTimeout((function(){setLoader(!1)}),500)}}),[insertCloneData]);var updateDbData=function updateDbData(index,data,primaryKey){var i=index.i,j=index.j;dbData[i][j]=data,setDbData(dbData);var id=dbData.filter((function(e,t){return t===i&&e}))[0][primaryKey]||"",array=id?[].concat(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(updatedIds),[id]):Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(updatedIds);if(array=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(new Set(array)),setUpdatedIds(array),rowKeyUp){var _rowKeyUp$split=rowKeyUp.split("="),_rowKeyUp$split2=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_rowKeyUp$split,2),declare=_rowKeyUp$split2[0],operands=_rowKeyUp$split2[1];if(declare&&operands){var newDbData=dbData.map((function(row){return row[declare]=eval(operands),row}));setDbData(newDbData),onTableUpdate&&onTableUpdate(newDbData)}}onTableUpdate&&onTableUpdate(dbData)},_onAddRow=function(e){if(e){var t={};TableRows.map((function(e,a){var n=defaultValues.findIndex((function(t){return Object.keys(t)[0]===e}));return t[e]=n>-1?defaultValues[n][e]:"",null}));var a=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(dbData);a.push(t),setDbData(a)}},submitData=function(){setBtnLoader(!0);var e=dbData.filter((function(e){return""===e[TableRows[0]]})),t=dbData.filter((function(e){return updatedIds.includes(e[TableRows[0]])})).filter((function(e){return e&&("number"===typeof e[TableRows[0]]||"string"===typeof e[TableRows[0]])})),a=Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},(e.length>0||deleteData.length>0||t.length>0)&&{Table:Table}),e.length>0&&{insertData:e}),deleteData.length>0&&{deleteData:deleteData}),t.length>0&&{updateData:t}),n=new FormData;n.append("postData",JSON.stringify(a)),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__.a[ajaxType](postApiUrl,n).then((function(t){onPostApi&&onPostApi(t),e.length>0&&(setLoader(!0),setTimeout((function(){onReFetchData(!0),setLoader(!1)}),1e3))})).catch((function(e){onPostApi&&onPostApi({error:e,status:!1})})).finally((function(){setDeleteData([]),setUpdatedIds([]),setBtnLoader(!1),t=[],e=[]}))},getColumnTotal=function(e){var t="";return showTotal.length>0&&showTotal.forEach((function(a,n){if("string"===typeof a&&String(a)===String(e))t=dbData.reduce((function(t,a){return Number(t)+Number(a[e])}),0),t=cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,t,cTotal.maxDecimal);else if("object"===typeof a&&a.whichKey===String(e)){var c=[];t=[a].map((function(t){return t.forValue.map((function(a,n){var r=dbData.filter((function(e){return e[t.forKey]===a})).reduce((function(t,a){return Number(t)+Number(a[e])}),0);return c.push(r),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,r,cTotal.maxDecimal)," (".concat(a,")")]},n)}))})).concat(a.showDifference&&2===a.showDifference.indexes.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"d-inline-block p-1 bg-black rounded-3 ".concat(checkSettlement(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))),children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal),cTotal.maxDecimal),"\xa0",a.showDifference.showStability&&checkSettlementString(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))]},"totRow-".concat(n)))}})),t},checkSettlement=function(e){return 0===e?"txtSuccess":e>0?"txtError":e<0?"txtWarning":void 0},checkSettlementString=function(e){return 0===e?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.zero,")"]}):e<0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.plus,")"]}):e>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.minus,")"]}):void 0},onSort=function(e){var t=dbData.map((function(t){return t[e]&&(t[e].toString().indexOf("-")>-1||t[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(t[e]).replace(/-/g,"/"))?"date":""===t[e]||isNaN(t[e])?"string":"number"})),a=[];"date"===(t=t.sort((function(e,a){return t.filter((function(t){return t===e})).length-t.filter((function(e){return e===a})).length})).pop())&&(a=onSortByDate(e)),"number"===t&&(a=onSortByNumber(e)),"string"===t&&(a=onSortByString(e)),setDbData(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(a)),setSortType((function(t){return{asc:!t.asc,key:e}}))},onSortByNumber=function(e){return dbData.sort((function(t,a){return sortType.asc?a[e]-t[e]:t[e]-a[e]}))},onSortByDate=function(e){return dbData.sort((function(t,a){return sortType.asc?new Date(a[e])-new Date(t[e]):new Date(t[e])-new Date(a[e])}))},onSortByString=function(e){return dbData.sort((function(t,a){return sortType.asc?(a[e]>t[e])-(a[e]<t[e]):(t[e]>a[e])-(t[e]<a[e])}))},onSetCurrentPage=function(e){setCurrentPage(e)},showHideRows=function(e){return e>=(currentPage-1)*recordsPerPage&&e<=currentPage*recordsPerPage-1?"d-block":"d-none"},_onDelete=function(e){var t=e.i,a=dbData[t]&&dbData[t][TableRows[0]];a&&void 0!==a&&(deleteData.push(a),setDeleteData(deleteData));var n=dbData.filter((function(e,a){return a!==t}));setDbData(n),onTableUpdate&&onTableUpdate(n)},onSearch=function(e){var t=[];TableRows.map((function(a){return t.push((function(t){return t[a].toString().toLowerCase().includes(e.toString().toLowerCase())}))}));var a=dbDataBackup.filter((function(e){return t.some((function(t){return t(e)}))&&!deleteData.includes(e[TableRows[0]])}));setDbData(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.a)(a))},onRecordsChange=function(e){setRecordsPerPage(e)},getPageCounts=function(){var e=(currentPage-1)*recordsPerPage+1;e=e>0?e:0;var t=dbData.length>=currentPage*recordsPerPage?currentPage*recordsPerPage:dbData.length,a=dbData.length>1?"s":"";return"".concat(e," to ").concat(t," of ").concat(dbData?dbData.length:0," record").concat(a)};return!1===loader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"react-responsive-ajax-data-table ".concat(className),children:0===tableConfigErrors.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"biGrid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"heading",title:getPageCounts(),children:getPageCounts()})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__.a,{defaultRecordsPerPage:defaultRecordsPerPage,onSearchChange:function(e){return onSearch(e)},onDropDownChange:function(e){return onRecordsChange(e)},onDismissSearch:function(){return onSearch("")}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"grid-responsive",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},postApiUrl&&{gridTemplateColumns:"50px repeat(".concat(TableRows.length-1,", ").concat(cellWidth,")")}),!postApiUrl&&{gridTemplateColumns:"repeat(".concat(TableRows.length,", ").concat(cellWidth,")")}),className:"grid-container responsive-grid",children:[TableAliasRows.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{onClick:function(){return onSort(TableRows[t])},className:"header",children:t>0||!postApiUrl?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("span",{title:e,children:e})," ",TableRows[t]===sortType.key&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:sortType.asc?"&#8593;":"&#8595;"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:"&#9776;"})},"key-".concat(t))})),dbData.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[dbData.map((function(e,t){return TableRows.map((function(a,n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"".concat(pagination?showHideRows(t):""),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_xampp_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},showTooltipFor.includes(a)&&{className:"tooltipContainer"}),{},{children:[""!==e[a]&&showTooltipFor.includes(a)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("span",{className:"tooltips",children:e[a]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{config:config,onDelete:function(e){return _onDelete(e)},onChange:function(e,t,a){updateDbData(e,t,a)},index:{i:t,j:a},placeholder:TableAliasRows[n],value:e[a],element:rowElements[n],showIncrement:dbData.length-1===t,showDecrement:!0,onAddRow:function(e){return _onAddRow(e)},primaryKey:TableRows[0],isPostable:Boolean(postApiUrl)},"".concat(t,"-").concat(n))]}))},"".concat(e[a],"-").concat(n))}))})),showTotal&&showTotal.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"textCenter",children:"Total"}),TableRows.slice(1).map((function(e,t){var a=showTotal.includes(e)||showTotal.some((function(t){return t.whichKey===e}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:a?"totalColumn":"",children:a?getColumnTotal(e):""},t)}))]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{index:{i:0,j:0},element:rowElements[0],showIncrement:!0,showDecrement:!1,onAddRow:function(e){return _onAddRow(e)}},-1),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"py-3 text-center",style:{gridColumn:"1 / span ".concat(TableRows.length)},children:"No Records"})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"footer",children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_Pagination__WEBPACK_IMPORTED_MODULE_10__.a,{currentPage:currentPage,totalPages:Math.ceil(dbData.length/recordsPerPage),onSetPage:onSetCurrentPage,maxPagesToShow:maxPagesToShow,selectedPageString:pagination.currentPage}),postApiUrl&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"py-2 text-end",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{onClick:function(){return submitData()},disabled:btnLoader,className:"btn btn-bni",children:btnLoader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:ajaxButtonName})})})]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"errorWrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("h5",{children:"Please resolve the following issues:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("ol",{children:tableConfigErrors.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("li",{children:e.error},t)}))})]})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"relativeSpinner",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default.a,{type:_helpers__WEBPACK_IMPORTED_MODULE_9__.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}BackendCore.defaultProps={Table:"My table",TableRows:[],TableAliasRows:[],showTotal:[],rowKeyUp:"",rowElements:[],insertCloneData:[],showTooltipFor:[],ajaxType:"post",ajaxButtonName:"Submit",config:{footer:{total:{locale:"en-IN",currency:"",maxDecimal:2,doubleEntryBalanceStrings:{zero:"Settled",plus:"Ahead",minus:"Bal"}},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},defaultValues:[],cellWidth:"15rem"},__webpack_exports__.a=BackendCore},160:function(e,t,a){"use strict";var n=a(25),c=a(28),r=(a(1),a(0)),s=["className","entity"],l=function(e){var t=e.className,a=e.entity,l=Object(c.a)(e,s);return Object(r.jsx)("span",Object(n.a)({className:"htmlIcon ".concat(t),dangerouslySetInnerHTML:{__html:a}},l))};l.defaultProps={property:"String name"},t.a=l},225:function(e,t,a){"use strict";var n=a(26),c=a(1),r=a(0),s=function(e){var t=e.index,a=e.primaryKey,s=e.onChange,l=e.element,i=e.value,o=t.i,d=t.j,u=Object(c.useState)(l.radio.radioList),b=Object(n.a)(u,1)[0],j=e.value||b.filter((function(e){return e.checked}))[0].value,m=Object(c.useState)(j),p=Object(n.a)(m,2),h=p[0],f=p[1];return Object(c.useEffect)((function(){f(i)}),[i]),Object(r.jsx)("div",{className:"radioComponent",children:b.length&&b.map((function(e,n){return Object(r.jsxs)("div",{className:"radioWrapper",children:[Object(r.jsx)("input",{type:"radio",onChange:function(n){f(n.target.value),s(t,e.value,a)},value:e.value,checked:e.value===h,name:"".concat(d,"-").concat(o),id:"".concat(d,"-").concat(n,"-").concat(o)})," ",Object(r.jsx)("span",{className:"checkmark"}),Object(r.jsx)("label",{htmlFor:"".concat(d,"-").concat(n,"-").concat(o),children:e.label})]},n)}))})};s.defaultProps={property:"String name"},t.a=s},303:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/spinner-1.56ac9e58.svg"},43:function(e,t,a){"use strict";var n=a(35),c=a(45),r=a(25),s={self:void 0,sageHeaderAndList:function(e,t){var a=e.filter((function(e){return Number(e[t])>1}));return[e.filter((function(e){return 1===Number(e[t])}))[0],a]},loadRandomSpinnerIcon:function(){return"Oval"},stringToCapitalize:function(e){return e.split("_").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)})).join(" ")},donutChartColors:["#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#f44336"],indianLacSeperator:function(e){return e.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})},countryCurrencyLacSeperator:function(e,t,a,n){return Number(a).toLocaleString(e,Object(r.a)({maximumFractionDigits:n,minimumFractionDigits:n,style:t?"currency":"decimal"},t&&{currency:t}))},lacSeperator:function(e){return e.toLocaleString("en-IN")},strToNumMonth:{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},monthToStr:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},fullmonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],threeDigitMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],leadingZeros:function(e){var t=Number(e);return t<10?"0".concat(t):t},dateToMonthYear:function(e){var t=new Date(e);return"".concat(s.threeDigitMonthNames[t.getMonth()],"-").concat(t.getFullYear())},addMonths:function(e,t){if(e&&t){var a,n=["",(e=new Date(+e)).getDate()],c=n[1];e.setMonth(e.getMonth()+t,1),a=e.getMonth(),e.setDate(c),e.getMonth()!==a&&e.setDate(0)}return e},getNextMonthFirst:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+2;a>12&&(t+=1,a=1);var n=new Date("".concat(t,"-").concat(a,"-01")),c=n.getMonth()+1;c=c<10?"0".concat(c):c;var r=n.getFullYear();return"".concat(r,"-").concat(c,"-01")},getNow:function(){var e=function(e){var t=Number(e);return t<10?"0".concat(t):t},t=new Date,a=t.getFullYear(),n=e(t.getMonth()+1),c=e(t.getDate()),r=e(t.getHours()),s=e(t.getMinutes()),l=e(t.getSeconds());return"".concat(a,"-").concat(n,"-").concat(c," ").concat(r,":").concat(s,":").concat(l)},dateToYYYYMMDD:function(e){var t=function(e){var t=Number(e);return t<10?"0".concat(t):t},a=e.getFullYear(),n=t(e.getMonth()+1),c=t(e.getDate());return"".concat(a,"-").concat(n,"-").concat(c)},stripCommasInCSV:function(e){return e.map((function(e){var t=Object.keys(e).map((function(t){return Object(c.a)({},t,String(e[t]).replace(/,/g,""))}));return Object.assign.apply(Object,[{},{}].concat(Object(n.a)(t)))}))},chunkArray:function(e,t){return e.map((function(a,n){return e.slice(n*t,n*t+t)})).filter((function(e){return e.length>0}))}};t.a=s},448:function(e,t){},450:function(e,t){},452:function(e,t){},477:function(e,t){},478:function(e,t){},53:function(e,t,a){"use strict";var n=a(590),c=a.n(n).a.create({baseURL:"https://apps.bharani.tech/services",headers:{Authorization:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0.By2r2BwheJsbrEGrHOaMQwrrmlY7wHVFzWtuEmv39fM"}});t.a=c},609:function(e,t,a){"use strict";var n=a(25),c=a(45),r=a(26),s=a(28),l=a(1),i=a(225),o=a(160),d=a(97),u=a(331),b=a.n(u),j=a(0),m=["isPostable","config","index","value","element","primaryKey","onChange","placeholder","showDecrement","showIncrement","onDelete","onAddRow"];t.a=function(e){var t=e.isPostable,a=e.config,u=e.index,p=e.value,h=e.element,f=e.primaryKey,O=e.onChange,_=e.placeholder,x=e.showDecrement,g=e.showIncrement,v=e.onDelete,y=e.onAddRow,N=Object(s.a)(e,m),D=Object(l.useRef)([]);D.current=[];var w=Object(l.useState)(p?new Date(p):new Date),S=Object(r.a)(w,2),T=S[0],k=S[1],P=Object(l.useState)(p?new Date(p):new Date),C=Object(r.a)(P,2),E=C[0],M=C[1],A=function(e,t,a,n){O(t,a,n)};return Object(j.jsx)("div",{children:function(e,r,s,l){if("string"===typeof r)switch(r){case"textbox":return Object(j.jsx)("input",Object(n.a)({type:"text",placeholder:_,onBlur:function(t){return A(0,e,t.target.value,l)},className:"inputText",defaultValue:s},N));case"number":return Object(j.jsx)("input",Object(n.a)({type:"number",min:"0",step:".01",placeholder:_,ref:function(t){return function(e,t){t&&!D.current.includes(t)&&D.current.push(Object(c.a)({},e.i,t))}(e,t)},onBlur:function(t){return A(0,e,t.target.value,l)},className:"inputText",defaultValue:Number(s).toFixed(a.footer.total.maxDecimal)},N));case"textarea":return Object(j.jsx)("textarea",Object(n.a)({placeholder:_,onBlur:function(t){return A(0,e,t.target.value,l)},rows:"3",className:"inputText",defaultValue:s},N));case"label":default:return Object(j.jsx)("div",Object(n.a)(Object(n.a)({},N),{},{children:s}));case"checkbox":return t?Object(j.jsxs)(j.Fragment,{children:[x&&Object(j.jsx)(o.a,{onClick:function(){return v(e)},className:"error",entity:"&#215;"}),g&&Object(j.jsx)("div",{className:!1===x?"floatLeft":"floatRight",children:Object(j.jsx)(o.a,{onClick:function(){return y(!0)},className:"success tilt-45",entity:"&#215;"})})]}):Object(j.jsx)("div",Object(n.a)(Object(n.a)({},N),{},{children:s}));case"date":return Object(j.jsx)(b.a,{value:T,format:"y-MM-dd",clearIcon:null,onChange:function(t){k(t),O(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)}(t),l)}});case"dateTime":return Object(j.jsx)(b.a,{value:E,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:function(t){M(t),O(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate()),e.getHours(),e.getMinutes(),e.getSeconds()],a=t[1],n=t[2],c=t[3],r=t[4],s=t[5];return c=c<10?"0"+c:c,r=r<10?"0"+r:r,s=s<10?"0"+s:s,"".concat(t[0],"-").concat(a,"-").concat(n," ").concat(c,":").concat(r,":").concat(s)}(t),l)}})}else if("object"===typeof r){switch(Object.keys(r)[0]){case"fetch":return Object(j.jsx)(d.a,{index:e,primaryKey:l,onChange:function(e,t,a){return O(e,t,a)},element:r,value:s,type:Array.isArray(s)?"multiple":"single",searchable:r.searchable});case"radio":return Object(j.jsx)(i.a,{index:e,primaryKey:l,onChange:function(e,t,a){return O(e,t,a)},element:r,value:s},"".concat(e.i,"-").concat(e.j));default:return Object(j.jsx)("div",{children:"Unknown Element"})}}}(u,h,p,f)})}},632:function(e,t,a){"use strict";var n=a(25),c=a(35),r=a(26),s=a(1),l=a(0),i=function(e){var t=e.totalPages,a=e.maxPagesToShow,i=e.selectedPageString,o=e.onSetPage,d=Object(s.useState)(e.currentPage),u=Object(r.a)(d,2),b=u[0],j=u[1],m=function(e){return Array.from({length:e},(function(e,t){return++t}))},p=Object(s.useState)(m(t)),h=Object(r.a)(p,2),f=h[0],O=h[1];Object(s.useEffect)((function(){O(m(t));var e="first"===i?1:t;j(e),o(e)}),[t]),Object(s.useEffect)((function(){var e=[];a<t&&b>0&&(b<t-a?(e=[].concat(Object(c.a)(x(a,b)),["...",t]),O(e)):(e=Object(c.a)(x(a+1,t-a)),O(e)))}),[b]);var _=function(e){j(e),o(e)},x=function(e,t){return Array(e).fill().map((function(e,a){return t+a}))};return f.length>0&&Object(l.jsxs)("ul",{className:"page",children:[Object(l.jsx)("li",{onClick:function(){return b>1?_(1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<<"}),Object(l.jsx)("li",{onClick:function(){return b>1?_(b-1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<"}),f.map((function(e,a){return Object(l.jsx)("li",Object(n.a)(Object(n.a)({onClick:function(){return!isNaN(e)&&e<=t?_(e):null}},e===b&&{className:"active"}),{},{children:e}),function(e){return"page-".concat(e)}(a))})),Object(l.jsx)("li",{onClick:function(){return b<t?_(b+1):null},className:"gt ".concat(b===t?"disabled":""),children:">"}),Object(l.jsx)("li",{onClick:function(){return b<t?_(t):null},className:"gt ".concat(b===t?"disabled":""),children:">>"})]})};i.defaultProps={},t.a=i},633:function(e,t,a){"use strict";var n=a(26),c=a(1),r=a(160),s=a(0),l=function(e){var t=e.defaultRecordsPerPage,a=e.onSearchChange,l=e.onDropDownChange,i=e.onDismissSearch,o=Object(c.useState)(!1),d=Object(n.a)(o,2),u=d[0],b=d[1],j=Object(c.useState)(""),m=Object(n.a)(j,2),p=m[0],h=m[1],f=Object(c.useState)(t),O=Object(n.a)(f,2),_=O[0],x=O[1],g=Object(c.useRef)(null),v=Array.from({length:10},(function(e,t){return++t})).map((function(e,a){return a>=0&&a<=2?e*t:a>=3&&a<=5?e*t*5:a>=6&&a<=9?e*t*10:null})),y=function(e){g.current&&!g.current.contains(e.target)&&b(!1)};Object(c.useEffect)((function(){return document.addEventListener("click",y,!0),function(){document.removeEventListener("click",y,!0)}}),[]);return Object(s.jsxs)("div",{className:"group-input",children:[Object(s.jsxs)("div",{className:"inputWrapper",children:[Object(s.jsx)("input",{onChange:function(e){return function(e){var t=e.target.value;a(t),h(t)}(e)},placeholder:"Search",type:"text",value:p,className:"join-input"}),p&&Object(s.jsx)(r.a,{onClick:function(){i(),h("")},className:"dismiss",entity:"&#215;"})]}),Object(s.jsxs)("div",{ref:g,onClick:function(){return b(!u)},title:"show ".concat(_," records per page"),className:"join-select",children:[Object(s.jsx)("div",{style:u?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:_}),Object(s.jsx)(r.a,{className:"icon up",entity:"&#9662;"})]})}),u&&Object(s.jsx)("ul",{children:v.map((function(e,t){return Object(s.jsx)("li",{onClick:function(){return x(t=e),void l(t);var t},children:e},t)}))})]})]})};l.defaultProps={property:"String name"},t.a=l},634:function(e,t,a){},641:function(e,t,a){},668:function(e,t){},670:function(e,t){},697:function(e,t){},699:function(e,t){},700:function(e,t){},705:function(e,t){},707:function(e,t){},726:function(e,t){},738:function(e,t){},741:function(e,t){},745:function(e,t,a){},839:function(e,t,a){"use strict";a.r(t);var n=a(70),c=a(26),r=a(59),s=a.n(r),l=a(1),i=a.n(l),o=a(50),d=a(25),u=a(28),b=Object(l.createContext)([{},function(){}]),j=a(45),m=a(422),p=(a(273),a(0)),h=Object(l.createContext)([{},function(){}]);var f=function(e){var t=e.config,a=Object(l.useState)({}),n=Object(c.a)(a,2),r=n[0],s=n[1],i=JSON.parse(localStorage.getItem("userData"))||{},o=function(e){s(Object(d.a)(Object(d.a)({},e),r))},u=function(e,t){s((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(j.a)({},e,t))}))};return Object(l.useEffect)((function(){o(JSON.parse(localStorage.getItem("userData"))),u("theme","")}),[]),Object(l.useEffect)((function(){u("theme",t.webTheme),u("type",i.type?i.type:"public")}),[t]),Object(p.jsxs)(h.Provider,{value:{userData:r,addUserData:o,updateUserData:u,removeUserData:function(e){var t=Object(d.a)({},r);e.forEach((function(e){delete t[e]})),s((function(e){return Object(d.a)({},t)}))},renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,r=e.icon,s=void 0===r?"fa fa-check-circle":r,l=e.message;return m.b[c](Object(p.jsx)("div",{children:Object(p.jsxs)("span",{children:[Object(p.jsx)("i",{className:s})," ",Object(p.jsx)("span",{dangerouslySetInnerHTML:{__html:l}})]})}),{autoClose:a})}},children:[Object(p.jsx)(m.a,{className:"bniToaster"}),Object.keys(r).length>0&&e.children]})},O=["component"],_=function(e){var t=e.component,a=Object(u.a)(e,O);return Object(p.jsx)(b.Consumer,{children:function(e){return Object(p.jsx)(h.Consumer,{children:function(e){return Object(p.jsx)(o.b,Object(d.a)(Object(d.a)({},a),{},{render:function(n){return a.accessGiven.includes(e.userData.type)?Object(p.jsx)(t,Object(d.a)({},n)):Object(p.jsx)(o.a,{to:{pathname:"error",state:{from:n.location}}})}}))}})}})},x=a(88);var g=function(){var e=Object(l.useContext)(b),t=Object(c.a)(e,1)[0];return Object(p.jsx)("div",{className:"pt-5",children:Object(p.jsx)("div",{className:"pt-5",children:Object(p.jsxs)("div",{className:"pt-5 text-center",children:[Object(p.jsx)("h1",{className:"",children:"Oops!"}),Object(p.jsx)("h1",{className:"text-danger",children:"404"}),Object(p.jsx)("div",{className:"",children:"Sorry, your requested page cannot be found!"}),Object(p.jsx)("hr",{className:"hr"}),Object(p.jsxs)("div",{className:"py-2",children:[Object(p.jsxs)(x.a,{to:"/",className:"btn btn-secondary me-2",children:[Object(p.jsx)("i",{className:"fa fa-home"})," Home"]}),Object(p.jsxs)("a",{rel:"noopener noreferrer",href:"mailto:".concat(t.email),className:"btn btn-secondary",children:[Object(p.jsx)("i",{className:"fa fa-envelope"})," Support"]})]})]})})})},v=Object(o.g)((function(e){var t=Object(l.useContext)(h).userData.menu;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(o.d,{children:[t.length>0&&t.map((function(e,t){return Object(p.jsx)(_,{accessGiven:e.hasAccessTo,exact:!0,path:e.href,component:e.component},t)})),Object(p.jsx)(o.b,{path:"*",component:g})]})})})),y=a(843),N=a(4),D=a(5),w=a(821),S=a(838),T=a(519),k=a(824),P=a(826),C=a(195),E=a.n(C),M=["aws_s3_access_key_id","aws_s3_region","aws_s3_secret_access_key","google_map_api_key","google_login_auth_token"],A="web",I=function(){function e(t){var a=this;Object(N.a)(this,e),this.uploadFile=function(e){return new k.a({client:new w.a(a.config),leavePartsOnError:!1,params:Object(d.a)(Object(d.a)({},e),{},{Bucket:a.Bucket})})},this.deleteFile=function(){var e=Object(n.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)({Bucket:a.Bucket},Object.keys(t).length>0&&Object(d.a)({},t)),c=new S.a(a.config).deleteObject(n),e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteFolder=function(){var e=Object(n.a)(s.a.mark((function e(t,n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={Bucket:a.Bucket,Prefix:t},new S.a(a.config).listObjects(c,(function(e,t){if(e)return n({status:"fail"});0===t.Contents.length&&n({status:"success"}),(c={Bucket:a.Bucket}).Delete={Objects:[]},t.Contents.forEach((function(e){c.Delete.Objects.push({Key:e.Key})})),new S.a(a.config).deleteObjects(c,(function(e,t){if(e)return n({status:"fail"});t.IsTruncated?a.self.deleteFolder(a.Bucket,n):n({status:"success"})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.renameFile=function(){var e=Object(n.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.Bucket,e.abrupt("return",new S.a(a.config).copyObject({Bucket:n,CopySource:"".concat(n,"/").concat(t.oldKey),Key:t.newKey},(function(){new S.a(a.config).deleteObject({Bucket:n,Key:t.oldKey})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renameFolder=function(){var e=Object(n.a)(s.a.mark((function e(t){var c,r,l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.Bucket,r="".concat(t.oldKey,"/"),l="".concat(t.newKey),e.prev=3,e.next=6,new S.a(a.self.config).listObjects({Bucket:c,Prefix:r});case 6:return i=e.sent,o=i.Contents,d=i.Prefix,e.next=11,Promise.all(o.map(function(){var e=Object(n.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Bucket:c,CopySource:"".concat(c,"/").concat(t.Key),Key:"".concat(l,"/").concat(t.Key.replace(d,""))},e.next=3,new S.a(a.self.config).copyObject(n);case 3:return r={Bucket:c,Key:t.Key},e.next=6,new S.a(a.self.config).deleteObject(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),this.getSignedUrl=function(){var e=Object(n.a)(s.a.mark((function e(t){var n,c,r,l,i,o,d=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:86400,c=d.length>2?d[2]:void 0,r={Bucket:c,Key:t,expiresIn:n},l=new w.a(a.config),i=new T.a(r),e.next=7,Object(P.a)(l,i,{expiresIn:n});case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.downloadToBrowser=function(e){var t=e.split("/"),n=t[t.length-1],c=t[0],r=e.split("/").slice(1,e.split("/").length).join("/");a.getSignedUrl(r,86400,c).then((function(e){var t=document.createElement("a");t.setAttribute("target","_blank"),t.setAttribute("href",e),t.setAttribute("download",n),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},this.Bucket=t.aws_s3_bucket,this.config={region:E.a.AES.decrypt(t.aws_s3_region,t.web).toString(E.a.enc.Utf8),credentials:{accessKeyId:E.a.AES.decrypt(t.aws_s3_access_key_id,t.web).toString(E.a.enc.Utf8),secretAccessKey:E.a.AES.decrypt(t.aws_s3_secret_access_key,t.web).toString(E.a.enc.Utf8)}},this.self=this}return Object(D.a)(e,[{key:"getBuckeName",value:function(){return this.Bucket}},{key:"fetchFileFolder",value:function(e){var t=Object(d.a)({Bucket:this.Bucket},Object.keys(e).length>0&&Object(d.a)({},e));return new S.a(this.config).listObjects(t)}}]),e}(),R=a(520),B=a.p+"static/media/ban.1c05a6c5.svg",L=a(303),Y=function(e){var t=e.videoRoot,a=e.style,n=e.className,c=e.optionalAttr;return Object(p.jsxs)("video",Object(d.a)(Object(d.a)({style:a,className:n},c),{},{children:[Object(p.jsx)("source",{src:t,type:"video/mp4"}),Object(p.jsx)("source",{src:t,type:"video/mov"}),Object(p.jsx)("source",{src:t,type:"video/webm"})]}))};var U=function(e){var t=e.className,a=e.style,n=e.appData,r=e.unsignedUrl,s=e.type,i=e.expiry,o=e.optionalAttr,u=e.customRef,b=Object(l.useState)(""),j=Object(c.a)(b,2),m=j[0],h=j[1];return Object(l.useEffect)((function(){if(Object.keys(n).length>0){h("");!function(e){var t=r?r.split("/"):["/"],a=t[0],n=t.slice(1,t.length).join("/");new I(e).getSignedUrl(n,i,a).then((function(e){if("image"===s){var t=new Image;t.src=e,t.onerror=function(e){h(B)},t.onload=function(t){h(e)}}h(e)})).catch((function(){return h(B)}))}(n)}}),[n,i,s,r]),function(){switch(s){case"image":return Object(l.createElement)(R.LazyLoadImage,Object(d.a)(Object(d.a)({},o),{},{className:t,placeholderSrc:L.default,src:m,alt:m,key:1,style:a}));case"video":return m&&Object(p.jsx)(Y,Object(d.a)(Object(d.a)({ref:u,optionalAttr:o,style:a},t&&{className:t}),{},{videoRoot:m}));case"audio":return Object(p.jsx)("audio",Object(d.a)({className:t,ref:u,src:m,style:a},o));default:return Object(p.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:m,children:e.children})}}()},F=function(e){var t=Object(l.useContext)(h),a=e.onNavBarToggle,n=e.navBarExpanded,c=e.appData,r=t.userData.menu;return Object(p.jsx)("div",{className:"mobile-menu",children:Object(p.jsxs)(y.a,{style:{top:"50px"},className:"py-0 ps-2 pe-3 ".concat("dark"===t.userData.theme?"bg-dark":"bg-light"),fixed:"top",onToggle:a,expanded:n,expand:"lg",children:[Object(p.jsx)(y.a.Brand,{className:"navbar-brand pt-2",children:Object(p.jsx)(U,{type:"image",appData:c,unsignedUrl:c.logoImg,className:"img-fluid",optionalAttr:{width:"40",height:"40"}})}),Object(p.jsx)(y.a.Toggle,{style:{boxShadow:"none"},className:"p-0 pe-1 fs-2 btn text-secondary border-1","aria-controls":"basic-navbar-nav",bsPrefix:"navbar-toggle",children:Object(p.jsx)("i",{className:"fa fa-bars icon-bni"})}),Object(p.jsx)(y.a.Collapse,{children:Object(p.jsx)("ul",{className:"header-menu",children:r.map((function(e,n){return Object(p.jsx)("li",{children:Object(p.jsx)(x.a,{className:"dark"===t.userData.theme?"link-light":"link-dark",onClick:a,to:e.href,children:e.label})},n)}))})})]})})};F.defaultProps={property:"String name"};var K=F,W=function(e){var t=e.appData,a=Object(l.useContext)(h),n=a.userData.menu;return Object(p.jsx)("header",{className:"vertical-header ".concat(t.webLayoutType),children:Object(p.jsx)("div",{className:"vertical-header-wrapper ".concat(t.webMenuType),children:Object(p.jsxs)("nav",{className:"nav-menu ".concat(t.webMenuType," ").concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark":"bg-light"),children:[Object(p.jsx)("div",{className:"nav-header",children:Object(p.jsx)("span",{className:"",children:Object(p.jsx)(U,{type:"image",appData:t,unsignedUrl:t.logoImg,className:"brand img-fluid",optionalAttr:{width:"40",height:"40"}})})}),Object(p.jsx)("ul",{className:"header-menu ".concat(t.webMenuType),children:n.map((function(e,t){return Object(p.jsx)("li",{children:Object(p.jsx)(x.a,{className:"dark"===a.userData.theme?"text-white-50":"text-black",to:e.href,children:e.label})},t)}))})]})})})};W.defaultProps={property:"String name"};var q=W,H=a(270),V=Object(H.a)(),z=a(51),G=a.n(z),J=a(43),$=a(35),Z=a(309),X=a.n(Z),Q=function(e){var t=e.chartData,a=e.onMonthYearSelected,n=Object(l.useState)([]),r=Object(c.a)(n,2),s=r[0],i=r[1],o=Object(l.useState)(""),d=Object(c.a)(o,2),u=d[0],b=d[1],j=Object(l.useState)(!1),m=Object(c.a)(j,2)[1];Object(l.useEffect)((function(){var e=t.map((function(e){return String(e.dated)}));e=Object($.a)(new Set(e));var n=function(e){var t=e.category,a=e.total;return{month:e.dated,label:t,value:Number(a),isEmpty:Number(a)<=0}},c=e.map((function(e){var a=t.filter((function(t){return String(t.dated)===String(e)&&"Dr"===t.type})).map((function(e){return n(e)}));a=0===a.length?[n({category:"No Data",total:0,dated:null})]:a;var c=t.filter((function(t){return String(t.dated)===String(e)&&"Cr"===t.type})).map((function(e){return n(e)}));return c=0===c.length?[n({category:"No Data",total:0,dated:null})]:c,{month:e,cData:a,creditData:c}}));i(c),c.length>0?(b(c[0].month),a(c[0].month)):m(!0)}),[t]);var h=J.a.donutChartColors;return Object(p.jsx)(p.Fragment,{children:s.length>0?Object(p.jsx)("div",{className:"d-flex align-items-center pt-2",children:s.map((function(e,t){return Object(p.jsxs)("div",{className:"chartWrapper",children:[Object(p.jsx)("div",{className:"text-center pt-10 pb-10",children:Object(p.jsx)("button",{className:"btn btn-sm btn-bni ".concat(String(u)===String(e.month)?"bg-dark text-light":""),onClick:function(){b(e.month),a(e.month)},children:e.month})}),Object(p.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&Object(p.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:"Expense"}),Object(p.jsx)(X.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:h,height:220,width:220,legend:!1,data:e.cData,formatValues:function(e,t){return"".concat(J.a.countryCurrencyLacSeperator("en-IN","INR",e,2))}})]}),Object(p.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&Object(p.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:"Income"}),Object(p.jsx)(X.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:h,height:220,width:220,legend:!1,data:e.creditData,formatValues:function(e,t){return"".concat(J.a.countryCurrencyLacSeperator("en-IN","INR",e,2))}})]})]},function(e){return"chart-".concat(e)}(t))}))}):Object(p.jsx)("div",{className:"py-3 text-center",children:"No Records Generated"})})};Q.defaultProps={chartData:[]};var ee=Q,te=function(e){var t=e.ccChartData,a=e.onCcMonthYearSelected,n=e.ccDetails,r=e.ccYearSelected,s=e.ccMonthYearSelected,i=Object(l.useState)([]),o=Object(c.a)(i,2),d=o[0],u=o[1],b=Object(l.useState)(s),j=Object(c.a)(b,2),m=j[0],h=j[1];Object(l.useEffect)((function(){if(t.length>0){var e=Array.from({length:12},(function(e,t){return++t})).map((function(e){var a=J.a.addMonths(new Date("".concat(r-1,"-11-").concat(n.credit_card_start_date)),e),c=J.a.addMonths(new Date("".concat(r-1,"-12-").concat(n.credit_card_end_date)),e);return t.filter((function(e){var t=new Date(e.month);return t>=a&&t<=c})).reduce((function(t,a){var n=new Date(r,e-1,1);return{month:J.a.dateToMonthYear(n),cData:[{label:"".concat(t.cData[0].value+Number(a.ob)>0?"Opening Balance":"(Opening Balance)"),value:Math.abs(t.cData[0].value+Number(a.ob))},{label:"".concat(t.cData[1].value+Number(a.paid)>0?"Paid":"(Paid)"),value:Math.abs(t.cData[1].value+Number(a.paid))},{label:"".concat(t.cData[2].value+Number(a.purchases)>0?"Purchases":"(Purchases)"),value:Math.abs(t.cData[2].value+Number(a.purchases))},{label:"".concat(t.cData[3].value+Number(a.taxesInterest)>0?"Taxes & Interest":"(Taxes & Interest)"),value:Math.abs(t.cData[3].value+Number(a.taxesInterest))},{label:"".concat(t.cData[4].value+Number(a.balance)>0?"Balance":"(Balance)"),value:Math.abs(t.cData[4].value+Number(a.balance))}]}}),{cData:[{label:"Opening Balance",value:0},{label:"Paid",value:0},{label:"Purchases",value:0},{label:"Taxes & Interest",value:0},{label:"Balance",value:0}]})})).filter((function(e){return e.month})).reverse();u(e)}}),[t,n,r,a,m]);var f=J.a.donutChartColors;return Object(p.jsx)(p.Fragment,{children:d&&d.length>0&&d.map((function(e,t){return Object(p.jsxs)("div",{className:"chartWrapper",children:[Object(p.jsx)("div",{className:"text-center pt-10",children:Object(p.jsx)("button",{className:"btn btn-sm btn-bni ".concat(String(m)===String(e.month)?"bg-dark text-light":""),onClick:function(){h(e.month),a(e.month)},children:e.month})}),Object(p.jsx)(X.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:f,height:220,width:220,legend:!1,data:e.cData,formatValues:function(e){return J.a.countryCurrencyLacSeperator("en-IN","INR",e,2)}})]},function(e){return"chart-".concat(e)}(t))}))})};te.defaultProps={property:"String name"};var ae=te,ne=[{id:22,Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_ifsc_code","bank_card_no","bank_card_validity","isPrimaryAccount"],TableAliasRows:["","Name","Account Number","IFSC Code","Card Number","Validity","Primary Account"],rowElements:["checkbox","textbox","textbox","textbox","textbox","textbox",{radio:{radioList:[{label:"Yes",value:"1",checked:!1},{label:"No",value:"0",checked:!0}]}}],defaultValues:[{isPrimaryAccount:"0"}]},{id:23,Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date"],TableAliasRows:["","Name","Number","Start Date","End Date","Payment Date"],rowElements:["checkbox","textbox","textbox","number","number","number"]},{id:25,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name"],TableAliasRows:["","Name"],rowElements:["checkbox","textbox"]},{id:"24A",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type"],TableAliasRows:["","Name","Amount","Type"],showTotal:[{whichKey:"temp_amount",forKey:"temp_inc_exp_type",forCondition:"equals",forValue:["Cr","Dr"],showDifference:{indexes:[0,1],showStability:!1}}],rowElements:["checkbox","textbox","number",{radio:{radioList:[{label:"Credit",value:"Cr",checked:!1},{label:"Debit",value:"Dr",checked:!0}]}}]}],ce=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:["id","Transaction","Amount","Plan","Type","Date","Category","Bank","Comments"],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:J.a.dateToYYYYMMDD(new Date)}],showTotal:[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:["Cr","Dr"],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:["Cr","Dr"],showDifference:{indexes:[0,1],showStability:!0}}],rowKeyUp:"",rowElements:["checkbox","textbox","number","number",{radio:{radioList:[{label:"Credit",value:"Cr",checked:!1},{label:"Debit",value:"Dr",checked:!0}]}},"date",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],re=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_comments"],TableAliasRows:["","Transaction","Date","Opening","Credits","Purchases","Interest","Balance","Card","Category","Comments"],showTotal:["cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance"],rowKeyUp:"cc_expected_balance=((Number(row.cc_opening_balance) - Number(row.cc_payment_credits)) + (Number(row.cc_purchases) + Number(row.cc_taxes_interest))).toFixed(2)",rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},"textbox"],defaultValues:[{cc_date:J.a.dateToYYYYMMDD(new Date)},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0}],showTooltipFor:["cc_transaction","cc_comments"]}],se=[{id:"config_id",index:"config_id",elementType:"hidden",value:"",className:""},{id:"web",index:"web",label:"Website",elementType:"text",value:"",placeHolder:"JohnDoe.com",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Enter a valid website",help:["Your web domain","This value will be set to your global variables, which can be accessed accross application"]}},{id:"email",index:"email",label:"Email",elementType:"text",value:"",placeHolder:"support@JohnDoe.com",className:"col-md-4 col-sm-6",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:"Enter a valid email",help:["Your personal or company mail id, which will be exposed to public.","This value will be set to your global variables, which can be accessed accross application"]}},{id:"google_map_api_key",index:"google_map_api_key",label:"Google Map API Key",elementType:"textArea",value:"",placeHolder:"xxYYzz",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"API key required",help:["How to get them?","Go to https://console.cloud.google.com/","Scroll and click Google Maps Platform","Click Credentials","Click +Create Credentials at the top center","Click API Key","Copy the generated key","Paste here and save","You are done. This helps to integrate google maps in your website"]}},{id:"google_login_auth_token",index:"google_login_auth_token",label:"Google Login Auth Token",elementType:"textArea",value:"",placeHolder:"xxYYzz",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Auth token required",help:["How to get them?","Go to https://console.cloud.google.com/","Click API Services","Click Credentials","Click +Create Credentials at the top center","Click Oauth Client Id","Select Web Application, give a suitable name","Click Add URI and type your domain URL.","Click Create","Copy Client ID","Paste here.","You're done.","Now you allow public to login via google login"],rowLength:4}},{id:"bgSong",index:"bgSong",label:"Theme Background Music",elementType:"textArea",value:"",placeHolder:"https://mysong.mp3",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Audio file name required",help:["Choose your theme song playable for people","If not required, leave a slash(/)","If required, Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."],rowLength:4}},{id:"bgSongDefaultPlay",index:"bgSongDefaultPlay",label:"Theme Music Default Play",elementType:"dropDown",value:"",placeHolder:"Select",list:[{label:"True",value:1},{label:"False",value:0}],className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Theme Background Music will be played or not played during start up","If required, Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."]}},{id:"switchSongFeatureRequired",index:"switchSongFeatureRequired",label:"Require background song switch?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide audio control switch to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}},{id:"bgVideo",index:"bgVideo",label:"Theme Background Video",elementType:"textArea",value:"",placeHolder:"https://my-video.mp4",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Video file name required",help:["Choose your theme video which plays in background","Dont worry.. It will be muted","Keep a small video. Check file size not exceeds 5MB","Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."],rowLength:4}},{id:"bgVideoDefaultPlay",index:"bgVideoDefaultPlay",label:"Theme Video Default Play",elementType:"dropDown",value:"",placeHolder:"Select",list:[{label:"True",value:1},{label:"False",value:0}],className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Theme Background Video will be played or not played on start up"]}},{id:"switchVideoFeatureRequired",index:"switchVideoFeatureRequired",label:"Require background video switch?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide video control switch to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}},{id:"bannerImg",index:"bannerImg",label:"Logo Image",elementType:"textArea",value:"",placeHolder:"https://my-banner-img.svg",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Image name required",help:["Set your logo image","PNG or SVG type is recommended","200 X 40 dimension required","Paste it from AWS gallery (copy to clipboard button), where your media files are located","This will be available in top global header","Note: Supports only AWS objects. Other sources not allowed."],rowLength:4}},{id:"logoImg",index:"logoImg",label:"Logo Icon",elementType:"textArea",value:"",placeHolder:"https://my-logo.svg",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"File name required",help:["Set your logo icon","PNG or SVG type is recommended","Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."],rowLength:4}},{id:"favIconImg",index:"favIconImg",label:"favicon Image",elementType:"textArea",value:"",placeHolder:"https://my-favicon.icon",className:"col-md-4 col-sm-6",options:{required:!0,validation:/$/,errorMsg:"File name required",help:["Set your favicon. Usually it shud be your logo","32X32 or 64X64 size is sufficient","Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."],rowLength:4}},{id:"webLayoutType",index:"webLayoutType",label:"Web Layout Type",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Default",value:"default"},{label:"Classic",value:"classic"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["This setup is only for large displays","Default: Occupies entire width of screen","Classic: Occupiess 70% width in screen middle"]}},{id:"webMenuType",index:"webMenuType",label:"Web Menu Type",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Top",value:"topMenu"},{label:"Left",value:"sideMenuLeft"},{label:"Right",value:"sideMenuRight"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Where you want to place your menu?","Top, Left or Right"]}},{id:"webTheme",index:"webTheme",label:"Web Theme",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Dark",value:"dark"},{label:"Light",value:"light"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["How does your website look on start up?","Dark or Light"]}},{id:"switchThemeFeatureRequired",index:"switchThemeFeatureRequired",label:"Require Theme Switch?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide theme buttons to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}},{id:"webThemeColor",index:"webThemeColor",label:"Web Theme Color",elementType:"text",value:"",placeHolder:"#000000",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"A valid color is required",help:["Your application text color","Usualy its #000000 (black)","This decides the look and feel of your application, unless you use these color variables"]}},{id:"webThemeBackground",index:"webThemeBackground",label:"Web Theme Background Color",elementType:"text",value:"",placeHolder:"#c2d82e",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"A valid color is required",help:["Your application back ground color","It should be a light color, say #ffffff (white)","This decides the look and feel of your application, unless you use these color variables"]}},{id:"aws_s3_access_key_id",index:"aws_s3_access_key_id",label:"AWS S3 Access Key ID",elementType:"textArea",value:"",placeHolder:"XXXyyyZZZ",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Access key id is required",help:["How to get them?","Hope you have created an AWS S3 account","Follow these steps in https://s3.console.aws.amazon.com/","You'll see this key while adding user in create user section","You need to copy, paste it in your backup during user credentials. Else you cant retrieve","This configuration is important to maintain your images and other files",'Important: You should set "AdministratorAccess" in permissions (Attach existing policies directly), else the AWS gallery module wont work'],rowLength:4}},{id:"aws_s3_secret_access_key",index:"aws_s3_secret_access_key",label:"AWS S3 Secret Access Key",elementType:"textArea",value:"",placeHolder:"XXXyyyZZZ",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Secret Access key is required",help:["Follow the same steps described in AWS S3 Access Key ID"],rowLength:4}},{id:"aws_s3_bucket",index:"aws_s3_bucket",label:"AWS S3 Bucket Name",elementType:"text",value:"",placeHolder:"My-S3-Bucket",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Bucket name is required",help:["How to get them?","Hope you have created an AWS S3 account","Follow these steps in https://s3.console.aws.amazon.com/","Create bucket name in Buckets section","Once created, click the bucket name","Go to Permissions tab",'Check "Block public access" is On','Goto "Bucket policy", Edit and replace the below code with your credentials','{\n\t\t\t\t\t"Version": "2012-10-17",\n\t\t\t\t\t"Statement": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"Sid": "Statement1",\n\t\t\t\t\t\t\t"Effect": "Allow",\n\t\t\t\t\t\t\t"Principal": {\n\t\t\t\t\t\t\t\t"AWS": "arn:aws:iam::12345678:user/xxxyyyzzz"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t"Action": [\n\t\t\t\t\t\t\t\t"s3:PutObject",\n\t\t\t\t\t\t\t\t"s3:PutObjectAcl",\n\t\t\t\t\t\t\t\t"s3:DeleteObject"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t"Resource": "arn:aws:s3:::yourbucketname/*"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}',"Go to Cross-origin resource sharing (CORS)","Edit and replace the below code with your credentials",'[\n\t\t\t\t\t{\n\t\t\t\t\t\t"AllowedHeaders": [\n\t\t\t\t\t\t\t"*"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t"AllowedMethods": [\n\t\t\t\t\t\t\t"GET",\n\t\t\t\t\t\t\t"PUT",\n\t\t\t\t\t\t\t"POST",\n\t\t\t\t\t\t\t"DELETE"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t"AllowedOrigins": [\n\t\t\t\t\t\t\t"https://yourwebsite.com"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t"ExposeHeaders": [\n\t\t\t\t\t\t\t"ETag"\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]',"You are done. Enjoy AWS S3."]}},{id:"aws_s3_region",index:"aws_s3_region",label:"AWS S3 Region Name",elementType:"text",value:"",placeHolder:"xx-south-yy",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Region name is required",help:["How to get them?","Hope you have created an AWS S3 account","The region name that you've selected in creating bucket section","This helps to fetch files from your nearest AWS sever region","This configuration is important to maintain your images and other files"]}},{id:"social_media_facebook",index:"social_media_facebook",label:"Facebook",elementType:"textArea",value:"",placeHolder:"https://facebook.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,errorMsg:"Facebook profile name is required",help:["Individual or company facebook profile"]}},{id:"social_media_twitter",index:"social_media_twitter",label:"Twitter",elementType:"textArea",value:"",placeHolder:"https://twitter.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,errorMsg:"Twitter profile name is required",help:["Individual or company twitter profile"]}},{id:"social_media_linkedIn",index:"social_media_linkedIn",label:"LinkedIn",elementType:"textArea",value:"",placeHolder:"https://linkedIn.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,errorMsg:"LinkedIn profile name is required",help:["Individual or company LinkedId profile"]}},{id:"social_media_instagram",index:"social_media_instagram",label:"Instagram",elementType:"textArea",value:"",placeHolder:"https://instagram.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,errorMsg:"Instagram profile name is required",help:["Individual or company Instagram profile"]}},{id:"switchSocialMediaFeatureRequired",index:"switchSocialMediaFeatureRequired",label:"Require Social Media Links?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide social media icon links to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}}],le=[{id:0,label:"Google & Geo",icon:"fa fa-google",filterArray:["google_map_api_key","google_login_auth_token"]},{id:1,label:"Web Defaults",icon:"fa fa-globe",filterArray:["web","email","bgSong","bgSongDefaultPlay","switchSongFeatureRequired","bgVideo","bgVideoDefaultPlay","switchVideoFeatureRequired","bannerImg","logoImg","favIconImg","webLayoutType","webMenuType","webTheme","switchThemeFeatureRequired","webThemeColor","webThemeBackground"]},{id:2,label:"AWS",icon:"fa fa-amazon",filterArray:["aws_s3_access_key_id","aws_s3_secret_access_key","aws_s3_bucket","aws_s3_region"]},{id:3,label:"Social Media",icon:"fa fa-share-square",filterArray:["social_media_facebook","social_media_twitter","social_media_linkedIn","social_media_instagram","switchSocialMediaFeatureRequired"]}],ie=[{id:"user_id",index:"user_id",elementType:"hidden",value:"",className:""},{id:"user_name",index:"user_name",label:"User name",elementType:"text",value:"",placeHolder:"User name",className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:"User name required",help:["Set unique user name.","This should not conflict other user names.","Min 4 letters","Max 20 letters","No special characters allowed"]}},{id:"user_display_name",index:"user_display_name",label:"User display name",elementType:"text",value:"",placeHolder:"User display name",className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:"Input does not match criteria",help:["Min 4 letters","Max 20 letters","No special characters allowed"]}},{id:"user_profile_name",index:"user_profile_name",label:"User profile name",elementType:"text",value:"",placeHolder:"User profile name",className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,50}$/g,errorMsg:"Input does not match criteria",help:["Min 4 letters","Max 50 letters","No special characters allowed"]}},{id:"user_password",index:"user_password",label:"Password",elementType:"text",value:"",placeHolder:"Password",className:"",options:{required:!0,validation:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_])(?=.{8,})/,errorMsg:"Password does not meet criteria",help:["Min 8 letters long","Atleast 1 Capital letter","Atleast 1 Special (!@#$%^&*_) character","Atleast 1 Number","All the above are required"]}},{id:"user_email",index:"user_email",label:"Email",elementType:"text",value:"",placeHolder:"Email",className:"",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:"Enter a valid email",help:["A valid email is required","Ex: abc@xyz.com"]}},{id:"user_type",index:"user_type",label:"User Type",elementType:"dropDown",value:"",placeHolder:"Select",className:"",list:[],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Super-admin: Has access to setings and build in applications","Admin: Has access only to maintain and design pages (CRUD operations)"]}},{id:"user_mobile",index:"user_mobile",label:"Mobile",elementType:"number",value:"",placeHolder:"Mobile number",className:"",options:{required:!0,validation:/^[0-9]{10}$/,errorMsg:"Enter a valid 10 digit mobile number",help:["A Valid 10 digit mobile number"]}},{id:"user_image_url",index:"user_image_url",label:"User image location",elementType:"text",value:"",placeHolder:"Image location",className:"",options:{help:["User image file location from your AWS S3 bucket","Copy this from AWS gallery grid (Copy to clip board) button","This image will be shown while user logs in"]}}],oe=a(159),de=a(53),ue=a(837),be=a(841),je=a(336),me=(a(637),a(842)),pe=["monthYearSelected","bankSelected","selectedPlan"],he=function(e){var t=e.monthYearSelected,a=e.bankSelected,n=e.selectedPlan,r=Object(u.a)(e,pe),s=Object(l.useContext)(h),i=Object(l.useState)([]),o=Object(c.a)(i,2),b=o[0],j=o[1],m=Object(l.useState)(!0),f=Object(c.a)(m,2),O=f[0],_=f[1];Object(l.useEffect)((function(){_(!0);var e=x();Promise.all([e]).then((function(e){var t=e[0];j(t),_(!1)}))}),[t,a,n]);var x=function(){var e=new FormData;return e.append("startDate",n.startDate),e.append("endDate",n.endDate),e.append("bankSelected",a),e.append("criteria",n.criteria),de.a.post("/account_planner/getPlanDetails",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))},g=function(e){var t=e.reduce((function(e,t){return e+t}),0);return J.a.countryCurrencyLacSeperator("en-IN","INR",t,2)},v=[],y=[],N=[];return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},r),{},{style:{zIndex:9999},children:[Object(p.jsx)(me.a.Header,{closeButton:!0,children:Object(p.jsxs)(me.a.Title,{children:[t," ",Object(p.jsx)("i",{className:"fa fa-angle-double-right"})," ",n.label]})}),Object(p.jsx)(me.a.Body,{className:"rounded-bottom ".concat("dark"===s.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(p.jsx)("div",{className:"table-responsive p-10",children:O?Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsx)("table",{className:"table ".concat("dark"===s.userData.theme?"text-light":"text-dark"),children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"#"}),Object(p.jsx)("th",{children:"Expenditure"}),Object(p.jsx)("th",{children:"Committed"}),Object(p.jsx)("th",{children:"Planned"}),Object(p.jsx)("th",{children:"Difference"})]}),b&&b.length>0?b.map((function(e,t){var a,n,c=(a=e.inc_exp_plan_amount,n=e.inc_exp_amount,Number(a)-Number(n));return v.push(Number(e.inc_exp_amount)),y.push(Number(e.inc_exp_plan_amount)),N.push(Number(e.inc_exp_plan_amount)-Number(e.inc_exp_amount)),Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[t+1,"."]}),Object(p.jsx)("td",{children:e.inc_exp_name}),Object(p.jsx)("td",{children:e.inc_exp_amount}),Object(p.jsx)("td",{children:e.inc_exp_plan_amount}),Object(p.jsx)("td",{className:"text-".concat(c>=0?"success":"danger"),children:c>=0?"+".concat(J.a.countryCurrencyLacSeperator("en-IN","INR",c,2)):"(".concat(J.a.countryCurrencyLacSeperator("en-IN","INR",c,2),")")})]},t)})):Object(p.jsx)("tr",{children:Object(p.jsx)("td",{className:"text-center py-3",colSpan:"5",children:"No records"})}),b&&b.length>0&&Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Total"}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{children:g(v)}),Object(p.jsx)("td",{children:g(y)}),Object(p.jsx)("td",{children:g(N)})]})]})})})})]}))};he.defaultProps={property:"String name"};var fe=he,Oe=["totals"],_e=function(e){var t=Object(l.useContext)(h),a=e.totals,n=Object(u.a)(e,Oe),r=Object(l.useState)(0),s=Object(c.a)(r,2),i=s[0],o=s[1],b=Object(l.useState)(0),j=Object(c.a)(b,2),m=j[0],f=j[1],O=Object(l.useState)(0),_=Object(c.a)(O,2),x=_[0],g=_[1],v=Object(l.useState)(0),y=Object(c.a)(v,2),N=y[0],D=y[1],w=Object(l.useState)(0),S=Object(c.a)(w,2),T=S[0],k=S[1],P=Object(l.useState)(0),C=Object(c.a)(P,2),E=C[0],M=C[1];Object(l.useEffect)((function(){if(a.length>0){var e=a.length>0&&a.filter((function(e){return"Balance"===e.label&&e.amount>0}));e=(e=e.length>0?e[0].amount:0).toFixed(2),e=Number(e),o(e)}}),[JSON.stringify(a)]),Object(l.useEffect)((function(){var e=Number(i).toFixed(2)-Number(m).toFixed(2)-Number(x).toFixed(2)-Number(N).toFixed(2);e=Number(e.toFixed(2)),k(e);var t=(Number(i)-e)/i;t=(t*=100)>100?100:t,t=isNaN(t)?100:t,M(t)}),[i,m,x,N]);var A=function(e){return{label:0===e?"Settled":e>0?"Behind":"Ahead",class:0===e?"text-success":e>0?"text-danger":"text-primary"}};return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},n),{},{style:{zIndex:9999},children:[Object(p.jsx)(me.a.Header,{closeButton:!0,children:Object(p.jsx)(me.a.Title,{children:"Tally your incomes to expenses"})}),Object(p.jsx)(me.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark":"bg-white"),children:Object(p.jsxs)("div",{className:"tallyModal text-dark",children:[Object(p.jsxs)("div",{className:"py-2 form-floating",children:[Object(p.jsx)("input",{id:"appplicationBalance",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Application balance",type:"number",className:"form-control"}),Object(p.jsx)("label",{htmlFor:"appplicationBalance",children:"Application balance"})]}),Object(p.jsxs)("div",{className:"py-2 form-floating",children:[Object(p.jsx)("input",{id:"bankBalance",value:m,onChange:function(e){return f(e.target.value)},type:"number",className:"form-control",placeholder:"Bank balance"}),Object(p.jsx)("label",{htmlFor:"bankBalance",children:"Bank balance"})]}),Object(p.jsxs)("div",{className:"py-2 form-floating",children:[Object(p.jsx)("input",{id:"unAccounted",value:x,onChange:function(e){return g(e.target.value)},type:"number",className:"form-control",placeholder:"Unaccounted"}),Object(p.jsx)("label",{htmlFor:"unAccounted",children:"Un-Accounted"})]}),Object(p.jsxs)("div",{className:"py-2 form-floating",children:[Object(p.jsx)("input",{id:"walletBalance",value:N,onChange:function(e){return D(e.target.value)},type:"number",className:"form-control",placeholder:"Wallet balance"}),Object(p.jsx)("label",{htmlFor:"walletBalance",children:"Wallet balance"})]}),Object(p.jsxs)("div",{className:"py-2",children:[Object(p.jsx)("div",{className:"text-center p-10",children:Object(p.jsxs)("h5",{className:A(T).class,children:[A(T).label,"\xa0",Object(p.jsx)("i",{className:"fa ".concat(100===E?"fa-check":"fa-times-circle")})]})}),Object(p.jsx)("div",{className:"text-center ".concat(A(T).class),children:J.a.countryCurrencyLacSeperator("en-IN","INR",T,2)})]}),Object(p.jsx)("div",{className:"custom-progress-bar ".concat(E<100?"danger":"success"),style:{width:"".concat(E,"%")}})]})})]}))};_e.defaultProps={property:"String name"};var xe=_e,ge=a(337),ve=["monthYearSelected","bankSelected"],ye=function(e,t){var a=Object(l.useContext)(Tt),r=e.monthYearSelected,i=e.bankSelected,o=Object(u.a)(e,ve),b=Object(l.useState)([]),j=Object(c.a)(b,2),m=j[0],h=j[1],f=Object(l.useState)([]),O=Object(c.a)(f,2),_=O[0],x=O[1],g=Object(l.useState)([]),v=Object(c.a)(g,2),y=v[0],N=v[1],D=Object(l.useState)([]),w=Object(c.a)(D,2),S=w[0],T=w[1],k=Object(l.useState)(!1),P=Object(c.a)(k,2),C=P[0],E=P[1],M=Object(l.useState)(!1),A=Object(c.a)(M,2),I=A[0],R=A[1],B=Object(l.useState)({}),L=Object(c.a)(B,2),Y=L[0],U=L[1],F=J.a.getNow();Object(l.useEffect)((function(){K()}),[r,i]);var K=function(){N([]);var e=r.split("-"),t=Object(c.a)(e,2),a=t[0],l=t[1],o=J.a.strToNumMonth[a],d=new Date(l,o,0).getDate(),u='inc_exp_date between "'.concat(l,"-").concat(o,'-01" and "').concat(l,"-").concat(o,"-").concat(d,'" and inc_exp_bank = ').concat(i),b=H(u),j=q("/account_planner/inc_exp_list"),m=q("/account_planner/bank_list");Promise.all([b,j,m]).then(function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h([]),N(t[0].data.response),ce[0].rowElements[6]=t[1],ce[0].rowElements[7]=t[2];case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},W=function(){K()};Object(l.useEffect)((function(){Z(y)}),[y]);var q=function(e){return de.a.get(e).then((function(e){return{fetch:{dropDownList:Object($.a)(e.data.response)}}})).catch((function(e){console.log(e)}))},H=function(e){var t=new FormData;return t.append("TableRows",ce[0].TableRows),t.append("Table",ce[0].Table),e&&t.append("WhereClause",e),de.a.post("/account_planner/getAccountPlanner",t)},V=function(e,t){return Object(p.jsx)(ue.a,Object(d.a)(Object(d.a)({id:"button-tooltip-1",className:"in show"},o),{},{children:t}))},z=function(){var e=de.a.get("/account_planner/getIncExpTemplate").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e]).then((function(e){var t=e[0].map((function(e){return{inc_exp_id:"",inc_exp_name:e.temp_inc_exp_name,inc_exp_amount:0,inc_exp_plan_amount:e.temp_amount,inc_exp_type:e.temp_inc_exp_type,inc_exp_date:J.a.getNextMonthFirst(),inc_exp_category:"",inc_exp_bank:"",inc_exp_comments:""}}));h(t)}))},Z=function(e){var t=e.map((function(e){return e.inc_exp_plan_amount=Number(e.inc_exp_plan_amount),e.inc_exp_amount=Number(e.inc_exp_amount),e})).reduce((function(e,t){"Cr"===t.inc_exp_type&&(e.incomeTotal+=t.inc_exp_amount),"Dr"===t.inc_exp_type&&(e.expenseTotal+=t.inc_exp_amount,e.planTotal+=t.inc_exp_plan_amount);var a=t.inc_exp_plan_amount/t.inc_exp_amount;a=Number((100*(a===1/0||isNaN(a)?0:a)).toFixed(2)),e.totalPlans.push(a);var n=Object(d.a)({percent:a},t);return 0===a&&e.noPlans.push(n),100===a&&e.achievedPlans.push(n),a>100&&e.goodPlans.push(n),a<100&&a>0&&e.badPlans.push(n),e}),{planTotal:0,expenseTotal:0,incomeTotal:0,totalPlans:[],goodPlans:[],badPlans:[],noPlans:[],achievedPlans:[]}),a=[{amount:t.incomeTotal,label:"Income",flagString:"success"},{amount:t.expenseTotal,label:"Expense",flagString:"info"},{amount:t.incomeTotal-t.expenseTotal,label:"Balance",flagString:"danger"},{amount:t.planTotal,label:"Planning",flagString:"warning"}];T(a);var n=[{key:"goodPlans",flagString:"success",planString:"Good plans",planArray:t.goodPlans},{key:"achievedPlans",flagString:"info",planString:"Achieved plans",planArray:t.achievedPlans},{key:"badPlans",flagString:"danger",planString:"Bad plans",planArray:t.badPlans},{key:"noPlans",flagString:"warning",planString:"No plans",planArray:t.noPlans}];x(n)},X=function(e){return e.reduce((function(e,t){return e+(t.inc_exp_plan_amount-t.inc_exp_amount)}),0)},Q=ce.map((function(e){return e.config={footer:{total:{locale:"en-IN",currency:"INR",maxDecimal:2,doubleEntryBalanceStrings:{zero:"Settled",plus:"Ahead",minus:"Bal"}},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},e}));return Object(p.jsxs)("div",{className:"settings",children:[C&&Object(p.jsx)(fe,{className:"planInfoModal",show:C,onHide:function(){return E(!1)},size:"lg",animation:!1,monthYearSelected:r,bankSelected:i,selectedPlan:Y}),I&&Object(p.jsx)(xe,{className:"planInfoModal",show:I,onHide:function(){return R(!1)},size:"sm",totals:S,animation:!1}),Object(p.jsx)("div",{className:"",children:r&&i&&y.length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"buttonGrid",children:r&&y&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h6",{children:r}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(be.a,{placement:"left",delay:{show:250,hide:400},overlay:V(0,"Clone template"),triggerType:"hover",children:Object(p.jsx)("i",{onClick:function(){return z()},className:"fa fa-copy roundedButton pull-right"})})}),Object(p.jsx)("div",{children:Object(p.jsx)(be.a,{placement:"top",delay:{show:250,hide:400},overlay:V(0,"Export PDF"),triggerType:"hover",children:Object(p.jsx)("i",{onClick:function(){return function(){var e=y.map((function(e,t){return[t+1,e.inc_exp_name,e.inc_exp_amount,e.inc_exp_plan_amount,e.inc_exp_type,e.inc_exp_date,e.inc_exp_comments]})),t=new je.default;t.text("".concat(J.a.stringToCapitalize(ce[0].Table)," (").concat(r,")"),15,10),t.autoTable({styles:{overflow:"linebreak"},theme:"grid",head:[["#","Transaction","Amount","Planned","Type","Date","Comments"]],body:Object($.a)(e)});var a=S.map((function(e){return J.a.lacSeperator(e.amount)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Income","Expense","Balance","Planning"]],body:[a]});var n=_.map((function(e){return J.a.lacSeperator(X(e.planArray))}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Good Plans","Achieved Plans","Bad Plans","No Plans"]],body:[n]}),t.save("".concat(ce[0].Table,"-").concat(F))}()},className:"fa fa-file-pdf-o roundedButton pull-right"})})}),Object(p.jsx)(ge.a,{datas:J.a.stripCommasInCSV(y),filename:"Income-Expense-".concat(F,".csv"),columns:[{displayName:"Transaction",id:"inc_exp_name"},{displayName:"Date",id:"inc_exp_date"},{displayName:"Type",id:"inc_exp_type"},{displayName:"Amount",id:"inc_exp_amount"}],children:Object(p.jsx)(be.a,{placement:"top",delay:{show:250,hide:400},overlay:V(0,"Export CSV"),triggerType:"hover",children:Object(p.jsx)("i",{className:"fa fa-file-excel-o roundedButton pull-right"})})}),Object(p.jsx)("div",{children:Object(p.jsx)(be.a,{placement:"top",delay:{show:250,hide:400},overlay:V(0,"Tally"),triggerType:"hover",children:Object(p.jsx)("i",{onClick:function(){return R(!0)},className:"fa fa-text-width roundedButton pull-right"})})})]})]})}),Q.sort((function(e,t){return e.id>t.id})).map((function(e,t){return Object(p.jsx)(oe.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,dbData:y,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,n=e.data;t?e&&n&&n.response?a.renderToast({message:"Transaction saved successfully"}):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"})}(e)},insertCloneData:m,showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onTableUpdate:function(e){Z(e)},onReFetchData:W,cellWidth:"12rem"},t)})),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"row",children:S.map((function(e){return Object(p.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"p-6 text-center",children:Object(p.jsx)("h5",{children:e.label})})}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"text-center text-".concat(e.flagString),children:J.a.countryCurrencyLacSeperator("en-IN","INR",e.amount,2)})})]})},e.label)}))}),Object(p.jsx)("div",{className:"row",children:_.map((function(e){return Object(p.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"p-6 text-center",children:Object(p.jsxs)("h5",{children:[e.planString,Object(p.jsx)("sup",{className:"superScript text-".concat(e.flagString),children:e.planArray.length})]})})}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"text-center text-".concat(e.flagString),children:Object(p.jsx)("button",{onClick:function(){return function(e){var t=r.split("-"),a=Object(c.a)(t,2),n=a[0],s=a[1],l=J.a.strToNumMonth[n],o=new Date(s,l,0).getDate(),u={startDate:"".concat(s,"-").concat(l,"-01"),endDate:"".concat(s,"-").concat(l,"-").concat(o),bankSelected:i};switch(e){case"goodPlans":u=Object(d.a)(Object(d.a)({},u),{},{label:"Good plans",criteria:"G100"});break;case"achievedPlans":u=Object(d.a)(Object(d.a)({},u),{},{label:"Achieved plans",criteria:"E100"});break;case"badPlans":u=Object(d.a)(Object(d.a)({},u),{},{label:"Bad plans",criteria:"0TO100"});break;case"noPlans":u=Object(d.a)(Object(d.a)({},u),{},{label:"No plans",criteria:"E0"})}E(!0),U(u)}(e.key)},className:"btn btn-sm btn-".concat(e.flagString),children:J.a.countryCurrencyLacSeperator("en-IN","INR",X(e.planArray),2)})})})]})},e.key)}))})]})]}):Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})})]})};ye.defaultProps={property:"String name"};var Ne=ye,De=a(840),we=function(e){var t=e.bankList,a=e.onSelectBank,n=e.title,r=Object(l.useState)(""),s=Object(c.a)(r,2),i=s[0],o=s[1];return Object(l.useEffect)((function(){t.length>0&&o(t[0].value)}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(De.a,{title:n,className:"d-grid",children:[Object(p.jsxs)(De.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(p.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(p.jsx)(De.a.Menu,{children:t.map((function(e,t){return Object(p.jsx)(De.a.Item,{onClick:function(t){o(e.value),a(e.id)},children:e.value},t)}))})]})})};we.defaultProps={property:"String name"};var Se=we,Te=function(e){var t=e.yearList,a=e.onSelectYear,n=e.title,r=Object(l.useState)(""),s=Object(c.a)(r,2),i=s[0],o=s[1];return Object(l.useEffect)((function(){t.length>0&&o(t[0].value)}),[t]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(De.a,{title:n,className:"d-grid",children:[Object(p.jsxs)(De.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(p.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(p.jsx)(De.a.Menu,{children:t.map((function(e,t){return Object(p.jsx)(De.a.Item,{onClick:function(){o(e.id),a(e.id)},children:e.value},t)}))})]})})};Te.defaultProps={property:"String name"};var ke=Te,Pe=function(e){var t=e.ccYearList,a=e.onSelectCcYear,n=e.title,r=Object(l.useState)(""),s=Object(c.a)(r,2),i=s[0],o=s[1];return Object(l.useEffect)((function(){t.length>0&&o(t[0].value)}),[t]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(De.a,{title:n,className:"d-grid",children:[Object(p.jsxs)(De.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(p.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(p.jsx)(De.a.Menu,{children:t&&t.length>0&&t.map((function(e,t){return Object(p.jsx)(De.a.Item,{onClick:function(){o(e.id),a(e.id)},children:e.value},t)}))})]})})};Pe.defaultProps={property:"String name"};var Ce=Pe,Ee=function(e){var t=e.ccBankList,a=e.onSelectCcBank,n=e.title,r=Object(l.useState)(""),s=Object(c.a)(r,2),i=s[0],o=s[1];return Object(l.useEffect)((function(){t.length>0&&o(t[0].value)}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(De.a,{title:n,className:"d-grid",children:[Object(p.jsxs)(De.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(p.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(p.jsx)(De.a.Menu,{children:t.map((function(e,t){return Object(p.jsx)(De.a.Item,{onClick:function(t){o(e.value),a(e.id)},children:e.value},t)}))})]})})};Ee.defaultProps={property:"String name"};var Me=Ee,Ae=a(343),Ie=a(844),Re=a(846),Be=function(){var e=Object(l.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(l.useState)([]),o=Object(c.a)(i,2),d=o[0],u=o[1],b=Object(l.useContext)(h),j=function(e,t){var a=new FormData;return a.append("TableRows",t),a.append("Table",e),de.a.post("/account_planner/getAccountPlanner",a)},m=function(){var e=Object(n.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u([]),a=j(t.Table,t.TableRows),Promise.all([a]).then(function(){var e=Object(n.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(a[0].data.response),r(t.label);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){return Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},O=ne.map((function(e){return e.config={footer:{total:{locale:"en-IN",currency:"INR",maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},e}));function _(e){var t=e.children,a=e.eventKey,n=e.object,c=Object(Ae.b)(a,(function(){return m(n)}));return Object(p.jsx)("button",{type:"button",className:"col-12 text-start btn ".concat("dark"===b.userData.theme?"btn-dark":"btn-white"),onClick:c,children:t})}return Object(p.jsx)("div",{className:"settings",children:Object(p.jsx)(Ie.a,{bsPrefix:"util",defaultActiveKey:1,className:"",children:O.sort((function(e,t){return e.id-t.id})).map((function(e,t){return Object(p.jsxs)(Re.a,{className:"my-2 ".concat("dark"===b.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:[Object(p.jsx)(Re.a.Header,{className:"row m-0",children:Object(p.jsx)(_,{eventKey:e.id,object:e,children:e.label})}),Object(p.jsx)(Ie.a.Collapse,{eventKey:e.id,children:Object(p.jsx)(Re.a.Body,{children:e.label===a&&d.length>0?Object(p.jsx)("div",{className:"pt-10",children:d.length>0?Object(p.jsx)(oe.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,showTotal:e.showTotal,rowElements:e.rowElements,dbData:d,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,a=e.data;t?e&&a&&a.response?b.renderToast({message:"Transaction saved successfully"}):b.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}):b.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"})}(e)},onReFetchData:function(){return m(e)},cellWidth:"12rem"},t):f()}):f()})})]},e.id)}))})})};Be.defaultProps={property:"String name"};var Le=Be,Ye=a(344),Ue=a.n(Ye),Fe=function(e){var t=e.onImport,a=Object(l.useContext)(h),n=Object(l.useState)([]),r=Object(c.a)(n,2),s=r[0],o=r[1],u=Object(l.useState)([]),b=Object(c.a)(u,2),j=b[0],m=b[1],f=Object(l.useState)(-1),O=Object(c.a)(f,2),_=O[0],x=O[1],g=Object(l.useState)(-1),v=Object(c.a)(g,2),y=v[0],N=v[1],D=Object(l.useState)(-1),w=Object(c.a)(D,2),S=w[0],T=w[1],k=Object(l.useState)(" "),P=Object(c.a)(k,2),C=P[0],E=P[1],M=[{label:"Transaction",type:"text",key:"cc_transaction"},{label:"Date",type:"dated",key:"cc_date"},{label:"Opening",type:"number",key:"cc_opening_balance"},{label:"Credits",type:"number",key:"cc_payment_credits"},{label:"Purchases",type:"number",key:"cc_purchases"},{label:"Interest",type:"number",key:"cc_taxes_interest"}],A=Object(l.useRef)(null),I="{--#newLine#--}";Object(l.useEffect)((function(){if(_>-1&&y>-1&&S>-1&&_!==y){var e=Object($.a)(s);e=e.map((function(e,t){return t===S&&e.length>1&&(e[_]=e[_]&&e[y]&&[].concat(Object($.a)(e[_]),Object($.a)(e[y])).join(""),e[y]=e[y]&&null),e})).map((function(e){return e.filter((function(e){return null!==e}))})),o(e),N(-1),T(-1),x(-1)}}),[_,y,S]);var R=function(e){e.preventDefault()},B=function(e,t,a){var n,c=JSON.parse(e.dataTransfer.getData("drag-item")),r=c.cell,s=c.i,l="";"dated"===t?(n=r,l=[Ue()(n,"YYYY/MMM/DD",!0).isValid()&&Ue()(n,"YYYY/MMM/DD").format("YYYY-MM-DD"),Ue()(n,"YYYY.MMM.DD",!0).isValid()&&Ue()(n,"YYYY.MMM.DD").format("YYYY-MM-DD"),Ue()(n,"YYYY-MMM-DD",!0).isValid()&&Ue()(n,"YYYY-MMM-DD").format("YYYY-MM-DD"),Ue()(n,"YYYY MMM DD",!0).isValid()&&Ue()(n,"YYYY MMM DD").format("YYYY-MM-DD"),Ue()(n,"YYYY/MM/DD",!0).isValid()&&Ue()(n,"YYYY/MM/DD").format("YYYY-MM-DD"),Ue()(n,"YYYY.MM.DD",!0).isValid()&&Ue()(n,"YYYY.MM.DD").format("YYYY-MM-DD"),Ue()(n,"YYYY-MM-DD",!0).isValid()&&Ue()(n,"YYYY-MM-DD").format("YYYY-MM-DD"),Ue()(n,"YYYY MM DD",!0).isValid()&&Ue()(n,"YYYY MM DD").format("YYYY-MM-DD"),Ue()(n,"DD/MM/YYYY",!0).isValid()&&Ue()(n,"DD/MM/YYYY").format("YYYY-MM-DD"),Ue()(n,"DD-MM-YYYY",!0).isValid()&&Ue()(n,"DD-MM-YYYY").format("YYYY-MM-DD"),Ue()(n,"DD.MM.YYYY",!0).isValid()&&Ue()(n,"DD.MM.YYYY").format("YYYY-MM-DD"),Ue()(n,"DD MM YYYY",!0).isValid()&&Ue()(n,"DD MM YYYY").format("YYYY-MM-DD"),Ue()(n,"DD/MMM/YYYY",!0).isValid()&&Ue()(n,"DD/MMM/YYYY").format("YYYY-MM-DD"),Ue()(n,"DD-MMM-YYYY",!0).isValid()&&Ue()(n,"DD-MMM-YYYY").format("YYYY-MM-DD"),Ue()(n,"DD.MMM.YYYY",!0).isValid()&&Ue()(n,"DD.MMM.YYYY").format("YYYY-MM-DD"),Ue()(n,"DD MMM YYYY",!0).isValid()&&Ue()(n,"DD MMM YYYY").format("YYYY-MM-DD"),Ue()(n,"DD/MMMM/YYYY",!0).isValid()&&Ue()(n,"DD/MMMM/YYYY").format("YYYY-MM-DD"),Ue()(n,"DD-MMMM-YYYY",!0).isValid()&&Ue()(n,"DD-MMMM-YYYY").format("YYYY-MM-DD"),Ue()(n,"DD.MMMM.YYYY",!0).isValid()&&Ue()(n,"DD.MMMM.YYYY").format("YYYY-MM-DD"),Ue()(n,"DD MMMM YYYY",!0).isValid()&&Ue()(n,"DD MMMM YYYY").format("YYYY-MM-DD")].filter((function(e){return!1!==e}))[0]||"Invalid Date"):"text"===t?l=r:"number"===t&&(r=r.replace(",",""),l=Number(r)||0),e.target.value=l,L(s,a,l)},L=function(e,t,a){var n=Object($.a)(j);n=n.map((function(n,c){return e===c&&(n[t]=a),n})),m(n)};return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},e),{},{style:{zIndex:9999},children:[Object(p.jsx)(me.a.Header,{closeButton:!0,children:Object(p.jsx)(me.a.Title,{children:"Import your credit card statement"})}),Object(p.jsx)(me.a.Body,{className:"rounded-bottom ".concat("dark"===a.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(p.jsxs)("div",{className:"creditCardModal",children:[s.length?Object(p.jsx)("div",{className:"table-responsive pb-3",children:Object(p.jsxs)("div",{className:"tableGrid",children:[M.map((function(e,t){return Object(p.jsx)("div",{className:"heading",children:e.label},t)})),s.map((function(e,t){return Object(p.jsxs)(i.a.Fragment,{children:[e.length>0&&Object(p.jsxs)("div",{className:"singleLines",children:[e.map((function(e,a){return Object(p.jsxs)("span",{id:a,draggable:"true",onDragStart:function(n){return function(e,t){x(Number(e.target.id)),e.dataTransfer.setData("drag-item",t)}(n,JSON.stringify({cell:e,i:t,j:a}))},onDrop:function(e){return function(e,t){var a=t.i;T(Number(a)),N(Number(e.target.id))}(e,{i:t,j:a})},onDragOver:function(e){return R(e)},className:"cell",children:[e,Object(p.jsx)("i",{onClick:function(){return function(e,t){var a=Object($.a)(s);a=a.map((function(a,n){return n===e?a.filter((function(e,a){return a!==t})):a})),o(a)}(t,a)},className:"fa fa-times-circle"})]},a)})),e.length>0&&Object(p.jsx)("span",{onClick:function(){return function(e){var t=Object($.a)(s);t=t.map((function(t,a){return a===e&&(t=[]),t})),o(t)}(t)},className:"cell danger",title:"Delete all?",children:Object(p.jsx)("i",{className:"fa fa-times"})})]}),M.map((function(e,a){return Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:e.type,onChange:function(a){return L(t,e.key,a.target.value)},onDragOver:function(e){return R(e)},onDrop:function(t){return B(t,e.type,e.key)},className:"input"})},a)}))]},t)}))]})}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"row separatorWrapper py-2",children:[Object(p.jsx)("div",{className:"col-md-9 col-7 pl-0",children:Object(p.jsxs)("label",{htmlFor:"paste",children:["Paste your statement here ",Object(p.jsx)("i",{className:"fa fa-level-down"})]})}),Object(p.jsx)("div",{className:"col-md-3 col-5 pr-0",children:Object(p.jsxs)("div",{className:"input-group input-group-sm",children:[Object(p.jsx)("span",{className:"input-group-text",children:"Seperator"}),Object(p.jsx)("input",{type:"text",defaultValue:C,onChange:function(e){return E(e.target.value)},className:"form-control"})]})})]}),Object(p.jsx)("textarea",{id:"paste",ref:A,className:"textArea"})]}),Object(p.jsxs)("div",{className:"text-end py-2",children:[s.length>0&&Object(p.jsxs)("button",{onClick:function(){return o([])},className:"btn btn-bni me-3",children:[Object(p.jsx)("i",{className:"fa fa-angle-double-left"})," Back"]}),s.length?Object(p.jsx)("button",{onClick:function(){return t(j)},className:"btn btn-bni",children:"Import"}):Object(p.jsx)("button",{onClick:function(){return function(){var e=A.current.value,t=(e=e.replace(/(\r\n|\n|\r)/gm,I).split(I).filter((function(e){return e})).map((function(e){return e.split(C)}))).map((function(){return{cc_comments:"",cc_date:"",cc_expected_balance:"",cc_for_card:"",cc_id:"",cc_opening_balance:"",cc_payment_credits:"",cc_purchases:"",cc_taxes_interest:"",cc_transaction:""}}));m(t),o(e)}()},className:"btn btn-bni",children:"Process"})]})]})})]}))};Fe.defaultProps={property:"String name"};var Ke=Fe,We=function(e){var t=Object(l.useContext)(Tt),a=e.ccMonthYearSelected,r=e.ccBankSelected,i=e.ccDetails,o=Object(l.useState)({}),u=Object(c.a)(o,2),b=u[0],j=u[1],m=Object(l.useState)(!1),h=Object(c.a)(m,2),f=h[0],O=h[1],_=Object(l.useState)([]),x=Object(c.a)(_,2),g=x[0],v=x[1],y=Object(l.useState)([]),N=Object(c.a)(y,2),D=N[0],w=N[1];Object(l.useEffect)((function(){S()}),[a,r,i]);var S=function(){var e=a.split("-"),t=Object(c.a)(e,2),l=t[0],o=t[1],d=J.a.strToNumMonth[l],u=Number(i.credit_card_start_date),b=Number(i.credit_card_end_date),m=new Date("".concat(Number(o),"-").concat(Number(d),"-").concat(b).replace(/-/g,"/")),p="".concat(m.getFullYear(),"-").concat(J.a.leadingZeros(m.getMonth()+1),"-").concat(J.a.leadingZeros(m.getDate())),h=m.setTime(m.getTime()-2592e6);h=new Date(h),h=new Date(h.setDate(u));var f="".concat(h.getFullYear(),"-").concat(J.a.leadingZeros(h.getMonth()+1),"-").concat(J.a.leadingZeros(h.getDate())),O='cc_date between "'.concat(f,'" and "').concat(p,'" and cc_for_card = ').concat(r);j({sDateStr:f,eDateStr:p}),v([]);var _=P(O),x=k("/account_planner/credit_card_list"),g=k("/account_planner/inc_exp_list");Promise.all([_,x,g]).then(function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w([]),v(t[0].data.response),re[0].rowElements[8]=t[1],re[0].rowElements[9]=t[2],re[0].rowElements[8].searchable=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},T=function(){S()},k=function(e){return de.a.get(e).then((function(e){return{fetch:{dropDownList:Object($.a)(e.data.response)}}})).catch((function(e){console.log(e)}))},P=function(e){var t=new FormData;return t.append("TableRows",re[0].TableRows),t.append("Table",re[0].Table),e&&t.append("WhereClause",e),de.a.post("/account_planner/getAccountPlanner",t)},C=Number(i.credit_card_payment_date);C=C<10?"0".concat(C):C,C=new Date("".concat(C,"-").concat(a));var E=[(C=J.a.addMonths(C,1)).getFullYear(),C.getMonth()+1,C.getDate()],M=E[0],A=E[1],I=E[2];A=A<10?"0".concat(A):A,I=I<10?"0".concat(I):I,C="".concat(M,"-").concat(A,"-").concat(I);var R=re.map((function(e){return e.config={footer:{total:{locale:"en-IN",currency:"INR",maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},e}));return Object(p.jsxs)("div",{className:"settings",children:[f&&Object(p.jsx)(Ke,{className:"creditCardModal",show:f,onHide:function(){return O(!1)},size:"xl",animation:!1,onImport:function(e){w(e),O(!1)}}),Object(p.jsxs)("div",{className:"",children:[a&&b&&i&&C&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"row mt-10",children:[Object(p.jsxs)("div",{className:"col-md-3 text-center",children:["For Month: ",a]}),Object(p.jsxs)("div",{className:"col-md-3 text-center",children:["For Card: ",i.credit_card_number]}),Object(p.jsxs)("div",{className:"col-md-3 text-center",children:["Cycle: ",b.sDateStr," to ",b.eDateStr]}),Object(p.jsxs)("div",{className:"col-md-3 text-center",children:["PayDate: ",C]})]}),Object(p.jsx)("div",{className:"row py-2",children:Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(be.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e,t){return Object(p.jsx)(ue.a,Object(d.a)(Object(d.a)({id:"button-tooltip-1",className:"in show"},e),{},{children:t}))}(e,"Import Statement"),triggerType:"hover",children:Object(p.jsx)("i",{onClick:function(){return O(!f)},className:"fa fa-upload roundedButton pull-right"})})})})]}),a&&r&&g.length>0?R.sort((function(e,t){return e.id>t.id})).map((function(e,a){return Object(p.jsx)(oe.a,{Table:e.Table,config:e.config,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,dbData:g,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var a=e.status,n=e.data;a?e&&n&&n.response?t.renderToast({message:"Transaction saved successfully"}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:T,insertCloneData:D,cellWidth:"12rem"},a)})):Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})]})};We.defaultProps={property:"String name"};var qe=We,He=a(331),Ve=a.n(He),ze=a(345),Ge=a.n(ze),Je=function(e){var t=Object(l.useContext)(Tt),a=Object(l.useState)(new Date),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(l.useState)(""),o=Object(c.a)(i,2),u=o[0],b=o[1],j=Object(l.useState)(""),m=Object(c.a)(j,2),h=m[0],f=m[1],O=Object(l.useState)("0"),_=Object(c.a)(O,2),x=_[0],g=_[1],v=Object(l.useState)(!0),y=Object(c.a)(v,2),N=y[0],D=y[1],w=Object(l.useState)(!0),S=Object(c.a)(w,2),T=S[0],k=S[1],P=Object(l.useState)([]),C=Object(c.a)(P,2),E=C[0],M=C[1],A=Object(l.useState)([]),I=Object(c.a)(A,2),R=I[0],B=I[1],L=Object(l.useState)(""),Y=Object(c.a)(L,2),U=Y[0],F=Y[1],K=Object(l.useState)([]),W=Object(c.a)(K,2),q=W[0],H=W[1],V=Object(l.useState)(""),z=Object(c.a)(V,2),$=z[0],Z=z[1],X=Object(l.useState)(""),Q=Object(c.a)(X,2),ee=Q[0],te=Q[1],ae=Object(l.useState)(""),ne=Object(c.a)(ae,2),ce=ne[0],re=ne[1],se=Object(l.useState)(""),le=Object(c.a)(se,2),ie=le[0],oe=le[1],ue=Object(l.useState)(!1),be=Object(c.a)(ue,2),je=be[0],pe=be[1],he="&Lang;",fe=[1,2,3,4,5,6,7,8,9,he,0,".","C"];Object(l.useEffect)((function(){var e=de.a.get("/account_planner/bank_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),t=de.a.get("/account_planner/inc_exp_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),a=de.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e,t,a]).then((function(e){M(e[0]),F(e[0][0].id),H(e[1]),Z(e[1][0].id),te(e[1][0].value),B(e[2]),re(e[2][0].id),oe(e[2][0].value)}))}),[]);var Oe=function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)};return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},e),{},{style:{zIndex:9999},children:[Object(p.jsx)(me.a.Header,{closeButton:!0,children:Object(p.jsx)(me.a.Title,{children:"Fast Shopping"})}),Object(p.jsx)(me.a.Body,{className:"rounded-bottom bg-dark text-light",children:Object(p.jsxs)("form",{id:"transactForm",onSubmit:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{className:"",children:Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"Transaction",onChange:function(e){return b(e.target.value)}})}),Object(p.jsx)("div",{className:"overflow text-end",children:x}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"numPads pb-2",children:fe.map((function(e,t){return Object(p.jsx)("div",{className:"text-center buttonContainer",children:Object(p.jsx)("button",{disabled:x.toString().includes(".")&&"."===e,onClick:function(){return function(e){var t=x;"number"===typeof e&&(t=je?"".concat(t,".").concat(e):"".concat(x).concat(e),pe(!1)),"."===e&&(pe(!0),"0"===t.substring(0,1)&&(t="0"+t)),t.length>0&&"0"===t.substring(0,1)&&!t.includes(".")&&(t=t.substring(1,t.length)),t.length>0&&"."===t.substring(0,1)&&(t="0".concat(t)),"C"===e&&(t="0",pe(!1)),e===he&&(t=t.length>1?t.slice(0,-1):"0").length>0&&"."===t.slice(t.length-1)&&(t=t.slice(0,-1),pe(!1)),g(t)}(e)},dangerouslySetInnerHTML:{__html:e}})},t)}))})}),Object(p.jsxs)("div",{className:"row py-2",children:[Object(p.jsx)("div",{className:"col-6 py-2 react-responsive-ajax-data-table",children:Object(p.jsx)(Ve.a,{onChange:function(e){s(e)},value:r,format:"y-MM-dd",required:!0,clearIcon:null,className:"fastShoppingDatePicker"})}),Object(p.jsx)("div",{className:"col-6 py-2",children:Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsxs)("div",{onClick:function(){return k(!T)},className:"",children:[T?"Debit":"Credit"," Card"]}),Object(p.jsx)("i",{onClick:function(){return k(!T)},className:"fa fa-circle ps-2 ".concat(T?"debit":"credit")})]})})]}),Object(p.jsx)("div",{className:"py-2",children:Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"Comments",onChange:function(e){return f(e.target.value)}})}),E.length>0&&q.length>0&&R.length>0?T?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"py-2",children:Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[Object(p.jsx)("div",{onClick:function(){return D(!0)},className:"",children:"Expense"}),Object(p.jsx)(Ge.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return D(!N)},checked:!0===N}),Object(p.jsx)("div",{onClick:function(){return D(!1)},className:"",children:"Income"}),Object(p.jsx)(Ge.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return D(!N)},checked:!1===N})]})}),Object(p.jsx)("div",{className:"py-2",children:Object(p.jsx)(Se,{bankList:E,onSelectBank:function(e){return F(e)}})}),Object(p.jsx)("div",{className:"py-2",children:Object(p.jsxs)(De.a,{className:"d-grid",children:[Object(p.jsxs)(De.a.Toggle,{className:"btn btn-bni",children:[ee," ",Object(p.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(p.jsx)(De.a.Menu,{children:q.map((function(e,t){return Object(p.jsx)(De.a.Item,{onClick:function(t){Z(e.id),te(e.value)},children:e.value},t)}))})]})})]}):Object(p.jsx)("div",{className:"py-2",children:Object(p.jsxs)(De.a,{className:"d-grid",children:[Object(p.jsxs)(De.a.Toggle,{className:"btn btn-bni",children:[ie," ",Object(p.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(p.jsx)(De.a.Menu,{children:R.map((function(e,t){return Object(p.jsx)(De.a.Item,{onClick:function(t){re(e.id),oe(e.value)},children:e.value},t)}))})]})}):Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}),Object(p.jsx)("div",{className:"py-2",children:Object(p.jsx)("button",{disabled:!(Number(x)>0&&u),onClick:function(){return function(){var e={Table:T?"income_expense":"credit_card_transactions",insertData:T?[{inc_exp_id:"",inc_exp_name:u,inc_exp_amount:x,inc_exp_plan_amount:x,inc_exp_type:N?"Dr":"Cr",inc_exp_date:Oe(r),inc_exp_category:$,inc_exp_bank:U,inc_exp_comments:h}]:[{cc_id:"",cc_transaction:u,cc_date:Oe(r),cc_opening_balance:0,cc_payment_credits:0,cc_purchases:x,cc_taxes_interest:0,cc_expected_balance:x,cc_for_card:ce,cc_comments:h}]},a=new FormData;document.getElementById("transactForm").reset(),a.append("postData",JSON.stringify(e)),de.a.post("/account_planner/postAccountPlanner",a).then((function(e){e.data.response?t.renderToast({message:"Transaction saved successfully"}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}),g("0"),b(""),f(""),document.getElementById("transactForm").reset()})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"}),console.log(e)}))}()},className:"btn btn-bni",children:"Submit"})})]})})]}))};Je.defaultProps={property:"String name"};var $e=Je,Ze=function(e){var t=e.ccDetails,a=Object(l.useState)(0),n=Object(c.a)(a,2),r=n[0],s=n[1],i=24*Number(t.remDays)*3600;Object(l.useEffect)((function(){Number(t.remDays)>0&&o()}),[t.remDays]);var o=function e(){var t=Math.floor(i/24/60/60),a=Math.floor(i-86400*t),n=Math.floor(a/3600),c=Math.floor(a-3600*n),r=Math.floor(c/60),l=i%60,o=u(t)+":"+u(n)+":"+u(r)+":"+u(l);0===i?d(e):i--,s(o),setTimeout(e,1e3)},d=function(){clearTimeout(o)},u=function(e){return e<10?"0"+e:e};return Object(p.jsx)("span",{children:r})};Ze.defaultProps={property:"String name"};var Xe=Ze,Qe=function(e){var t=Object(l.useContext)(h),a=Object(l.useState)(!1),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(l.useState)(!1),o=Object(c.a)(i,2),u=o[0],b=o[1],j=Object(l.useState)(!1),m=Object(c.a)(j,2),f=m[0],O=m[1],_=Object(l.useState)({}),x=Object(c.a)(_,2),g=x[0],v=x[1],y=Object(l.useState)([]),N=Object(c.a)(y,2),D=N[0],w=N[1],S=new Date;Object(l.useEffect)((function(){s(!0);var e=k();Promise.all([e]).then((function(e){var t=e[0];w(t),s(!1)}))}),[]);var T=function(){return Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},k=function(){return de.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}))};return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},e),{},{style:{zIndex:9999},children:[Object(p.jsx)(me.a.Header,{closeButton:!0,children:Object(p.jsx)(me.a.Title,{children:"Check credit card cycle date"})}),Object(p.jsxs)(me.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:[r?T():Object(p.jsx)("div",{className:"row",children:D&&D.length>0&&D.map((function(e,t){return Object(p.jsxs)("div",{onClick:function(){return function(e){var t=new FormData;return t.append("bank",e),v({}),b(!0),O(e),de.a.post("/account_planner/credit_card_details",t).then((function(e){var t=e.data.response[0],a=t.credit_card_start_date,n=[(a=J.a.addMonths(new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(a).replace(/-/g,"/")),-1)).getFullYear(),a.getMonth()+1,a.getDate()],c=n[0],r=n[1],s=n[2],l=[r<10?"0".concat(r):r,s<10?"0".concat(s):s];r=l[0],s=l[1],a="".concat(c,"-").concat(r,"-").concat(s);var i=t.credit_card_end_date,o=[(i=new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(i).replace(/-/g,"/"))).getFullYear(),i.getMonth()+1,i.getDate()],d=o[0],u=o[1],j=o[2],m=[u<10?"0".concat(u):u,j<10?"0".concat(j):j];u=m[0],j=m[1],i="".concat(d,"-").concat(u,"-").concat(j);var p=t.credit_card_payment_date,h=[(p=J.a.addMonths(new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(p).replace(/-/g,"/")),1)).getFullYear(),p.getMonth()+1,p.getDate()],f=h[0],O=h[1],_=h[2],x=[O<10?"0".concat(O):O,_<10?"0".concat(_):_];O=x[0],_=x[1],p="".concat(f,"-").concat(O,"-").concat(_);var g=new Date(p)-new Date;g=Math.abs(g),g=Math.ceil(g/864e5);var y={cardNumber:t.credit_card_number,cardName:t.credit_card_name,startDate:a,endDate:i,payDate:p,remDays:g};v(y),b(!1)})).catch((function(e){console.log(e)}))}(e.id)},className:"col-6 text-center cardWrapper ".concat(f===e.id?"active":""),children:[Object(p.jsx)("i",{className:"fa fa-credit-card-alt"}),e.value]},t)}))}),u?T():Object.keys(g).length>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"py-3 text-center",children:g.cardName}),Object(p.jsxs)("div",{className:"container mt-10 text-center",children:[Object(p.jsx)("div",{className:"contactLabel",children:"Card number"}),Object(p.jsx)("div",{children:g.cardNumber}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)("label",{children:"Start Date"}),Object(p.jsx)("div",{children:g.startDate})]}),Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)("label",{children:"End Date"}),Object(p.jsx)("div",{children:g.endDate})]})]}),Object(p.jsxs)("div",{className:"row text-center",children:[Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)("label",{children:"Pay Date"}),Object(p.jsx)("div",{children:g.payDate})]}),Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)("label",{children:"Remaining days"}),Object(p.jsx)("div",{children:Object(p.jsx)(Xe,{ccDetails:g})})]})]})]})]})]})]}))};Qe.defaultProps={property:"String name"};var et=Qe,tt=function(e){var t=e.onHide,a=e.onYes,n=Object(l.useContext)(h);return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},e),{},{style:{zIndex:9999},children:[Object(p.jsx)(me.a.Header,{closeButton:!0,children:Object(p.jsx)(me.a.Title,{children:"I am sure.. I am familiar about SQL queries.."})}),Object(p.jsx)(me.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return a()},className:"btn btn-bni",children:"Allow"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return t()},className:"btn btn-secondary",children:"Restrict"})})]})})]}))};tt.defaultProps={};var at=tt,nt=function(e){var t=Object(l.useContext)(Tt),a=Object(l.useState)([]),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(l.useState)(!1),o=Object(c.a)(i,2),d=o[0],u=o[1];Object(l.useEffect)((function(){u(!0),de.a.get("/account_planner/getTotalHoldings").then((function(e){s(e.data.response.result)})).catch((function(){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to fetch total holdings. Please try again later"})})).finally((function(){return u(!1)}))}),[]);var b=r.reduce((function(e,t){return Number(e)+Number(t.Balance)}),0);return d?Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsxs)("div",{className:"totalHoldings",children:[Object(p.jsx)("div",{className:"h5",children:"Bank"}),Object(p.jsx)("div",{className:"h5 text-end",children:"Balance"}),r.length>0?r.map((function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:e.Bank}),Object(p.jsx)("div",{className:"text-end",children:J.a.countryCurrencyLacSeperator("en-IN","INR",Number(e.Balance),2)})]})})).concat(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"total h5 py-2",children:"Total"}),Object(p.jsx)("div",{className:"text-end total h5 py-2",children:J.a.countryCurrencyLacSeperator("en-IN","INR",b,2)})]})):Object(p.jsx)("div",{className:"noData",children:"No Data"})]})};nt.defaultProps={property:"String name"};var ct=nt,rt=a(97),st=a(225),lt=function(e){var t=e.onSelect,a=e.master,n=Object(l.useState)(""),r=Object(c.a)(n,2),s=r[0],i=r[1],o=Object(l.useState)([]),d=Object(c.a)(o,2),u=d[0],b=d[1],j=Object(l.useState)(!1),m=Object(c.a)(j,2),h=m[0],f=m[1],O=Object(l.useState)([]),_=Object(c.a)(O,2),x=_[0],g=_[1],v=Object(l.useState)([]),y=Object(c.a)(v,2),N=y[0],D=y[1],w=Object(l.useState)(""),S=Object(c.a)(w,2),T=S[0],k=S[1];Object(l.useEffect)((function(){P(N)}),[N,h,x]),Object(l.useEffect)((function(){var e=[],t=function(t){e.push(a.fields[t].map((function(e){return{id:"".concat(t,".").concat(e.field),value:"".concat(t,".").concat(e.field),marker:e.marker}})))};for(var n in a.fields)t(n);var c=[].concat.apply([],e);b(c),D([])}),[]);var P=function(e){var a;a="*"===s?e.join(", "):e[0];var n=x.map((function(e){return e.split(" AS ")[1]})).join(", ");t({fields:a||"*",fieldArray:e,hasAlias:h,aliases:x.join(", ")||"",aliasArray:x,aliasStrings:n})},C=function(){g([]),f(!1)};return Object(p.jsxs)("div",{className:"select pt-2",children:[Object(p.jsxs)("div",{className:"h6",children:[Object(p.jsx)("div",{children:"Select"}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return i(""),f(!1),g([]),D([]),void k("")}})})]}),Object(p.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)(rt.a,{placeholder:"Select Type",onChange:function(e,t,a){i(t),P("*"===s?[]:""),D([]),f(!1),g([])},element:{fetch:{dropDownList:["*","SUM","COUNT","MIN","MAX","AVG","DISTINCT"].map((function(e){return{id:e,value:e}}))}},value:s,type:"single",searchable:!1},1)})}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)(rt.a,{placeholder:"Select Field(s)",onChange:function(e,t,a){return function(e){Array.isArray(e)?D(e):D(["".concat(s,"(").concat(e,")")]),Array.isArray(e)?k(e):k("".concat(e)),C()}(t)},element:{fetch:{dropDownList:u.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:T,type:"*"===s?"multiple":"single",searchable:!0},2)})}),N.length>0&&Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)(st.a,{index:{i:0,j:"radioNull"},onChange:function(e,t,a){if(f("1"===t),"1"===t){var n=N.map((function(e,t){return"".concat(e," AS F").concat(t+1)}));g(n)}else g([])},element:{radio:{radioList:[{label:"Has Alias",value:"1"},{label:"No Alias",value:"0"}]}},value:h?"1":"0"})})})]}),Object(p.jsx)("div",{className:"row",children:h&&N.length>0&&N.map((function(e,t){return Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)("input",{type:"text",placeholder:"".concat(e," (Alias)"),className:"form-control",defaultValue:"F".concat(t+1),onBlur:function(e){e.target.value||(e.target.value="F".concat(t+1))},onChange:function(e){return function(e,t){var a=Object($.a)(x);a[t]&&(a=a.map((function(a,n){return t===n&&(a=e?"".concat(N[n]," AS ").concat(e):"".concat(N[n]," AS F").concat(n+1)),a})),g(a))}(e.target.value,t)}})})},t)}))})]})]})};lt.defaultProps={property:"String name"};var it=lt,ot=function(e){var t=e.master,a=e.onFrom,n=Object(l.useState)(""),r=Object(c.a)(n,2),s=r[0],i=r[1],o=Object(l.useState)([]),d=Object(c.a)(o,2),u=d[0],b=d[1];Object(l.useEffect)((function(){var e=Object.entries(t.tables).map((function(e){return"".concat(e[1]," AS ").concat(e[0])}));b(e),i(e[0]),a(e[0])}),[]);var j=function(e){i(e),a(e)};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"pt-2",children:[Object(p.jsx)("div",{className:"h6",children:"From"}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){j(u[0])}})})]}),Object(p.jsx)("div",{className:"react-responsive-ajax-data-table",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)(rt.a,{placeholder:"Select Table",onChange:function(e,t,a){return j(t)},element:{fetch:{dropDownList:u.map((function(e){return{id:e,value:e}}))}},value:s,type:"single",searchable:!0},1)})})})})]})};ot.defaultProps={};var dt=ot,ut=function(e){var t=e.master,a=e.onJoin,n=Object(l.useContext)(h),r=["INNER","LEFT","RIGHT","OUTER"],s=Object(l.useState)([]),o=Object(c.a)(s,2),d=o[0],u=o[1],b=r.map((function(e){return{type:e,joins:[{tableDropDown:{fetch:{dropDownList:Object.keys(t.tables).map((function(e){return{id:e,value:e}}))}},selectedSource:"",selectedTarget:"",sourceFields:{},targetFields:{}}]}})),j=Object(l.useState)(b),m=Object(c.a)(j,2),f=m[0],O=m[1];Object(l.useEffect)((function(){_()}),[f]);var _=function(){var e=Object($.a)(f).filter((function(e){return e.joins.some((function(e){return e.selectedSource&&e.selectedTarget}))})),n=[];e.forEach((function(e){return e.joins.forEach((function(a){t.tables[a.sourceFields.table]&&a.sourceFields.table&&a.sourceFields.table&&a.selectedSource&&n.push("".concat(e.type," JOIN ").concat(t.tables[a.sourceFields.table]," AS ").concat(a.sourceFields.table," ON ").concat(a.sourceFields.table,".").concat(a.selectedSource," = ").concat(a.targetFields.table,".").concat(a.selectedTarget))}))})),a(n)},x=function(e,t,a,n){var r=Object(c.a)(d,2),s=r[0],l=r[1];if(s&&l){var i="source"===a?"selectedSource":"selectedTarget",o=Object($.a)(f);o=o.map((function(a){if(a.type===e){var c=a.joins.map((function(e,a){return a===n&&(e[i]=t),e}));a.joins=c}return a})),O(o)}};return Object(p.jsx)("div",{className:"join pt-2",children:Object(p.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(p.jsxs)("div",{className:"h6",children:[Object(p.jsx)("div",{children:"Join"}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){O(b)}})})]}),Object(p.jsx)("div",{className:"table-responsive",children:Object(p.jsxs)("table",{className:"table table-borderless ".concat("dark"===n.userData.theme?"text-light":"text-dark"),children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:r.map((function(e,t){return Object(p.jsx)("td",{className:"text-center",children:e},t)}))})}),Object(p.jsx)("tbody",{children:Object(p.jsx)("tr",{children:f.map((function(e,a){return Object(p.jsx)("td",{children:e.joins.map((function(n,r){return Object(p.jsxs)(i.a.Fragment,{children:[Object(p.jsx)("div",{className:"mb-2",children:Object(p.jsx)(rt.a,{index:{i:a,j:-1},placeholder:"Select Tables",onChange:function(e,n,s){!function(e,a,n){var r=Object(c.a)(e,2),s=r[0],l=r[1];s&&l&&u([s,l]);var i=Object($.a)(f);i=i.map((function(e,c){return a===c&&e.joins.map((function(e,a){return a===n&&(e.sourceFields=t.fields[s]&&{table:s,fetch:{dropDownList:t.fields[s].map((function(e){var t=e.field;return{id:t,value:t,marker:e.marker}}))}}||{},e.targetFields=t.fields[l]&&{table:l,fetch:{dropDownList:t.fields[l].map((function(e){var t=e.field;return{id:t,value:t,marker:e.marker}}))}}||{}),e})),e})),O(i)}(n,a,r)},element:n.tableDropDown,value:"",type:"multiple",searchable:!0})}),Object.keys(n.sourceFields).length>0&&Object(p.jsx)("div",{className:"mb-2",children:Object(p.jsx)(rt.a,{index:{i:a,j:r},placeholder:"Set Source Relation",onChange:function(t,a,n){x(e.type,a,"source",r)},element:n.sourceFields,value:"",type:"single",searchable:!1})}),Object.keys(n.targetFields).length>0&&Object(p.jsx)("div",{className:"mb-2",children:Object(p.jsx)(rt.a,{index:{i:a,j:r},placeholder:"Set Target Relation",onChange:function(t,a,n){x(e.type,a,"target",r)},element:n.targetFields,value:"",type:"single",searchable:!1})}),Object(p.jsxs)("div",{className:"mb-2",children:[r>0?Object(p.jsx)("i",{onClick:function(){return function(e,t){var a=Object($.a)(f);a=a.map((function(a){if(a.type===e){var n=a.joins.filter((function(e,a){return a!==t}));a.joins=n}return a})),O(a)}(e.type,r)},className:"fa fa-times-circle danger"}):Object(p.jsx)("i",{}),Object(p.jsx)("i",{onClick:function(){return function(e){var a=Object($.a)(f),n={tableDropDown:{fetch:{dropDownList:Object.keys(t.tables).map((function(e){return{id:e,value:e}}))}},selectedSource:"",selectedTarget:"",sourceFields:{},targetFields:{}};a=a.map((function(t){return t.type===e&&t.joins.push(n),t})),O(a)}(e.type)},className:"pull-right fa fa-plus-circle success"})]})]},r)}))},a)}))})})]})})]})})};ut.defaultProps={property:"String name"};var bt=ut,jt=function(e){var t=e.master,a=e.onGroupBy,n=function(){var e=[],a=function(a){e.push(t.fields[a].map((function(e){return"".concat(a,".").concat(e.field)})))};for(var n in t.fields)a(n);return e.join().split(",")},r=n()||[];r=r.map((function(e){return{id:e,value:e}}));var s=Object(l.useState)(r),i=Object(c.a)(s,2),o=i[0],d=i[1],u=Object(l.useState)([]),b=Object(c.a)(u,2),j=b[0],m=b[1];Object(l.useEffect)((function(){var e=n()||[];e=e.map((function(e){return{id:e,value:e}})),d(e)}),[JSON.stringify(e.selectData)]);return Object(p.jsx)("div",{className:"join pt-2",children:Object(p.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(p.jsxs)("div",{className:"h6",children:[Object(p.jsx)("div",{children:"Group By"}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return m([]),void a([])}})})]}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:o&&o.length>0&&Object(p.jsx)(rt.a,{placeholder:"Select Type",onChange:function(e,t,n){m(t),a(t)},element:{fetch:{dropDownList:o}},value:j,type:"multiple",searchable:!0},"Group-1")})})})]})})};jt.defaultProps={};var mt=jt,pt=function(e){var t=e.master,a=e.onOrderBy,n=function(){var e=[],a=function(a){e.push(t.fields[a].map((function(e){return"".concat(a,".").concat(e.field)})))};for(var n in t.fields)a(n);return e.join().split(",")},r=n();r=r.map((function(e){return{id:e,value:e}}));var s=Object(l.useState)(r),i=Object(c.a)(s,2),o=i[0],d=i[1],u=Object(l.useState)(""),b=Object(c.a)(u,2),j=b[0],m=b[1],h=Object(l.useState)(""),f=Object(c.a)(h,2),O=f[0],_=f[1];Object(l.useEffect)((function(){var e=n()||[];e=e.map((function(e){return{id:e,value:e}})),d(e)}),[JSON.stringify(e.selectData)]),Object(l.useEffect)((function(){var e=[O&&"".concat(O," DESC"),j&&"".concat(j," ASC")].filter((function(e){return""!==e}));a(e)}),[j,O]);return Object(p.jsx)("div",{className:"join pt-2",children:Object(p.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(p.jsxs)("div",{className:"h6",children:[Object(p.jsx)("div",{children:"Order By"}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return m(""),void _("")}})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:o&&o.length>0&&Object(p.jsx)(rt.a,{placeholder:"ASC",onChange:function(e,t,a){m(t)},element:{fetch:{dropDownList:o}},value:j,type:"single",searchable:!1},1)})}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:o&&o.length>0&&Object(p.jsx)(rt.a,{placeholder:"DESC",onChange:function(e,t,a){_(t)},element:{fetch:{dropDownList:o}},value:O,type:"single",searchable:!1},1)})})]})]})})};pt.defaultProps={};var ht=pt,ft=function(e){var t=e.onLimit,a=Object(l.useState)(0),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(l.useState)(100),o=Object(c.a)(i,2),d=o[0],u=o[1];Object(l.useEffect)((function(){t({offset:r,rowCount:d})}),[r,d]);return Object(p.jsx)("div",{className:"join pt-2",children:Object(p.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(p.jsxs)("div",{className:"h6",children:[Object(p.jsx)("div",{children:"Limit"}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return s(0),u(100),void t({offset:0,rowCount:100})}})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)("input",{type:"number",onChange:function(e){return s(+e.target.value)},value:r,placeholder:"Offset",className:"form-control"})})}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)("input",{type:"number",value:d,onChange:function(e){return u(+e.target.value)},placeholder:"Row Count",className:"form-control"})})})]})]})})};ft.defaultProps={property:"String name"};var Ot=ft,_t=function(e){var t=e.onWhere,a=e.master,n=Object(l.useState)([]),r=Object(c.a)(n,2),s=r[0],i=r[1],o={SEP:"AND",AND:[{field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"AND"}],OR:[{field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"OR"}]},u=Object(l.useState)(o),b=Object(c.a)(u,2),j=b[0],m=b[1],h=[{label:"Between",value:"BETWEEN {a} AND {b}",placeholder:"Double comma sepearated values",valueType:"DOUBLE"},{label:"Equal To",value:"= '{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Not Equal To",value:"!= '{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Lesser Than",value:"< '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Greater Than",value:"> '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Lesser Than Equal To",value:"<= '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Greater Than Equal To",value:">= '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"contains",value:"LIKE '%{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Starts With",value:"LIKE '{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Ends With",value:"LIKE '%{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not Contain",value:"NOT LIKE '%{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not Begin With",value:"NOT LIKE '{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not End With",value:"NOT LIKE '%{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Is Null",value:"IS NULL",placeholder:"String / Number",valueType:"NULL"},{label:"Is Not Null",value:"IS NOT NULL",placeholder:"String / Number",valueType:"NULL"},{label:"In",value:"IN {n}",placeholder:"comma seperated values",valueType:"MULTIPLE"},{label:"Not In",value:"NOT IN {n}",placeholder:"comma seperated values",valueType:"MULTIPLE"}];Object(l.useEffect)((function(){var e=[],t=function(t){e.push(a.fields[t].map((function(e){return{id:"".concat(t,".").concat(e.field),value:"".concat(t,".").concat(e.field),marker:e.marker}})))};for(var n in a.fields)t(n);var c=[].concat.apply([],e);i(c)}),[]),Object(l.useEffect)((function(){var e=j.AND.filter((function(e){return e.clause})),a=j.OR.filter((function(e){return e.clause})),n=e.map((function(t,a){return"".concat(t.field," ").concat(t.clause).concat(a!==e.length-1?" ".concat(t.condition):"")})),c=a.map((function(e,t){return"".concat(e.field," ").concat(e.clause).concat(t!==a.length-1?" ".concat(e.condition):"")})),r=[].concat(Object($.a)(n.length>0?["(".concat(n.join(" "),")")]:[]),Object($.a)(n.length>0&&c.length>0?[j.SEP]:[]),Object($.a)(c.length>0?["(".concat(c.join(" "),")")]:[]));t(r)}),[j]);var f=function(e){var t={field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"AND"===e?"AND":"OR"},a=Object(d.a)({},j);a[e]=[].concat(Object($.a)(a[e]),[t]),m(a)},O=function(e,t){var a=Object(d.a)({},j),n=a[e].filter((function(e,a){return a!==t}));a[e]=n,m(a)},_=function(e,t,a,n){var c=Object(d.a)({},j),r=c[n].map((function(n,c){if(t===c&&(n[a]=e,"criteria"===a)){var r=h.filter((function(t){return t.value===e}))[0];n.placeholder=r.placeholder,n.valueType=r.valueType,n.clause="NULL"===n.valueType?n.criteria:"",n.value=""}return n}));c[n]=r,m(c)},x=function(e,t,a){var n=Object(d.a)({},j),c=n[a].filter((function(e,a){return a===t}))[0].valueType,r=n[a].map((function(a,n){if(t===n){var r="";switch(c){case"SINGLE":r=e?a.criteria.replace("{a}","".concat(e)):"";break;case"DOUBLE":var s=e.split(",");r=s.length>=2&&s[0]&&s[1]?(r=a.criteria.replace("{a}","'".concat(s[0],"'"))).replace("{b}","'".concat(s[1],"'")):"";break;case"MULTIPLE":var l=e.split(",");r=l.some((function(e){return e}))?a.criteria.replace("{n}","(".concat(l,")")):"";break;case"NULL":r=a.criteria;break;default:r=e}a.clause=r,a.value=e}return a}));n[a]=r,m(n)};return Object(p.jsxs)("div",{className:"where pt-2",children:[Object(p.jsxs)("div",{className:"h6",children:[Object(p.jsx)("div",{children:"Where"}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){m(o)}})})]}),Object(p.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[j.AND.map((function(e,t){return Object(p.jsxs)("div",{className:"row pt-2",children:[Object(p.jsxs)("div",{className:"col-md-1 actionIcons",children:[t>0?Object(p.jsx)("i",{onClick:function(){return O("AND",t)},className:"fa fa-times-circle danger"}):Object(p.jsx)("i",{}),Object(p.jsx)("i",{onClick:function(){return f("AND")},className:"fa fa-plus-circle success"})]}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:s.length>0&&Object(p.jsx)(rt.a,{placeholder:"Select field",onChange:function(e,a,n){_(a,t,"field","AND")},element:{fetch:{dropDownList:s.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:e.field,type:"single",searchable:!1},"field-".concat(t))})}),e.field&&h.length>0&&Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)(rt.a,{placeholder:"Select Criteria",onChange:function(e,a,n){_(a,t,"criteria","AND")},element:{fetch:{dropDownList:h.map((function(e){return{id:e.value,value:e.label}}))}},value:e.criteria,type:"single",searchable:!1},"criteria-".concat(t))})}),e.criteria&&"NULL"!==e.valueType&&Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)("input",{type:"text",title:e.placeholder,placeholder:e.placeholder,className:"form-control",onChange:function(e){return x(e.target.value,t,"AND")},value:e.value},"AndKey-".concat(t))})}),Object(p.jsx)("div",{className:"col-md-2",children:Object(p.jsx)("div",{className:"pb-2",children:(e.clause||"NULL"===e.valueType)&&Object(p.jsx)(st.a,{index:{i:t,j:"AND"},onChange:function(e,a,n){return _(a,t,"condition","AND")},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!0},{label:"OR",value:"OR",checked:!1}]}},value:"AND"})})})]},t)})),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(p.jsx)("div",{className:"andOrWrapper",children:Object(p.jsx)(st.a,{index:{i:0,j:"sepCond"},onChange:function(e,t,a){return function(e){var t=Object(d.a)({},j);t.SEP=e,m(t)}(t)},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!0},{label:"OR",value:"OR",checked:!1}]}},value:j.SEP})})})}),j.OR.map((function(e,t){return Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-md-1 actionIcons",children:[t>0?Object(p.jsx)("i",{onClick:function(){return O("OR",t)},className:"fa fa-times-circle danger"}):Object(p.jsx)("i",{}),Object(p.jsx)("i",{onClick:function(){return f("OR")},className:"fa fa-plus-circle success"})]}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:s.length>0&&Object(p.jsx)(rt.a,{placeholder:"Select field",onChange:function(e,a,n){_(a,t,"field","OR")},element:{fetch:{dropDownList:s.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:e.field,type:"single",searchable:!1},"field-".concat(t))})}),e.field&&h.length>0&&Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)(rt.a,{placeholder:"Select Criteria",onChange:function(e,a,n){_(a,t,"criteria","OR")},element:{fetch:{dropDownList:h.map((function(e){return{id:e.value,value:e.label}}))}},value:e.criteria,type:"single",searchable:!1},"criteria-".concat(t))})}),e.criteria&&"NULL"!==e.valueType&&Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)("input",{type:"text",title:e.placeholder,placeholder:e.placeholder,className:"form-control",onChange:function(e){return x(e.target.value,t,"OR")},value:e.value},"ORKey-".concat(t))})}),(e.clause||"NULL"===e.valueType)&&Object(p.jsx)("div",{className:"col-md-2",children:Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)(st.a,{index:{i:t,j:"OR"},onChange:function(e,a,n){return _(a,t,"condition","OR")},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!1},{label:"OR",value:"OR",checked:!0}]}},value:"OR"})})})]},t)}))]})]})};_t.defaultProps={property:"String name"};var xt=_t,gt=function(e){var t=e.master,a=Object(l.useState)([]),n=Object(c.a)(a,2),r=n[0],s=n[1];return Object(l.useEffect)((function(){var e=Object.keys(t.fields).map((function(e){return{table:t.tables[e],fields:t.fields[e]}}));s(e)}),[]),Object(p.jsx)("div",{className:"Erd",children:Object(p.jsx)("div",{className:"erdGrid",children:r.map((function(e,t){return Object(p.jsxs)("div",{className:"tableBox",children:[Object(p.jsx)("div",{className:"tableName",children:e.table}),Object(p.jsx)("ul",{children:e.fields.map((function(e,t){return Object(p.jsxs)("li",{children:[e.field," ",e.marker&&Object(p.jsx)("i",{className:"fa fa-key green"})," ",e.type&&Object(p.jsx)("em",{children:e.type.toUpperCase()})," ",e.relationId&&Object(p.jsx)("i",{className:"fa fa-link ".concat(e.relationId)})," "]},t)}))})]},t)}))})})};gt.defaultProps={property:"String name"};var vt=gt,yt=(a(641),function(e){var t=e.schema,a=e.onUpdateSchema,n=e.onUpdateObject,r=Object(l.useState)(""),s=Object(c.a)(r,2),i=s[0],o=s[1],u=Object(l.useState)({select:{},from:function(){var e=Object.entries(t.tables)[0];return e="".concat(e[1]," AS ").concat(e[0])}(),join:{},where:[],groupBy:[],orderBy:[],limit:{}}),b=Object(c.a)(u,2),j=b[0],m=b[1],h=function(e,t){var a=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},j),"select"===e&&{select:t}),"from"===e&&{from:t}),"join"===e&&{join:t}),"where"===e&&{where:t}),"groupBy"===e&&{groupBy:t}),"orderBy"===e&&{orderBy:t}),"limit"===e&&{limit:t});m(a)};Object(l.useEffect)((function(){var e=["SELECT",j.select.aliasArray&&j.select.aliasArray.length>0?"\t"+j.select.aliasArray.join(", "):j.select.fieldArray&&j.select.fieldArray.length>0?"\t"+j.select.fieldArray.join(" ,"):"\t*","FROM",j.from&&"\t"+j.from].concat(Object($.a)(j.join.length>0?[j.join.join("\n")]:[]),Object($.a)(j.where.length>0?["WHERE \r\n\t".concat(j.where.join("\n\t"))]:[]),Object($.a)(j.groupBy.length>0?["GROUP BY \r\n\t".concat(j.groupBy.join(", "))]:[]),Object($.a)(j.orderBy.length>0?["ORDER BY \r\n\t".concat(j.orderBy.join(", "))]:[]),Object($.a)(j.limit.offset>0?["LIMIT ".concat(j.limit.offset,", ").concat(j.limit.rowCount)]:["LIMIT ".concat(j.limit.rowCount)]));e=e.join("\r\n"),o(e)}),[j]);return Object(p.jsxs)("div",{className:"queryBuilder",children:[Object(p.jsx)(vt,{master:t}),Object(p.jsx)(it,{master:t,onSelect:function(e){return h("select",e)}}),Object(p.jsx)(dt,{master:t,onFrom:function(e){return h("from",e)}}),Object(p.jsx)(bt,{master:t,onJoin:function(e){return h("join",e)}}),Object(p.jsx)(xt,{master:t,onWhere:function(e){return h("where",e)}}),Object(p.jsx)(mt,{master:t,onGroupBy:function(e){return h("groupBy",e)}}),Object(p.jsx)(ht,{master:t,onOrderBy:function(e){return h("orderBy",e)}}),Object(p.jsx)(Ot,{onLimit:function(e){return h("limit",e)}}),Object(p.jsxs)("div",{className:"queryWrapper mt-2",children:[Object(p.jsxs)("div",{className:"heading",children:[Object(p.jsx)("div",{children:"Query"}),localStorage.getItem("query")&&Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return function(){var e=localStorage.getItem("query");o(e)}()},className:"btn-red pull-right",children:"Get auto-saved query"})})]}),Object(p.jsx)("textarea",{className:"form-control query-list",value:i,onChange:function(e){o(e.target.value)}})]}),Object(p.jsx)("div",{className:"pb-2 text-end",children:Object(p.jsx)("button",{className:"btn btn-bni sm",onClick:function(){a(i),n(j),localStorage.setItem("query",i)},children:"Generate"})})]})});yt.defaultProps={schema:{fields:{T1:[{field:"sampleFieldId1"}],T2:[{field:"sampleFieldId2"}]},tables:{T1:"sampleTable1",T2:"sampleTable2"}},onUpdateSchema:function(){},onUpdateObject:function(){}};var Nt=yt,Dt={fields:{T1:[{field:"inc_exp_cat_id",marker:!0,relationId:"blue",type:"int(11)"},{field:"inc_exp_cat_name",type:"varchar(40)"}],T2:[{field:"credit_card_id",marker:!0,relationId:"red",type:"int(11)"},{field:"credit_card_name",type:"varchar(40)"},{field:"credit_card_number",type:"varchar(20)"},{field:"credit_card_start_date",type:"char(2)"},{field:"credit_card_end_date",type:"char(2)"},{field:"credit_card_payment_date",type:"char(2)"}],T3:[{field:"cc_id",marker:!0,type:"int(11)"},{field:"cc_transaction",type:"varchar(100)"},{field:"cc_date",type:"date"},{field:"cc_opening_balance",type:"decimal(10,2)"},{field:"cc_payment_credits",type:"decimal(10,2)"},{field:"cc_purchases",type:"decimal(10,2)"},{field:"cc_taxes_interest",type:"decimal(10,2)"},{field:"cc_expected_balance",type:"decimal(10,2)"},{field:"cc_for_card",relationId:"red",type:"int(11)"},{field:"cc_inc_exp_cat",relationId:"blue",type:"int(11)"},{field:"cc_comments",type:"varchar(100)"}]},tables:{T1:"income_expense_category",T2:"credit_cards",T3:"credit_card_transactions"}},wt={fields:{T1:[{field:"inc_exp_cat_id",marker:!0,relationId:"red",type:"int(11)"},{field:"inc_exp_cat_name",type:"varchar(40)"}],T2:[{field:"bank_id",marker:!0,relationId:"blue",type:"int(11)"},{field:"bank_name",type:"varchar(40)"},{field:"bank_account_number",type:"varchar(20)"},{field:"bank_ifsc_code",type:"varchar(15)"},{field:"bank_card_no",type:"varchar(20)"},{field:"bank_card_validity",type:"varchar(7)"},{field:"isPrimaryAccount",type:"tinyint(1)"}],T3:[{field:"inc_exp_id",marker:!0,type:"int(11)"},{field:"inc_exp_name",type:"varchar(100)"},{field:"inc_exp_amount",type:"decimal(10,2)"},{field:"inc_exp_plan_amount",type:"decimal(10,2)"},{field:"inc_exp_type",type:"char(2)"},{field:"inc_exp_date",type:"date"},{field:"inc_exp_category",relationId:"red",type:"int(11)"},{field:"inc_exp_bank",relationId:"blue",type:"int(11)"},{field:"inc_exp_comments",type:"varchar(100)"}]},tables:{T1:"income_expense_category",T2:"banks",T3:"income_expense"}},St=function(e){var t=Object(l.useContext)(Tt),a=J.a.getNow(),r=Object.assign({},e),i=Object(l.useState)("Credit Cards"),o=Object(c.a)(i,2),u=o[0],b=o[1],j=Object(l.useState)([]),m=Object(c.a)(j,2),h=m[0],f=m[1],O=Object(l.useState)(!1),_=Object(c.a)(O,2),x=_[0],g=_[1],v=Object(l.useState)(!1),y=Object(c.a)(v,2),N=y[0],D=y[1],w=Object(l.useState)({TableAliasRows:[],TableRows:[]}),S=Object(c.a)(w,2),T=S[0],k=S[1],P=Object(l.useState)([]),C=Object(c.a)(P,2),E=C[0],M=C[1],A=[{id:2,label:"Bank Accounts",component:Object(p.jsx)(Nt,{schema:wt,onUpdateSchema:function(e){return I(e)}})},{id:1,label:"Credit Cards",component:Object(p.jsx)(Nt,{schema:Dt,onUpdateSchema:function(e){return I(e)}})}];Object(l.useEffect)((function(){if(h.length>0){var e=Object.keys(h[0]);k({TableAliasRows:e,TableRows:e,rowElements:Array(e.length).fill("label")});var t=e.map((function(e){return{displayName:e.replace(/,/g,""),id:e}}));M(t)}}),[h]);var I=function(e){f([]),g(!0),D(!0),function(e){var t=new FormData,a=e.replace(/%/g,"{%}"),n=encodeURIComponent(a);return t.append("postData",n),de.a.post("/account_planner/runQuery",t)}(e).then(function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!1),f(t.data.response.result);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){g(!1),t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Some thing went wrong. Please check your query."})}))};function R(e){var t=e.children,a=e.eventKey,n=e.object,c=Object(Ae.b)(a,(function(){b(n.label),f([]),D(!1)}));return Object(p.jsx)("button",{type:"button",className:"col-12 text-start btn btn-dark",onClick:c,children:t})}return Object(p.jsx)("div",{className:"mt-15",children:Object(p.jsx)(Ie.a,{bsPrefix:"util",defaultActiveKey:0,children:A.map((function(e,t){return Object(p.jsxs)(Re.a,{className:"my-2 bg-dark text-light",children:[Object(p.jsx)(Re.a.Header,{className:"m-0 row",children:Object(p.jsx)(R,{eventKey:e.id,object:e,children:e.label})}),Object(p.jsx)(Ie.a.Collapse,{eventKey:e.id,children:Object(p.jsxs)(Re.a.Body,{className:"p-2",children:[e.label===u&&e.component,h.length>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"buttonGrid",children:[Object(p.jsx)("div",{}),Object(p.jsx)(ge.a,{datas:J.a.stripCommasInCSV(h),filename:"Query-result-".concat(a,".csv"),columns:E,children:Object(p.jsx)(be.a,{placement:"left",delay:{show:250,hide:400},overlay:(n="Export CSV",Object(p.jsx)(ue.a,Object(d.a)(Object(d.a)({id:"button-tooltip-1",className:"in show"},r),{},{children:n}))),triggerType:"hover",children:Object(p.jsx)("i",{className:"fa fa-file-excel-o roundedButton pull-right"})})})]}),Object(p.jsx)(oe.a,{dbData:h,cellWidth:"20rem",TableAliasRows:T.TableAliasRows,TableRows:T.TableRows,rowElements:T.rowElements})]}),!x&&!h.length&&N&&Object(p.jsx)("div",{className:"py-3 text-center",children:"No Records Generated"}),x&&Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})})]},e.id);var n}))})})},Tt=i.a.createContext(),kt=function(e){var t=Object(l.useContext)(h);document.title="Money planner";var a=Object(l.useState)([]),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(l.useState)([]),o=Object(c.a)(i,2),d=o[0],u=o[1],b=Object(l.useState)([]),j=Object(c.a)(b,2),f=j[0],O=j[1],_=Object(l.useState)([]),x=Object(c.a)(_,2),g=x[0],v=x[1],y=Object(l.useState)([]),N=Object(c.a)(y,2),D=N[0],w=N[1],S=Object(l.useState)(""),T=Object(c.a)(S,2),k=T[0],P=T[1],C=Object(l.useState)([]),E=Object(c.a)(C,2),M=E[0],A=E[1],I=Object(l.useState)(""),R=Object(c.a)(I,2),B=R[0],L=R[1],Y=Object(l.useState)(""),U=Object(c.a)(Y,2),F=U[0],K=U[1],W=Object(l.useState)(""),q=Object(c.a)(W,2),H=q[0],V=q[1],z=Object(l.useState)(""),$=Object(c.a)(z,2),Z=$[0],X=$[1],Q=Object(l.useState)(""),te=Object(c.a)(Q,2),ne=te[0],ce=te[1],re=Object(l.useState)({}),se=Object(c.a)(re,2),le=se[0],ie=se[1],oe=Object(l.useState)(!1),ue=Object(c.a)(oe,2),be=ue[0],je=ue[1],me=Object(l.useState)(!1),pe=Object(c.a)(me,2),he=pe[0],fe=pe[1],Oe=Object(l.useState)(!1),_e=Object(c.a)(Oe,2),xe=_e[0],ge=_e[1],ve=Object(l.useState)(!1),ye=Object(c.a)(ve,2),De=ye[0],we=ye[1],Te=Object(l.useState)(!1),Pe=Object(c.a)(Te,2),Ee=Pe[0],Ae=Pe[1],Ie=Object(l.useState)(!1),Re=Object(c.a)(Ie,2),Be=Re[0],Ye=Re[1],Ue=Object(l.useState)(!1),Fe=Object(c.a)(Ue,2),Ke=Fe[0],We=Fe[1],He=Object(l.useState)(!1),Ve=Object(c.a)(He,2),ze=Ve[0],Ge=Ve[1];Object(l.useEffect)((function(){var e=de.a.get("/account_planner/year_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),t=de.a.get("/account_planner/bank_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),a=de.a.get("/account_planner/cc_year_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),n=de.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e,t,a,n]).then((function(e){s(e[0]),e[0][0].id&&K(e[0][0].id),e[1]&&O(e[1]),e[1][0].id&&V(e[1][0].id),e[2]&&u(e[2]),e[2][0].id&&P(e[2][0].id),e[3]&&A(e[3]),e[3][0].id&&L(e[3][0].id)}))}),[]);var Je=function(){je(!0),v([]),function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),de.a.post("/account_planner/getIncExpChartData",n)}("".concat(F,"-01-01"),"".concat(F,"-12-31"),H).then((function(e){v(e.data.response)})).catch((function(e){v([]),console.log(e)})).finally((function(){je(!1)}))},Ze=function(){fe(!0),w([]),ie([]),ce(null),function(e){var t=new FormData;return t.append("bank",e),de.a.post("/account_planner/credit_card_details",t)}(B).then((function(e){var t=e.data.response[0];ie(t);var a="".concat(k-1,"-12-").concat(t.credit_card_start_date),n="".concat(k,"-12-").concat(t.credit_card_end_date);(function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),de.a.post("/account_planner/getCreditCardChartData",n)})(a,n,B).then((function(e){var t=e.data.response,a=new Date(t[0].month),c=a.getDate()>new Date(n).getDate()?J.a.addMonths(a,1):J.a.addMonths(a,0);w(t),ce(J.a.dateToMonthYear(c))})).catch((function(e){console.log(e)})).finally((function(){fe(!1)}))})).catch((function(e){console.log(e)}))},Xe=function(){return Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})};return Object(p.jsxs)(Tt.Provider,{value:{renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,r=e.icon,s=void 0===r?"fa fa-check-circle":r,l=e.message;return m.b[c](Object(p.jsx)("div",{children:Object(p.jsxs)("span",{children:[Object(p.jsx)("i",{className:s})," ",Object(p.jsx)("span",{dangerouslySetInnerHTML:{__html:l}})]})}),{autoClose:a})}},children:[Object(p.jsx)(m.a,{className:"bniToaster"}),Object(p.jsxs)("section",{className:"",children:[Ee&&Object(p.jsx)(et,{show:Ee,onHide:function(){return Ae(!1)},size:"sm",animation:!1}),Be&&Object(p.jsx)($e,{className:"accountPlanner fastShopping",show:Be,onHide:function(){return Ye(!1)},size:"sm",animation:!1}),Ke&&Object(p.jsx)(at,{className:"confirmQBModal",show:Ke,onHide:function(){We(!1),Ge(!1)},onYes:function(){We(!1),Ge(!0)},size:"md",animation:!1}),Object(p.jsxs)("div",{className:"pt-5",children:[Object(p.jsx)("div",{className:"pt-4",children:Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("h2",{className:"",children:"Money planner"}),Object(p.jsx)("hr",{className:"hr"}),Object(p.jsx)("i",{className:"fa fa-inr fa-5x py-3"}),Object(p.jsx)("p",{className:"p-10",children:"Plan / handle income, expense and credit card transactions with analysis & visualizationss"})]})}),Object(p.jsx)("div",{className:"container-fluid",children:Object(p.jsx)("div",{className:"accountPlanner ".concat(t.userData.theme),children:f.length>0&&r.length&&d.length>0&&M.length>0>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"row py-2",children:[Object(p.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(p.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between",onClick:function(){return ge(!xe)},children:["Core Settings",Object(p.jsx)("i",{className:"fa fa-cog ps-2"})]})}),Object(p.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(p.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between ps-2",onClick:function(){return we(!De)},children:["Total Holdings",Object(p.jsx)("i",{className:"fa fa-cubes ps-2"})]})}),Object(p.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(p.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between",onClick:function(){localStorage.getItem("query")?Ge(!ze):We(!0)},children:["Query Builder",Object(p.jsx)("i",{className:"fa fa-database ps-2"})]})}),xe&&Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(Le,{})}),De&&Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(ct,{})}),ze&&Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)("div",{children:Object(p.jsx)(St,{})})})]}),Object(p.jsx)("div",{className:"h5",children:"Bank Transactions"}),Object(p.jsxs)("div",{className:"row mt-10",children:[Object(p.jsx)("div",{className:"col-md-4 py-2",children:Object(p.jsx)(Se,{bankList:f,onSelectBank:function(e){return function(e){v([]),V(e)}(e)},title:"Select Bank"})}),Object(p.jsx)("div",{className:"col-md-4 py-2",children:Object(p.jsx)(ke,{yearList:r,onSelectYear:function(e){return function(e){v([]),K(e),X("")}(e)},title:"Select Year"})}),Object(p.jsx)("div",{className:"col-md-3 py-2",children:Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{onClick:function(){return Je()},className:"btn btn-bni",children:"Generate"})})}),Object(p.jsx)("div",{className:"col-md-1 py-2 mb-2",children:Object(p.jsx)("button",{onClick:function(){return Ye(!0)},className:"btn btn-bni",children:Object(p.jsx)("i",{className:"fa fa-cart-plus"})})})]}),Object(p.jsx)("div",{className:"x-scroll",children:be?Xe():Object(p.jsx)(ee,{chartData:g,onMonthYearSelected:function(e){X(e)}})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12 b-0 mb-10 pr-0 pl-0",children:g.length>0&&H&&Z&&Object(p.jsx)(Ne,{bankSelected:H,monthYearSelected:Z})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)("div",{className:"h5",children:"Credit Card Transactions"})})}),Object(p.jsxs)("div",{className:"row py-2",children:[Object(p.jsx)("div",{className:"col-md-4 py-2",children:Object(p.jsx)(Me,{ccBankList:M,onSelectCcBank:function(e){return function(e){w([]),L(e)}(e)},title:"Select Card"})}),Object(p.jsx)("div",{className:"col-md-4 py-2",children:Object(p.jsx)(Ce,{ccYearList:d,onSelectCcYear:function(e){return function(e){w([]),P(e)}(e)},title:"Select Year"})}),Object(p.jsx)("div",{className:"col-md-3 py-2",children:Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{onClick:function(){return Ze()},className:"btn btn-bni",children:"Generate"})})}),Object(p.jsx)("div",{className:"col-md-1 py-2",children:Object(p.jsx)("button",{onClick:function(){return Ae(!0)},className:"btn btn-bni",children:Object(p.jsx)("i",{className:"fa fa-calendar-o mt-20"})})})]}),Object(p.jsx)("div",{className:"x-scroll py-2",children:he?Xe():D&&D.length>0?Object(p.jsx)("div",{className:"d-flex align-items-center",children:Object(p.jsx)(ae,{ccChartData:D,onCcMonthYearSelected:function(e){ce(e)},ccDetails:le,ccYearSelected:k,ccMonthYearSelected:ne})}):Object(p.jsx)("div",{className:"py-3 text-center",children:"No Records Generated"})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12 pt-2",children:D.length>0&&B&&ne&&Object(p.jsx)(qe,{ccMonthYearSelected:ne,ccBankSelected:B,ccDetails:le})})})]}):Xe()})})]})]})]})};kt.defaultProps={property:"String name"};var Pt=kt,Ct=a(642),Et=a.n(Ct),Mt=a(639),At=a(828),It=["btnValue","btnClassName","label","children"];var Rt=function(e){var t=e.btnValue,a=e.btnClassName,n=e.label,r=e.children,s=Object(u.a)(e,It),i=Object(l.useState)(!1),o=Object(c.a)(i,2),b=o[0],j=o[1],m=Object(l.useContext)(h);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Mt.a,{tabIndex:"-1",variant:null,dangerouslySetInnerHTML:{__html:t},className:a,onClick:function(){return j(!0)}}),Object(p.jsxs)(At.a,Object(d.a)(Object(d.a)({show:b,onHide:function(){return j(!1)}},s),{},{className:"".concat("dark"===m.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:[Object(p.jsx)(At.a.Header,{closeButton:!0,children:Object(p.jsx)(At.a.Title,{children:n})}),Object(p.jsx)(At.a.Body,{className:"".concat("dark"===m.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:r})]}))]})},Bt=a(349),Lt=a.n(Bt),Yt=["structure","showSubmit","parentClassName","onChange","onSubmit","submitBtnLabel"];function Ut(e){var t=e.structure,a=e.showSubmit,n=e.parentClassName,r=e.onChange,s=e.onSubmit,i=e.submitBtnLabel,o=Object(u.a)(e,Yt),b=Object(l.useContext)(h),j=Object(l.useState)(t),m=Object(c.a)(j,2),f=m[0],O=m[1],_=Object(l.useState)(!1),x=Object(c.a)(_,2),g=x[0],v=x[1],y=Object(l.useState)([]),N=Object(c.a)(y,2),D=N[0],w=N[1];Object(l.useEffect)((function(){O(f)}),[JSON.stringify(f)]);var S=function(e,t,a,n){r(t,a,n)},T=function(e){var t=e.label;return Object(p.jsx)("div",{className:"text-danger pt-2",children:t})},k=function(e,t){if(e.options&&e.options.validation){var a=Object($.a)(D);if(new RegExp(e.options.validation).test(t)){var n=a.indexOf(e.index);-1!==n&&a.splice(n,1)}else a.push(e.index);a=Object($.a)(new Set(a)),w(a)}},P=Object(l.useCallback)(Et()((function(e,t){S(0,t.index,e.target.value),k(t,e.target.value)}),300),[]),C=function(e,t){switch(e.elementType){case"hidden":return Object(p.jsx)("div",{children:Object(p.jsx)("input",Object(d.a)({id:e.id,className:"d-none",type:"hidden",defaultValue:e.value},o))},t);case"text":return Object(p.jsxs)("div",{className:"py-2 text-dark",children:[Object(p.jsxs)("div",{className:"form-floating",children:[Object(p.jsx)("input",Object(d.a)({id:e.id,type:"text",placeholder:e.placeHolder,onChange:function(t){t.persist(),P(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":""),defaultValue:e.value},o)),e.options&&e.options.help&&Object(p.jsx)(Rt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===b.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(p.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(p.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]}),D.includes(e.index)&&Object(p.jsx)(T,{label:e.options.errorMsg})]},t);case"number":return Object(p.jsx)("div",{className:"py-2 text-dark",children:Object(p.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(p.jsx)(Rt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===b.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(p.jsx)("input",Object(d.a)({id:e.id,type:"number",placeholder:e.placeHolder,onChange:function(t){t.persist(),P(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":""),defaultValue:e.value},o)),D.includes(e.index)&&Object(p.jsx)(T,{label:e.options.errorMsg}),Object(p.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(p.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"textArea":return Object(p.jsx)("div",{className:"py-2 text-dark",children:Object(p.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(p.jsx)(Rt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===b.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(p.jsx)("textarea",Object(d.a)(Object(d.a)({id:e.id,rows:e.options.rowLength,placeholder:e.placeHolder,onChange:function(t){t.persist(),P(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":"")},o),{},{defaultValue:e.value})),D.includes(e.index)&&Object(p.jsx)(T,{label:e.options.errorMsg}),Object(p.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(p.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"password":return Object(p.jsx)("div",{className:"py-2 text-dark",children:Object(p.jsxs)("div",{className:"form-floating password",children:[e.options&&e.options.help&&Object(p.jsx)(Rt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===b.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(p.jsx)("input",Object(d.a)({id:e.id,type:"".concat(g?"text":"password"),placeholder:e.placeHolder,onChange:function(t){t.persist(),P(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":""),defaultValue:e.value},o)),Object(p.jsx)("i",{onClick:function(){return v(!g)},className:"eye fa fa-".concat(g?"eye":"eye-slash")}),D.includes(e.index)&&Object(p.jsx)(T,{label:e.options.errorMsg}),Object(p.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(p.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"dropDown":return Object(p.jsx)("div",{className:"py-2 text-dark",children:Object(p.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(p.jsx)(Rt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===b.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(p.jsxs)("select",Object(d.a)(Object(d.a)({id:e.id,onChange:function(t){k(e,t.target.value),S(0,e.index,t.target.value)},className:"form-select ".concat(D.includes(e.index)?"is-invalid":""),value:e.value},o),{},{children:[Object(p.jsx)("option",{value:"",children:e.placeHolder}),e.list.map((function(e,t){return Object(p.jsx)("option",{value:e.value,children:e.label},t)}))]})),D.includes(e.index)&&Object(p.jsx)(T,{label:e.options.errorMsg}),Object(p.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(p.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"checkBox":return Object(p.jsx)("div",{className:"py-2",children:Object(p.jsxs)("div",{className:"position-relative",children:[Object(p.jsx)("div",{children:e.label}),Object(p.jsxs)("div",{children:[e.options&&e.options.help&&Object(p.jsx)(Rt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===b.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),e.list.map((function(t,a){var n=Lt.a.uniqueId("checkbox-".concat(t.id,"-"));return Object(p.jsxs)("div",{className:"form-check ".concat(e.isInline?"d-inline-block":"d-block"),children:[Object(p.jsx)("input",Object(d.a)({className:"form-check-input",onChange:function(a){S(0,e.index,"",{id:t.id,checked:a.target.checked}),k(e,e.value)},type:"checkbox",defaultValue:t.value,id:n,disabled:t.disabled,defaultChecked:t.checked,name:e.index},o)),Object(p.jsx)("label",{className:"form-check-label pe-2",htmlFor:n,children:t.label})]},a)}))]}),D.includes(e.index)&&Object(p.jsx)(T,{label:e.options.errorMsg})]})},t);case"radio":return Object(p.jsx)("div",{className:"py-2",children:Object(p.jsxs)("div",{className:"position-relative",children:[Object(p.jsx)("div",{children:e.label}),Object(p.jsxs)("div",{children:[e.options&&e.options.help&&Object(p.jsx)(Rt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===b.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),e.list.map((function(t,a){var n=Lt.a.uniqueId("radio-".concat(t.id,"-"));return Object(p.jsxs)("div",{className:"form-check ".concat(e.isInline?"d-inline-block":"d-block"),children:[Object(p.jsx)("input",Object(d.a)({className:"form-check-input",onChange:function(t){k(e,t.target.value),S(0,e.index,t.target.value)},type:"radio",defaultValue:t.value,id:n,disabled:t.disabled,defaultChecked:t.checked,name:e.index},o)),Object(p.jsx)("label",{className:"form-check-label pe-2",htmlFor:n,children:t.label})]},a)}))]}),D.includes(e.index)&&Object(p.jsx)(T,{label:e.options.errorMsg})]})},t);default:return Object(p.jsx)("div",{children:"Unknown Element"})}};return Object(p.jsx)("div",{className:n,children:Object(p.jsxs)("div",{className:"row",children:[f.length>0&&f.map((function(e,t){return Object(p.jsx)("div",{className:e.className,children:C(e,t)},t)})),f.length>0&&f.filter((function(e){return"hidden"===e.elementType})).length>0&&f.filter((function(e){return"hidden"===e.elementType})).map((function(e,t){return C(e,t)})),a&&Object(p.jsx)("div",{className:"col-md-12 py-2",children:Object(p.jsx)("button",{onClick:function(){return function(){var e=f.map((function(e){return!!e.options&&!!e.options.validation&&!new RegExp(e.options.validation).test(e.value)&&e.index})).filter((function(e){return e}));e.length>0?w(e):s()}()},className:"btn btn-bni pull-right",children:i})})]})})}Ut.defaultProps={structure:{options:{rowLength:3}},submitBtnLabel:"Submit",showSubmit:!0,parentClassName:"my-reactive-form"};var Ft=Ut;var Kt=function(e){var t=e.data,a=e.menu,n=e.onMassagePayload,r=e.onReactiveFormSubmit,s=Object(l.useState)(0),i=Object(c.a)(s,2),o=i[0],u=i[1],b=Object(l.useState)([]),j=Object(c.a)(b,2),m=j[0],h=j[1];Object(l.useEffect)((function(){f(a[0].filterArray)}),[]),Object(l.useEffect)((function(){f(a[o].filterArray)}),[o]);var f=function(e){var a=Object($.a)(t);a=a.map((function(t){return t.className=t.className.replaceAll(" d-none",""),e.includes(t.id)||(t.className="".concat(t.className," d-none")),t})),h(a)};return Object(p.jsx)("section",{children:Object(p.jsxs)("div",{className:"wizard",children:[Object(p.jsx)("div",{className:"py-3",children:Object(p.jsx)("ul",{className:"d-flex justify-content-between",role:"tablist",children:a.map((function(t,a){return Object(p.jsx)(be.a,{placement:"top",overlay:(n=t.label,Object(p.jsx)(ue.a,Object(d.a)(Object(d.a)({id:"wizard-tooltip",className:"in show"},e),{},{children:n}))),triggerType:"hover",children:Object(p.jsx)("li",{className:"btn rounded-circle ".concat(t.id===o?"btn-bni":"btn-secondary"),onClick:function(){return u(t.id)},children:Object(p.jsx)("a",{href:!0,children:Object(p.jsx)("span",{className:"round-tab",children:Object(p.jsx)("i",{className:t.icon})})})})},a);var n}))})}),Object(p.jsxs)("div",{className:"tab-content",children:[Object(p.jsxs)("div",{className:"row pb-2",children:[Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("button",{disabled:0===o,onClick:function(){u(o-1)},className:"btn btn-bni pull-left",children:Object(p.jsx)("i",{className:"fa fa-angle-double-left"})})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("button",{disabled:o===a.length-1,onClick:function(){u(o+1)},className:"btn btn-bni pull-right",children:Object(p.jsx)("i",{className:"fa fa-angle-double-right"})})})]}),m.length>0&&Object(p.jsx)(Ft,{parentClassName:"reactive-form text-dark",structure:m,onChange:function(e,t){return n(e,t)},onSubmit:function(){return r()}}),Object(p.jsx)("div",{className:"clearfix"})]})]})})};var Wt=function(e){var t=Object(l.useContext)(h),a=Object(l.useContext)(b),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(l.useState)(se),o=Object(c.a)(i,2),d=o[0],u=o[1],m=Object(l.useState)(!0),f=Object(c.a)(m,2),O=f[0],_=f[1];return Object(l.useEffect)((function(){_(!0),function(e,t){var a=new FormData;return a.append("TableRows",t),a.append("Table",e),de.a.post("getBackend",a)}("config",d.map((function(e){return e.index}))).then((function(e){var t=e.data.response[0],a=Object.keys(t),n=Object($.a)(d);n=n.map((function(e){return a.includes(e.index)&&(e.value=M.includes(e.index)?E.a.AES.decrypt(t[e.index],r.web).toString(E.a.enc.Utf8):t[e.index]),e})),u(n)})).catch((function(e){console.log(e)})).finally((function(){_(!1)}))}),[JSON.stringify(r)]),Object(p.jsx)("div",{className:"",children:O?Object(p.jsx)("div",{className:"text-center mt-100",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsx)("div",{className:"",children:Object(p.jsx)(Kt,{data:d,menu:le,onMassagePayload:function(e,t){var a=Object($.a)(d);a=a.map((function(a){return a.id===e&&(a.value=t),a})),u(a)},onReactiveFormSubmit:function(){_(!0);var e=Object($.a)(d).filter((function(e){return e.id===A}))[0].value,a=Object($.a)(d).map((function(t){return Object(j.a)({},t.id,M.includes(t.id)?E.a.AES.encrypt(t.value,e).toString():t.value)})),n={Table:"config",updateData:[a=Object.assign.apply(Object,[{}].concat(Object($.a)(a)))]},c=new FormData;c.append("postData",JSON.stringify(n)),de.a.post("/postBackend",c).then((function(e){if(e.data.response){var n=Object($.a)(d),c=Object.keys(a);n=n.map((function(e){return c.includes(e.index)&&(e.value=a[e.index]),e})),u(n),t.renderToast({message:"Configurations saved successfully"});var r=n.map((function(e){return[e.id,e.value]}));r=Object.fromEntries(r),s(r)}})).catch((function(e){return t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again."})})).finally((function(){return _(!1)}))}},1)})})},qt=a(228),Ht=a(827);var Vt=function(e){var t=e.isDirectory,a=e.handleupload,n=e.progress,r=Object(l.useState)([]),s=Object(c.a)(r,2),i=s[0],o=s[1],u=function(e){return Math.ceil(e.loaded/e.total*100)};return Object(l.useEffect)((function(){if(Object.keys(n).length>0){var e=Object($.a)(i);e.push(n);var t=e.reverse().filter((function(e,t,a){return a.findIndex((function(t){return t.Key===e.Key}))===t&&e.total!==e.loaded}));t=Lt.a.sortBy(t,(function(e){return e.Key})),o(t)}}),[n]),Object(p.jsx)("div",{className:"dropZone text-center m-5",children:Object(p.jsx)(Ht.a,{accept:"image/*,application/*,video/*,audio/*",maxSize:5368709120,onDrop:function(e,t,n){e.length>0&&a(e)},disabled:!t,children:function(e){var a=e.getRootProps,n=e.getInputProps,c=e.isDragAccept,r=e.isDragReject,s="dropZoneWrapper btn-bni rounded-3",l=Object(p.jsx)("div",{children:"Drag files here"});return c&&(s="".concat(s," bg-success rounded-3"),l=Object(p.jsx)("div",{className:"upload-success",children:"Drop file(s) now"})),r&&(s="".concat(s," bg-danger rounded-3"),l=Object(p.jsx)("div",{className:"upload-error",children:"File type not allowed"})),t||(s="".concat(s," disabled rounded-3"),l=Object(p.jsxs)("div",{children:[Object(p.jsx)("i",{className:"fa fa-folder-open"})," Select a folder to upload files"]})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",Object(d.a)(Object(d.a)({},a()),{},{className:"".concat(s," title"),children:[Object(p.jsx)("input",Object(d.a)({},n())),l]})),i.length>0&&Object(p.jsx)("div",{className:"progressWrapper",children:i.map((function(e,t){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"text-center title gridLabels pb-2",children:[Object(p.jsx)("div",{className:"text-left pl-5",children:e.Key.split("/").slice(-1)}),Object(p.jsxs)("div",{className:"text-end pr-5",children:[u(e),"%"]})]}),Object(p.jsx)("div",{className:"progress",children:Object(p.jsx)("div",{className:"progress-bar",style:{width:"".concat(u(e),"%")},children:"\xa0"})})]},t)}))})]})}})})};var zt=function(e){var t=e.breadCrumbs,a=e.onBreadClick;return Object(p.jsx)("div",{className:"header",children:Object(p.jsx)("div",{className:"breadCrumb",children:t.length>0?t.map((function(e,t){return Object(p.jsxs)(i.a.Fragment,{children:[Object(p.jsx)("i",{className:"fa fa-angle-right breadIcon"}),Object(p.jsx)("button",{onClick:function(){return a(e)},className:"breadButton",children:e.title})]},t)})):Object(p.jsx)("i",{className:"fa fa-angle-left breadIcon"})})})};var Gt=function(e){var t=e.object,a=e.bucket,n=Object(l.useContext)(b),r=Object(c.a)(n,1)[0];Object(l.useEffect)((function(){s(t)}),[JSON.stringify(t)]);var s=function(e){var t=/[.]/.exec(e.url)?/[^.]+$/.exec(e.url)[0].toLowerCase():void 0;return["jpg","jpeg","tiff","bmp","png","gif","svg"].includes(t)?Object(p.jsx)(U,{className:"img-fluid img-thumbnail",type:"image",appData:r,unsignedUrl:"".concat(a,"/").concat(e.url),optionalAttr:{alt:e.tag}}):["mp4","mov","webm"].includes(t)?Object(p.jsx)(U,{className:"img-fluid",type:"video",optionalAttr:{controls:!0,autoPlay:!1},appData:r,unsignedUrl:"".concat(a,"/").concat(e.url)}):["mp3","ogg","wav"].includes(t)?Object(p.jsx)(U,{className:"audioThumb",type:"audio",optionalAttr:{controls:!0,autoPlay:!1},appData:r,unsignedUrl:"".concat(a,"/").concat(e.url)}):["pdf"].includes(t)?Object(p.jsx)(U,{appData:r,unsignedUrl:"".concat(a,"/").concat(e.url),children:Object(p.jsx)("i",{className:"fa fa-file-pdf-o noPreview"})}):Object(p.jsx)(U,{className:"img-fluid",appData:r,unsignedUrl:"".concat(a,"/").concat(e.url),children:Object(p.jsx)("i",{className:"fa fa-picture-o noPreview"})})};return Object(p.jsx)("div",{className:"thumbnail-height",children:s(t)})},Jt=["bucket","data","directory","selectedId","onCreateFolder","onDeleteFolder","onRename","onDownload","isDirectory"];var $t=function(e){var t=e.bucket,a=e.data,r=e.directory,o=e.selectedId,b=e.onCreateFolder,j=e.onDeleteFolder,m=e.onRename,f=e.onDownload,O=e.isDirectory,_=Object(u.a)(e,Jt),x=Object(l.useState)("table"),g=Object(c.a)(x,2),v=g[0],y=g[1],N=Object(l.useState)(""),D=Object(c.a)(N,2),w=D[0],S=D[1],T=Object(l.useState)(!1),k=Object(c.a)(T,2),P=k[0],C=k[1],E=Object(l.useState)(!1),M=Object(c.a)(E,2),A=M[0],I=M[1],R=Object(l.useState)({}),B=Object(c.a)(R,2),L=B[0],Y=B[1],U=Object(l.useContext)(h),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return"".concat(parseFloat((e/Math.pow(a,r)).toFixed(n))," ").concat(c[r])},K=function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("clipboard"in navigator)){e.next=6;break}return e.next=3,navigator.clipboard.writeText(t);case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",document.execCommand("copy",!0,t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){C(!1),I(!1)};Object(l.useEffect)((function(){W();var e=r,t=(e=e.split("/")).filter((function(t,a){return a<(O?e.length-2:e.length-1)})).join("/"),a=O?e[e.length-2]:e[e.length-1];Y({path:t,value:a})}),[r,O]);var q,H=function(){return P?r:L.path};return Object(p.jsxs)("div",{className:"tableGrid",children:[Object(p.jsxs)("div",{className:"headerGrid",children:[!P&&!A&&Object(p.jsx)("div",{className:"dirLabel",children:r&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("i",{className:"fa fa-folder-open px-2"}),Object(p.jsx)("span",{children:r})]})}),(P||A)&&Object(p.jsxs)("div",{className:"input-group input-group-sm",children:[Object(p.jsx)(be.a,{placement:"top",overlay:(q=H(),Object(p.jsx)(ue.a,Object(d.a)(Object(d.a)({id:"button-tooltip-1",className:"in show"},_),{},{children:q}))),triggerType:"hover",children:Object(p.jsxs)("span",{className:"input-group-text",children:[Object(p.jsx)("i",{className:"fa fa-folder-open px-2"})," ",H()]})}),Object(p.jsx)("input",{type:"text",autoFocus:!0,onFocus:function(e){return S(e.target.value)},placeholder:P?"New folder":"Rename file or folder",defaultValue:A?L.value:"",onChange:function(e){return S(e.target.value)},className:"form-control"}),Object(p.jsxs)(p.Fragment,{children:[P&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){w?(b(o,w),C(!1),S("")):U.renderToast({type:"error",icon:"fa fa-times-circle",message:"Folder name can`t be empty!"})},type:"button",children:Object(p.jsx)("i",{className:"fa fa-upload"})}),Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){return W()},type:"button",children:Object(p.jsx)("i",{className:"fa fa-undo"})})]}),A&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){return function(){var e=L.path?"".concat(L.path,"/"):"";if(w){var t={oldKey:"".concat(e).concat(L.value),newKey:"".concat(e).concat(w)};m(t,o,O)}else U.renderToast({type:"error",icon:"fa fa-times-circle",message:"field can`t be empty!"})}()},type:"button",children:Object(p.jsx)("i",{className:"fa fa-font"})}),Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){return W()},type:"button",children:Object(p.jsx)("i",{className:"fa fa-undo"})})]})]})]}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"text-end",children:[O&&!P&&Object(p.jsx)("i",{className:"fa fa-plus viewButtons",onClick:function(){I(!1),C(!0)}}),a.length>0&&!A&&Object(p.jsx)("i",{className:"fa fa-font viewButtons",onClick:function(){C(!1),I(!0)}}),a.length>0&&Object(p.jsx)("i",{className:"fa fa-trash viewButtons",onClick:function(){return j(o)}}),Object(p.jsx)("i",{className:"fa fa-list viewButtons",onClick:function(){return y("list")}}),Object(p.jsx)("i",{className:"fa fa-table viewButtons",onClick:function(){return y("table")}})]})})]}),Object(p.jsxs)("div",{className:"gridWrapper",children:[Object(p.jsxs)("div",{className:"responsive-gallery-grid ".concat(v,"-grid"),children:["list"===v&&a.length>0&&Object(p.jsxs)("div",{className:"child ".concat(v,"-child"),children:[Object(p.jsx)("div",{className:"title ps-2",children:"File"}),Object(p.jsx)("div",{className:"title ps-2",children:"Size"}),Object(p.jsx)("div",{className:"title ps-2",children:"Last modified"})]}),a.length>0&&a.map((function(e,a){return Object(p.jsx)(i.a.Fragment,{children:e.size>0&&Object(p.jsxs)("div",{className:"child ".concat(v,"-child"),children:[Object(p.jsx)("div",{className:"".concat("table"===v?"text-center":""),children:Object(p.jsxs)("div",{className:"copyable",children:[Object(p.jsx)("i",{onClick:function(){return a="".concat(t,"/").concat(e.label),void K(a).then((function(){U.renderToast({message:"".concat(a," copied to clipboard..")})})).catch((function(e){console.log(e)}));var a},title:"Copy to clipboard",className:"fa fa-copy btn btn-sm btn-secondary"}),Object(p.jsx)("span",{className:"ellipsis ".concat("table"===v?"text-center":""),children:e.label.split("/").slice(-1)}),Object(p.jsx)("i",{onClick:function(){return f("".concat(t,"/").concat(e.label))},className:"fa fa-download btn btn-sm btn-secondary"})]})}),"table"===v&&Object(p.jsx)(Gt,{bucket:t,object:e}),"table"===v?Object(p.jsxs)("div",{className:"copyable info",children:[Object(p.jsx)("div",{className:"text-center",children:"".concat(F(e.size))}),Object(p.jsx)("div",{className:"text-center",children:Ue()(e.lastModified).format("MMM Do YYYY, h:mm:ss a")})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"ps-2",children:"".concat(F(e.size))}),Object(p.jsx)("div",{className:"ps-2",children:Ue()(e.lastModified).format("MMM Do YYYY, h:mm:ss a")})]})]})},a)}))]}),""===r&&Object(p.jsxs)("div",{className:"p-5 text-center",children:[Object(p.jsx)("i",{className:"fa fa-file fa-3x py-3"}),Object(p.jsx)("div",{children:"Select a file or folder to view them.."})]})]})]})},Zt=["confirmationstring","handleHide","handleYes"];var Xt=function(e){var t=Object(l.useContext)(h),a=e.confirmationstring,n=e.handleHide,c=e.handleYes,r=Object(u.a)(e,Zt);return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},r),{},{style:{zIndex:9999},children:[Object(p.jsx)(me.a.Header,{children:Object(p.jsx)(me.a.Title,{children:a})}),Object(p.jsxs)(me.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:[Object(p.jsx)("p",{className:"text-center",children:"This action cannot be undone!"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6 text-center",children:Object(p.jsx)("button",{onClick:function(){return c()},className:"btn btn-bni",children:Object(p.jsx)("i",{className:"fa fa-thumbs-o-up"})})}),Object(p.jsx)("div",{className:"col-6 text-center",children:Object(p.jsx)("button",{onClick:function(){return n()},className:"btn btn-bni dark",children:Object(p.jsx)("i",{className:"fa fa-thumbs-o-down"})})})]})]})]}))},Qt=a(822),ea=a(29),ta=a.n(ea),aa=(a(655),a(845));var na=function(e){var t=Object(l.useContext)(b),a=Object(c.a)(t,1)[0],n=Object(l.useContext)(h),r=Object(l.useState)([]),s=Object(c.a)(r,2),i=s[0],o=s[1],u=Object(l.useState)([]),j=Object(c.a)(u,2),m=j[0],f=j[1],O=Object(l.useState)(""),_=Object(c.a)(O,2),x=_[0],g=_[1],v=Object(l.useState)(!1),y=Object(c.a)(v,2),N=y[0],D=y[1],w=Object(l.useState)(""),S=Object(c.a)(w,2),T=S[0],k=S[1],P=Object(l.useState)(""),C=Object(c.a)(P,2),E=C[0],M=C[1],A=Object(l.useState)([]),R=Object(c.a)(A,2),B=R[0],L=R[1],Y=Object(l.useState)(!1),U=Object(c.a)(Y,2),F=U[0],K=U[1],W=Object(l.useState)({}),q=Object(c.a)(W,2),H=q[0],V=q[1],z=Object(l.useState)(!1),Z=Object(c.a)(z,2),X=Z[0],Q=Z[1],ee=Object(l.useState)(!0),te=Object(c.a)(ee,2),ae=te[0],ne=te[1];Object(l.useEffect)((function(){ce()}),[]);var ce=function(){new I(a).fetchFileFolder({Prefix:""}).then((function(e){if(ne(!0),e.Contents){var t=e.Contents.filter((function(e){return"/"!==e.Key.slice(-1)})),a=se(t);o(a)}else{var n=Object(aa.a)(),c=[{Key:"SampleFolder/Samplefile.txt",LastModified:new Date,ETag:n,Size:0}],r=se(c);o(r)}Q(!0)})).catch((function(e){Q(!1)})).finally((function(){return ne(!1)}))},re=function(e){return e.split("/").pop().indexOf(".")>-1};Object(l.useEffect)((function(){var e=Object($.a)(m.map((function(e){return e.title})));if(e.length>0){var t=re(e.join("/"))?e.join("/"):"".concat(e.join("/"),"/");g(t);var c=!re(e.join("/"));D(c),L([]),new I(a).fetchFileFolder({Prefix:t}).then((function(e){var t=e.Contents&&e.Contents.length?e.Contents.map((function(e){return{label:e.Key,url:e.Key,lastModified:e.LastModified,size:e.Size,tag:e.ETag}})):[];L(t)})).catch((function(){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to fetch file folders"})}))}}),[JSON.stringify(m)]);var se=function(e){var t=[],a={z:t};return e.forEach((function(e,t){var n=e.Key.split("/");n.reduce((function(e,t){return e[t]||(e[t]={z:[]},e.z.push(Object(d.a)({key:Object(aa.a)(),title:t},n[n.length-1]!==t&&{children:e[t].z}))),e[t]}),a)})),t},le=function e(t,a){if(t.key===a)return[];if(Array.isArray(t.children)){var n,c=Object(qt.a)(t.children);try{for(c.s();!(n=c.n()).done;){var r=n.value,s=e(r,a);if(Array.isArray(s))return[r].concat(s)}}catch(l){c.e(l)}finally{c.f()}}},ie=function(e){e[0]&&(f(le({children:Object($.a)(i)},e[0])),k(e[0]))},oe=function e(t,a,n,c){return Array.isArray(n)&&n.forEach((function(n){n.key===t?n.children&&"folder"===c?n.children=[].concat(Object($.a)(n.children),[a]):"file"===c&&n.children.push(a):e(t,a,n.children,c)})),n},de=function e(t,a,n){return Array.isArray(n)&&n.forEach((function(n){n.key===t?n.title=a:e(t,a,n.children)})),n},ue=function(e,t,a){var n=Object(aa.a)(),c=Object(d.a)({key:n,title:t},a&&{children:[]}),r=Object($.a)(i),s=oe(e,c,r,a);o(s),ie([n])},be=function e(t,a){return Array.isArray(a)&&a.forEach((function(n,c){n.key===t?a.splice(c,1):e(t,n.children)})),a},je=function(){new I(a).deleteFolder(x,(function(e){"success"===e.status?n.renderToast({message:"".concat(N?"Folder":"File"," successfully deleted")}):n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to delete folder"})}));var e=Object($.a)(i),t=be(E,e);o(t),K(!1),pe()},me=function(e,t,c){var r=N?"Folder":"File";(c?new I(a).renameFolder(e):new I(a).renameFile(e)).then((function(){n.renderToast({message:"".concat(r," renamed successfully..")})})).catch((function(){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to rename ".concat(r,". Please try again..")})})).finally((function(){return setTimeout((function(){var a=Object($.a)(i),n=de(t,e.newKey.split("/").slice(-1),a);o(n),ie([t])}),1e3)}))},pe=function(){f([]),g(""),k(""),M(""),L([]),D(!1)},he=function(){return new I(a).getBuckeName()};return ae?Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsxs)("div",{className:"galleryContainer",children:[F&&Object(p.jsx)(Xt,{show:F,confirmationstring:"Are you sure to delete ".concat(N?"folder":"file"," ?"),handleHide:function(){K(!1),M("")},handleYes:function(){return je()},size:"md",animation:!1}),X?Object(p.jsxs)("div",{className:"row ms-0 me-0",children:[Object(p.jsxs)("div",{className:"col-lg-3 col-md-4 leftPane",children:[Object(p.jsx)("div",{className:"bucketName btn-bni m-2",children:he()}),Object(p.jsx)("div",{className:"listContainer",children:i.length>0&&Object(p.jsx)(Qt.a,{treeData:i,icon:function(e){var t=e.data;return Object(p.jsx)("i",{className:ta()("fa fa-folder icon",!t.children&&"fa fa-file icon")})},showLine:!0,checkable:!1,selectable:!0,onSelect:ie,selectedKeys:[T],defaultExpandAll:!0},T)})]}),Object(p.jsxs)("div",{className:"col-lg-9 col-md-8 rightPane",children:[Object(p.jsx)(zt,{breadCrumbs:m,onBreadClick:function(e){ie([e.key])}}),Object(p.jsx)(Vt,{isDirectory:N,handleupload:function(e){return function(e){try{e.forEach((function(e){var t={Key:"".concat(x).concat(e.name),Body:e,ContentType:e.type},c=new I(a).uploadFile(t);c.on("httpUploadProgress",(function(e){V(e),e.loaded===e.total&&ue(T,e.Key.split("/").slice(-1),"file")})),c.done().then((function(t){n.renderToast({message:"".concat(e.name," uploaded successfully..")})})).catch((function(t){console.error("bbb",t),n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to upload ".concat(e.name,". Please try again..")})}))}))}catch(t){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to start upload. Please try again.."})}}(e)},progress:H}),Object(p.jsx)($t,{bucket:he(),data:B,directory:x,selectedId:T,onCreateFolder:function(e,t){return ue(e,t,"folder")},isDirectory:N,onDeleteFolder:function(e){K(!0),M(e)},onRename:function(e,t,a){return me(e,t,a)},onDownload:function(e){return t=e,void new I(a).downloadToBrowser(t);var t}},1)]})]}):Object(p.jsxs)("div",{className:"mt-5 p-5 text-center rounded-3",children:[Object(p.jsx)("i",{className:"fa fa-times-circle fa-3x text-danger"}),Object(p.jsx)("h4",{children:"AWS S3 configuration is invalid"}),Object(p.jsx)("h5",{children:"Please check you have correctly configured connection parameters!"})]})]})},ca=a(656),ra=a.n(ca),sa=a(847),la=a(848),ia=a(659),oa=a.n(ia);var da=function(e){var t=Object(l.useContext)(h),a=Object(l.useState)([]),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(l.useState)(!1),o=Object(c.a)(i,2),u=o[0],b=o[1],m=Object(l.useState)([]),f=Object(c.a)(m,2),O=f[0],_=f[1],x=Object(l.useState)([]),g=Object(c.a)(x,2),v=g[0],y=g[1],N=Object(l.useState)("Create"),D=Object(c.a)(N,2),w=D[0],S=D[1],T=Object(l.useState)(!1),k=Object(c.a)(T,2),P=k[0],C=k[1],E=Object(l.useState)({}),M=Object(c.a)(E,2),A=M[0],I=M[1],R=Object(l.useState)({}),B=Object(c.a)(R,2),L=B[0],Y=B[1],U=Object(l.useState)({mode:"Create",icon:"fa fa-plus"}),F=Object(c.a)(U,2),K=F[0],W=F[1],q=Object(l.useState)(!1),H=Object(c.a)(q,2),V=H[0],z=H[1],Z=Object(l.useState)(!0),X=Object(c.a)(Z,2),Q=X[0],ee=X[1],te=/([A-Z])/g,ae=/([a-z])/g,ne=/([\d])/g,ce=/([\!\@\#\$\%\^\&\*])/g,re=/([\w\d\!\@\#\$\%\^\&\*])\1{2,}/g,se=function(e){var t=e.match(te),a=e.match(ae),n=e.match(ne),c=e.match(ce),r=e.match(re);return e.length>=8&&!r&&t&&t.length>=2&&a&&a.length>=2&&n&&n.length>=2&&c&&c.length>=2};Object(l.useEffect)((function(){return oe(),le(),function(){be()}}),[]);var le=function(){de.a.post("fetchAccessLevels").then((function(e){var t=e.data.response;y(t);var a=ie.map((function(e){return"user_type"===e.id&&(e.list=t.map((function(e){return{value:e.access_id,label:e.access_label}}))),e}));s(a)})).catch((function(){return t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Unable to fetch levels. Please try again."})})).finally((function(){return b(!1)}))},oe=function(){b(!0),de.a.post("fetchUsers").then((function(e){_(e.data.response)})).catch((function(){return t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Unable to fetch users. Please try again."})})).finally((function(){return b(!1)}))},ue=function(e,a,n){b(!0);var c=new FormData;c.append("postData",JSON.stringify(e));var r=de.a.post("/postBackend",c),s=Q&&n.length>0?function(e){var t=new FormData;return t.append("email",e.filter((function(e){return"user_email"===e.id}))[0].value),t.append("userName",e.filter((function(e){return"user_name"===e.id}))[0].value),t.append("password",e.filter((function(e){return"user_password"===e.id}))[0].value),de.a.post("sendUserInfo",t)}(n):1,l=[r,s];Promise.all(l).then((function(e){e[0].data.response&&t.renderToast({message:a})})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again."})})).finally((function(){be(),oe(),b(!1),C(!1)}))},be=function(){var e=Object($.a)(r);e=e.map((function(e){return e.value="",e})),b(!0),s([]),setTimeout((function(){s(e),b(!1),S("Create")}),1e3)},je=function(){W({id:"",label:"",value:"",mode:"Create",icon:"fa fa-plus"})};return Object(p.jsxs)("div",{className:"container-fluid mt-3",children:[Object(p.jsx)(Xt,{show:P,confirmationstring:"Are you sure to delete user ".concat(A.user_display_name,"?"),handleHide:function(){C(!1),I({})},handleYes:function(){return function(){var e={Table:"users",deleteData:[A.user_id]};ue(e,"User successfully deleted",[])}()},size:"md"}),Object(p.jsx)(Xt,{show:V,confirmationstring:"Are you sure to delete access ".concat(L.access_label,"?"),handleHide:function(){z(!1),Y({})},handleYes:function(){return function(){b(!0);var e=new FormData;e.append("accessId",L.access_id),de.a.post("/deleteAccessLevel",e).then((function(e){e.data.response&&(be(),le(),t.renderToast({message:"Access level deleted"}))})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Hope ".concat(L.access_label," access has some associations with page and user level. Delete them first.")})})).finally((function(){b(!1),z(!1),je(),be()}))}()},size:"md"}),u?Object(p.jsx)("div",{className:"text-center mt-100",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-lg-3",children:[Object(p.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(p.jsxs)("p",{className:"",children:[w," User"]}),"Create"!==w&&Object(p.jsx)("button",{title:"Reset",onClick:function(){return be()},className:"btn btn-sm btn-secondary rounded-circle",children:Object(p.jsx)("i",{className:"fa fa-undo"})})]}),Object(p.jsx)("div",{className:"d-grid",children:Object(p.jsxs)(Mt.a,{onClick:function(){var e=Object($.a)(r),t=function(){for(var e="",t=Math.floor(12*Math.random())+8;!se(e);)e=oa()(t,!1,/[\w\d\!\@\#\$\%\^\&\*]/);return e}();e=e.map((function(e){return"user_password"===e.id&&(e.value=t),e})),s([]),b(!0),setTimeout((function(){s(e),b(!1)}),1e3)},size:"sm",children:[Object(p.jsx)("i",{className:"fa fa-key"})," Generate Password"]})}),Object(p.jsxs)("div",{className:"position-relative",children:[r.length&&Object(p.jsx)(Ft,{parentClassName:"reactive-form text-dark",structure:r,onChange:function(e,t){return function(e,t){var a=Object($.a)(r);a=a.map((function(a){return a.id===e&&(a.value=t),a})),s(a)}(e,t)},onSubmit:function(){var e=Object($.a)(r),a=e.map((function(e){return Object(j.a)({},e.id,"user_password"===e.id?ra()(e.value):e.value)}));a=Object.assign.apply(Object,[{}].concat(Object($.a)(a)));var n={Create:{key:"insertData",responseString:"User successfully created.."},Update:{key:"updateData",responseString:"User successfully updated.."}},c=Object(j.a)({Table:"users"},n[w].key,[a]);"insertData"===n[w].key?function(e,t){var a=new FormData;return a.append("username",e),a.append("email",t),de.a.post("checkUserExists",a)}(a.user_name,a.user_email).then((function(a){a.data.response?t.renderToast({type:"error",icon:"fa fa-times-circle",message:"This user already exist. Please try another user name or email.."}):ue(c,n[w].responseString,e)})).catch((function(e){console.log("bbb",e),t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Unable to validate user. Please try again.."})})):ue(c,n[w].responseString,e)},submitBtnLabel:w}),Object(p.jsxs)("div",{className:"form-check position-absolute",style:{bottom:"15px"},children:[Object(p.jsx)("input",{className:"form-check-input",type:"checkbox",defaultChecked:Q,onChange:function(e){return ee(e.target.checked)},id:"sendMailCheck"}),Object(p.jsx)("label",{className:"form-check-label",htmlFor:"sendMailCheck",children:"Notify user on mail"})]})]})]}),Object(p.jsxs)("div",{className:"col-lg-6",children:[Object(p.jsx)("p",{className:"",children:"Users List"}),O.length>0&&Object(p.jsx)("div",{className:"table-responsive pb-2 mb-3",children:Object(p.jsxs)("table",{className:"table table-striped table-light table-sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"text-truncate",children:"Action"}),Object(p.jsx)("th",{className:"text-truncate",children:"User Name"}),Object(p.jsx)("th",{className:"text-truncate",children:"Display Name"}),Object(p.jsx)("th",{className:"text-truncate",children:"Profile Name"}),Object(p.jsx)("th",{className:"text-truncate",children:"Email"}),Object(p.jsx)("th",{className:"text-truncate",children:"Mobile"}),Object(p.jsx)("th",{className:"text-truncate",children:"Image"}),Object(p.jsx)("th",{className:"text-truncate",children:"Type"})]})}),Object(p.jsx)("tbody",{children:O.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{className:"p-2 text-center",children:[Object(p.jsx)("i",{onClick:function(){return function(e){s([]);var t=Object($.a)(r);t=t.map((function(t){return e.hasOwnProperty(t.id)?(t.value=e[t.id],"user_type"===t.id&&(t.value=v.filter((function(t){return t.access_label===String(e.user_type)}))[0].access_id||"")):t.value="",t})),s([]),b(!0),setTimeout((function(){s(t),b(!1),S("Update")}),1e3)}(e)},className:"fa fa-pencil text-success cursor-pointer ".concat("0"===e.user_is_founder?"me-2":"")}),"0"===e.user_is_founder&&Object(p.jsx)("i",{onClick:function(){return I(e),void C(!0)},className:"fa fa-times text-danger cursor-pointer"})]}),Object(p.jsx)("td",{className:"text-truncate",children:e.user_name}),Object(p.jsx)("td",{className:"text-truncate",children:e.user_display_name}),Object(p.jsx)("td",{className:"text-truncate",children:e.user_profile_name}),Object(p.jsx)("td",{className:"text-truncate",children:e.user_email}),Object(p.jsx)("td",{className:"text-truncate",children:e.user_mobile}),Object(p.jsx)("td",{className:"text-truncate",children:e.user_image_url}),Object(p.jsx)("td",{className:"text-truncate",children:e.user_type})]},t)}))})]})})]}),Object(p.jsxs)("div",{className:"col-lg-3",children:[Object(p.jsx)("p",{className:"",children:"Create Access Level"}),Object(p.jsxs)(sa.a,{size:"sm",className:"pb-2",children:[Object(p.jsx)(la.a,{placeholder:"Access Label",value:K.label,onChange:function(e){return W((function(t){return Object(d.a)(Object(d.a)(Object(d.a)({},t),"Create"===K.mode&&{id:""}),{},{label:e.target.value})}))}}),Object(p.jsx)(la.a,{placeholder:"Access Value",value:K.value,onChange:function(e){return W((function(t){return Object(d.a)(Object(d.a)(Object(d.a)({},t),"Create"===K.mode&&{id:""}),{},{value:e.target.value})}))}}),Object(p.jsxs)(Mt.a,{variant:"primary",disabled:!(K.label&&K.value),onClick:function(){return function(){b(!0);var e=""===K.id?"added":"updated",a=new FormData;a.append("accessId",K.id),a.append("accessLabel",K.label),a.append("accessValue",K.value),de.a.post("/saveOrUpdateAccessLevel",a).then((function(a){a.data.response&&(le(),t.renderToast({message:"Access level successfully ".concat(e)}))})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Some thing went wrong. Please try again.."})})).finally((function(){b(!1),be(),je()}))}()},children:[Object(p.jsx)("i",{className:K.icon})," ",K.mode]}),K.label&&K.value&&Object(p.jsx)(Mt.a,{variant:"danger",onClick:function(){return je()},children:Object(p.jsx)("i",{className:"fa fa-undo",title:"Reset?"})})]}),Object(p.jsx)("p",{className:"",children:"Access List"}),Object(p.jsx)("div",{className:"table-responsive",children:Object(p.jsxs)("table",{className:"table table-striped table-light table-sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"text-truncate",children:"Action"}),Object(p.jsx)("th",{className:"text-truncate",children:"Label"}),Object(p.jsx)("th",{className:"text-truncate",children:"Value"})]})}),Object(p.jsx)("tbody",{children:v.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{className:"p-2",children:[["superAdmin","admin"].includes(e.access_value)?Object(p.jsx)("i",{className:"fa fa-ban text-danger pe-2"}):Object(p.jsx)("i",{onClick:function(){return function(e){W({id:e.access_id,label:e.access_label,value:e.access_value,mode:"Update",icon:"fa fa-pencil"})}(e)},className:"fa fa-pencil text-success cursor-pointer me-2"}),!["superAdmin","admin"].includes(e.access_value)&&Object(p.jsx)("i",{onClick:function(){return Y(e),void z(!0)},className:"fa fa-times text-danger cursor-pointer"})]}),Object(p.jsx)("td",{children:e.access_label}),Object(p.jsx)("td",{children:e.access_value})]},t)}))})]})})]})]})]})},ua=function(e){var t=Object(l.useContext)(h),a=Object(l.useState)(""),n=Object(c.a)(a,2),r=n[0],s=n[1],o=[{id:0,label:"Config",component:Wt,help:{heading:"Config help",points:["Google API: To integrate google maps and google based apps in your application.","Web defauts: This is the core crux which decides how your application looks. You can leave text boxes with a slash(/) if not required or to disable that feature.","AWS: Here you can declare your AWS S3 bucket credentials, to load images and videos in your application. AWS is lightning fast. Note: Stay safe that all your declared credentials are end to end encrypted.","Social media: Allow your users to view your walls and blogs like facebook, Twitter, LinkedIn and Instagram."]}},{id:1,label:"Users",component:da,help:{heading:"Users help",points:["Set users to handle and maintain your application","Super Admin is added by default. Create access levels that fits your organization","Super Admin has access to control entire application (settings & layout design). Confirm before giving access to a user.","CRUD operations are available (create, update and delete users) for Super Admin only","Edit user requires new password to be set for security purpose. Please inform the updated user on his/her new password.","Once users created, they can login on clicking the top right dropdown menu in global header"]}},{id:2,label:"AWS S3 Gallery",component:na,help:{heading:"Gallery help",points:["AWS S3 bucket is used to access media files in your application.","These files can be maintained in your Gallery module with CRUD operations","Plese follow the steps, clearly defined in the help content in config form","Please take a backup of your credentials and keep them safe. Once forgotten or lost, it can never be brought back.","You can maintain multiple buckets in your application, but can be viewed 1 at a time in AWS S3 module","We use signed URL's, to load your media files for security purpose","You can copy the location of your file (from AWS s3 module) which can be placed in your config area for loading media files.",'For more details about AWS S3 visit <a target="_blank" href="https://aws.amazon.com/s3/" class="btn-link">https://aws.amazon.com/s3/</a>']}}];function d(e){var a=e.children,n=e.eventKey,c=e.eventLabel,r=Object(Ae.b)(n,(function(){return s(c)}));return Object(p.jsx)("button",{type:"button",className:"col-11 text-start btn ".concat("dark"===t.userData.theme?"btn-dark":"btn-white"),onClick:r,children:a})}return Object(p.jsxs)("section",{className:"pt-5",children:[Object(p.jsx)("div",{className:"pt-4",children:Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("h2",{className:"",children:"Settings"}),Object(p.jsx)("hr",{className:"my-3"}),Object(p.jsx)("i",{className:"fa fa-gears fa-2x py-2"}),Object(p.jsx)("p",{className:"",children:"Configure your appliation settings"})]})}),Object(p.jsx)("div",{className:"settings",children:Object(p.jsx)("div",{className:"",children:Object(p.jsx)(Ie.a,{bsPrefix:"util",defaultActiveKey:-1,className:"",children:o.map((function(e,a){return Object(p.jsxs)(Re.a,{className:"my-2 ".concat("dark"===t.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:[Object(p.jsxs)(Re.a.Header,{className:"row m-0",children:[Object(p.jsx)(d,{eventLabel:e.label,eventKey:e.id,children:e.label}),Object(p.jsx)(Rt,{className:"text-center ".concat("dark"===t.userData.theme?"bg-dark text-white-50":"bg-light text-black"),btnValue:"<i class='fa fa-question-circle' />",btnClassName:"col-1 btn btn-sm ".concat("dark"===t.userData.theme?"text-light":"text-dark"),placement:"end",label:e.help.heading,children:e.help.points.length>0&&Object(p.jsx)("ul",{className:"list-group list-group-flush",children:e.help.points.map((function(e,a){return Object(p.jsx)("li",{className:"list-group-item ".concat("dark"===t.userData.theme?"bg-dark text-white-50":"bg-light text-black"),dangerouslySetInnerHTML:{__html:e}},a)}))})},e.id)]}),Object(p.jsx)(Ie.a.Collapse,{eventKey:e.id,children:Object(p.jsx)(Re.a.Body,{className:"p-2",children:e.label===r&&i.a.createElement(e.component)})})]},e.id)}))})})})]})};ua.defaultProps={property:"String name"};var ba=ua;var ja=function(e){return Object(p.jsx)("div",{className:"mt-3",children:Object(p.jsx)("div",{className:"p-5 bg-danger bg-gradient rounded text-center",children:"Hey.. Welcome to Bharani\u2018s private portal.."})})};var ma=function(e){var t=e.appData,a=Object(l.useContext)(h),n=Object(l.useState)(!1),r=Object(c.a)(n,2),s=r[0],d=r[1];return Object(l.useEffect)((function(){if(a.userData.type){var e=[{page_id:"0",hasAccessTo:["public","admin","superAdmin"],href:"/",label:"Home",component:ja},{page_id:"1",hasAccessTo:["superAdmin"],href:"/moneyPlanner",label:"Money Planner",component:Pt},{page_id:"2",hasAccessTo:["superAdmin"],href:"/settings",label:"Settings",component:ba}].filter((function(e){return e.hasAccessTo.includes(a.userData.type)}));a.updateUserData("menu",e)}}),[a.userData.type]),Object(p.jsx)(i.a.Fragment,{children:Object.keys(t).length>0&&a.userData.menu&&a.userData.menu.length>0&&Object(p.jsx)(o.c,{history:V,children:Object(p.jsxs)("div",{className:"application-wrapper ".concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark":"bg-light"),children:[Object(p.jsx)("div",{className:""}),Object(p.jsxs)("div",{className:"application-content ".concat(t.webMenuType),children:[Object(p.jsxs)("div",{className:"menu-wrapper d-print-none p-0 ".concat(["sideMenuRight","sideMenuLeft"].includes(t.webMenuType)?"col-sm-2":""),children:[Object(p.jsx)("div",{className:"fixed-content",children:Object(p.jsx)(q,{appData:t})}),Object(p.jsx)(K,{onNavBarToggle:function(){d(!s)},navBarExpanded:s,onNavBarClose:function(){d(!1)},appData:t})]}),Object(p.jsx)("div",{style:{opacity:a.userData.videoShown?.9:1},className:"wrapper ".concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark text-light":"bg-light text-dark"," p-0 ").concat(t.webMenuType," ").concat(["sideMenuRight","sideMenuLeft"].includes(t.webMenuType)?"col-sm-10":"col-sm-12"),children:Object(p.jsx)(v,{})})]}),Object(p.jsx)("div",{className:""})]})})})},pa=a(744),ha=a.n(pa);var fa=function(e){var t=Object(l.useContext)(h),a=e.onToggle,n=e.onClose,r=e.onSuccess,s=Object(l.useState)(""),i=Object(c.a)(s,2),o=i[0],d=i[1],u=Object(l.useState)(""),b=Object(c.a)(u,2),j=b[0],m=b[1],f=Object(l.useState)(!1),O=Object(c.a)(f,2),_=O[0],x=O[1],g=Object(l.useState)(!1),v=Object(c.a)(g,2),y=v[0],N=v[1],D=function(e){13!==e.which&&13!==e.keyCode||w()},w=function(){N(!0);var e=new FormData;e.append("username",o),e.append("password",j),de.a.post("/validateUser",e).then((function(e){var a=e.data.response;if(a){var c={userId:a.user_id,type:a.user_type,email:a.user_email,name:a.user_display_name,imageUrl:a.user_image_url};r(c),n()}else t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Invalid user or password"})})).catch((function(e){console.log("bbb",e),t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){return N(!1)}))};return Object(p.jsx)("div",{children:y?Object(p.jsx)("div",{className:"login-loader text-center",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-lg-12 py-2",children:Object(p.jsxs)("div",{className:"form-floating",children:[Object(p.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"text",id:"username",className:"form-control",onKeyDown:function(e){return D(e)},placeholder:"User name"}),Object(p.jsx)("label",{htmlFor:"username",children:"User name"})]})}),Object(p.jsx)("div",{className:"col-lg-12 py-2",children:Object(p.jsxs)("div",{className:"form-floating passwordArea",children:[Object(p.jsx)("input",{onChange:function(e){return m(e.target.value)},type:_?"text":"password",id:"userPassword",className:"form-control",onKeyDown:function(e){return D(e)},placeholder:"Password"}),Object(p.jsx)("i",{onClick:function(){return x(!_)},className:"fa fa-".concat(_?"eye-slash":"eye")}),Object(p.jsx)("label",{htmlFor:"userPassword",children:"Password"})]})}),Object(p.jsx)("div",{className:"pt-3 col-lg-12 text-center",children:Object(p.jsxs)("div",{className:"d-grid",children:[Object(p.jsx)("button",{onClick:function(){return a("Change password")},className:"btn btn-sm btn-primary mb-2",children:"Change Password"}),Object(p.jsx)("button",{onClick:function(){return a("Reset password")},className:"btn btn-sm btn-danger",children:"Reset Password"})]})}),Object(p.jsx)("div",{className:"pt-3 col-lg-12",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-lg-6 pb-3",children:Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{onClick:function(){return w()},className:"btn btn-bni",children:"Submit"})})}),Object(p.jsx)("div",{className:"col-lg-6",children:Object(p.jsx)("div",{className:"d-grid gap-2",children:Object(p.jsx)("button",{onClick:n,className:"btn btn-secondary",children:"Cancel"})})})]})})]})})};var Oa=function(e){var t=e.onClose,a=Object(l.useContext)(h),n=Object(l.useState)(""),r=Object(c.a)(n,2),s=r[0],i=r[1],o=Object(l.useState)(""),d=Object(c.a)(o,2),u=d[0],b=d[1],j=Object(l.useState)(!1),m=Object(c.a)(j,2),f=m[0],O=m[1],_=Object(l.useState)(!0),x=Object(c.a)(_,2),g=x[0],v=x[1],y=Object(l.useState)(!1),N=Object(c.a)(y,2),D=N[0],w=N[1],S=Object(l.useState)(null),T=Object(c.a)(S,2),k=T[0],P=T[1],C=Object(l.useState)(300),E=Object(c.a)(C,2),M=E[0],A=E[1];Object(l.useEffect)((function(){v(!new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/).test(s))}),[s]);var I=function e(){0===M?R(e):M--,A(M),setTimeout(e,1e3)},R=function(){clearTimeout(I)};Object(l.useEffect)((function(){D&&I()}),[D]);var B=function(){O(!0);var e=new FormData;e.append("email",s),de.a.post("/sendOtp",e).then((function(e){var t=e.data.response;t?(a.renderToast({message:"OTP successfully mailed to you.."}),P(t),w(!0)):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Error. Your mail is in-valid.."})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){O(!1)}))};return Object(p.jsx)("div",{children:f?Object(p.jsx)("div",{className:"login-loader text-center py-3",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsxs)("div",{children:[D?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"form-floating mb-3",children:[Object(p.jsx)("input",{onChange:function(e){b(e.target.value)},type:"number",className:"form-control",placeholder:"Type OTP",id:"otp"}),Object(p.jsx)("label",{htmlFor:"otp",children:"Type OTP"})]}),Object(p.jsx)("div",{className:"pb-2",children:Object(p.jsx)("button",{disabled:M>0,onClick:function(){return B()},className:"btn btn-sm btn-primary",children:"Resend OTP"})}),M>0&&Object(p.jsxs)("div",{className:"pb-2 text-danger fst-italic",children:["OTP expires in ",M," seconds"]})]}):Object(p.jsxs)("div",{className:"form-floating mb-3",children:[Object(p.jsx)("input",{onChange:function(e){i(e.target.value)},type:"email",className:"form-control",placeholder:"Your email..",id:"email"}),Object(p.jsx)("label",{htmlFor:"email",children:"Your email please"})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-lg-6 py-2",children:Object(p.jsx)("div",{className:"d-grid",children:D?Object(p.jsx)("button",{onClick:function(){return function(){O(!0);var e=new FormData;e.append("otp",u),e.append("id",k),e.append("email",s),de.a.post("/resetPassword",e).then((function(e){e.data.response?(a.renderToast({message:"Reset password successfully mailed to you.."}),t()):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Failed. OTP is in-valid or expired. Please try again.."})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){O(!1)}))}()},className:"btn btn-bni",children:"Send"}):Object(p.jsx)("button",{disabled:g,onClick:function(){return B()},className:"btn btn-bni",children:"Reset"})})}),Object(p.jsx)("div",{className:"col-lg-6 py-2",children:Object(p.jsx)("div",{className:"d-grid",children:Object(p.jsx)("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"})})})]})]})})},_a=["onClose"];var xa=function(e){var t=e.onClose,a=Object(u.a)(e,_a),n=Object(l.useContext)(h),r=Object(l.useState)(""),s=Object(c.a)(r,2),i=s[0],o=s[1],b=Object(l.useState)(""),j=Object(c.a)(b,2),m=j[0],f=j[1],O=Object(l.useState)(""),_=Object(c.a)(O,2),x=_[0],g=_[1],v=Object(l.useState)(""),y=Object(c.a)(v,2),N=y[0],D=y[1],w=Object(l.useState)(!1),S=Object(c.a)(w,2),T=S[0],k=S[1],P=Object(l.useState)(!0),C=Object(c.a)(P,2),E=C[0],M=C[1],A=Object(l.useState)(!1),I=Object(c.a)(A,2),R=I[0],B=I[1],L=Object(l.useState)(!1),Y=Object(c.a)(L,2),U=Y[0],F=Y[1],K=Object(l.useState)(!1),W=Object(c.a)(K,2),q=W[0],H=W[1];Object(l.useEffect)((function(){var e=[0===i.length,0===x.length,0===N.length,x!==N,!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/).test(x),!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/).test(N)];M(e.some((function(e){return!0===e})))}),[x,N,i]);var V=function(e,t,n){var c=function(){return t.length>1?Object(p.jsx)("ul",{style:{listStyle:"decimal",padding:"10px",textAlign:"left",margin:"5px"},children:t.map((function(e,t){return Object(p.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},t)}))}):Object(p.jsx)("div",{dangerouslySetInnerHTML:{__html:t[0]}})};return Object(p.jsx)(ue.a,Object(d.a)(Object(d.a)({style:{zIndex:1e4},id:"tooltip-".concat(n),className:"in show"},a),{},{children:Object(p.jsx)(c,{},"html-1")}))},z=function(e){var t=e.label,a=e.id;return Object(p.jsx)(be.a,{placement:"right",overlay:V(0,t,a),trigger:"click",children:Object(p.jsx)("i",{className:"fa fa-question-circle help text-secondary"})})};return Object(p.jsx)("div",{children:T?Object(p.jsx)("div",{className:"login-loader text-center",children:Object(p.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-lg-12 py-2",children:Object(p.jsxs)("div",{className:"form-floating",children:[Object(p.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"text",id:"username",className:"form-control"}),Object(p.jsx)("label",{htmlFor:"username",children:"User name"})]})}),Object(p.jsx)("div",{className:"col-12",children:Object(p.jsx)(z,{label:["Min 8 letters long","Atleast 1 Capital letter","Atleast 1 Special (!@#$%^&*_) character","Atleast 1 Number","All the above criteria are required"],id:1})}),Object(p.jsx)("div",{className:"col-lg-12 py-2",children:Object(p.jsxs)("div",{className:"form-floating passwordArea",children:[Object(p.jsx)("input",{onChange:function(e){f(e.target.value),B(!0)},type:"password",className:"form-control",placeholder:"Current Password",onBlur:function(e){return B(!0)},id:"currentPassword"}),R&&Object(p.jsx)("i",{className:"fa fa-".concat(m.length>0?"check good":"times bad")}),Object(p.jsx)("label",{htmlFor:"currentPassword",children:"Current Password"})]})}),Object(p.jsx)("div",{className:"col-lg-12  py-2",children:Object(p.jsxs)("div",{className:"form-floating passwordArea",children:[Object(p.jsx)("input",{onChange:function(e){g(e.target.value),F(!0)},type:"password",className:"form-control",placeholder:"New Password",onBlur:function(e){return F(!0)},id:"newPassword"}),U&&Object(p.jsx)("i",{className:"fa fa-".concat(x.length>0?"check good":"times bad")}),Object(p.jsx)("label",{htmlFor:"newPassword",children:"New Password"})]})}),Object(p.jsx)("div",{className:"col-lg-12 py-2",children:Object(p.jsxs)("div",{className:"form-floating passwordArea",children:[Object(p.jsx)("input",{onChange:function(e){D(e.target.value),H(!0)},type:"password",className:"form-control",placeholder:"Repeat Password",onBlur:function(e){return H(!0)},id:"repeatPassword"}),q&&Object(p.jsx)("i",{className:"fa fa-".concat(N.length>0&&N===x?"check good":"times bad")}),Object(p.jsx)("label",{htmlFor:"repeatPassword",children:"Re-type Password"})]})}),Object(p.jsx)("div",{className:"col-lg-12 py-2",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-lg-6 pb-3",children:Object(p.jsx)("div",{className:"d-grid",children:Object(p.jsx)("button",{disabled:E,onClick:function(){return function(){k(!0);var e=new FormData;e.append("userName",i),e.append("currentPass",m),e.append("newPass",x),e.append("repeatPass",N),de.a.post("/changePassword",e).then((function(e){e.data.response.status?(n.renderToast({message:"Password successfully changed.."}),t()):n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Password change failed. In-valid credentials.."})})).catch((function(){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){k(!1),g(""),D("")}))}()},className:"btn btn-bni",children:"Submit"})})}),Object(p.jsx)("div",{className:"col-lg-6",children:Object(p.jsx)("div",{className:"d-grid",children:Object(p.jsx)("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"})})})]})})]})})};var ga=function(e){var t=e.onClose,a=e.onSuccess,n=Object(l.useContext)(h),r=Object(l.useState)("Admin login"),s=Object(c.a)(r,2),i=s[0],o=s[1];return Object(p.jsxs)(me.a,Object(d.a)(Object(d.a)({},e),{},{className:"",size:"sm",centered:!0,children:[Object(p.jsx)(me.a.Header,{children:Object(p.jsxs)(me.a.Title,{children:["Admin login"!==i&&Object(p.jsx)("button",{onClick:function(){return o("Admin login")},className:"btn btn-sm btn-default me-2",children:Object(p.jsx)("i",{className:"fa fa-chevron-left"})}),Object(p.jsx)("span",{className:"pl-5",children:i})]})}),Object(p.jsx)(me.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(p.jsxs)("div",{className:"text-dark",children:["Admin login"===i&&Object(p.jsx)(fa,{onToggle:function(e){return o(e)},onClose:t,onSuccess:a}),"Reset password"===i&&Object(p.jsx)(Oa,{onClose:t}),"Change password"===i&&Object(p.jsx)(xa,{onClose:t})]})})]}))},va=function(e){var t=e.onLogAction,n=Object(l.useContext)(h),r=Object(l.useContext)(b),s=Object(c.a)(r,1)[0],o=Object(l.useState)(""),d=Object(c.a)(o,2),u=d[0],j=d[1],m=Object(l.useState)(!1),f=Object(c.a)(m,2),O=f[0],_=f[1],x=Object(l.useState)(!1),g=Object(c.a)(x,2),v=g[0],y=g[1],N=function(e){var a=JSON.stringify(e);localStorage.setItem("userData",a),n.addUserData(JSON.parse(a)),n.updateUserData("type",e.type),t(e),j("slideInRight")};return Object(p.jsxs)(i.a.Fragment,{children:[v&&Object(p.jsx)(ga,{show:v,size:"sm",animation:!1,style:{zIndex:9999},onClose:function(){return y(!1)},onSuccess:function(e){var t={userId:e.userId,source:"self",type:e.type,email:e.email,name:e.name,imageUrl:e.imageUrl,rest:{}};N(t)}}),Object(p.jsx)(Xt,{show:O,confirmationstring:"Are you sure to logout this session?",handleHide:function(){_(!1)},handleYes:function(){return n.removeUserData(["email","imageUrl","name","rest","source","userId"]),n.updateUserData("type","public"),localStorage.removeItem("userData"),t({}),void _(!1)},size:"md",animation:!1}),n.userData.userId?Object(p.jsxs)("div",{className:"d-print-none animate__animated animate__".concat(u),children:[Object(p.jsx)("div",{className:"options welcomeText",children:"Welcome"}),Object(p.jsx)("div",{className:"options",children:Object(p.jsx)("div",{className:"welcomeText pb-10",children:n.userData.name})}),Object(p.jsxs)("div",{className:"options pt-3",children:["google"===n.userData.source&&n.userData.imageUrl&&Object(p.jsx)("img",{className:"userImage",alt:"userImage",src:n.userData.imageUrl||a(303)}),"self"===n.userData.source&&n.userData.imageUrl&&Object(p.jsx)(U,{type:"image",appData:s,unsignedUrl:n.userData.imageUrl,className:"userImage"}),Object(p.jsx)("i",{onClick:function(e){_(!0)},title:"Logout",className:"fa fa-sign-out text-secondary cursor-pointer fs-4"})]})]}):Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("div",{className:"google",children:Object(p.jsx)(ha.a,{clientId:E.a.AES.decrypt(s.google_login_auth_token,s.web).toString(E.a.enc.Utf8),buttonText:"",render:function(e){return Object(p.jsx)("i",{onClick:e.onClick,disabled:e.disabled,className:"fa fa-google text-secondary cursor-pointer fs-4"})},onSuccess:function(e){var t={userId:e.profileObj.googleId,type:"public",source:"google",email:e.profileObj.email,name:e.profileObj.name,imageUrl:e.profileObj.imageUrl,rest:e};N(t)},onFailure:function(){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to fetch from Google API"})},cookiePolicy:"single_host_origin"})}),Object(p.jsx)("div",{children:Object(p.jsx)("i",{onClick:function(){return y(!0)},className:"fa fa-user text-secondary cursor-pointer fs-4"})})]})]})};va.defaultProps={};var ya=va,Na=[{name:"Facebook",icon:"fa fa-facebook",id:"social_media_facebook"},{name:"LinkedIn",icon:"fa fa-linkedin",id:"social_media_linkedIn"},{name:"Twitter",icon:"fa fa-twitter",id:"social_media_twitter"},{name:"Instagram",icon:"fa fa-instagram",id:"social_media_instagram"}];var Da=function(e){var t=e.onLogAction,a=i.a.createRef(),n=Object(l.useContext)(b),r=Object(c.a)(n,1)[0],s=Object(l.useContext)(h),o=Object(l.useState)(!1),d=Object(c.a)(o,2),u=d[0],j=d[1],m=Object(l.useState)(!1),f=Object(c.a)(m,2),O=f[0],_=f[1],x=Object(l.useState)(!1),g=Object(c.a)(x,2),v=g[0],y=g[1],N=Object(l.useState)(!1),D=Object(c.a)(N,2),w=D[0],S=D[1],T=Object(l.useState)([]),k=Object(c.a)(T,2),P=k[0],C=k[1],E=Object(l.useState)(s.userData.theme),M=Object(c.a)(E,2),A=M[0],I=M[1];return Object(l.useEffect)((function(){null!==a.current&&(O?a.current.play():a.current.pause())}),[O]),Object(l.useEffect)((function(){s.updateUserData("theme",A),s.updateUserData("videoShown",v)}),[A,v]),Object(l.useEffect)((function(){if(Object.keys(r).length>0){"1"===r.bgSongDefaultPlay&&(S(!0),setTimeout((function(){_(!0)}),5e3)),y("1"===r.bgVideoDefaultPlay);var e=Object.keys(r),t=[].concat(Na).map((function(t){return e.includes(t.id)&&(t.href=r[t.id]),t}));C(t)}}),[r]),Object(p.jsxs)("div",{children:[w&&Object(p.jsx)(U,{customRef:a,className:"audio",optionalAttr:{autoPlay:"1"===r.bgSongDefaultPlay,loop:!0,preload:"auto",width:"100",height:"50"},type:"audio",appData:r,unsignedUrl:r.bgSong}),Object(p.jsx)(U,{className:"videoTag d-print-none",optionalAttr:{autoPlay:!0,loop:!0,muted:!0},style:{display:v?"block":"none"},type:"video",appData:r,unsignedUrl:r.bgVideo}),Object(p.jsxs)("div",{className:"globalHeader d-print-none d-flex justify-content-between ".concat("dark"===s.userData.theme?"bg-dark":"bg-white"," fixed-top"),children:[Object(p.jsx)("div",{children:Object(p.jsx)(U,{type:"image",appData:r,unsignedUrl:r.bannerImg,className:"brand global img-fluid",optionalAttr:{width:"150",height:"40"}})}),Object(p.jsx)("div",{className:"text-end",children:Object(p.jsxs)(De.a,{show:u,onToggle:function(e,t){"select"!==t.source&&j(e),S(!0)},children:[Object(p.jsx)(De.a.Toggle,{as:"i",children:Object(p.jsx)("i",{className:"fa fa-th-large gIcon icon-bni"})}),Object(p.jsxs)(De.a.Menu,{align:"start",className:"dark"===s.userData.theme?"bg-dark text-white-50":"bg-light text-black",children:[Object(p.jsx)(De.a.Item,{as:"div",children:Object(p.jsx)(ya,{onLogAction:function(e){t(e),j(!0)}})}),Boolean(Number(r.switchSongFeatureRequired))&&Object(p.jsx)(De.a.Item,{as:"div",onClick:function(){_(!O)},children:Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("div",{className:"labelText",children:"Music"}),Object(p.jsx)(Ge.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===s.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===s.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){_(!O)},checked:!0===O})]})}),Boolean(Number(r.switchVideoFeatureRequired))&&Object(p.jsx)(De.a.Item,{as:"div",onClick:function(){return y(!v)},children:Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("div",{className:"labelText",children:"Video"}),Object(p.jsx)(Ge.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===s.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===s.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){return y(!v)},checked:!0===v})]})}),Boolean(Number(r.switchThemeFeatureRequired))&&Object(p.jsx)(De.a.Item,{as:"div",children:Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("button",{className:"btn border-2 btn-sm btn-secondary",onClick:function(){return I("dark")},children:Object(p.jsx)("small",{children:"Dark"})}),Object(p.jsx)("button",{className:"btn border-2 btn-sm btn-secondary",onClick:function(){return I("light")},children:Object(p.jsx)("small",{children:"Light"})})]})}),Boolean(Number(r.switchSocialMediaFeatureRequired))&&P.length>0&&Object(p.jsx)(De.a.Item,{as:"div",children:Object(p.jsx)("div",{className:"options text-center",children:P.map((function(e,t){return Object(p.jsx)("a",{className:"dark"===s.userData.theme?"text-white-50":"text-black-50",href:e.href,onClick:function(){return t=e.href,void window.open(t,"_blank").focus();var t},children:Object(p.jsx)("i",{className:"".concat(e.icon," social-icons")})},t)}))})})]})]})})]}),e.children]})};a(745);t.default=function(e){var t=Object(l.useState)({}),a=Object(c.a)(t,2),r=a[0],i=a[1],o=Object(l.useState)(!0),d=Object(c.a)(o,2),u=d[0],j=d[1],m=Object(l.useState)(JSON.parse(localStorage.getItem("userData"))||{}),h=Object(c.a)(m,2)[1],O=function(){var e=Object(n.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),e.next=3,de.a.get("/").then((function(e){var t=e.data.response[0];i(t),j(!0),_(t),document.documentElement.style.setProperty("--app-theme-color",t.webThemeColor),document.documentElement.style.setProperty("--app-theme-bg-color",t.webThemeBackground)})).catch((function(e){return j(!1)})).finally((function(e){return!1}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=document.querySelector("#favIcon"),a=e.favIconImg.split("/")[0],n=e.favIconImg.split("/").slice(1,e.favIconImg.split("/").length).join("/");new I(e).getSignedUrl(n,86400,a).then((function(e){t.href=e||""}))};return Object(l.useEffect)((function(){O()}),[]),Object(p.jsx)(p.Fragment,{children:u&&Object(p.jsx)(b.Provider,{value:[r,i],children:Object(p.jsx)(f,{config:r,children:Object(p.jsx)(Da,{onLogAction:function(e){h(e)},children:Object(p.jsx)(ma,{appData:r})})})})})}},97:function(e,t,a){"use strict";var n=a(35),c=a(25),r=a(70),s=a(26),l=a(59),i=a.n(l),o=a(1),d=a(160),u=a(28),b=a(0),j=["info","checked","marker"],m=function(e){var t=e.info,a=e.checked,n=e.marker,r=Object(u.a)(e,j);return Object(b.jsxs)("label",{className:"checkBoxComponent",children:[Object(b.jsx)("span",{children:t.value}),n&&Object(b.jsx)("span",{className:"sup",children:"*"}),Object(b.jsx)("input",Object(c.a)({checked:a,type:"checkbox"},r)),Object(b.jsx)("span",{className:"checkmark"})]})};m.defaultProps={checked:!1};var p=m,h=function(e){var t=e.index,a=e.type,l=e.primaryKey,u=e.searchable,j=e.element,m=e.value,h=e.placeholder,f=e.onChange,O=Object(o.useRef)(null),_=Object(o.useState)(!1),x=Object(s.a)(_,2),g=x[0],v=x[1],y=function(){return h},N=function(){var e=m,t=j.fetch.dropDownList;return e="single"===a?(e=t.length>0&&t.filter((function(e){return e.id===m}))).length>0?e[0].value:y():"object"===typeof e&&e.length>0?e.map((function(e){return e.toString()})):[],[t,e]},D=N(),w=Object(s.a)(D,2),S=w[0],T=w[1],k=S.map((function(e){return e.checked=e.id&&T.includes(e.id.toString()),e})),P="single"===a?S:k,C=Object(o.useState)(P),E=Object(s.a)(C,2),M=E[0],A=E[1],I=Object(o.useState)(T),R=Object(s.a)(I,2),B=R[0],L=R[1],Y=Object(o.useState)(""),U=Object(s.a)(Y,2),F=U[0],K=U[1],W=Object(o.useState)(T),q=Object(s.a)(W,2),H=q[0],V=q[1];Object(o.useEffect)((function(){var e=N(),t=Object(s.a)(e,2),n=t[0],c=t[1],r=n.map((function(e){return e.checked=e.id&&c.includes(e.id.toString()),e}));A("single"===a?n:r),L(c),V(c)}),[j]);var z=function(e){O.current&&!O.current.contains(e.target)&&v(!1)};Object(o.useEffect)((function(){return"multiple"===a&&L(J(T)),document.addEventListener("click",z,!0),function(){document.removeEventListener("click",z,!0)}}),[T]);var G=function(){var e=Object(r.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(t),a=S.filter((function(e){return e.value.toString().toLowerCase().includes(t.toString().toLowerCase())})).map((function(e){return H.includes(e.id)?Object(c.a)(Object(c.a)({},e),{},{checked:!0}):Object(c.a)(Object(c.a)({},e),{},{checked:!1})})),e.next=4,A(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=e.length>0&&S.filter((function(t){return t.id===e[0]}));return 1===t.length?(t=t[0].value,e.length>1?"".concat(t," + ").concat(e.length-1," more..."):t):y()},$=function(e,a){var r=e.target.checked,s=a.id&&r?[].concat(Object(n.a)(H),[a.id]):H.filter((function(e){return e!==a.id}));s=Object(n.a)(new Set(s));var i=M.map((function(e){return s.includes(e.id)?Object(c.a)(Object(c.a)({},e),{},{checked:!0}):Object(c.a)(Object(c.a)({},e),{},{checked:!1})}));A(i),V(s),L(J(s)),f(t,s,l)};return Object(o.useEffect)((function(){if(g){var e=document.getElementById("inputText");e&&e.focus()}}),[g]),Object(b.jsxs)("div",{ref:O,className:"filterSelectComponent",children:[Object(b.jsxs)("div",{onClick:function(){return v(!g)},className:"selected ".concat(g?"yes":"no"),children:[Object(b.jsx)("div",{className:"string",title:B,children:B||h}),Object(b.jsx)("div",{children:Object(b.jsx)(d.a,{className:"caretIcon ".concat(g?"down":"up"),entity:"&#9662;"})})]}),g&&Object(b.jsxs)("div",{className:"wrapper",children:[u&&Object(b.jsxs)("div",{className:"searchContent",children:[Object(b.jsx)("input",{id:"inputText",className:"inputText",onChange:function(e){return G(e.target.value)},placeholder:"Search",type:"text",value:F}),F&&Object(b.jsx)(d.a,{onClick:function(e){K(""),G("")},className:"icon",entity:"&#10006;"})]}),Object(b.jsx)("div",{className:"listWrapper",children:Object(b.jsx)("ul",{children:M.length>0?M.map((function(e,n){return Object(b.jsx)("li",{className:e.id&&(e.id===m||H.includes(e.id))?"selectedSingle":"",children:"multiple"===a?Object(b.jsx)(p,{onChange:function(t){return $(t,e)},checked:e.checked,marker:e.marker,info:e},n):Object(b.jsxs)("div",{onClick:function(){return f(t,(n=e).id,l),L(n.value),void("single"===a&&v(!1));var n},children:[e.value,e.marker&&Object(b.jsx)("span",{className:"sup",children:"*"})]})},n)})):Object(b.jsx)("li",{className:"textCenter",children:"No results"})})})]})]})};h.defaultProps={type:"single",searchable:!0,placeholder:"Select"};t.a=h}}]);
//# sourceMappingURL=4.ef632715.chunk.js.map