(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[61],{1099:function(e,a,t){"use strict";t.r(a);var l=t(25),s=t(30),n=t(36),o=t(27),c=t(1),i=t(776),r=t(1265),d=t(85),u=t(46),b=t(35),f=t(1245),g=t(52),m=t.n(g),h=t(48),j=t(119),p=t(0);a.default=function(e){var a,t,g,O,x=Object(i.a)(),M=Object(c.useState)([]),v=Object(o.a)(M,2),T=v[0],w=v[1],_=Object(c.useState)([]),S=Object(o.a)(_,2),y=S[0],k=S[1],N=Object(c.useState)([]),C=Object(o.a)(N,2),D=C[0],R=C[1],L=Object(c.useState)(""),P=Object(o.a)(L,2),F=P[0],A=P[1],E=Object(c.useState)(!1),I=Object(o.a)(E,2),V=I[0],H=I[1],z=Object(c.useState)(!1),B=Object(o.a)(z,2),K=B[0],U=B[1],W=Object(c.useContext)(b.a),q={start:0,limit:10,searchString:""},J=Object(c.useState)(q),Y=Object(o.a)(J,2),G=Y[0],Q=Y[1],X=Object(c.useState)(q),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],ae={id:"internationalization",label:x.formatMessage({id:"internationalization",defaultMessage:"internationalization"}),help:{heading:x.formatMessage({id:"internationalization",defaultMessage:"internationalization"}),points:[x.formatMessage({id:"indentOfIntlForm",defaultMessage:"indentOfIntlForm"}),x.formatMessage({id:"pleaseDonotEditIntlKey",defaultMessage:"pleaseDonotEditIntlKey"}),x.formatMessage({id:"updateTheValuesCorrespondingYourLocales",defaultMessage:"updateTheValuesCorrespondingYourLocales"}),x.formatMessage({id:"submitTheFormToSaveChanges",defaultMessage:"submitTheFormToSaveChanges"})]}},te=function(){return Object(p.jsx)("div",{className:"relativeSpinner",children:Object(p.jsx)(m.a,{type:h.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},le={config:{header:{searchPlaceholder:x.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),searchable:!0},footer:{total:{},pagination:{currentPage:"first",maxPagesToShow:5}}},id:"intlMaster",Table:"locale_master",label:"Locale master",TableRows:["locale_id","locale_label","locale_string","locale_language","locale_currency","locale_sort"],TableAliasRows:[x.formatMessage({id:"id",defaultMessage:"id"}),x.formatMessage({id:"localeLabel",defaultMessage:"localeLabel"}),x.formatMessage({id:"localeString",defaultMessage:"localeString"}),x.formatMessage({id:"localeLanguage",defaultMessage:"localeLanguage"}),x.formatMessage({id:"localeCurrency",defaultMessage:"localeCurrency"}),x.formatMessage({id:"sort",defaultMessage:"sort"})],defaultValues:[{locale_sort:1}],rowElements:["checkbox","textbox","textbox","textbox","textbox","number"]},se={config:{header:{searchPlaceholder:x.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),searchable:!0},footer:{total:{},pagination:{currentPage:"first",maxPagesToShow:5}}},id:"intlChild",Table:"locale_child",label:"Locale child",TableRows:["loc_id","locale_ref_id","locale_key","locale_value"],TableAliasRows:[x.formatMessage({id:"id",defaultMessage:"id"}),x.formatMessage({id:"localeLanguage",defaultMessage:"localeLanguage"}),x.formatMessage({id:"id",defaultMessage:"id"}),x.formatMessage({id:"value",defaultMessage:"value"})],defaultValues:[],rowElements:["checkbox",{fetch:{dropDownList:D}},"label","textbox"]},ne=[{locale_id:"",locale_label:"",locale_string:"",locale_language:"",locale_currency:"",locale_sort:""}],oe=function(){w([]),H(!0);var e=ce(le,null,G.limit,G.start,G.searchString),a=u.a.get("/getUniqueLocales");Promise.all([e,a]).then((function(e){var a,t=e[0].data.response,l=e[1].data.response.map((function(e){return{checked:!1,id:e.locale_id,value:e.locale_label}}));R(l),(null===t||void 0===t||null===(a=t.table)||void 0===a?void 0:a.length)>0?w(t):w(ne),t.length>0?A(t[0].locale_id):A("")})).catch((function(){w([])})).finally((function(){return H(!1)}))},ce=function(e,a,t,l,s){var n=new FormData;return n.append("TableRows",e.TableRows),n.append("limit",t),n.append("start",l),n.append("searchString",s),n.append("Table",e.Table),a&&n.append("WhereClause",a),u.a.post("/account_planner/getAccountPlanner",n)},ie=function(){k([]),U(!0),ce(se,"locale_ref_id = ".concat(F),$.limit,$.start,$.searchString).then(function(){var e=Object(n.a)(Object(s.a)().mark((function e(a){var t,l,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(l=t.response)||void 0===l||null===(n=l.table)||void 0===n?void 0:n.length)>0?k(a.data.response):k({table:ne});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(){k([])})).finally((function(){return U(!1)}))},re=function(e){var a=e.status,t=e.data;if(200===a){if(e&&t&&"boolean"===typeof t.response&&null!==t.response&&t.response&&W.renderToast({message:x.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&t&&"boolean"===typeof t.response&&null!==t.response&&!1===t.response&&W.renderToast({type:"error",icon:"fa fa-times-circle",message:x.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&t&&"object"===typeof t.response&&null!==t.response){var l;if(1451===t.response.number)l="foreignKeyDeleteMessage";else l="";W.renderToast({type:"error",icon:"fa fa-times-circle",message:x.formatMessage({id:l,defaultMessage:l})})}}else W.renderToast({type:"error",icon:"fa fa-times-circle",message:x.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})};Object(c.useEffect)((function(){oe()}),[G]);return Object(c.useEffect)((function(){F&&ie()}),[F,$]),Object(p.jsxs)("section",{className:"container-fluid",children:[Object(p.jsx)("div",{className:"bg-gradient ".concat("dark"===W.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill mb-4"),children:Object(p.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("i",{className:"fa fa-globe fa-1x"}),Object(p.jsx)("div",{className:"ps-2 mb-0",children:Object(p.jsx)(r.a,{id:"internationalization",defaultMessage:"internationalization"})})]}),Object(p.jsx)(j.a,{className:"text-center ".concat("dark"===W.userData.theme?"bg-dark text-white-50":"bg-white text-black"),btnValue:"<i class='fa fa-question-circle' />",btnClassName:"pe-3 btn btn-sm ".concat("dark"===W.userData.theme?"text-white":"text-dark"),placement:"end",label:ae.help.heading,children:ae.help.points.length>0&&Object(p.jsx)("ul",{className:"list-group list-group-flush",children:ae.help.points.map((function(e,a){return Object(p.jsx)("li",{className:"list-group-item border-bottom-0 ".concat("dark"===W.userData.theme?"bg-dark text-white-50":"bg-white text-black"),dangerouslySetInnerHTML:{__html:e}},a)}))})},ae.id)]})}),V&&te(),Object(p.jsxs)("div",{className:"pt-10",children:[(null===T||void 0===T||null===(a=T.table)||void 0===a?void 0:a.length)>0&&!V&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{children:Object(p.jsx)(r.a,{id:"masterTable",defaultMessage:"masterTable"})}),Object(p.jsx)("h6",{children:Object(p.jsx)(r.a,{id:"note",defaultMessage:"note"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("li",{className:"small",children:Object(p.jsx)(r.a,{id:"youCanStillDuplicateLocales"})})}),Object(p.jsx)(d.a,{config:le.config,Table:le.Table,TableRows:le.TableRows,TableAliasRows:le.TableAliasRows,rowElements:le.rowElements,defaultValues:le.defaultValues,dbData:T,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return re(e)},apiParams:G,onChangeParams:function(e){return function(e){Q((function(a){return Object(l.a)(Object(l.a)({},a),e)}))}(e)},onReFetchData:function(){oe(),ie()},cellWidth:[4,13,13,13,13,5],ajaxButtonName:x.formatMessage({id:"submit",defaultMessage:"submit"}),theme:W.userData.theme},"lcale-master-table"),Object(p.jsx)("h5",{children:Object(p.jsx)(r.a,{id:"childTable",defaultMessage:"childTable"})}),Object(p.jsxs)("div",{className:"fst-italic",children:[Object(p.jsx)("h6",{children:Object(p.jsx)(r.a,{id:"note",defaultMessage:"note"})}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"small",children:Object(p.jsx)(r.a,{id:"pleaseDonotEditIntlKey",defaultMessage:"pleaseDonotEditIntlKey"})}),Object(p.jsx)("li",{className:"small",children:Object(p.jsx)(r.a,{id:"indentOfIntlForm",defaultMessage:"indentOfIntlForm"})})]})]}),Object(p.jsxs)(f.a,{className:"pb-3",children:[Object(p.jsx)(f.a.Toggle,{className:"btn btn-bni",children:F?null===T||void 0===T||null===(t=T.table)||void 0===t?void 0:t.filter((function(e){return e.locale_id===F}))[0].locale_label:x.formatMessage({id:"selectLanguage",defaultMessage:"selectLanguage"})}),Object(p.jsx)(f.a.Menu,{children:null===T||void 0===T||null===(g=T.table)||void 0===g?void 0:g.map((function(e,a){return Object(p.jsx)(f.a.Item,{onClick:function(a){return A(e.locale_id)},children:e.locale_label},a)}))})]})]}),K&&te(),(null===y||void 0===y||null===(O=y.table)||void 0===O?void 0:O.length)>0&&!K&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(d.a,{config:se.config,Table:se.Table,TableRows:se.TableRows,TableAliasRows:se.TableAliasRows,rowElements:se.rowElements,defaultValues:se.defaultValues,dbData:y,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return re(e)},apiParams:$,onChangeParams:function(e){return function(e){console.log("bbb",e),ee((function(a){return Object(l.a)(Object(l.a)({},a),e)}))}(e)},onReFetchData:function(){return ie()},cellWidth:[4,13,13,13],ajaxButtonName:x.formatMessage({id:"submit",defaultMessage:"submit"}),theme:W.userData.theme},"lcale-master-table")})]})]})}},119:function(e,a,t){"use strict";var l=t(25),s=t(27),n=t(28),o=t(1),c=t(934),i=t(1244),r=t(35),d=t(0),u=["btnValue","btnClassName","label","children"];a.a=function(e){var a=e.btnValue,t=e.btnClassName,b=e.label,f=e.children,g=Object(n.a)(e,u),m=Object(o.useState)(!1),h=Object(s.a)(m,2),j=h[0],p=h[1],O=Object(o.useContext)(r.a);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(c.a,{tabIndex:"-1",variant:null,dangerouslySetInnerHTML:{__html:a},className:t,onClick:function(){return p(!0)}}),Object(d.jsxs)(i.a,Object(l.a)(Object(l.a)({show:j,onHide:function(){return p(!1)}},g),{},{className:"".concat("dark"===O.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[Object(d.jsx)(i.a.Header,{closeButton:!0,children:Object(d.jsx)(i.a.Title,{children:b})}),Object(d.jsx)(i.a.Body,{className:"".concat("dark"===O.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:f})]}))]})}}}]);