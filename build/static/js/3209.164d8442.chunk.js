"use strict";(self.webpackChunkledgerely_com=self.webpackChunkledgerely_com||[]).push([[3209],{1851:(e,s,a)=>{a.d(s,{JQ:()=>l,ah:()=>c,bJ:()=>d,mZ:()=>n});a(9950);var t=a(3027),i=a(4414);const n=()=>(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("i",{className:"fa fa-check fa-2x pt-2 text-success"}),(0,i.jsxs)("div",{className:"ps-2",children:[(0,i.jsx)("div",{className:"fs-3",children:(0,i.jsx)(t.A,{id:"success",defaultMessage:"success"})}),(0,i.jsx)("div",{className:"fs-6",children:(0,i.jsx)(t.A,{id:"paymentReceived",defaultMessage:"paymentReceived"})})]})]})}),d=()=>(0,i.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"fs-6",children:(0,i.jsx)(t.A,{id:"paymentSuccessMessage",defaultMessage:"paymentSuccessMessage"})})})}),c=()=>(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("i",{className:"fa fa-times-circle fa-2x pt-2 text-danger"}),(0,i.jsxs)("div",{className:"ps-2",children:[(0,i.jsx)("div",{className:"fs-3",children:(0,i.jsx)(t.A,{id:"failed",defaultMessage:"failed"})}),(0,i.jsx)("div",{className:"fs-6",children:(0,i.jsx)(t.A,{id:"paymentNotReceived",defaultMessage:"paymentNotReceived"})})]})]})}),l=()=>(0,i.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"fs-6",children:(0,i.jsx)(t.A,{id:"paymentFailMessage",defaultMessage:"paymentFailMessage"})})})})},3209:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(9950),i=a(4268),n=a(1936),d=a(4570),c=a(2436),l=a(9845),r=a(1851),o=a(3027),x=a(4414);const f=e=>{const s=(0,t.useContext)(c.R),a=(0,t.useContext)(n.BillingContext),f=(0,t.useContext)(l.O),{showSessionPopup:m,setShowSessionPopup:h,summary:p}=a,u=["hourglass-o","hourglass-start","hourglass-half","hourglass-end","hourglass"],[j,g]=(0,t.useState)(0);return(0,t.useEffect)((()=>{let e=0;const a=setInterval((()=>{e+=1,e=e>u.length-1?0:e,g(e),(async()=>{const e=new FormData;return e.append("customerId",p.razorPayCustomerId),e.append("expiryDate",s.userConfig.expiryDateTime),await d.A.post("/payments/razorpay/isOrderPaid",e)})().then((e=>{var a;(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.response)&&(async e=>{const s=new FormData;return s.append("appId",e),await d.A.post("/getUserConfig",s)})(s.userConfig.appId).then((e=>{const{data:{response:a}}=e;s.setUserConfig((e=>({...e,...a[0]}))),f.setConfig({show:!0,className:"alert-success border-0 text-dark",type:"success",dismissible:!0,heading:(0,x.jsx)(r.mZ,{}),content:(0,x.jsx)(r.bJ,{})})})).catch((e=>console.error("Unable to fetch user config and order",e))).finally((()=>h(!1)))})).catch((e=>console.error("fetch order error:",e)))}),3e3);return()=>clearInterval(a)}),[]),(0,x.jsxs)(i.A,{show:m,onHide:()=>h(!1),style:{zIndex:1e4},keyboard:!1,backdrop:"static",children:[(0,x.jsx)(i.A.Header,{children:(0,x.jsxs)(i.A.Title,{className:"d-flex align-items-center",children:[(0,x.jsx)("i",{className:"px-2 fa-1x fa fa-hand-paper-o"}),(0,x.jsx)("span",{children:(0,x.jsx)(o.A,{id:"pleaseWait",defaultMessage:"pleaseWait"})})]})}),(0,x.jsx)(i.A.Body,{className:"rounded-bottom "+("dark"===s.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{children:(0,x.jsx)(o.A,{id:"doNotRefresh",defaultMessage:"doNotRefresh"})}),(0,x.jsx)("div",{className:"p-5",children:(0,x.jsx)("i",{className:`animate__animated animate__pulse animate__infinite fa fa-${u[j]} fa-5x fa-fw`})})]})})]})}}}]);