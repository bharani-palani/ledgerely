(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[23,4],{105:function(e,t,a){"use strict";var n=a(28),c=a(25),s=a(42),r=a(30),o=a(35),l=a(27),i=a(1),d=a(92),u=a(0),_=["info","checked","marker"],b=function(e){var t=e.info,a=e.checked,s=e.marker,r=Object(n.a)(e,_);return Object(u.jsxs)("label",{className:"checkBoxComponent",children:[Object(u.jsx)("span",{children:t.value}),s&&Object(u.jsx)("span",{className:"sup",children:"*"}),Object(u.jsx)("input",Object(c.a)({checked:a,type:"checkbox"},r)),Object(u.jsx)("span",{className:"checkmark"})]})};b.defaultProps={checked:!1};var j=b,m=a(1269),p=a(435),f=a(1251),h=a(1287),O=["placement","arrowProps","show","popper","hasDoneInitialMeasure"],g=function(e){var t=e.index,a=e.type,_=e.primaryKey,b=e.searchable,p=e.element,g=e.value,x=e.placeholder,M=e.onChange,v=e.intl,D=e.theme,y=Object(i.useRef)(null),P=Object(i.useRef)(null),E=Object(i.useState)(!1),w=Object(l.a)(E,2),C=w[0],N=w[1],T=Object(i.useRef)(),S=function(){return v.formatMessage({id:x,defaultMessage:x})},k=function(){var e=g,t=p.fetch.dropDownList;return e="single"===a?(e=t.length>0&&t.filter((function(e){return e.id===g}))).length>0?e[0].value:S():"object"===typeof e&&e.length>0?e.map((function(e){return e.toString()})):[],[t,e]},Y=k(),A=Object(l.a)(Y,2),I=A[0],R=A[1],L=I.map((function(e){return e.checked=e.id&&(Array.isArray(R)?R.filter((function(t){return t.toString()===e.id.toString()})).length>0:R===e.value),e})),B="single"===a?I:L,K=Object(i.useState)(B),U=Object(l.a)(K,2),W=U[0],F=U[1],V=Object(i.useState)(R),H=Object(l.a)(V,2),q=H[0],z=H[1],G=Object(i.useState)(""),J=Object(l.a)(G,2),Z=J[0],Q=J[1],$=Object(i.useState)(R),X=Object(l.a)($,2),ee=X[0],te=X[1];Object(i.useEffect)((function(){var e=k(),t=Object(l.a)(e,2),n=t[0],c=t[1],s=n.map((function(e){return e.checked=e.id&&(Array.isArray(c)?c.filter((function(t){return t.toString()===e.id.toString()})).length>0:c===e.value),e}));F("single"===a?n:s),z(c),te(c)}),[p]),Object(i.useEffect)((function(){"multiple"===a&&z(ce(R))}),[R]);var ae=function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(t),a=I.filter((function(e){return e.value.toString().toLowerCase().includes(t.toString().toLowerCase())})),e.next=4,F(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){Q(""),ae("")},ce=function(e){var t=e.length>0&&I.filter((function(t){return t.id===e[0]}));return 1===t.length?(t=t[0].value,e.length>1?"".concat(t," + ").concat(e.length-1," more..."):t):S()},se=function(e,a){var n=e.target.checked,r=a.id&&n?[].concat(Object(s.a)(ee),[a.id]):ee.filter((function(e){return e!==a.id}));r=Object(s.a)(new Set(r));var o=W.map((function(e){return r.includes(e.id)?Object(c.a)(Object(c.a)({},e),{},{checked:!0}):Object(c.a)(Object(c.a)({},e),{},{checked:!1})}));F(o),te(r),z(ce(r)),M(t,r,_)};return Object(i.useEffect)((function(){var e;C&&(T.current&&T.current.focus({preventScroll:!0}),null===P||void 0===P||null===(e=P.current)||void 0===e||e.focus({preventScroll:!0}),setTimeout((function(){var e;null===P||void 0===P||null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"instant",block:"nearest"})}),1))}),[C]),Object(u.jsxs)("div",{ref:y,className:"filterSelectComponent ".concat(D),children:[Object(u.jsxs)("div",{onClick:function(){return N(!C)},className:"selected ".concat(C?"yes":"no"),children:[Object(u.jsx)("div",{className:"string",title:q,children:q||v.formatMessage({id:x,defaultMessage:x})}),Object(u.jsx)("div",{children:Object(u.jsx)(d.a,{className:"caretIcon ".concat(C?"down":"up"),entity:"&#9662;"})})]}),Object(u.jsx)(f.a,{target:y.current,show:C,placement:"bottom",rootClose:!0,rootCloseEvent:"click",onHide:function(e){return N(!1)},children:function(e){e.placement,e.arrowProps,e.show,e.popper,e.hasDoneInitialMeasure;var s=Object(n.a)(e,O);return Object(u.jsxs)("div",Object(c.a)(Object(c.a)({},s),{},{className:"wrapperFS ".concat(D),style:Object(c.a)({width:"".concat(null===y||void 0===y?void 0:y.current.clientWidth,"px")},s.style),children:[b&&Object(u.jsxs)("div",{className:"searchContent d-flex align-items-center",children:[Object(u.jsx)(h.a.Control,{ref:T,className:"inputText",onChange:function(e){e.preventDefault(),ae(e.target.value)},placeholder:v.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),type:"text",value:Z}),Z&&Object(u.jsx)(d.a,{onClick:ne,className:"icon",entity:"&#10006;"})]}),Object(u.jsx)("div",{className:"listWrapper",style:{maxHeight:"20rem"},children:Object(u.jsx)("ul",{children:W.length>0?W.map((function(e,n){return Object(u.jsx)("li",{ref:e.checked?P:null,className:e.checked?"selectedSingle":"",children:"multiple"===a?Object(u.jsx)(j,{onChange:function(t){return se(t,e)},checked:e.checked,marker:e.marker,info:e},n):Object(u.jsxs)("div",{onClick:function(){return M(t,(n=e).id,_),z(n.value),void("single"===a&&N(!1));var n},children:[e.value,e.marker&&Object(u.jsx)("span",{className:"sup",children:"*"})]})},n)})):Object(u.jsx)("li",{className:"textCenter",children:Object(u.jsx)(m.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})})})]}))}})]})};g.defaultProps={type:"single",searchable:!0,placeholder:"select",theme:""};t.a=Object(p.c)(g)},193:function(e,t,a){"use strict";var n=a(25),c=a(42),s=a(27),r=a(1),o=a(0),l=function(e){var t=e.totalPages,a=e.maxPagesToShow,l=e.selectedPageString,i=e.onSetPage,d=Object(r.useState)(e.currentPage),u=Object(s.a)(d,2),_=u[0],b=u[1],j=function(e){return Array.from({length:e},(function(e,t){return++t}))},m=Object(r.useState)(j(t)),p=Object(s.a)(m,2),f=p[0],h=p[1];Object(r.useEffect)((function(){h(j(t));var e="first"===l?1:t;b(e),i(e)}),[t]),Object(r.useEffect)((function(){var e=[];a<t&&_>0&&(_<t-a?(e=[].concat(Object(c.a)(g(a,_)),["...",t]),h(e)):(e=Object(c.a)(g(a+1,t-a)),h(e)))}),[_]);var O=function(e){b(e),i(e)},g=function(e,t){return Array(e).fill().map((function(e,a){return t+a}))};return f.length>0&&Object(o.jsxs)("ul",{className:"page",children:[Object(o.jsx)("li",{onClick:function(){return _>1?O(1):null},className:"lt ".concat(_>1?"":"disabled"),children:"<<"}),Object(o.jsx)("li",{onClick:function(){return _>1?O(_-1):null},className:"lt ".concat(_>1?"":"disabled"),children:"<"}),f.map((function(e,a){return Object(o.jsx)("li",Object(n.a)(Object(n.a)({onClick:function(){return!isNaN(e)&&e<=t?O(e):null}},e===_&&{className:"active"}),{},{children:e}),function(e){return"page-".concat(e)}(a))})),Object(o.jsx)("li",{onClick:function(){return _<t?O(_+1):null},className:"gt ".concat(_===t?"disabled":""),children:">"}),Object(o.jsx)("li",{onClick:function(){return _<t?O(t):null},className:"gt ".concat(_===t?"disabled":""),children:">>"})]})};l.defaultProps={},t.a=l},194:function(e,t,a){"use strict";var n=a(27),c=a(1),s=a(92),r=a(779),o=a(0),l=function(e){var t=Object(r.a)(),a=e.defaultRecordsPerPage,l=e.config,i=e.onSearchChange,d=e.onDropDownChange,u=e.onDismissSearch,_=e.theme,b=Object(c.useState)(!1),j=Object(n.a)(b,2),m=j[0],p=j[1],f=Object(c.useState)(""),h=Object(n.a)(f,2),O=h[0],g=h[1],x=Object(c.useState)(a),M=Object(n.a)(x,2),v=M[0],D=M[1],y=Object(c.useRef)(null),P=Array.from({length:10},(function(e,t){return++t})).map((function(e,t){return t>=0&&t<=2?e*a:t>=3&&t<=5?e*a*5:t>=6&&t<=9?e*a*10:null})),E=function(e){y.current&&!y.current.contains(e.target)&&p(!1)};Object(c.useEffect)((function(){return document.addEventListener("click",E,!0),function(){document.removeEventListener("click",E,!0)}}),[]);return Object(o.jsxs)("div",{className:"group-input",children:[Object(o.jsxs)("div",{className:"inputWrapper",children:[Object(o.jsx)("input",{onChange:function(e){return function(e){var t=e.target.value;i(t),g(t)}(e)},placeholder:l.header.searchPlaceholder,type:"text",value:O,className:"join-input ".concat(_)}),O&&Object(o.jsx)(s.a,{onClick:function(){u(),g("")},className:"dismiss",entity:"&#215;"})]}),Object(o.jsxs)("div",{ref:y,onClick:function(){return p(!m)},title:t.formatMessage({id:"showNRecordsPerPage",defaultMessage:"showNRecordsPerPage"},{n:v}),className:"join-select",children:[Object(o.jsx)("div",{style:m?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:v}),Object(o.jsx)(s.a,{className:"icon up",entity:"&#9662;"})]})}),m&&Object(o.jsx)("ul",{children:P.map((function(e,t){return Object(o.jsx)("li",{onClick:function(){return D(t=e),void d(t);var t},children:e},t)}))})]})]})};l.defaultProps={property:"String name"},t.a=l},215:function(e,t,a){"use strict";var n=a(25),c=a(34),s=a(27),r=a(28),o=a(1),l=a(0),i=function(e){var t=e.index,a=e.primaryKey,n=e.onChange,c=e.element,r=e.value,i=t.i,d=t.j,u=Object(o.useState)(c.radio.radioList),_=Object(s.a)(u,1)[0],b=e.value||_.filter((function(e){return e.checked}))[0].value,j=Object(o.useState)(b),m=Object(s.a)(j,2),p=m[0],f=m[1];return Object(o.useEffect)((function(){f(r)}),[r]),Object(l.jsx)("div",{className:"radioComponent",children:_.length&&_.map((function(e,c){return Object(l.jsxs)("div",{className:"radioWrapper",children:[Object(l.jsx)("input",{type:"radio",onChange:function(c){f(c.target.value),n(t,e.value,a)},value:e.value,checked:e.value===p,name:"".concat(d,"-").concat(i),id:"".concat(d,"-").concat(c,"-").concat(i)})," ",Object(l.jsx)("span",{className:"checkmark"}),Object(l.jsx)("label",{htmlFor:"".concat(d,"-").concat(c,"-").concat(i),children:e.label})]},c)}))})};i.defaultProps={property:"String name"};var d=i,u=a(105),_=a(109),b=a.n(_),j=a(50),m=a.n(j),p=a(70),f=(a(235),a(321),["isPostable","config","index","value","element","primaryKey","onChange","placeholder","showDecrement","showIncrement","onDelete","onAddRow","theme"]);t.a=function(e){var t=Object(o.useContext)(p.a),a=e.isPostable,i=e.config,_=e.index,j=e.value,h=e.element,O=e.primaryKey,g=e.onChange,x=e.placeholder,M=e.showDecrement,v=e.showIncrement,D=e.onDelete,y=e.onAddRow,P=e.theme,E=Object(r.a)(e,f),w=Object(o.useRef)([]);w.current=[];var C=Object(o.useState)(j?new Date(j):new Date),N=Object(s.a)(C,2),T=N[0],S=N[1],k=Object(o.useState)(j?new Date(j):new Date),Y=Object(s.a)(k,2),A=Y[0],I=Y[1],R=function(e,t,a,n){g(t,a,n)};return Object(l.jsx)("div",{children:function(e,s,r,o){if("string"===typeof s)switch(s){case"textbox":return Object(l.jsx)("input",Object(n.a)({type:"text",placeholder:x,onBlur:function(t){return R(0,e,t.target.value,o)},className:"inputText ".concat(P),defaultValue:r},E));case"number":return Object(l.jsx)("input",Object(n.a)({type:"number",min:"0",step:".01",placeholder:x,ref:function(t){return function(e,t){t&&!w.current.includes(t)&&w.current.push(Object(c.a)({},e.i,t))}(e,t)},onBlur:function(t){return R(0,e,t.target.value,o)},className:"inputText ".concat(P),defaultValue:Number(r).toFixed(i.footer.total.maxDecimal)},E));case"textarea":return Object(l.jsx)("textarea",Object(n.a)({placeholder:x,onBlur:function(t){return R(0,e,t.target.value,o)},rows:"3",className:"inputText ".concat(P),defaultValue:r},E));case"label":default:return Object(l.jsx)("div",Object(n.a)(Object(n.a)({},E),{},{children:r}));case"boolean":return Object(l.jsxs)("div",Object(n.a)(Object(n.a)({},E),{},{className:"text-center",children:[("1"===r||"True"===r||"true"===r||!0===r)&&Object(l.jsx)("i",{className:"fa fa-check"}),("0"===r||"False"===r||"false"===r||!1===r)&&Object(l.jsx)("i",{className:"fa fa-times"})]}));case"relativeTime":return Object(l.jsx)("div",{children:m()(r||new Date).locale(t.localeLanguage).tz(m.a.tz.guess()).fromNow()});case"checkbox":return a?Object(l.jsxs)("div",{className:"d-flex justify-content-between",children:[M&&Object(l.jsx)("i",{onClick:function(){return D(e)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-times-circle text-danger cursor-pointer"}),v&&Object(l.jsx)("i",{onClick:function(){return y(!0)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-plus-circle text-success cursor-pointer"})]}):Object(l.jsx)("div",Object(n.a)(Object(n.a)({},E),{},{children:r}));case"date":return Object(l.jsx)(b.a,{value:T||new Date,format:"y-MM-dd",clearIcon:null,onChange:function(t){S(t),g(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)}(t),o)}});case"dateTime":return Object(l.jsx)(b.a,{value:A,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:function(t){I(t),g(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate()),e.getHours(),e.getMinutes(),e.getSeconds()],a=t[1],n=t[2],c=t[3],s=t[4],r=t[5];return c=c<10?"0"+c:c,s=s<10?"0"+s:s,r=r<10?"0"+r:r,"".concat(t[0],"-").concat(a,"-").concat(n," ").concat(c,":").concat(s,":").concat(r)}(t),o)}})}else if("object"===typeof s&&null!==s){switch(Object.keys(s)[0]){case"fetch":return Object(l.jsx)(u.a,{index:e,primaryKey:o,onChange:function(e,t,a){return g(e,t,a)},element:s,value:r,type:Array.isArray(r)?"multiple":"single",searchable:s.searchable,theme:P});case"radio":return Object(l.jsx)(d,{index:e,primaryKey:o,onChange:function(e,t,a){return g(e,t,a)},element:s,value:r},"".concat(e.i,"-").concat(e.j));default:return Object(l.jsx)("div",{children:"Unknown Element"})}}}(_,h,j,O)})}},368:function(e,t,a){"use strict";a.r(t),a.d(t,"AccountContext",(function(){return we}));var n=a(30),c=a(35),s=a(27),r=a(1),o=a.n(r),l=a(52),i=a.n(l),d=a(48),u=a(42),_=a(495),b=a.n(_),j=a(50),m=a.n(j),p=a(240),f=a.n(p),h=a(1269),O=a(435),g=a(70),x=a(39),M=a(1272),v=a(937),D=a(0),y=Object(O.c)((function(e){var t=e.intl,a=Object(r.useContext)(we),n=a.chartData,c=a.bankDetails,o=a.onMonthYearSelected,l=a.monthYearSelected,i=Object(r.useContext)(g.a),_=Object(r.useContext)(x.a),j=Object(r.useRef)(null),p=Object(r.useState)([]),O=Object(s.a)(p,2),y=O[0],P=O[1],E=Object(r.useState)([]),w=Object(s.a)(E,2),C=w[0],N=w[1],T=Object(r.useState)(0),S=Object(s.a)(T,2),k=S[0],Y=S[1],A=Object(r.useState)({}),I=Object(s.a)(A,2),R=I[0],L=I[1],B=getComputedStyle(document.documentElement).getPropertyValue("--bs-indigo"),K=getComputedStyle(document.documentElement).getPropertyValue("--bs-pink"),U="debit-card-income";Object(r.useEffect)((function(){Y(j.current.clientWidth)}),[]),Object(r.useEffect)((function(){var e,t,a=function(e){var t=e.category,a=e.total;return{month:e.dated,label:d.a.shorten(t,15),value:Number(a),isEmpty:Number(a)<=0}},s=n.category.map((function(e){var t,n,c,s;return{month:e.month,cData:(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.expense)||void 0===n?void 0:n.length)>0?e.data.expense.map((function(t){return a({category:t.category,total:t.total,dated:e.month})})):[a({category:"No Data",total:0,dated:null})],creditData:(null===e||void 0===e||null===(c=e.data)||void 0===c||null===(s=c.income)||void 0===s?void 0:s.length)>0?e.data.income.map((function(t){return a({category:t.category,total:t.total,dated:e.month})})):[a({category:"No Data",total:0,dated:null})]}}));P(s);var r=[{color:B,points:n.income.map((function(e){var t=e.month,a=e.measureDate;return{month:t,x:e.monthStart,z:e.monthEnd,y:e.totalIncome,metricTotal:e.metricIncome,measureDate:new Date(a)}}))},{color:K,points:n.income.map((function(e){return{month:e.month,x:e.monthStart,z:e.monthEnd,y:e.metricIncome}}))}];N([]);var o=r[1].points.filter((function(e){return 0!==e.y})),l=new Date(null===(e=o[o.length-1])||void 0===e?void 0:e.x),i=new Date(null===(t=o[0])||void 0===t?void 0:t.z),u=W(l,i);setTimeout((function(){var e,t;N(r);var a=r[0].points.reduce((function(e,t){return e+t.metricTotal}),0),n=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/(40*u)||0,2),s=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/(5*u)||0,2),o=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/u||0,2);L({hourly:n,daily:s,weekly:o}),null!==(e=j.current)&&void 0!==e&&null!==(t=e.childNodes[2])&&void 0!==t&&t.childNodes[0]&&(j.current.childNodes[2].childNodes[0].style.height=260)}),1)}),[n,i]),Object(r.useEffect)((function(){if(C.length>0&&y.length>0){for(var e,t,a,n=function(e){var t=e.target.id;o(t)},c=null===(e=j.current)||void 0===e||null===(t=e.querySelector("#".concat(U," svg")))||void 0===t?void 0:t.getElementsByClassName("axis")[0].children,s=c&&(null===(a=Array.from(c))||void 0===a?void 0:a.filter((function(e){return e.classList.contains("tick")})).reverse()),r=Object(u.a)(C[1].points),i=0;i<s.length;i++)s[i].children[1].classList.remove("colored"),s[i].children[1].setAttribute("id",r[i].month),s[i].children[1].addEventListener("click",n);if(l){var d,_=s&&(null===(d=Array.from(s))||void 0===d?void 0:d.filter((function(e){return e.children[1].id===l}))[0]);_&&_.getElementsByTagName("text")[0].classList.add("colored")}return function(){for(var e=0;e<s.length;e++)s[e].children[1].removeEventListener("click",n)}}}),[l,C,y]);var W=function(e,t){var a=Math.floor((t-e)/864e5);return Math.ceil(a/7)||1},F=d.a.donutChartColors,V=function(e,t){var a=isFinite(Math[t].apply(Math,Object(u.a)(e)))?Math[t].apply(Math,Object(u.a)(e)):0;return a=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a,2)},H=function(e){var a=e.i18Key,n=e.value;return Object(D.jsxs)("div",{className:"position-relative small py-4",children:[t.formatMessage({id:a,defaultMessage:a}),Object(D.jsx)("span",{title:n,className:"position-absolute top-0 start-50 translate-middle rounded-pill bni-bg bni-text w-100 py-2 text-break",children:n})]})};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{ref:j,children:C.length>0&&y.length>0&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"badge bni-bg bni-text",children:Object(D.jsx)(h.a,{id:"incomeMetrics",defaultMessage:"incomeMetrics"})}),Object(D.jsxs)(M.a,{className:"mt-3",children:[Object(D.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(D.jsx)(H,{i18Key:"total",value:function(e){var t=e.reduce((function(e,t){return e+t.metricTotal}),0);return t=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,t,2)}(C[0].points)})}),Object(D.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(D.jsx)(H,{i18Key:"highest",value:V(C[0].points.filter((function(e){return 0!==e.metricTotal})).map((function(e){return e.metricTotal})),"max")})}),Object(D.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(D.jsx)(H,{i18Key:"lowest",value:V(C[0].points.filter((function(e){return 0!==e.metricTotal})).map((function(e){return e.metricTotal})),"min")})}),Object(D.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(D.jsx)(H,{i18Key:"weekly",value:R.weekly})}),Object(D.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(D.jsx)(H,{i18Key:"daily",value:R.daily})}),Object(D.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(D.jsx)(H,{i18Key:"hourly",value:R.hourly})})]}),Object(D.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(D.jsx)("div",{children:Object(D.jsxs)("span",{children:[Object(D.jsx)("i",{style:{color:B},className:"fa fa-circle me-2",title:t.formatMessage({id:"credit",defaultMessage:"credit"})}),t.formatMessage({id:"credit",defaultMessage:"credit"})]})}),Object(D.jsxs)("div",{className:"fst-italic text-wrap",children:[Object(D.jsx)("sup",{className:"text-danger",children:"*"}),t.formatMessage({id:"CreditInclusiveIncome",defaultMessage:"CreditInclusiveIncome"})]}),Object(D.jsx)("div",{children:Object(D.jsxs)("span",{children:[Object(D.jsx)("i",{style:{color:K},className:"fa fa-circle me-2",title:t.formatMessage({id:"income",defaultMessage:"income"})}),t.formatMessage({id:"income",defaultMessage:"income"})]})})]}),Object(D.jsx)(f.a,{data:C,id:U,margins:{top:50,right:k>450?80:30,bottom:50,left:135},width:k,isDate:!0,height:250,xLabel:t.formatMessage({id:"month",defaultMessage:"month"}),yLabel:"".concat(t.formatMessage({id:"credit",defaultMessage:"credit"})," & ").concat(t.formatMessage({id:"income",defaultMessage:"income"})),onPointHover:function(e){return d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:y.length,xDisplay:function(e,a){return function(e){var a="";if(k>450){var n=(a=m()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase(),c=e.getFullYear();a="".concat(t.formatMessage({id:n,defaultMessage:n})," ").concat(c)}else a=m()(e).format("M");return a}(e)},onPointClick:function(e,t){o(t.month)}})]})}),Object(D.jsx)("div",{className:"x-scroll",children:y.length>0&&Object(D.jsx)("div",{className:"d-flex align-items-center pt-2 ps-3",children:y.map((function(e,a){return Object(D.jsxs)("div",{className:"chartWrapper",children:[Object(D.jsx)("div",{className:"text-center pt-10 pb-10",children:Object(D.jsx)("button",{className:"btn btn-sm btn-bni ".concat(String(l)===String(e.month)?"active":""),onClick:function(){o(e.month)},children:"".concat(t.formatMessage({id:e.month.split("-")[0].toLowerCase(),defaultMessage:e.month.split("-")[0].toLowerCase()})," ").concat(e.month.split("-")[1])})}),Object(D.jsxs)("div",{className:"floatingChartWrapper",children:[a<1&&Object(D.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(D.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(D.jsx)(b.a,{strokeColor:"".concat("dark"===_.userData.theme?"#000":"#eee"),innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:F,height:220,width:220,legend:!1,data:e.cData,formatValues:function(e,t){return"".concat(d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e,2))}})]}),Object(D.jsxs)("div",{className:"floatingChartWrapper",children:[a<1&&Object(D.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(D.jsx)(h.a,{id:"income",defaultMessage:"income"})}),Object(D.jsx)(b.a,{strokeColor:"".concat("dark"===_.userData.theme?"#000":"#eee"),innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:F,height:220,width:220,legend:!1,data:e.creditData,formatValues:function(e,t){return"".concat(d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e,2))}})]})]},function(e){return"chart-".concat(e)}(a))}))})})]})})),P=a(25),E=(a(509),a(155)),w=a.n(E),C=Object(O.c)((function(e){var t,a=Object(r.useContext)(we),n=Object(r.useContext)(g.a),c=e.data,o=e.intl,l=a.ccMonthYearSelected,i=a.ccDetails,u=a.setCcDetails,_=a.onCcMonthYearSelected,b=Object(r.useState)(0),j=Object(s.a)(b,2),p=j[0],O=j[1],x=Object(r.useState)([]),M=Object(s.a)(x,2),v=M[0],y=M[1],E=Object(r.useState)(!0),C=Object(s.a)(E,2),N=C[0],T=C[1],S=Object(r.useRef)(null),k=getComputedStyle(document.documentElement).getPropertyValue("--bs-danger"),Y=getComputedStyle(document.documentElement).getPropertyValue("--bs-primary"),A=getComputedStyle(document.documentElement).getPropertyValue("--bs-success"),I=getComputedStyle(document.documentElement).getPropertyValue("--bs-warning"),R=Object(r.useState)({}),L=Object(s.a)(R,2),B=L[0],K=L[1],U="credit-card-usage";Object(r.useEffect)((function(){var e=l.split("-"),t=Object(s.a)(e,2),a=t[0],n=t[1],c=d.a.strToNumMonth[a],r=Number(i.credit_card_start_date),o=Number(i.credit_card_end_date),_=new Date("".concat(Number(n),"-").concat(Number(c),"-").concat(o).replace(/-/g,"/")),b="".concat(_.getFullYear(),"-").concat(d.a.leadingZeros(_.getMonth()+1),"-").concat(d.a.leadingZeros(_.getDate())),j=_.setTime(_.getTime()-2592e6);j=new Date(j),j=new Date(j.setDate(r));var m="".concat(j.getFullYear(),"-").concat(d.a.leadingZeros(j.getMonth()+1),"-").concat(d.a.leadingZeros(j.getDate())),p=Number(i.credit_card_payment_date);p=p<10?"0".concat(p):p,p=new Date("".concat(p,"-").concat(l));var f=[(p=d.a.addMonths(p,1)).getFullYear(),p.getMonth()+1,p.getDate()],h=f[0],g=f[1],x=f[2];g=g<10?"0".concat(g):g,x=x<10?"0".concat(x):x,p="".concat(h,"-").concat(g,"-").concat(x),K({sDateStr:m,eDateStr:b,payDate:p}),u((function(e){return Object(P.a)(Object(P.a)({},e),{},{creditCardCycleStartDate:m,creditCardCycleEndDate:b})})),O(S.current.clientWidth)}),[l]),Object(r.useEffect)((function(){if(N&&v.length>0){for(var e,t,a,n=function(e){var t=e.target.id;_(t)},c=null===(e=S.current)||void 0===e||null===(t=e.querySelector("#".concat(U," svg")))||void 0===t?void 0:t.getElementsByClassName("axis")[0].children,s=c&&(null===(a=Array.from(c))||void 0===a?void 0:a.filter((function(e){return e.classList.contains("tick")}))),r=0;r<s.length;r++)s[r].children[1].classList.remove("colored"),s[r].children[1].setAttribute("id",v[0].points[r].month),s[r].children[1].addEventListener("click",n);if(l){var o,i=s&&(null===(o=Array.from(s))||void 0===o?void 0:o.filter((function(e){return e.children[1].id===l}))[0]);i&&i.getElementsByTagName("text")[0].classList.add("colored")}return function(){for(var e=0;e<s.length;e++)s[e].children[1].removeEventListener("click",n)}}}),[l,N,v]);var W=function(e){var t=l.split("-")[1],a=new Array(12).fill().map((function(e,t){return t>8?String(t+1):"0".concat(t+1)})).map((function(a){var n=d.a.monthToStr[a],s=c.filter((function(e){return e.month.split("-")[0].includes(n)})),r=s.length?s[0].cData.filter((function(t){return t.label===e}))[0].value:0;return{x:m()("".concat(t,"/").concat(a,"/01")).format("YYYY-MM-DD"),y:r,month:"".concat(n,"-").concat(t)}}));return a=w.a.flatten(a)},F=function(e){var t=W(e).reduce((function(e,t){return e+Number(t.y.toFixed(2))}),0);return t=d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,t,2)};Object(r.useEffect)((function(){if(c.length>0){var e,t,a=[{color:k,points:W("Taxes & Interest")},{color:Y,points:W("Purchases")},{color:A,points:W("Paid")},{color:I,points:W("Opening Balance")}];y([]),setTimeout((function(){y(a)}),100),null!==(e=S.current)&&void 0!==e&&null!==(t=e.childNodes[2])&&void 0!==t&&t.childNodes[0]&&(S.current.childNodes[2].childNodes[0].style.height=260)}}),[c]);var V=function(e){if(null!==o&&void 0!==o&&o.formatMessage){var t="";if(p>450){var a=(t=m()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase(),n=e.getFullYear();t="".concat(o.formatMessage({id:a,defaultMessage:a})," ").concat(n)}else t=m()(e).format("M");return t}};return Object(D.jsxs)("div",{ref:S,className:"position-relative",children:[Object(D.jsx)("i",{className:"fa fa-".concat(N?"minus":"plus","-circle roundedButton"),onClick:function(){return T(!N)},style:N?{}:{position:"absolute",top:"15px"}}),N&&v.length>0&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"row rounded pt-2",children:[Object(D.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(D.jsxs)("span",{children:[Object(D.jsx)("i",{className:"fa fa-circle text-warning me-2",title:o.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"})}),Object(D.jsx)(h.a,{id:"openingBalance",defaultMessage:"openingBalance"})]}),Object(D.jsxs)("span",{children:[Object(D.jsx)("span",{className:"pe-2",children:Object(D.jsx)(h.a,{id:"year",defaultMessage:"year"})}),null===(t=c[0])||void 0===t?void 0:t.month.split("-")[1]]})]}),Object(D.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(D.jsxs)("span",{children:[Object(D.jsx)("i",{className:"fa fa-circle text-primary me-2",title:o.formatMessage({id:"purchases",defaultMessage:"purchases"})}),Object(D.jsx)(h.a,{id:"purchases",defaultMessage:"purchases"})]}),Object(D.jsx)("span",{children:"".concat(F("Purchases"))})]}),Object(D.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(D.jsxs)("span",{children:[Object(D.jsx)("i",{className:"fa fa-circle text-success me-2",title:o.formatMessage({id:"payments",defaultMessage:"payments"})}),Object(D.jsx)(h.a,{id:"payments",defaultMessage:"payments"})]}),Object(D.jsx)("span",{children:"".concat(F("Paid"))})]}),Object(D.jsxs)("div",{className:"col-md-3 small d-flex flex-nowrap justify-content-between align-items-center",children:[Object(D.jsxs)("span",{children:[Object(D.jsx)("i",{className:"fa fa-circle text-danger me-2",title:o.formatMessage({id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})}),Object(D.jsx)(h.a,{id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})]}),Object(D.jsx)("span",{children:"".concat(F("Taxes & Interest"))})]})]}),Object(D.jsx)(f.a,{data:v,id:U,margins:{top:50,right:p>450?80:30,bottom:50,left:135},width:p,isDate:!0,height:250,xLabel:o.formatMessage({id:"month",defaultMessage:"month"}),yLabel:o.formatMessage({id:"amount",defaultMessage:"amount"}),onPointHover:function(e){return d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:12,xDisplay:function(e,t){return V(e)},onPointClick:function(e,t){return _(t.month)}}),l&&B&&i&&B.payDate&&Object(D.jsx)("div",{className:"pt-4",children:Object(D.jsxs)("div",{className:"row mt-10",children:[Object(D.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[Object(D.jsx)("span",{children:Object(D.jsx)(h.a,{id:"month",defaultMessage:"month"})}),Object(D.jsx)("span",{children:V(new Date("\n                        ".concat(l.split("-")[1],"/").concat(d.a.strToNumMonth[l.split("-")[0]],"/01")))})]}),Object(D.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(D.jsx)("i",{className:"fa fa-credit-card-alt"}),Object(D.jsx)("span",{children:i.credit_card_number})]}),Object(D.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(D.jsx)("span",{children:Object(D.jsx)(h.a,{id:"cycle",defaultMessage:"cycle"})}),Object(D.jsxs)("span",{children:[B.sDateStr," ",Object(D.jsx)(h.a,{id:"to",defaultMessage:"to"})," ",B.eDateStr]})]}),Object(D.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[Object(D.jsx)("span",{children:Object(D.jsx)(h.a,{id:"payDate",defaultMessage:"payDate"})}),Object(D.jsx)("span",{children:B.payDate})]})]})})]})]})})),N=function(e){var t=Object(r.useContext)(we),a=t.ccChartData,n=t.ccYearSelected,c=t.ccDetails,o=t.onCcMonthYearSelected,l=Object(r.useState)([]),i=Object(s.a)(l,2),d=i[0],u=i[1];return Object(r.useEffect)((function(){if(a.length>0){var e=a.map((function(e){return{month:e.month,cData:[{label:"Opening Balance",value:e.data.ob},{label:"Paid",value:e.data.paid},{label:"Purchases",value:e.data.purchases},{label:"Taxes & Interest",value:e.data.taxesInterest},{label:"Balance",value:e.data.balance}]}}));u(e)}}),[a,c,n,o]),Object(D.jsx)(C,{data:d})},T=a(28),S=a(82),k=a(46),Y=a(934),A=a(1293),I=a(322),R=(a(514),a(1290)),L=a(779),B=["monthYearSelected","bankSelected","selectedPlan"],K=function(e){var t=Object(L.a)(),a=e.monthYearSelected,n=e.bankSelected,c=e.selectedPlan,o=Object(T.a)(e,B),l=Object(r.useContext)(x.a),u=Object(r.useContext)(g.a),_=Object(r.useState)([]),b=Object(s.a)(_,2),j=b[0],m=b[1],p=Object(r.useState)(!0),f=Object(s.a)(p,2),O=f[0],M=f[1];Object(r.useEffect)((function(){M(!0);var e=v();Promise.all([e]).then((function(e){var t=e[0];m(t),M(!1)}))}),[a,n,c]);var v=function(){var e=new FormData;return e.append("startDate",c.startDate),e.append("endDate",c.endDate),e.append("bankSelected",n),e.append("criteria",c.criteria),e.append("appId",l.userConfig.appId),k.a.post("/account_planner/getPlanDetails",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))},y=function(e,t){return"E0"===c.criteria?Number(e):"0TO100"===c.criteria||"E100"===c.criteria||"G100"===c.criteria?Number(e)-Number(t):0},E=function(e){var t=e.reduce((function(e,t){return e+t}),0);return d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,t,2)},w=[],C=[],N=[];return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},o),{},{style:{zIndex:1e4},children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsxs)(R.a.Title,{children:[t.formatMessage({id:a.split("-")[0].toLowerCase(),defaultMessage:a.split("-")[0].toLowerCase()})," ",a.split("-")[1]," ",Object(D.jsx)("i",{className:"fa fa-angle-double-right"})," ",c.label]})}),Object(D.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===l.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(D.jsx)("div",{className:"table-responsive p-10",children:O?Object(D.jsx)("div",{className:"relativeSpinner",children:Object(D.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(D.jsx)("table",{className:"table ".concat("dark"===l.userData.theme?"table-dark":"table-white"),children:Object(D.jsxs)("tbody",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"#"}),Object(D.jsx)("th",{children:Object(D.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(D.jsx)("th",{children:Object(D.jsx)(h.a,{id:"committed",defaultMessage:"committed"})}),Object(D.jsx)("th",{children:Object(D.jsx)(h.a,{id:"plan",defaultMessage:"plan"})}),Object(D.jsx)("th",{children:Object(D.jsx)(h.a,{id:"difference",defaultMessage:"difference"})})]}),j&&j.length>0?j.map((function(e,t){var a=y(e.inc_exp_plan_amount,e.inc_exp_amount);w.push(Number(e.inc_exp_amount)),C.push(Number(e.inc_exp_plan_amount));var n=y(e.inc_exp_plan_amount,e.inc_exp_amount);return N.push(n),Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[t+1,"."]}),Object(D.jsx)("td",{children:e.inc_exp_name}),Object(D.jsx)("td",{children:e.inc_exp_amount}),Object(D.jsx)("td",{children:e.inc_exp_plan_amount}),Object(D.jsx)("td",{className:"text-".concat(a>=0?"success":"danger"),children:a>=0?"+".concat(d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,a,2)):"(".concat(d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,a,2),")")})]},t)})):Object(D.jsx)("tr",{children:Object(D.jsx)("td",{className:"text-center py-3",colSpan:"5",children:Object(D.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})}),j&&j.length>0&&Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:Object(D.jsx)(h.a,{id:"total",defaultMessage:"total"})}),Object(D.jsx)("td",{}),Object(D.jsx)("td",{children:E(w)}),Object(D.jsx)("td",{children:E(C)}),Object(D.jsx)("td",{children:E(N)})]})]})})})})]}))};K.defaultProps={property:"String name"};var U=K,W=["totals"],F=function(e){var t=Object(L.a)(),a=Object(r.useContext)(x.a),n=Object(r.useContext)(g.a),c=e.totals,o=Object(T.a)(e,W),l=Object(r.useState)(0),i=Object(s.a)(l,2),u=i[0],_=i[1],b=Object(r.useState)(0),j=Object(s.a)(b,2),m=j[0],p=j[1],f=Object(r.useState)(0),O=Object(s.a)(f,2),M=O[0],v=O[1],y=Object(r.useState)(0),E=Object(s.a)(y,2),w=E[0],C=E[1],N=Object(r.useState)(0),S=Object(s.a)(N,2),k=S[0],Y=S[1],A=Object(r.useState)(0),I=Object(s.a)(A,2),B=I[0],K=I[1];Object(r.useEffect)((function(){if(c.length>0){var e=c.length>0&&c.filter((function(e){return"danger"===e.flagString&&e.amount>0}));e=(e=e.length>0?e[0].amount:0).toFixed(2),e=Number(e),_(e)}}),[c]),Object(r.useEffect)((function(){var e=u-m-M-w;e=Math.round(100*e)/100,Y(e=-0===e?0:e);var t=(Number(u)-e)/u;t=(t*=100)>100?100:t,t=isNaN(t)?100:t,K(t)}),[u,m,M,w]);var U=function(e){return{label:0===e?t.formatMessage({id:"solved",defaultMessage:"solved"}):e>0?t.formatMessage({id:"behind",defaultMessage:"behind"}):t.formatMessage({id:"ahead",defaultMessage:"ahead"}),class:0===e?"text-success":e>0?"text-danger":"text-primary"}};return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},o),{},{style:{zIndex:1e4},children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsx)(R.a.Title,{children:Object(D.jsx)(h.a,{id:"tally",defaultMessage:"tally"})})}),Object(D.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===a.userData.theme?"bg-dark":"bg-white"),children:Object(D.jsxs)("div",{className:"tallyModal text-dark",children:[Object(D.jsxs)("div",{className:"py-2 form-floating",children:[Object(D.jsx)("input",{id:"appplicationBalance",value:u,onChange:function(e){return _(Number(e.target.value))},placeholder:t.formatMessage({id:"balance",defaultMessage:"balance"}),type:"number",className:"form-control"}),Object(D.jsx)("label",{htmlFor:"appplicationBalance",children:Object(D.jsx)(h.a,{id:"balance",defaultMessage:"balance"})})]}),Object(D.jsxs)("div",{className:"py-2 form-floating",children:[Object(D.jsx)("input",{id:"bankBalance",onChange:function(e){return p(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"bank",defaultMessage:"bank"})," ").concat(t.formatMessage({id:"balance",defaultMessage:"balance"}))}),Object(D.jsxs)("label",{htmlFor:"bankBalance",children:[Object(D.jsx)(h.a,{id:"bank",defaultMessage:"bank"})," ",Object(D.jsx)(h.a,{id:"balance",defaultMessage:"balance"})]})]}),Object(D.jsxs)("div",{className:"py-2 form-floating",children:[Object(D.jsx)("input",{id:"unAccounted",onChange:function(e){return v(Number(e.target.value))},type:"number",className:"form-control",placeholder:t.formatMessage({id:"unaccounted",defaultMessage:"unaccounted"})}),Object(D.jsx)("label",{htmlFor:"unAccounted",children:Object(D.jsx)(h.a,{id:"unaccounted",defaultMessage:"unaccounted"})})]}),Object(D.jsxs)("div",{className:"py-2 form-floating",children:[Object(D.jsx)("input",{id:"walletBalance",onChange:function(e){return C(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"wallet",defaultMessage:"wallet"})," ").concat(t.formatMessage({id:"balance",defaultMessage:"balance"}))}),Object(D.jsxs)("label",{htmlFor:"walletBalance",children:[Object(D.jsx)(h.a,{id:"wallet",defaultMessage:"wallet"})," ",Object(D.jsx)(h.a,{id:"balance",defaultMessage:"balance"})]})]}),Object(D.jsxs)("div",{className:"py-2",children:[Object(D.jsx)("div",{className:"text-center p-10",children:Object(D.jsxs)("h5",{className:U(k).class,children:[U(k).label,"\xa0",Object(D.jsx)("i",{className:"fa ".concat(100===B?"fa-check":"fa-times-circle")})]})}),Object(D.jsx)("div",{className:"text-center ".concat(U(k).class),children:d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,k,2)})]}),Object(D.jsx)("div",{className:"custom-progress-bar ".concat(B<100?"danger":"success"),style:{width:"".concat(B,"%")}})]})})]}))},V=["srcArr"],H=function(e){var t=Object(r.useContext)(we),a=e.srcArr,n=Object(T.a)(e,V),c=t.incExpList,o=Object(r.useState)([]),l=Object(s.a)(o,2),i=l[0],d=l[1],_=Object(r.useState)([]),b=Object(s.a)(_,2),j=b[0],p=b[1],f=Object(L.a)(),O=Object(r.useContext)(x.a),g=Object(r.useState)({amount:"",source:"",dest:"",description:f.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"}),category:"",availableFunds:0}),M=Object(s.a)(g,2),v=M[0],y=M[1];Object(r.useEffect)((function(){a&&a.length>0&&d(a)}),[a]);Object(r.useEffect)((function(){var e=new FormData;e.append("id",v.source),e.append("appId",O.userConfig.appId),k.a.post("/account_planner/getFundDetails",e).then((function(e){y((function(t){return Object(P.a)(Object(P.a)({},t),{},{availableFunds:e.data.response[0].availableFunds})}))})).catch((function(e){console.log(e)}))}),[v.source]);return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},n),{},{style:{zIndex:1e4},children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsx)(R.a.Title,{children:Object(D.jsx)(h.a,{id:"fundTransfer",defaultMessage:"fundTransfer"})})}),Object(D.jsx)(R.a.Body,{className:"p-0 rounded-bottom ".concat("dark"===O.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(D.jsxs)("div",{className:"row m-0",children:[Object(D.jsxs)("div",{className:"col-5 pt-3",children:[Object(D.jsxs)("div",{className:"py-3 text-center",children:[Object(D.jsx)("div",{children:Object(D.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(D.jsx)("small",{children:Object(D.jsx)(h.a,{id:"sourceBank",defaultMessage:"sourceBank"})})]}),Object(D.jsxs)("div",{className:"form-floating mt-1",children:[Object(D.jsxs)("select",{id:"source",className:"form-control",value:v.source,onChange:function(e){!function(e){var t=Object(u.a)(i).filter((function(t){return t.id!==e}));p(t),y((function(t){return Object(P.a)(Object(P.a)({},t),{},{source:e,dest:"",amount:"",category:""})}))}(e.target.value)},children:[Object(D.jsx)("option",{value:"",children:"--"}),i.length&&i.map((function(e,t){return Object(D.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(D.jsx)("label",{htmlFor:"source",className:"text-dark",children:Object(D.jsx)(h.a,{id:"selectSourceAccount",defaultMessage:"selectSourceAccount"})}),Number(v.availableFunds)>0&&Object(D.jsxs)("small",{className:"text-danger",children:[Object(D.jsx)(h.a,{id:"balance",defaultMessage:"balance"}),":",Number(v.availableFunds).toLocaleString()]})]})]}),Object(D.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-center",children:Object(D.jsx)("i",{className:"fa fa-arrow-circle-right fa-3x"})}),Object(D.jsxs)("div",{className:"col-5 pt-3",children:[Object(D.jsxs)("div",{className:"py-3 text-center",children:[Object(D.jsx)("div",{children:Object(D.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(D.jsx)("small",{children:Object(D.jsx)(h.a,{id:"destinationBank",defaultMessage:"destinationBank"})})]}),Object(D.jsxs)("div",{className:"form-floating mt-1",children:[Object(D.jsxs)("select",{id:"dest",className:"form-control",value:v.dest,onChange:function(e){return y((function(t){return Object(P.a)(Object(P.a)({},t),{},{dest:e.target.value})}))},children:[Object(D.jsx)("option",{value:"",children:"--"}),j.length&&j.map((function(e,t){return Object(D.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(D.jsx)("label",{htmlFor:"dest",className:"text-dark",children:Object(D.jsx)(h.a,{id:"selectDestinationAccount",defaultMessage:"selectDestinationAccount"})})]})]}),Object(D.jsx)("div",{className:"col-6 pt-3",children:Object(D.jsxs)("div",{className:"form-floating",children:[Object(D.jsx)("input",{id:"amount",value:v.amount,onChange:function(e){return y((function(t){return Object(P.a)(Object(P.a)({},t),{},{amount:e.target.value})}))},placeholder:f.formatMessage({id:"amount",defaultMessage:"amount"}),type:"number",className:"form-control form-control-sm"}),Object(D.jsx)("label",{htmlFor:"amount",className:"text-dark",children:Object(D.jsx)(h.a,{id:"amount",defaultMessage:"amount"})})]})}),Object(D.jsx)("div",{className:"col-6 pt-3",children:Object(D.jsxs)("div",{className:"form-floating",children:[Object(D.jsxs)("select",{id:"cat",className:"form-control",value:v.category,onChange:function(e){return y((function(t){return Object(P.a)(Object(P.a)({},t),{},{category:e.target.value})}))},children:[Object(D.jsx)("option",{value:"",children:"--"}),c.length&&c.map((function(e,t){return Object(D.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(D.jsx)("label",{htmlFor:"cat",className:"text-dark",children:Object(D.jsx)(h.a,{id:"category",defaultMessage:"category"})})]})}),Object(D.jsx)("div",{className:"col-12 py-3",children:Object(D.jsx)("button",{disabled:!(v.dest&&v.amount&&v.source&&v.category),className:"btn btn-bni w-100 border-0",onClick:function(){return function(){var e=new FormData;e.append("amount",v.amount),e.append("source",v.source),e.append("dest",v.dest),e.append("description","".concat(v.description,": ").concat(i.filter((function(e){return e.id===v.source}))[0].value," -> ").concat(i.filter((function(e){return e.id===v.dest}))[0].value)),e.append("category",v.category),e.append("date",m()(new Date).format("YYYY-MM-DD")),e.append("dateTime",m()(new Date).format("YYYY-MM-DD HH:mm:ss")),e.append("appId",O.userConfig.appId),k.a.post("/account_planner/postFundTransfer",e).then((function(e){var t=e.data;e&&t&&t.response?(O.renderToast({message:f.formatMessage({id:"fundTransferSuccess",defaultMessage:"fundTransferSuccess"})}),y((function(e){return Object(P.a)(Object(P.a)({},e),{},{source:"",dest:"",amount:"",category:"",description:f.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})})}))):O.renderToast({type:"error",icon:"fa fa-times-circle",message:f.formatMessage({id:"fundTransferFail",defaultMessage:"fundTransferFail"})})})).catch((function(e){O.renderToast({type:"error",icon:"fa fa-times-circle",message:f.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}))}()},children:Object(D.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})})]})})]}))};H.defaultProps={property:"String name"};var q=H,z=a(168),G=a(62),J=a(57),Z=["intl"],Q=Object(O.c)((function(e,t){var a=Object(r.useContext)(we),o=Object(r.useContext)(x.a),l=Object(r.useContext)(G.a),_=e.intl,b=Object(T.a)(e,Z),j=a.incExpList,p=a.bankList,f=a.bankSelected,O=a.bankDetails,g=a.monthYearSelected,M=Object(r.useState)([]),v=Object(s.a)(M,2),y=v[0],E=v[1],w=Object(r.useState)([]),C=Object(s.a)(w,2),N=C[0],R=C[1],L=Object(r.useState)([]),B=Object(s.a)(L,2),K=B[0],W=B[1],V=Object(r.useState)(!1),H=Object(s.a)(V,2),Q=H[0],$=H[1],X=Object(r.useState)(!1),ee=Object(s.a)(X,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(!1),ce=Object(s.a)(ne,2),se=ce[0],re=ce[1],oe=Object(r.useState)({}),le=Object(s.a)(oe,2),ie=le[0],de=le[1],ue=Object(r.useState)(!1),_e=Object(s.a)(ue,2),be=_e[0],je=_e[1],me=d.a.getNow(),pe=Object(r.useState)({}),fe=Object(s.a)(pe,2),he=fe[0],Oe=fe[1];Object(r.useEffect)((function(){Oe({config:{header:{searchPlaceholder:_.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:_.formatMessage({id:"total",defaultMessage:"total"}),locale:O[0].bank_locale,currency:O[0].bank_currency,maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},rowElements:[],Table:"income_expense",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments","inc_exp_added_at","inc_exp_is_planned"],TableAliasRows:["id","transaction","amount","plan","type","date","category","bank","comments","recorded","isPlanned"].map((function(e){return _.formatMessage({id:e,defaultMessage:e})})),defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:m()(new Date).format("YYYY-MM-DD")}],rowKeyUp:"",showTooltipFor:["inc_exp_name","inc_exp_comments"],showTotal:[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}}]})}),[_]);var ge=function(){if(g){R([]),je(!0);var e=g.split("-"),t=Object(s.a)(e,2),a=t[0],r=t[1],l=d.a.strToNumMonth[a],i=new Date(r,l,0).getDate(),u='inc_exp_date between "'.concat(r,"-").concat(l,'-01" and "').concat(r,"-").concat(l,"-").concat(i,'" and inc_exp_bank = ').concat(f,' and inc_exp_appId = "').concat(o.userConfig.appId,'"'),b={fetch:{dropDownList:j.map((function(e){return{id:e.id,value:e.value}}))}},h={fetch:{dropDownList:p}},O=xe(u);Promise.all([O]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t[0].data.response,R(a),Oe((function(e){var t;return Object(P.a)(Object(P.a)({},e),{rowElements:["checkbox","textbox","number",m()(null===(t=a[0])||void 0===t?void 0:t.inc_exp_date).isAfter()?"number":"label",{radio:{radioList:[{label:_.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:_.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}},"date",b,h,"textbox","relativeTime","boolean"]})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return je(!1)}))}};Object(r.useEffect)((function(){ge()}),[g,f,j,p,_]);Object(r.useEffect)((function(){N.length&&ve(N)}),[_,N]);var xe=function(e){var t=new FormData;return t.append("appId",o.userConfig.appId),t.append("TableRows",he.TableRows),t.append("Table",he.Table),e&&t.append("WhereClause",e),k.a.post("/account_planner/getAccountPlanner",t)},Me=function(e,t){return Object(D.jsx)(Y.a,Object(P.a)(Object(P.a)({id:"button-tooltip-1",className:"in show"},b),{},{children:t}))},ve=function(e){var t=null===e||void 0===e?void 0:e.map((function(e){return e.inc_exp_plan_amount=Number(e.inc_exp_plan_amount),e.inc_exp_amount=Number(e.inc_exp_amount),e})).filter((function(e){return"1"===e.inc_exp_is_planned})).reduce((function(e,t){"Cr"===t.inc_exp_type&&(e.incomeTotal+=t.inc_exp_amount),"Dr"===t.inc_exp_type&&(e.expenseTotal+=t.inc_exp_amount,e.planTotal+=t.inc_exp_plan_amount);var a=t.inc_exp_plan_amount/t.inc_exp_amount;a=Number((100*(a===1/0||isNaN(a)?0:a)).toFixed(2)),e.totalPlans.push(a);var n=Object(P.a)({percent:a},t);return 0===t.inc_exp_plan_amount&&e.noPlans.push(n),100===a&&e.achievedPlans.push(n),a>100&&e.goodPlans.push(n),a<100&&a>0&&e.badPlans.push(n),e}),{expenseTotal:0,incomeTotal:0,planTotal:0,totalPlans:[],goodPlans:[],badPlans:[],noPlans:[],achievedPlans:[]}),a=function(e,t,a){return e.filter((function(e){return e[t]===a})).reduce((function(e,t){return e+t.inc_exp_amount}),0)},n=[{amount:a(e,"inc_exp_type","Cr"),label:_.formatMessage({id:"income",defaultMessage:"income"}),flagString:"success"},{amount:a(e,"inc_exp_type","Dr"),label:_.formatMessage({id:"expense",defaultMessage:"expense"}),flagString:"info"},{amount:a(e,"inc_exp_type","Cr")-a(e,"inc_exp_type","Dr"),label:_.formatMessage({id:"balance",defaultMessage:"balance"}),flagString:"danger"},{amount:t.planTotal,label:_.formatMessage({id:"planning",defaultMessage:"planning"}),flagString:"warning"}];W(n);var c=[{key:"goodPlans",flagString:"success",planString:_.formatMessage({id:"goodPlans",defaultMessage:"goodPlans"}),planArray:t.goodPlans},{key:"achievedPlans",flagString:"info",planString:_.formatMessage({id:"achievedPlans",defaultMessage:"achievedPlans"}),planArray:t.achievedPlans},{key:"badPlans",flagString:"danger",planString:_.formatMessage({id:"badPlans",defaultMessage:"badPlans"}),planArray:t.badPlans},{key:"noPlans",flagString:"warning",planString:_.formatMessage({id:"noPlans",defaultMessage:"noPlans"}),planArray:t.noPlans}];E(c)},De=function(e,t){return e.reduce((function(e,a){return e+function(){switch(t){case"goodPlans":case"badPlans":return a.inc_exp_plan_amount-a.inc_exp_amount;case"achievedPlans":return a.inc_exp_plan_amount;case"noPlans":return a.inc_exp_plan_amount+a.inc_exp_amount;default:return 0}}()}),0)};return Object(D.jsxs)("div",{className:"settings",children:[Q&&Object(D.jsx)(U,{className:"planInfoModal",show:Q,onHide:function(){return $(!1)},size:"lg",animation:!1,monthYearSelected:g,bankSelected:f,selectedPlan:ie}),te&&Object(D.jsx)(F,{className:"planInfoModal",show:te,onHide:function(){return ae(!1)},size:"sm",totals:K,animation:!1}),se&&he.rowElements[7].fetch.dropDownList.length>0&&Object(D.jsx)(q,{className:"",show:se,onHide:function(){return re(!1)},size:"lg",animation:!1,srcArr:he.rowElements[7].fetch.dropDownList,incExpList:he.rowElements[6].fetch.dropDownList,centered:!0}),Object(D.jsxs)("div",{className:"",children:[!be&&N.length>0&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"buttonGrid",children:g&&N&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h6",{children:"".concat(_.formatMessage({id:g.split("-")[0].toLowerCase(),defaultMessage:g.split("-")[0].toLowerCase()})," ").concat(g.split("-")[1])}),Object(D.jsxs)("div",{className:"d-flex flex-row-reverse",children:[Object(D.jsx)("div",{children:Object(D.jsx)(A.a,{placement:"left",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})),triggerType:"hover",children:Object(D.jsx)("i",{className:"fa fa-arrows-h roundedButton ".concat(o.userData.theme," pull-right"),onClick:function(){return re(!0)}})})}),Object(D.jsx)("div",{children:Object(D.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"PDF"})),triggerType:"hover",children:Object(D.jsx)("i",{onClick:function(){return function(){var e=null===N||void 0===N?void 0:N.map((function(e,t){return[t+1,e.inc_exp_name,e.inc_exp_amount,e.inc_exp_plan_amount,e.inc_exp_type,e.inc_exp_date,e.inc_exp_comments]})),t=new I.default;t.text("".concat(d.a.stringToCapitalize(he.Table)," (").concat(g,")"),15,10),t.autoTable({styles:{overflow:"linebreak"},theme:"grid",head:[["#","Transaction","Amount","Planned","Type","Date","Comments"]],body:Object(u.a)(e)});var a=K.map((function(e){return d.a.lacSeperator(e.amount)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Income","Expense","Balance","Planning"]],body:[a]});var n=y.map((function(e){return d.a.lacSeperator(De(e.planArray,e.key),he.config.footer.total.currency)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Good Plans","Achieved Plans","Bad Plans","No Plans"]],body:[n]}),t.save("".concat(he.Table,"-").concat(me))}()},className:"fa fa-file-pdf-o roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(D.jsx)(z.a,{datas:d.a.stripCommasInCSV(N),filename:"Income-Expense-".concat(me,".csv"),columns:[{displayName:"Transaction",id:"inc_exp_name"},{displayName:"Date",id:"inc_exp_date"},{displayName:"Type",id:"inc_exp_type"},{displayName:"Amount",id:"inc_exp_amount"}],children:Object(D.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"CSV"})),triggerType:"hover",children:Object(D.jsx)("i",{className:"fa fa-file-excel-o roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(D.jsx)("div",{children:Object(D.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"replan",defaultMessage:"replan"})),triggerType:"hover",children:Object(D.jsx)("i",{onClick:function(){return function(){var e=he.rowElements.map((function(e,t){return 3===t?"number":e}));Oe(Object(P.a)(Object(P.a)({},he),{rowElements:e}))}()},className:"fa fa-repeat roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(D.jsx)("div",{children:Object(D.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:Me(0,_.formatMessage({id:"tally",defaultMessage:"tally"})),triggerType:"hover",children:Object(D.jsx)("i",{onClick:function(){return ae(!0)},className:"fa fa-text-width roundedButton ".concat(o.userData.theme," pull-right")})})})]})]})}),Object(D.jsx)(S.a,{id:"incExpTable",config:he.config,Table:he.Table,TableRows:he.TableRows,TableAliasRows:he.TableAliasRows,rowElements:he.rowElements,showTotal:he.showTotal,rowKeyUp:he.rowKeyUp,dbData:N,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,n=e.data;if(200===t){if(e&&n&&"boolean"===typeof n.response&&null!==n.response&&n.response&&a.renderToast({message:_.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&n&&"boolean"===typeof n.response&&null!==n.response&&!1===n.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&n&&null===n.response&&l.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(D.jsx)(J.b,{}),content:Object(D.jsx)(J.a,{})}),e&&n&&"object"===typeof n.response&&null!==n.response){var c;c=1451===n.response.number?"foreignKeyDeleteMessage":"",o.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:c,defaultMessage:c})})}}else a.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:he.showTooltipFor,defaultValues:he.defaultValues,onTableUpdate:function(e){ve(e)},onReFetchData:function(){ge()},cellWidth:[4,13,8,8,13,8,13,13,13,10,5],ajaxButtonName:_.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:o.userConfig.appId},theme:o.userData.theme},"incExpTable"),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:"row",children:K.map((function(e){return Object(D.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(D.jsxs)("div",{className:"",children:[Object(D.jsx)("div",{className:"",children:Object(D.jsx)("div",{className:"p-6 text-center",children:Object(D.jsx)("h5",{children:e.label})})}),Object(D.jsx)("div",{className:"",children:Object(D.jsx)("div",{className:"text-center text-".concat(e.flagString),children:d.a.countryCurrencyLacSeperator(O[0].bank_locale,O[0].bank_currency,e.amount,2)})})]})},e.label)}))}),Object(D.jsx)("div",{className:"row",children:y.map((function(e){return Object(D.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(D.jsxs)("div",{className:"",children:[Object(D.jsx)("div",{className:"",children:Object(D.jsx)("div",{className:"p-6 text-center",children:Object(D.jsxs)("h5",{children:[e.planString,Object(D.jsx)("sup",{className:"superScript text-".concat(e.flagString," border-").concat(e.flagString),children:e.planArray.length})]})})}),Object(D.jsx)("div",{className:"",children:Object(D.jsx)("div",{className:"text-center text-".concat(e.flagString),children:Object(D.jsx)("button",{onClick:function(){return function(e){var t=g.split("-"),a=Object(s.a)(t,2),n=a[0],c=a[1],r=d.a.strToNumMonth[n],o=new Date(c,r,0).getDate(),l={startDate:"".concat(c,"-").concat(r,"-01"),endDate:"".concat(c,"-").concat(r,"-").concat(o),bankSelected:f};switch(e){case"goodPlans":l=Object(P.a)(Object(P.a)({},l),{},{label:_.formatMessage({id:"goodPlans",defaultMessage:"goodPlans"}),criteria:"G100"});break;case"achievedPlans":l=Object(P.a)(Object(P.a)({},l),{},{label:_.formatMessage({id:"achievedPlans",defaultMessage:"achievedPlans"}),criteria:"E100"});break;case"badPlans":l=Object(P.a)(Object(P.a)({},l),{},{label:_.formatMessage({id:"badPlans",defaultMessage:"badPlans"}),criteria:"0TO100"});break;case"noPlans":l=Object(P.a)(Object(P.a)({},l),{},{label:_.formatMessage({id:"noPlans",defaultMessage:"noPlans"}),criteria:"E0"})}$(!0),de(l)}(e.key)},className:"btn btn-sm btn-".concat(e.flagString),children:d.a.countryCurrencyLacSeperator(O[0].bank_locale,O[0].bank_currency,De(e.planArray,e.key),2)})})})]})},e.key)}))})]})]}),!be&&!N.length&&Object(D.jsx)("div",{className:"py-3 text-center",children:Object(D.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),be&&Object(D.jsx)("div",{className:"relativeSpinner",children:Object(D.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})]})})),$=a(1245),X=Object(O.c)((function(e){var t,a=Object(r.useContext)(we),n=e.intl,c=a.bankList,s=a.bankSelected,o=a.setBankSelected,l=null===(t=c.filter((function(e){return e.id===s}))[0])||void 0===t?void 0:t.value;return Object(D.jsxs)($.a,{title:n.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(D.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[l," ",Object(D.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(D.jsx)($.a.Menu,{children:c.map((function(e,t){return Object(D.jsx)($.a.Item,{onClick:function(){o(e.id)},children:Object(D.jsxs)("div",{title:e.value,children:[Object(D.jsx)("i",{className:"fa fa-bank"})," ",e.value]})},t)}))})]})})),ee=Object(O.c)((function(e){var t=Object(r.useContext)(we),a=e.intl,n=t.yearList,c=t.yearSelected,s=t.setYearSelected;return Object(D.jsxs)($.a,{title:a.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(D.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[c," ",Object(D.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(D.jsx)($.a.Menu,{children:n.map((function(e,t){return Object(D.jsx)($.a.Item,{onClick:function(){s(e.id)},children:Object(D.jsxs)("div",{title:e.value,children:[Object(D.jsx)("i",{className:"fa fa-calendar"})," ",e.value]})},t)}))})]})})),te=Object(O.c)((function(e){var t=Object(r.useContext)(we),a=e.intl,n=t.ccYearList,c=t.ccYearSelected,s=t.setCcYearSelected;return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)($.a,{title:a.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(D.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[c," ",Object(D.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(D.jsx)($.a.Menu,{children:n&&n.length>0&&n.map((function(e,t){return Object(D.jsx)($.a.Item,{onClick:function(){s(e.id)},children:Object(D.jsxs)("div",{title:e.value,children:[Object(D.jsx)("i",{className:"fa fa-calendar"})," ",e.value]})},t)}))})]})})})),ae=Object(O.c)((function(e){var t,a=Object(r.useContext)(we),n=e.intl,c=a.ccBankList,s=a.ccBankSelected,o=a.setCcBankSelected,l=null===(t=c.filter((function(e){return e.id===s}))[0])||void 0===t?void 0:t.value;return Object(D.jsxs)($.a,{title:n.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(D.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[l," ",Object(D.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(D.jsx)($.a.Menu,{children:c.map((function(e,t){return Object(D.jsx)($.a.Item,{onClick:function(t){o(e.id)},children:Object(D.jsxs)("div",{title:e.value,children:[Object(D.jsx)("i",{className:"fa fa-credit-card"})," ",e.value]})},t)}))})]})})),ne=a(83),ce=function(e){var t=Object(L.a)(),a=e.onImport,n=Object(r.useContext)(x.a),c=Object(r.useState)([]),l=Object(s.a)(c,2),i=l[0],d=l[1],_=Object(r.useState)([]),b=Object(s.a)(_,2),j=b[0],p=b[1],f=Object(r.useState)(-1),O=Object(s.a)(f,2),g=O[0],M=O[1],v=Object(r.useState)(-1),y=Object(s.a)(v,2),E=y[0],w=y[1],C=Object(r.useState)(-1),N=Object(s.a)(C,2),T=N[0],S=N[1],k=Object(r.useState)(" "),Y=Object(s.a)(k,2),A=Y[0],I=Y[1],B=[{label:t.formatMessage({id:"transaction",defaultMessage:"transaction"}),type:"text",key:"cc_transaction"},{label:t.formatMessage({id:"date",defaultMessage:"date"}),type:"dated",key:"cc_date"},{label:t.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"}),type:"number",key:"cc_opening_balance"},{label:t.formatMessage({id:"credits",defaultMessage:"credits"}),type:"number",key:"cc_payment_credits"},{label:t.formatMessage({id:"purchases",defaultMessage:"purchases"}),type:"number",key:"cc_purchases"},{label:t.formatMessage({id:"interest",defaultMessage:"interest"}),type:"number",key:"cc_taxes_interest"}],K=Object(r.useRef)(null),U="{--#newLine#--}";Object(r.useEffect)((function(){if(g>-1&&E>-1&&T>-1&&g!==E){var e=Object(u.a)(i);e=e.map((function(e,t){return t===T&&e.length>1&&(e[g]=e[g]&&e[E]&&[].concat(Object(u.a)(e[g]),Object(u.a)(e[E])).join(""),e[E]=e[E]&&null),e})).map((function(e){return e.filter((function(e){return null!==e}))})),d(e),w(-1),S(-1),M(-1)}}),[g,E,T]);var W=function(e){e.preventDefault()},F=function(e,t,a){var n,c=JSON.parse(e.dataTransfer.getData("drag-item")),s=c.cell,r=c.i,o="";"dated"===t?(n=s,o=[m()(n,"YYYY/MMM/DD",!0).isValid()&&m()(n,"YYYY/MMM/DD").format("YYYY-MM-DD"),m()(n,"YYYY.MMM.DD",!0).isValid()&&m()(n,"YYYY.MMM.DD").format("YYYY-MM-DD"),m()(n,"YYYY-MMM-DD",!0).isValid()&&m()(n,"YYYY-MMM-DD").format("YYYY-MM-DD"),m()(n,"YYYY MMM DD",!0).isValid()&&m()(n,"YYYY MMM DD").format("YYYY-MM-DD"),m()(n,"YYYY/MM/DD",!0).isValid()&&m()(n,"YYYY/MM/DD").format("YYYY-MM-DD"),m()(n,"YYYY.MM.DD",!0).isValid()&&m()(n,"YYYY.MM.DD").format("YYYY-MM-DD"),m()(n,"YYYY-MM-DD",!0).isValid()&&m()(n,"YYYY-MM-DD").format("YYYY-MM-DD"),m()(n,"YYYY MM DD",!0).isValid()&&m()(n,"YYYY MM DD").format("YYYY-MM-DD"),m()(n,"DD/MM/YYYY",!0).isValid()&&m()(n,"DD/MM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MM-YYYY",!0).isValid()&&m()(n,"DD-MM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MM.YYYY",!0).isValid()&&m()(n,"DD.MM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MM YYYY",!0).isValid()&&m()(n,"DD MM YYYY").format("YYYY-MM-DD"),m()(n,"DD/MMM/YYYY",!0).isValid()&&m()(n,"DD/MMM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MMM-YYYY",!0).isValid()&&m()(n,"DD-MMM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MMM.YYYY",!0).isValid()&&m()(n,"DD.MMM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MMM YYYY",!0).isValid()&&m()(n,"DD MMM YYYY").format("YYYY-MM-DD"),m()(n,"DD/MMMM/YYYY",!0).isValid()&&m()(n,"DD/MMMM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MMMM-YYYY",!0).isValid()&&m()(n,"DD-MMMM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MMMM.YYYY",!0).isValid()&&m()(n,"DD.MMMM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MMMM YYYY",!0).isValid()&&m()(n,"DD MMMM YYYY").format("YYYY-MM-DD")].filter((function(e){return!1!==e}))[0]||"Invalid Date"):"text"===t?o=s:"number"===t&&(s=s.replace(",",""),o=Number(s)||0),e.target.value=o,V(r,a,o)},V=function(e,t,a){var n=Object(u.a)(j);n=n.map((function(n,c){return e===c&&(n[t]=a),n})),p(n)};return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},e),{},{style:{zIndex:1e4},children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsx)(R.a.Title,{children:Object(D.jsx)(h.a,{id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})})}),Object(D.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(D.jsxs)("div",{className:"creditCardModal",children:[i.length?Object(D.jsx)("div",{className:"table-responsive pb-3",children:Object(D.jsxs)("div",{className:"tableGrid",children:[B.map((function(e,t){return Object(D.jsx)("div",{className:"heading",children:e.label},t)})),i.map((function(e,t){return Object(D.jsxs)(o.a.Fragment,{children:[e.length>0&&Object(D.jsxs)("div",{className:"singleLines",children:[e.map((function(e,a){return Object(D.jsxs)("span",{id:a,draggable:"true",onDragStart:function(n){return function(e,t){M(Number(e.target.id)),e.dataTransfer.setData("drag-item",t)}(n,JSON.stringify({cell:e,i:t,j:a}))},onDrop:function(e){return function(e,t){var a=t.i;S(Number(a)),w(Number(e.target.id))}(e,{i:t,j:a})},onDragOver:function(e){return W(e)},className:"cell",children:[e,Object(D.jsx)("i",{onClick:function(){return function(e,t){var a=Object(u.a)(i);a=a.map((function(a,n){return n===e?a.filter((function(e,a){return a!==t})):a})),d(a)}(t,a)},className:"fa fa-times-circle"})]},a)})),e.length>0&&Object(D.jsx)("span",{onClick:function(){return function(e){var t=Object(u.a)(i);t=t.map((function(t,a){return a===e&&(t=[]),t})),d(t)}(t)},className:"cell danger",title:"Delete all?",children:Object(D.jsx)("i",{className:"fa fa-times"})})]}),B.map((function(e,a){return Object(D.jsx)("div",{children:Object(D.jsx)("input",{type:e.type,onChange:function(a){return V(t,e.key,a.target.value)},onDragOver:function(e){return W(e)},onDrop:function(t){return F(t,e.type,e.key)},className:"input"})},a)}))]},t)}))]})}):Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"row separatorWrapper py-2",children:[Object(D.jsx)("div",{className:"col-md-9 col-7 pl-0",children:Object(D.jsxs)("label",{htmlFor:"paste",children:[Object(D.jsx)(h.a,{id:"pasteYourCreditCardStatementHere",defaultMessage:"pasteYourCreditCardStatementHere"})," ",Object(D.jsx)("i",{className:"fa fa-level-down"})]})}),Object(D.jsx)("div",{className:"col-md-3 col-5 pr-0",children:Object(D.jsxs)("div",{className:"input-group input-group-sm",children:[Object(D.jsx)("span",{className:"input-group-text bni-bg",children:Object(D.jsx)(h.a,{id:"textSeperated",defaultMessage:"textSeperated"})}),Object(D.jsx)("input",{type:"text",defaultValue:A,onChange:function(e){return I(e.target.value)},className:"form-control"})]})})]}),Object(D.jsx)("textarea",{id:"paste",ref:K,className:"textArea"})]}),Object(D.jsxs)("div",{className:"text-end py-2",children:[i.length>0&&Object(D.jsxs)("button",{onClick:function(){return d([])},className:"btn btn-bni me-3",children:[Object(D.jsx)("i",{className:"fa fa-angle-double-left"})," ",Object(D.jsx)(h.a,{id:"back",defaultMessage:"back"})]}),i.length?Object(D.jsx)("button",{onClick:function(){return a(j)},className:"btn btn-bni",children:Object(D.jsx)(h.a,{id:"generate",defaultMessage:"generate"})}):Object(D.jsx)("button",{onClick:function(){return function(){var e=K.current.value,t=(e=e.replace(/(\r\n|\n|\r)/gm,U).split(U).filter((function(e){return e})).map((function(e){return e.split(A)}))).map((function(){return{cc_comments:"",cc_date:"",cc_expected_balance:"",cc_for_card:"",cc_id:"",cc_opening_balance:"",cc_payment_credits:"",cc_purchases:"",cc_taxes_interest:"",cc_transaction:""}}));p(t),d(e)}()},className:"btn btn-bni",children:Object(D.jsx)(h.a,{id:"process",defaultMessage:"process"})})]})]})})]}))};ce.defaultProps={property:"String name"};var se=ce,re=Object(O.c)((function(e){var t=Object(r.useContext)(we),a=Object(r.useContext)(x.a),o=Object(r.useContext)(G.a),l=e.intl,u=t.ccMonthYearSelected,_=t.ccBankSelected,b=t.ccDetails,j=t.incExpList,m=t.ccBankList,p=Object(r.useState)(!1),f=Object(s.a)(p,2),O=f[0],g=f[1],M=Object(r.useState)([]),v=Object(s.a)(M,2),y=v[0],E=v[1],w=Object(r.useState)(!1),C=Object(s.a)(w,2),N=C[0],T=C[1],I=Object(r.useState)([]),R=Object(s.a)(I,2),L=R[0],B=R[1];Object(r.useEffect)((function(){K()}),[b,j,m,l]);var K=function(){var e=u.split("-"),t=Object(s.a)(e,2),a=t[0],r=t[1],o=d.a.strToNumMonth[a],l=Number(b.credit_card_start_date),i=Number(b.credit_card_end_date),p=new Date("".concat(Number(r),"-").concat(Number(o),"-").concat(i).replace(/-/g,"/")),f="".concat(p.getFullYear(),"-").concat(d.a.leadingZeros(p.getMonth()+1),"-").concat(d.a.leadingZeros(p.getDate())),h=p.setTime(p.getTime()-2592e6);h=new Date(h),h=new Date(h.setDate(l));var O="".concat(h.getFullYear(),"-").concat(d.a.leadingZeros(h.getMonth()+1),"-").concat(d.a.leadingZeros(h.getDate())),g='cc_date between "'.concat(O,'" and "').concat(f,'" and cc_for_card = ').concat(_);E([]),T(!0);var x=W(g);Promise.all([x]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B([]),E(t[0].data.response),T(!1),ne.a[0].rowElements[8]={fetch:{dropDownList:m}},ne.a[0].rowElements[9]={fetch:{dropDownList:j}},ne.a[0].rowElements[8].searchable=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},U=function(){K()},W=function(e){var t=new FormData;return t.append("appId",a.userConfig.appId),t.append("TableRows",ne.a[0].TableRows),t.append("Table",ne.a[0].Table),e&&t.append("WhereClause",e),k.a.post("/account_planner/getAccountPlanner",t)},F=ne.a.map((function(e){var t={header:{searchPlaceholder:l.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:l.formatMessage({id:"total",defaultMessage:"total"}),locale:b.credit_card_locale,currency:b.credit_card_currency,maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}};return e.config=t,e.TableAliasRows=["id","transaction","date","openingBalance","credits","purchases","taxesAndInterest","balance","creditCard","category","status","comments","recorded"].map((function(e){return l.formatMessage({id:e,defaultMessage:e})})),e}));return Object(D.jsxs)("div",{className:"settings",children:[O&&Object(D.jsx)(se,{className:"creditCardModal",show:O,onHide:function(){return g(!1)},size:"xl",animation:!1,onImport:function(e){B(e),g(!1)}}),Object(D.jsxs)("div",{className:"",children:[Object(D.jsx)("div",{className:"row py-2",children:Object(D.jsx)("div",{className:"col-md-12",children:Object(D.jsx)(A.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e,t){return Object(D.jsx)(Y.a,Object(P.a)(Object(P.a)({id:"button-tooltip-1",className:"in show"},e),{},{children:t}))}(e,l.formatMessage({id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})),triggerType:"hover",children:Object(D.jsx)("i",{onClick:function(){return g(!O)},className:"fa fa-upload roundedButton pull-right"})})})}),N?Object(D.jsx)("div",{className:"relativeSpinner",children:Object(D.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):y&&y.length>0?F.sort((function(e,t){return e.id>t.id})).map((function(e,n){return Object(D.jsx)(S.a,{id:"ccTable",Table:e.Table,config:e.config,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,dbData:y,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var n=e.status,c=e.data;if(200===n){if(e&&c&&"boolean"===typeof c.response&&null!==c.response&&c.response&&t.renderToast({message:l.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&c&&"boolean"===typeof c.response&&null!==c.response&&!1===c.response&&t.renderToast({type:"error",icon:"fa fa-times-circle",message:l.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&c&&null===c.response&&o.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(D.jsx)(J.b,{}),content:Object(D.jsx)(J.a,{})}),e&&c&&"object"===typeof c.response&&null!==c.response){var s;s=1451===c.response.number?"foreignKeyDeleteMessage":"",a.renderToast({type:"error",icon:"fa fa-times-circle",message:l.formatMessage({id:s,defaultMessage:s})})}}else t.renderToast({type:"error",icon:"fa fa-times-circle",message:l.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:U,insertCloneData:L,cellWidth:[4,13,8,8,8,8,8,8,13,13,13,13,10],ajaxButtonName:l.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"cc_appId",value:a.userConfig.appId},theme:a.userData.theme},n)})):Object(D.jsx)("div",{className:"py-3 text-center",children:Object(D.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})})),oe=a(34),le=a(109),ie=a.n(le),de=a(187),ue=a.n(de),_e=a(105),be=function(e){var t=Object(L.a)(),a=Object(r.useContext)(we),n=Object(r.useContext)(x.a),c=Object(r.useContext)(G.a),o=Object(r.useState)(new Date),l=Object(s.a)(o,2),u=l[0],_=l[1],b=Object(r.useState)(""),j=Object(s.a)(b,2),m=j[0],p=j[1],f=Object(r.useState)(""),O=Object(s.a)(f,2),g=O[0],M=O[1],v=Object(r.useState)("0"),y=Object(s.a)(v,2),E=y[0],w=y[1],C=Object(r.useState)(!0),N=Object(s.a)(C,2),T=N[0],S=N[1],Y=Object(r.useState)(!0),A=Object(s.a)(Y,2),I=A[0],B=A[1],K=Object(r.useState)([]),U=Object(s.a)(K,2),W=U[0],F=U[1],V=Object(r.useState)([]),H=Object(s.a)(V,2),q=H[0],z=H[1],Z=Object(r.useState)(""),Q=Object(s.a)(Z,2),$=Q[0],X=Q[1],ee=Object(r.useState)([]),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(r.useState)(""),se=Object(s.a)(ce,2),re=se[0],le=se[1],de=Object(r.useState)(""),be=Object(s.a)(de,2),je=be[0],me=be[1],pe=Object(r.useState)(!1),fe=Object(s.a)(pe,2),he=fe[0],Oe=fe[1],ge=Object(r.useState)(!1),xe=Object(s.a)(ge,2),Me=xe[0],ve=xe[1],De="&Lang;",ye=[{1:t.formatMessage(Object(oe.a)({id:"1"},"id","1"))},{2:t.formatMessage(Object(oe.a)({id:"2"},"id","2"))},{3:t.formatMessage(Object(oe.a)({id:"3"},"id","3"))},{4:t.formatMessage(Object(oe.a)({id:"4"},"id","4"))},{5:t.formatMessage(Object(oe.a)({id:"5"},"id","5"))},{6:t.formatMessage(Object(oe.a)({id:"6"},"id","6"))},{7:t.formatMessage(Object(oe.a)({id:"7"},"id","7"))},{8:t.formatMessage(Object(oe.a)({id:"8"},"id","8"))},{9:t.formatMessage(Object(oe.a)({id:"9"},"id","9"))},{"&Lang;":De},{0:t.formatMessage(Object(oe.a)({id:"0"},"id","0"))},{".":"."},{C:"C"}];Object(r.useEffect)((function(){var e=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/bank_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),t=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/inc_exp_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),a=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e,t,a]).then((function(e){e[0].length>0?F(e[0]):F([{id:null,value:"NULL"}]),e[0].length>0&&e[0][0].id?X(e[0][0].id):X(""),e[1].length>0?ne(e[1]):ne([{id:null,value:"NULL"}]),e[1].length>0&&e[1][0].id?le(e[1][0].id):le(""),e[2].length>0?z(e[2]):z([{id:null,value:"NULL"}]),e[2].length>0&&e[2][0].id?me(e[2][0].id):me("")}))}),[]);var Pe=function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)};return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},e),{},{style:{zIndex:1e4},enforceFocus:!1,children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsx)(R.a.Title,{children:Object(D.jsx)(h.a,{id:"fastShopping",defaultMessage:"fastShopping"})})}),Object(D.jsx)(R.a.Body,{className:"react-responsive-ajax-data-table rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(D.jsxs)("form",{id:"transactForm",onSubmit:function(e){return e.preventDefault()},children:[Object(D.jsx)("div",{className:"",children:Object(D.jsx)("input",{type:"text",className:"form-control",placeholder:t.formatMessage({id:"transaction",defaultMessage:"transaction"}),onChange:function(e){return p(e.target.value)}})}),Object(D.jsx)("div",{className:"overflow text-end",children:E}),Object(D.jsx)("div",{className:"",children:Object(D.jsx)("div",{className:"numPads pb-2",children:ye.map((function(e,t){var a=isNaN(Number(Object.keys(e)[0]))?Object.keys(e)[0]:Number(Object.keys(e)[0]),n=Object.values(e)[0];return Object(D.jsx)("div",{className:"text-center buttonContainer",children:Object(D.jsx)("button",{disabled:E.toString().includes(".")&&"."===a,onClick:function(){return function(e){var t=E;"number"===typeof e&&(t=he?"".concat(t,".").concat(e):"".concat(E).concat(e),Oe(!1)),"."===e&&(Oe(!0),"0"===t.substring(0,1)&&(t="0"+t)),t.length>0&&"0"===t.substring(0,1)&&!t.includes(".")&&(t=t.substring(1,t.length)),t.length>0&&"."===t.substring(0,1)&&(t="0".concat(t)),"C"===e&&(t="0",Oe(!1)),e===De&&(t=t.length>1?t.slice(0,-1):"0").length>0&&"."===t.slice(t.length-1)&&(t=t.slice(0,-1),Oe(!1)),w(t)}(a)},dangerouslySetInnerHTML:{__html:n}})},t)}))})}),Object(D.jsxs)("div",{className:"row py-2",children:[Object(D.jsx)("div",{className:"col-6 py-2 react-responsive-ajax-data-table",children:Object(D.jsx)(ie.a,{onChange:function(e){_(e)},value:u,format:"y-MM-dd",required:!0,clearIcon:null,className:"fastShoppingDatePicker"})}),Object(D.jsx)("div",{className:"col-6 py-2",children:Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{onClick:function(){return B(!I)},className:"",children:I?t.formatMessage({id:"debitCard",defaultMessage:"debitCard"}):t.formatMessage({id:"creditCard",defaultMessage:"creditCard"})}),Object(D.jsx)("i",{onClick:function(){return B(!I)},className:"fa fa-circle ps-2 ".concat(I?"debit":"credit")})]})})]}),Object(D.jsx)("div",{className:"py-2",children:Object(D.jsx)("input",{type:"text",className:"form-control",placeholder:"Comments",onChange:function(e){return M(e.target.value)}})}),Object(D.jsx)("div",{children:W.length>0&&ae.length>0&&q.length>0?Object(D.jsxs)(D.Fragment,{children:[I?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"py-2",children:Object(D.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[Object(D.jsx)("div",{onClick:function(){return S(!0)},className:"",children:Object(D.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(D.jsx)(ue.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return S(!T)},checked:!0===T}),Object(D.jsx)("div",{onClick:function(){return S(!1)},className:"",children:Object(D.jsx)(h.a,{id:"income",defaultMessage:"income"})}),Object(D.jsx)(ue.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return S(!T)},checked:!1===T})]})}),Object(D.jsx)("div",{className:"py-2",children:Object(D.jsx)(_e.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){X(t)},element:{fetch:{dropDownList:W.map((function(e){return{id:e.id,value:e.value}}))}},value:$,type:"single",searchable:!0,theme:n.userData.theme},1)})]}):Object(D.jsx)("div",{className:"py-2",children:Object(D.jsx)(_e.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){me(t)},element:{fetch:{dropDownList:q.map((function(e){return{id:e.id,value:e.value}}))}},value:je,type:"single",searchable:!0,theme:n.userData.theme},1)}),Object(D.jsx)("div",{className:"py-2",children:Object(D.jsx)(_e.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){le(t)},element:{fetch:{dropDownList:ae.map((function(e){return{id:e.id,value:e.value}}))}},value:re,type:"single",searchable:!0,theme:n.userData.theme},1)})]}):Object(D.jsx)("div",{className:"relativeSpinner",children:Object(D.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}),Object(D.jsx)("div",{className:"py-2",children:Object(D.jsx)("button",{disabled:!(Number(E)>0&&m&&!Me),onClick:function(){return function(){ve(!0);var s={Table:I?"income_expense":"credit_card_transactions",insertData:I?[{inc_exp_id:null,inc_exp_appId:n.userConfig.appId,inc_exp_name:m,inc_exp_amount:E,inc_exp_plan_amount:0,inc_exp_type:T?"Dr":"Cr",inc_exp_date:Pe(u),inc_exp_category:re,inc_exp_bank:$,inc_exp_comments:g}]:[{cc_id:null,cc_appId:n.userConfig.appId,cc_transaction:m,cc_date:Pe(u),cc_opening_balance:0,cc_payment_credits:0,cc_purchases:E,cc_taxes_interest:0,cc_expected_balance:E,cc_for_card:je,cc_inc_exp_cat:re,cc_comments:g,cc_transaction_status:0}]},r=new FormData;document.getElementById("transactForm").reset(),r.append("postData",JSON.stringify(s)),k.a.post("/account_planner/postAccountPlanner",r).then((function(n){var s=n.data;n&&s&&"boolean"===typeof s.response&&null!==s.response&&s.response&&a.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),n&&s&&"boolean"===typeof s.response&&null!==s.response&&!1===s.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),n&&s&&null===s.response&&(c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(D.jsx)(J.b,{}),content:Object(D.jsx)(J.a,{})}),e.onHide(!1)),w("0"),p(""),M(""),null!=document.getElementById("transactForm")&&document.getElementById("transactForm").reset()})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})}),console.log(e)})).finally((function(){return ve(!1)}))}()},className:"btn btn-bni border-0",children:Me?Object(D.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(D.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})})]})})]}))};be.defaultProps={property:"String name"};var je=be,me=function(e){var t=e.ccDetails,a=Object(r.useState)(0),n=Object(s.a)(a,2),c=n[0],o=n[1],l=24*Number(t.remDays)*3600;Object(r.useEffect)((function(){Number(t.remDays)>0&&i()}),[t.remDays]);var i=function e(){var t=Math.floor(l/24/60/60),a=Math.floor(l-86400*t),n=Math.floor(a/3600),c=Math.floor(a-3600*n),s=Math.floor(c/60),r=l%60,i=u(t)+":"+u(n)+":"+u(s)+":"+u(r);0===l?d(e):l--,o(i),setTimeout(e,1e3)},d=function(){clearTimeout(i)},u=function(e){return e<10?"0"+e:e};return Object(D.jsx)("span",{children:c})};me.defaultProps={property:"String name"};var pe=me,fe=function(e){var t=Object(r.useContext)(x.a),a=Object(r.useState)(!1),n=Object(s.a)(a,2),c=n[0],o=n[1],l=Object(r.useState)(!1),u=Object(s.a)(l,2),_=u[0],b=u[1],j=Object(r.useState)(!1),m=Object(s.a)(j,2),p=m[0],f=m[1],O=Object(r.useState)({}),g=Object(s.a)(O,2),M=g[0],v=g[1],y=Object(r.useState)([]),E=Object(s.a)(y,2),w=E[0],C=E[1],N=new Date;Object(r.useEffect)((function(){o(!0);var e=S();Promise.all([e]).then((function(e){var t=e[0];C(t),o(!1)}))}),[]);var T=function(){return Object(D.jsx)("div",{className:"relativeSpinner",children:Object(D.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},S=function(){var e=new FormData;return e.append("appId",t.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))};return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},e),{},{style:{zIndex:1e4},children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsx)(R.a.Title,{children:Object(D.jsx)(h.a,{id:"checkCreditCardCycleDate",defaultMessage:"checkCreditCardCycleDate"})})}),Object(D.jsxs)(R.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[c?T():Object(D.jsx)("div",{className:"row",children:w&&w.length>0&&w.map((function(e,a){return Object(D.jsxs)("div",{onClick:function(){return function(e){var a=new FormData;return a.append("bank",e),a.append("appId",t.userConfig.appId),v({}),b(!0),f(e),k.a.post("/account_planner/credit_card_details",a).then((function(e){var t=e.data.response[0],a=t.credit_card_start_date,n=[(a=d.a.addMonths(new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(a).replace(/-/g,"/")),-1)).getFullYear(),a.getMonth()+1,a.getDate()],c=n[0],s=n[1],r=n[2],o=[s<10?"0".concat(s):s,r<10?"0".concat(r):r];s=o[0],r=o[1],a="".concat(c,"-").concat(s,"-").concat(r);var l=t.credit_card_end_date,i=[(l=new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(l).replace(/-/g,"/"))).getFullYear(),l.getMonth()+1,l.getDate()],u=i[0],_=i[1],j=i[2],m=[_<10?"0".concat(_):_,j<10?"0".concat(j):j];_=m[0],j=m[1],l="".concat(u,"-").concat(_,"-").concat(j);var p=t.credit_card_payment_date,f=[(p=d.a.addMonths(new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(p).replace(/-/g,"/")),1)).getFullYear(),p.getMonth()+1,p.getDate()],h=f[0],O=f[1],g=f[2],x=[O<10?"0".concat(O):O,g<10?"0".concat(g):g];O=x[0],g=x[1],p="".concat(h,"-").concat(O,"-").concat(g);var M=new Date(p)-new Date;M=Math.abs(M),M=Math.ceil(M/864e5);var D={cardNumber:t.credit_card_number,cardName:t.credit_card_name,startDate:a,endDate:l,payDate:p,remDays:M};v(D),b(!1)})).catch((function(e){console.log(e)}))}(e.id)},className:"col-6 text-center cardWrapper ".concat(p===e.id?"active":""),children:[Object(D.jsx)("i",{className:"fa fa-credit-card-alt"}),e.value]},a)}))}),_?T():Object.keys(M).length>0&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"py-3 text-center",children:M.cardName}),Object(D.jsxs)("div",{className:"container mt-10 text-center",children:[Object(D.jsx)("div",{className:"contactLabel",children:Object(D.jsx)(h.a,{id:"cardNumber",defaultMessage:"cardNumber"})}),Object(D.jsx)("div",{children:M.cardNumber}),Object(D.jsxs)("div",{className:"row pb-3 pt-3",children:[Object(D.jsxs)("div",{className:"col-6",children:[Object(D.jsx)("label",{children:Object(D.jsx)(h.a,{id:"startDate",defaultMessage:"startDate"})}),Object(D.jsx)("div",{children:M.startDate})]}),Object(D.jsxs)("div",{className:"col-6",children:[Object(D.jsx)("label",{children:Object(D.jsx)(h.a,{id:"endDate",defaultMessage:"endDate"})}),Object(D.jsx)("div",{children:M.endDate})]})]}),Object(D.jsxs)("div",{className:"row text-center",children:[Object(D.jsxs)("div",{className:"col-6",children:[Object(D.jsx)("label",{children:Object(D.jsx)(h.a,{id:"payDate",defaultMessage:"payDate"})}),Object(D.jsx)("div",{children:M.payDate})]}),Object(D.jsxs)("div",{className:"col-6",children:[Object(D.jsx)("label",{children:Object(D.jsx)(h.a,{id:"remainingDays",defaultMessage:"remainingDays"})}),Object(D.jsx)("div",{children:Object(D.jsx)(pe,{ccDetails:M})})]})]})]})]})]})]}))};fe.defaultProps={property:"String name"};var he=fe,Oe=function(e){var t=e.onHide,a=e.onYes,n=Object(r.useContext)(x.a);return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},e),{},{style:{zIndex:1e4},children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsx)(R.a.Title,{children:Object(D.jsx)(h.a,{id:"sureAbtSqlQueries",defaultMessage:"sureAbtSqlQueries"})})}),Object(D.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(D.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(D.jsx)("div",{children:Object(D.jsx)("button",{onClick:function(){return a()},className:"btn btn-bni",children:Object(D.jsx)(h.a,{id:"allow",defaultMessage:"allow"})})}),Object(D.jsx)("div",{children:Object(D.jsx)("button",{onClick:function(){return t()},className:"btn btn-secondary",children:Object(D.jsx)(h.a,{id:"restrict",defaultMessage:"restrict"})})})]})})]}))};Oe.defaultProps={};var ge=Oe,xe=a(373),Me=a(269),ve=function(e){var t=Object(L.a)(),a=Object(r.useContext)(x.a),n=5242880,c=1e3,o=Object(r.useState)({}),l=Object(s.a)(o,2),i=l[0],d=l[1],u=Object(r.useState)([]),_=Object(s.a)(u,2),b=_[0],j=_[1],p=[{inc_exp_id:"null",inc_exp_name:"Gross profit",inc_exp_amount:1e6,inc_exp_plan_amount:0,inc_exp_type:"Cr",inc_exp_date:m()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your profit comments"},{inc_exp_id:"null",inc_exp_name:"Gross expense",inc_exp_amount:5e5,inc_exp_plan_amount:0,inc_exp_type:"Dr",inc_exp_date:m()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your expense comments"}];return Object(D.jsxs)(R.a,Object(P.a)(Object(P.a)({},e),{},{style:{zIndex:1e4},children:[Object(D.jsx)(R.a.Header,{closeButton:!0,children:Object(D.jsxs)(R.a.Title,{children:[Object(D.jsx)(h.a,{id:"bulkImport",defaultMessage:"bulkImport"}),Object(D.jsxs)("em",{className:"ps-1",children:["(",Object(D.jsxs)("small",{className:"pe-1",children:[Object(D.jsx)(h.a,{id:"limit",defaultMessage:"limit"}),":"," ","".concat(5," MB,")]}),Object(D.jsxs)("small",{className:"pe-1",children:[Object(D.jsx)(h.a,{id:"maxRows",defaultMessage:"maxRows"}),":"," ","".concat(c,",")]}),Object(D.jsxs)("small",{children:[Object(D.jsx)(h.a,{id:"type",defaultMessage:"type"}),": CSV"]}),")"]})]})}),Object(D.jsx)(R.a.Body,{className:"rounded-bottom p-0 ".concat("dark"===a.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(D.jsxs)("div",{className:"dropZone",children:[Object(D.jsx)(Me.a,{accept:"text/csv,text/comma-separated-values,application/csv",maxSize:n,onDrop:function(e,s,r){var o;e.length>0&&(d(e[0]),(o=e[0],new Promise((function(e,a){var s=o,r=new FileReader;r.readAsText(s),r.onload=function(r){var o=[],l=r.target.result.split(/\r\n|\n/),i=l[0].split(",");if(s.size<=n)if(l.length-1<=c){for(var d=1;d<l.length;d++){var u=l[d].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(u.length===i.length){for(var _=[],b=0;b<i.length;b++)_.push(Object(oe.a)({},i[b],u[b].replace(/\\/g,"").replaceAll('"',"")));var j=Object.assign.apply(Object,[{}].concat(_));o.push(j)}}e(o)}else a(new Error("".concat(t.formatMessage({id:"maxAllowedRowLimitIs",defaultMessage:"maxAllowedRowLimitIs"})," ").concat(c)));else a(new Error("".concat(t.formatMessage({id:"maxFileSizeLimitIs",defaultMessage:"maxFileSizeLimitIs"})," ").concat(n," MB")))},r.onerror=function(e){a(e)}}))).then((function(e){a.renderToast({message:"".concat(e.length," ").concat(t.formatMessage({id:"rowsAddedSuccessfully",defaultMessage:"rowsAddedSuccessfully"})),autoClose:1e4}),j(e)})).catch((function(e){j([]),a.renderToast({type:"error",icon:"fa fa-times-circle",message:e})})))},className:"text-center",children:function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragAccept,c=e.isDragReject,s="dropZoneWrapper",r=Object(D.jsx)("div",{children:Object(D.jsx)(h.a,{id:"dragFilesHere",defaultMessage:"dragFilesHere"})});return n&&(s="".concat(s," bg-success"),r=Object(D.jsx)("div",{className:"upload-success",children:Object(D.jsx)(h.a,{id:"dropFileOrfilesHere",defaultMessage:"dropFileOrfilesHere"})})),c&&(s="".concat(s," bg-danger"),r=Object(D.jsx)("div",{className:"upload-error",children:Object(D.jsx)(h.a,{id:"fileTypeNotAllowed",defaultMessage:"fileTypeNotAllowed"})})),Object(D.jsxs)("div",Object(P.a)(Object(P.a)({},t()),{},{className:"".concat(s," title"),children:[Object(D.jsx)("input",Object(P.a)({},a())),r]}))}}),Object.keys(i).length>0&&Object(D.jsx)("div",{className:"p-1 text-center",children:Object(D.jsxs)("small",{className:"icon-bni",children:[Object(D.jsx)("i",{className:"fa fa-file-excel-o pe-1"}),i.name,Object(D.jsx)("small",{className:"ps-1",children:Object(D.jsxs)("em",{children:["(",function(e){var t=(e/1024/1024).toFixed(2);if(t>0)return"".concat(t," MB");var a=(e/1024).toFixed(2);return"".concat(a," KB")}(i.size),")"]})})]})}),Object(D.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(D.jsx)("button",{className:"btn btn-bni w-50 rounded-0 rounded-start border-end",children:Object(D.jsxs)(z.a,{datas:p,filename:"inc-exp-csv-sample-import.csv",children:[Object(D.jsx)("i",{className:"fa fa-file-downoad pe-1"}),Object(D.jsx)(h.a,{id:"downloadCsvTemplate",defaultMessage:"downloadCsvTemplate"})]})}),Object(D.jsx)("button",{disabled:!b.length,onClick:function(){return function(){var e=new FormData;e.append("data",JSON.stringify(b)),e.append("appId",a.userConfig.appId),k.a.post("/account_planner/bulkImport",e).then((function(e){e.data.response&&a.renderToast({message:t.formatMessage({id:"bulkImportSuccess",defaultMessage:"bulkImportSuccess"})}),e.data.response||a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})}),null===e.data.response&&myAlertContext.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(D.jsx)(J.b,{}),content:Object(D.jsx)(J.a,{})})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})})})).finally((function(){return j([])}))}()},className:"btn-bni w-50 rounded-0 rounded-end",children:Object(D.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})]})]})})]}))};ve.defaultProps={property:"String name"};var De=ve,ye=(a(278),Object(O.c)((function(e){var t=e.intl,a=Object(r.useContext)(we),n=Object(r.useContext)(x.a),c=Object(r.useContext)(G.a),o=a.incExpList,l=a.bankList,_=a.insertData,b=Object(r.useState)([]),j=Object(s.a)(b,2),p=j[0],f=j[1],O=Object(r.useState)(!1),g=Object(s.a)(O,2),M=g[0],v=g[1],y=function(){v(!0),a.setInsertData([]);var e=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/getIncExpTemplate",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e]).then((function(e){var t=e[0].map((function(e){var t=e.temp_inc_exp_name,a=e.temp_amount,n=e.temp_inc_exp_type,c=e.temp_inc_exp_date,s=e.temp_category,r=e.temp_bank;return{inc_exp_id:"",inc_exp_name:t,inc_exp_amount:0,inc_exp_plan_amount:a,inc_exp_type:n,inc_exp_date:m()().date(c).add(1,"months").format("YYYY-MM-DD"),inc_exp_category:s,inc_exp_bank:r,inc_exp_comments:""}})).sort((function(e,t){return new Date(e.inc_exp_date.replace(/-/g,"/"))-new Date(t.inc_exp_date.replace(/-/g,"/"))}));a.setInsertData(t)})).finally((function(){v(!1)}))};Object(r.useEffect)((function(){y()}),[t]),Object(r.useEffect)((function(){var e={fetch:{dropDownList:o.map((function(e,t){return{id:e.id,value:e.value}}))}},a={fetch:{dropDownList:l}};ne.c[0].rowElements[3]="number",ne.c[0].rowElements[6]=e,ne.c[0].rowElements[7]=a,ne.c[0].rowElements[4]={radio:{radioList:[{label:t.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:t.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}};var n=function(e,t){var a=t&&e.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())}));return a.length>0?a[0].id:""},c=Object(u.a)(_).map((function(e){return e.inc_exp_category=n(o,e.inc_exp_category),e.inc_exp_bank=n(l,e.inc_exp_bank),e}));f([]),setTimeout((function(){f(c)}),100)}),[_,t]);var P=ne.c.map((function(e){var a={header:{searchPlaceholder:t.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:t.formatMessage({id:"total",defaultMessage:"total"}),locale:"en",currency:"",maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}};return e.config=a,e.TableAliasRows=["id","transaction","amount","plan","type","date","category","bank","comments"].map((function(e){return t.formatMessage({id:e,defaultMessage:e})})),e.showTotal=[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}}],e})),E=function(){f([])};return Object(D.jsxs)("div",{children:[p.length>0&&Object(D.jsxs)("div",{children:[Object(D.jsx)("h6",{children:Object(D.jsx)(h.a,{id:"planFromTemplate",defaultMessage:"planFromTemplate"})}),P.sort((function(e,t){return e.id>t.id})).map((function(e,s){return Object(D.jsx)(S.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,dbData:p,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var n=e.status,s=e.data;200===n?(e&&s&&"boolean"===typeof s.response&&null!==s.response&&s.response&&a.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&s&&"boolean"===typeof s.response&&null!==s.response&&!1===s.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&s&&null===s.response&&c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(D.jsx)(J.b,{}),content:Object(D.jsx)(J.a,{})})):a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:E,cellWidth:[4,13,10,10,13,10,13,13,13],ajaxButtonName:t.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:n.userConfig.appId},theme:n.userData.theme},s)}))]}),M&&Object(D.jsx)("div",{className:"relativeSpinner",children:Object(D.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})}))),Pe=a(93),Ee=a(94),we=o.a.createContext(),Ce=function(e){var t,a=Object(L.a)();document.title=a.formatMessage({id:"moneyPlanner",defaultMessage:"moneyPlanner"});var o=Object(r.useContext)(x.a),l=Object(r.useState)([]),u=Object(s.a)(l,2),_=u[0],b=u[1],j=Object(r.useState)([]),p=Object(s.a)(j,2),f=p[0],O=p[1],g=Object(r.useState)([]),M=Object(s.a)(g,2),v=M[0],P=M[1],E=Object(r.useState)([]),w=Object(s.a)(E,2),C=w[0],T=w[1],S=Object(r.useState)([]),Y=Object(s.a)(S,2),A=Y[0],I=Y[1],R=Object(r.useState)([]),B=Object(s.a)(R,2),K=B[0],U=B[1],W=Object(r.useState)([]),F=Object(s.a)(W,2),V=F[0],H=F[1],q=Object(r.useState)([]),z=Object(s.a)(q,2),G=z[0],J=z[1],Z=Object(r.useState)(""),$=Object(s.a)(Z,2),ne=$[0],ce=$[1],se=Object(r.useState)([]),oe=Object(s.a)(se,2),le=oe[0],ie=oe[1],de=Object(r.useState)(""),ue=Object(s.a)(de,2),_e=ue[0],be=ue[1],me=Object(r.useState)(""),pe=Object(s.a)(me,2),fe=pe[0],Oe=pe[1],Me=Object(r.useState)(""),ve=Object(s.a)(Me,2),Ce=ve[0],Ne=ve[1],Te=Object(r.useState)(""),Se=Object(s.a)(Te,2),ke=Se[0],Ye=Se[1],Ae=Object(r.useState)(""),Ie=Object(s.a)(Ae,2),Re=Ie[0],Le=Ie[1],Be=Object(r.useState)({}),Ke=Object(s.a)(Be,2),Ue=Ke[0],We=Ke[1],Fe=Object(r.useState)(!1),Ve=Object(s.a)(Fe,2),He=Ve[0],qe=Ve[1],ze=Object(r.useState)(!1),Ge=Object(s.a)(ze,2),Je=Ge[0],Ze=Ge[1],Qe=Object(r.useState)(!1),$e=Object(s.a)(Qe,2),Xe=$e[0],et=$e[1],tt=Object(r.useState)(!1),at=Object(s.a)(tt,2),nt=at[0],ct=at[1],st=Object(r.useState)(!1),rt=Object(s.a)(st,2),ot=rt[0],lt=rt[1],it=Object(r.useState)(!1),dt=Object(s.a)(it,2),ut=dt[0],_t=dt[1],bt=Object(r.useState)(!1),jt=Object(s.a)(bt,2),mt=jt[0],pt=jt[1],ft=function(e){var t=new FormData;return t.append("bank",e),t.append("appId",o.userConfig.appId),k.a.post("/account_planner/credit_card_details",t)},ht=function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),n.append("appId",o.userConfig.appId),k.a.post("/account_planner/getIncExpChartData",n)},Ot=function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("card",a),n.append("appId",o.userConfig.appId),k.a.post("/account_planner/getCreditCardChartData",n)},gt=function(e){var t=new FormData;return t.append("bank",e),t.append("appId",o.userConfig.appId),k.a.post("/account_planner/getBankDetails",t)};Object(r.useEffect)((function(){var e=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/year_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),t=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/bank_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),n=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/cc_year_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),c=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),s=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/inc_exp_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e,t,n,c,s]).then((function(e){var t,n,c,s,r,o,l,i,d;(null===(t=e[0])||void 0===t?void 0:t.length)>0?b(e[0]):b([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(n=e[0])||void 0===n?void 0:n.length)>0&&e[0][0].id?Oe(e[0][0].id):Oe("Null"),(null===(c=e[1])||void 0===c?void 0:c.length)>0?P(e[1]):P([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(s=e[1])||void 0===s?void 0:s.length)>0&&e[1][0].id?Ne(e[1][0].id):Ne("Null"),(null===(r=e[2])||void 0===r?void 0:r.length)>0?O(e[2]):O([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(o=e[2])||void 0===o?void 0:o.length)>0&&e[2][0].id?ce(m()(new Date).format("YYYY").toString()):ce("Null"),(null===(l=e[3])||void 0===l?void 0:l.length)>0?ie(e[3]):ie([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(i=e[3])||void 0===i?void 0:i.length)>0&&e[3][0].id?be(e[3][0].id):be("Null"),(null===(d=e[4])||void 0===d?void 0:d.length)>0?U(e[4]):U([{id:null,value:null,isIncomeMetric:null}])})),I([])}),[]);var xt=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){var s,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qe(!0),T([]),J([]),s="".concat(fe,"-01-01"),r="".concat(fe,"-12-31"),e.next=7,ht(s,r,Ce).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(s){var r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.data.response,T(r),e.next=4,gt(Ce).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(c){var s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(c.data.response),"function"!==typeof a||!t){e.next=6;break}return e.next=4,a(null===r||void 0===r||null===(s=r.category[0])||void 0===s?void 0:s.month);case 4:e.next=8;break;case 6:return e.next=8,a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H([])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){T([]),console.log(e)})).finally((function(){qe(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ze(!0),I([]),We([]),Le(null),e.next=6,ft(_e).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(s){var r,o,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.data.response[0],We(r),o="".concat(ne,"-01-01"),l="".concat(ne,"-12-31"),e.next=6,Ot(o,l,_e).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(c){var s,r,o,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c.data.response,r=s.map((function(e){return e.month})),o=r.findIndex((function(e){return e===m()().format("MMM-YYYY").toString()})),l=o>-1?r[o]:s[11].month,I(s),"function"!==typeof a||!t){e.next=10;break}return e.next=8,a(l);case 8:e.next=12;break;case 10:return e.next=12,a(s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){Ze(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),vt=function(){return Object(D.jsx)("div",{className:"relativeSpinner",children:Object(D.jsx)(i.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},Dt=Object(Pe.a)(),yt={fetch:Dt.get("fetch"),date:Dt.get("date"),bank:Dt.get("bank"),card:Dt.get("card")},Pt=Object(r.useState)(!1),Et=Object(s.a)(Pt,2),wt=Et[0],Ct=Et[1],Nt=Object(r.useState)(!1),Tt=Object(s.a)(Nt,2),St=Tt[0],kt=Tt[1];return Object(r.useEffect)((function(){var e=m()(yt.date).format("YYYY").toString();_.length>0&&v.length>0&&"bankTransactions"===yt.fetch&&(Oe(e),Ne(yt.bank),Ct(!0))}),[JSON.stringify(yt),_,v]),Object(r.useEffect)((function(){if(le.length>0&&f.length>0&&"ccTransactions"===yt.fetch){var e=m()(yt.date).format("YYYY").toString();ce(e),be(yt.card),kt(!0)}}),[JSON.stringify(yt),le,f]),Object(r.useEffect)((function(){if(fe&&Ce&&wt){var e=m()(yt.date).format("MMM-YYYY").toString();xt(!1,(function(){Ye(e),Ct(!1),setTimeout((function(){var e;null===(e=document.getElementById("incExpTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}}),[JSON.stringify(yt),wt,fe,Ce]),Object(r.useEffect)((function(){ne&&_e&&St&&Mt(!1,(function(e){var t=Number(e.credit_card_start_date)>Number(m()(yt.date).format("D").toString())?m()(yt.date).format("MMM-YYYY").toString():m()(yt.date).add(1,"M").format("MMM-YYYY").toString();Le(t),kt(!1),setTimeout((function(){var e;null===(e=document.getElementById("ccTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}),[JSON.stringify(yt),St,ne,_e]),Object(D.jsxs)(we.Provider,{value:{renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,s=e.icon,r=void 0===s?"fa fa-check-circle":s,o=e.message;return xe.b[c](Object(D.jsx)("div",{children:Object(D.jsxs)("span",{children:[Object(D.jsx)("i",{className:r})," ",Object(D.jsx)("span",{dangerouslySetInnerHTML:{__html:o}})]})}),{autoClose:a})},bankSelected:Ce,setBankSelected:Ne,bankDetails:V,bankList:v,setBankList:P,yearSelected:fe,setYearSelected:Oe,yearList:_,monthYearSelected:ke,onMonthYearSelected:function(e){Ye(e)},incExpList:K,setIncExpList:U,ccBankList:le,ccBankSelected:_e,setCcBankSelected:be,ccYearSelected:ne,setCcYearSelected:ce,ccYearList:f,setCcBankList:ie,chartData:C,ccChartData:A,ccDetails:Ue,setCcDetails:We,ccMonthYearSelected:Re,onCcMonthYearSelected:function(e){Le(e)},insertData:G,setInsertData:J},children:[Object(D.jsx)(xe.a,{className:"bniToaster"}),Object(D.jsxs)("section",{className:"",children:[Xe&&Object(D.jsx)(he,{show:Xe,onHide:function(){return et(!1)},size:"sm",animation:!1}),nt&&Object(D.jsx)(je,{className:"accountPlanner fastShopping",show:nt,onHide:function(){return ct(!1)},size:"sm",animation:!1}),ot&&Object(D.jsx)(De,{className:"accountPlanner",show:ot,onHide:function(){return lt(!1)},centered:!0,size:"lg",backdrop:"static"}),ut&&Object(D.jsx)(ge,{className:"confirmQBModal",show:ut,onHide:function(){_t(!1),setToggleQueryBuilder(!1)},onYes:function(){_t(!1),setToggleQueryBuilder(!0)},size:"md",animation:!1}),Object(D.jsxs)("div",{className:"m-2",children:[Object(D.jsx)(Ee.a,{icon:"fa fa-cubes",intlId:"moneyPlanner"}),Object(D.jsx)("div",{className:"pt-2",children:Object(D.jsx)("div",{className:"accountPlanner ".concat(o.userData.theme),children:v.length>0&&_.length&&f.length>0&&le.length>0>0?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"badge ".concat("dark"===o.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:Object(D.jsx)(h.a,{id:"bankTransactions",defaultMessage:"bankTransactions"})}),Object(D.jsxs)("div",{className:"row mt-10",children:[Object(D.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(D.jsx)(X,{})}),Object(D.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(D.jsx)(ee,{})}),Object(D.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(D.jsx)("div",{className:"d-grid gap-2",children:Object(D.jsx)("button",{onClick:function(){return xt(!0,(function(e){Ye(e)}))},className:"btn btn-bni",children:Object(D.jsx)(h.a,{id:"generate",defaultMessage:"generate"})})})}),Object(D.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(D.jsx)("button",{onClick:function(){return ct(!0)},className:"btn btn-bni w-100",title:a.formatMessage({id:"fastShopping",defaultMessage:"fastShopping"}),children:Object(D.jsx)("i",{className:"fa fa-cart-plus"})})}),Object(D.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(D.jsx)("button",{onClick:function(){return lt(!0)},className:"btn btn-bni w-100",title:a.formatMessage({id:"bulkImport",defaultMessage:"bulkImport"}),disabled:"1"!==(null===o||void 0===o||null===(t=o.userConfig)||void 0===t?void 0:t.planIsBulkImport),children:Object(D.jsx)("i",{className:"fa fa-cloud-upload"})})}),Object(D.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(D.jsx)("button",{onClick:function(){return pt(!mt)},className:"btn btn-bni w-100",title:a.formatMessage({id:"planFromTemplate",defaultMessage:"planFromTemplate"}),children:Object(D.jsx)("i",{className:"fa fa-clone"})})})]}),v.length>0&&mt&&Object(D.jsx)(ye,{}),He?vt():Object(D.jsx)(D.Fragment,{children:K.length>0&&V.length>0&&Object(D.jsx)(y,{})}),Object(D.jsx)("div",{className:"row",children:Object(D.jsx)("div",{className:"col-md-12 b-0 mb-10 pr-0 pl-0",children:V.length>0&&Object(D.jsx)(Q,{})})}),Object(D.jsx)("div",{className:"row",children:Object(D.jsx)("div",{className:"col-md-12",children:Object(D.jsx)("div",{className:"badge ".concat("dark"===o.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:Object(D.jsx)(h.a,{id:"creditCardTransactions",defaultMessage:"creditCardTransactions"})})})}),Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-md-4 py-2",children:Object(D.jsx)(ae,{})}),Object(D.jsx)("div",{className:"col-md-4 py-2",children:Object(D.jsx)(te,{})}),Object(D.jsx)("div",{className:"col-md-3 py-2",children:Object(D.jsx)("div",{className:"d-grid gap-2",children:Object(D.jsx)("button",{onClick:function(){return Mt(!0,(function(e){Le(e)}))},className:"btn btn-bni",children:Object(D.jsx)(h.a,{id:"generate",defaultMessage:"generate"})})})}),Object(D.jsx)("div",{className:"col-md-1 py-2",children:Object(D.jsx)("button",{onClick:function(){return et(!0)},className:"btn btn-bni w-100",children:Object(D.jsx)("i",{className:"fa fa-calendar-o mt-20"})})})]}),Je?vt():A&&A.length>0?Object(D.jsx)(N,{}):Object(D.jsx)("div",{className:"py-3 text-center",children:Object(D.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),Object(D.jsx)("div",{className:"row",children:Object(D.jsx)("div",{className:"col-md-12 pt-2",children:_e&&Re&&Object(D.jsx)(re,{})})})]}):vt()})})]})]})]})};Ce.defaultProps={property:"String name"};t.default=Ce},57:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));a(1);var n=a(1269),c=a(58),s=a(0),r=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"d-flex align-items-center",children:[Object(s.jsx)("i",{className:"fa fa-exclamation-triangle fa-2x pt-2 text-danger"}),Object(s.jsxs)("div",{className:"ps-2",children:[Object(s.jsx)("div",{className:"fs-3",children:Object(s.jsx)(n.a,{id:"alert",defaultMessage:"alert"})}),Object(s.jsx)("div",{className:"fs-6",children:Object(s.jsx)(n.a,{id:"maximumQuotaExceeded",defaultMessage:"maximumQuotaExceeded"})})]})]})})},o=function(){return Object(s.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(s.jsxs)("div",{children:[Object(s.jsxs)(c.a,{className:"btn btn-sm btn-primary me-1 rounded-pill",to:"/billing",children:[Object(s.jsx)("i",{className:"fa fa-credit-card-alt pe-1"}),Object(s.jsx)(n.a,{id:"upgradeNow",defaultMessage:"upgradeNow"})]}),Object(s.jsx)("span",{className:"fs-6",children:Object(s.jsx)(n.a,{id:"accessUnlimitedStorage",defaultMessage:"accessUnlimitedStorage"})})]})})}},82:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46),_FormElement__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(215),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(52),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__),_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(48),_Pagination__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(193),_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92),_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(194),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(779),react_intl__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1269),react_intl__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(435),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__);function BackendCore(props){var intl=Object(react_intl__WEBPACK_IMPORTED_MODULE_13__.a)(),Table=props.Table,config=props.config,className=props.className||"",id=props.id,TableRows=props.TableRows,TableAliasRows=props.TableAliasRows,postApiUrl=props.postApiUrl,onPostApi=props.onPostApi,showTotal=props.showTotal,rowKeyUp=props.rowKeyUp,insertCloneData=props.insertCloneData,showTooltipFor=props.showTooltipFor,defaultValues=props.defaultValues,onTableUpdate=props.onTableUpdate,onReFetchData=props.onReFetchData,cellWidth=props.cellWidth,appIdKeyValue=props.appIdKeyValue,theme=props.theme,_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),rowElements=_useState2[0],setRowElements=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(props.dbData),_useState4=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState3,2),dbData=_useState4[0],setDbData=_useState4[1],dbDataBackup=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(props.dbData),_useState5=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState6=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState5,2),deleteData=_useState6[0],setDeleteData=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState8=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState7,2),loader=_useState8[0],setLoader=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState10=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState9,2),btnLoader=_useState10[0],setBtnLoader=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState12=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState11,2),updatedIds=_useState12[0],setUpdatedIds=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({}),_useState14=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState13,2),sortType=_useState14[0],setSortType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState16=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState15,2),tableConfigErrors=_useState16[0],setTableConfigErrors=_useState16[1],pagination=config&&config.footer&&config.footer.pagination&&Object.keys(config.footer.pagination).length>0&&config.footer.pagination,cTotal=config&&config.footer&&config.footer.total,ajaxType=props.ajaxType,ajaxButtonName=props.ajaxButtonName,_useState17=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(pagination&&pagination.recordsPerPage),_useState18=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState17,2),recordsPerPage=_useState18[0],setRecordsPerPage=_useState18[1],defaultRecordsPerPage=pagination&&pagination.recordsPerPage,_useState19=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(Math.ceil(dbData.length/recordsPerPage)),_useState20=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState19,2),currentPage=_useState20[0],setCurrentPage=_useState20[1],maxPagesToShow=pagination&&pagination.maxPagesToShow,createElementPromise=function(){return props.rowElements.map((function(e){return new Promise((function(t,a){t(e)}))}))},runAllApis=function(e){setLoader(!0);var t=createElementPromise();Promise.all([t]).then(function(){var t=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function t(a){return Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a[0]).then((function(e){setRowElements(e),setLoader(!1)}));case 2:"function"===typeof e&&e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){var e=[];return TableAliasRows.length!==TableRows.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),Table&&0!==Table.toString().length&&""!==Table||e.push({error:'The "Table" props should be a valid string.'}),postApiUrl&&!["put","post","delete","patch","request","get","head","options"].includes(ajaxType)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&setTableConfigErrors(e),function(){}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){runAllApis()}),[TableRows,Table,props.rowElements]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){dbData.length>0&&setDbData(dbData)}),[props.dbData]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){if(insertCloneData&&insertCloneData.length>0){setLoader(!0);var e=[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(insertCloneData),Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData));setDbData(e),setTimeout((function(){setLoader(!1)}),500)}}),[insertCloneData]);var updateDbData=function updateDbData(index,data,primaryKey){var i=index.i,j=index.j;dbData[i][j]=data,setDbData(dbData);var id=dbData.filter((function(e,t){return t===i&&e}))[0][primaryKey]||"",array=id?[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds),[id]):Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds);if(array=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(new Set(array)),setUpdatedIds(array),rowKeyUp){var _rowKeyUp$split=rowKeyUp.split("="),_rowKeyUp$split2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_rowKeyUp$split,2),declare=_rowKeyUp$split2[0],operands=_rowKeyUp$split2[1];if(declare&&operands){var newDbData=dbData.map((function(row){return row[declare]=eval(operands),row}));setDbData(newDbData),onTableUpdate&&onTableUpdate(newDbData)}}onTableUpdate&&onTableUpdate(dbData)},_onAddRow=function(e){if(e){var t={};TableRows.map((function(e,a){var n=defaultValues.findIndex((function(t){return Object.keys(t)[0]===e}));return t[e]=n>-1?defaultValues[n][e]:"",null}));var a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData);a.push(t),setDbData(a)}},submitData=function(){setBtnLoader(!0);var e=dbData.filter((function(e){return""===e[TableRows[0]]})).map((function(e){return""===e[TableRows[0]]&&(e[TableRows[0]]=null),null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.key&&null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.value&&(e[null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.key]=null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.value),e})),t=dbData.filter((function(e){return updatedIds.includes(e[TableRows[0]])})).filter((function(e){return e&&("number"===typeof e[TableRows[0]]||"string"===typeof e[TableRows[0]])})).map((function(e){return null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.key&&null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.value&&(e[null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.key]=null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.value),e})),a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},(e.length>0||deleteData.length>0||t.length>0)&&{Table:Table}),e.length>0&&{insertData:e}),deleteData.length>0&&{deleteData:deleteData}),t.length>0&&{updateData:t}),n=new FormData;n.append("postData",JSON.stringify(a)),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__.a[ajaxType](postApiUrl,n).then((function(a){onPostApi&&onPostApi(a),(e.length>0||t.length>0)&&(setLoader(!0),setTimeout((function(){onReFetchData(!0),setLoader(!1)}),1e3))})).catch((function(e){onPostApi&&onPostApi({error:e,status:!1})})).finally((function(){setDeleteData([]),setUpdatedIds([]),setBtnLoader(!1),t=[],e=[]}))},getColumnTotal=function(e){var t="";return showTotal.length>0&&showTotal.forEach((function(a,n){if("string"===typeof a&&String(a)===String(e))t=dbData.reduce((function(t,a){return Number(t)+Number(a[e])}),0),t=cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,t,cTotal.maxDecimal);else if("object"===typeof a&&a.whichKey===String(e)){var c=[];t=[a].map((function(t){return t.forValue.map((function(a,n){var s=dbData.filter((function(e){return e[t.forKey]===a.value})).reduce((function(t,a){return Number(t)+Number(a[e])}),0);return c.push(s),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,s,cTotal.maxDecimal),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:" (".concat(a.key,")")})]},n)}))})).concat(a.showDifference&&2===a.showDifference.indexes.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"d-inline-block ".concat(checkSettlement(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))),children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal),cTotal.maxDecimal),"\xa0",a.showDifference.showStability&&checkSettlementString(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))]},"totRow-".concat(n)))}})),t},checkSettlement=function(e){return 0===e?"text-success":e>0?"text-danger":e<0?"text-warning":void 0},checkSettlementString=function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:"(=)"})},onSort=function(e){var t=null===dbData||void 0===dbData?void 0:dbData.map((function(t){return t[e]&&(t[e].toString().indexOf("-")>-1||t[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(t[e]).replace(/-/g,"/"))?"date":""===t[e]||isNaN(t[e])?"string":"number"})),a=[];"date"===(t=t.sort((function(e,a){return t.filter((function(t){return t===e})).length-t.filter((function(e){return e===a})).length})).pop())&&(a=onSortByDate(e)),"number"===t&&(a=onSortByNumber(e)),"string"===t&&(a=onSortByString(e)),setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a)),setSortType((function(t){return{asc:!t.asc,key:e}}))},onSortByNumber=function(e){return dbData.sort((function(t,a){return sortType.asc?a[e]-t[e]:t[e]-a[e]}))},onSortByDate=function(e){return dbData.sort((function(t,a){return sortType.asc?new Date(a[e])-new Date(t[e]):new Date(t[e])-new Date(a[e])}))},onSortByString=function(e){return dbData.sort((function(t,a){return sortType.asc?(a[e]>t[e])-(a[e]<t[e]):(t[e]>a[e])-(t[e]<a[e])}))},onSetCurrentPage=function(e){setCurrentPage(e)},showHideRows=function(e){return e>=(currentPage-1)*recordsPerPage&&e<=currentPage*recordsPerPage-1?"d-block":"d-none"},_onDelete=function(e){var t=e.i,a=dbData[t]&&dbData[t][TableRows[0]];a&&void 0!==a&&(deleteData.push(a),setDeleteData(deleteData));var n=dbData.filter((function(e,a){return a!==t}));setDbData(n),onTableUpdate&&onTableUpdate(n)},onSearch=function(e){var t=[];TableRows.map((function(a){return t.push((function(t){return t[a].toString().toLowerCase().includes(e.toString().toLowerCase())}))}));var a=dbDataBackup.filter((function(e){return t.some((function(t){return t(e)}))&&!deleteData.includes(e[TableRows[0]])}));setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a))},onRecordsChange=function(e){setRecordsPerPage(e)},getPageCounts=function(){var e=(currentPage-1)*recordsPerPage+1;e=e>0?e:0;var t=dbData.length>=currentPage*recordsPerPage?currentPage*recordsPerPage:dbData.length;return intl.formatMessage({id:"recordsLengthLine",defaultMessage:"recordsLengthLine"},{start:e,end:t,length:dbData?dbData.length:0})};return!1===loader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"react-responsive-ajax-data-table ".concat(className),id:id,children:0===tableConfigErrors.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"biGrid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"heading",title:getPageCounts(),children:getPageCounts()})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__.a,{theme:theme,config:config,defaultRecordsPerPage:defaultRecordsPerPage,onSearchChange:function(e){return onSearch(e)},onDropDownChange:function(e){return onRecordsChange(e)},onDismissSearch:function(){return onSearch("")}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"grid-responsive",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{style:Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},Array.isArray(cellWidth)&&{gridTemplateColumns:"".concat(cellWidth.join("rem ")+"rem")}),"string"===typeof cellWidth&&{gridTemplateColumns:"repeat(".concat(TableRows.length,", ").concat(cellWidth,")")}),className:"grid-container responsive-grid",children:[TableAliasRows.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{onClick:function(){return onSort(TableRows[t])},className:"header",children:t>0||!postApiUrl?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{title:e,children:e})," ",TableRows[t]===sortType.key&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:sortType.asc?"&#8593;":"&#8595;"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:"&#9776;"})},"key-".concat(t))})),dbData.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[dbData.map((function(e,t){return TableRows.map((function(a,n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"".concat(pagination?showHideRows(t):""),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},showTooltipFor.includes(a)&&{className:"tooltipContainer"}),{},{children:[""!==e[a]&&showTooltipFor.includes(a)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{className:"tooltips",children:e[a]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{config:config,onDelete:function(e){return _onDelete(e)},onChange:function(e,t,a){updateDbData(e,t,a)},index:{i:t,j:a},placeholder:TableAliasRows[n],value:e[a],element:rowElements[n],showIncrement:dbData.length-1===t,showDecrement:!0,onAddRow:function(e){return _onAddRow(e)},primaryKey:TableRows[0],isPostable:Boolean(postApiUrl),theme:theme},"".concat(t,"-").concat(n))]}))},"".concat(e[a],"-").concat(n))}))})),showTotal&&showTotal.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"textCenter",children:cTotal.title}),TableRows.slice(1).map((function(e,t){var a=showTotal.includes(e)||showTotal.some((function(t){return t.whichKey===e}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:a?"totalColumn":"",children:a?getColumnTotal(e):""},t)}))]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{index:{i:0,j:0},element:rowElements[0],showIncrement:!0,showDecrement:!1,onAddRow:function(e){return _onAddRow(e)}},-1),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-3 text-center",style:{gridColumn:"1 / span ".concat(TableRows.length)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_14__.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"footer",children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_Pagination__WEBPACK_IMPORTED_MODULE_10__.a,{currentPage:currentPage,totalPages:Math.ceil(dbData.length/recordsPerPage),onSetPage:onSetCurrentPage,maxPagesToShow:maxPagesToShow,selectedPageString:pagination.currentPage}),postApiUrl&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-2 text-end",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("button",{onClick:function(){return submitData()},disabled:btnLoader,className:"btn btn-bni",children:btnLoader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:ajaxButtonName})})})]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"errorWrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h5",{children:"Please resolve the following issues:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("ol",{children:tableConfigErrors.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("li",{children:e.error},t)}))})]})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"relativeSpinner",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default.a,{type:_helpers__WEBPACK_IMPORTED_MODULE_9__.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}BackendCore.defaultProps={id:"",Table:"My table",TableRows:[],TableAliasRows:[],showTotal:[],rowKeyUp:"",rowElements:[],insertCloneData:[],showTooltipFor:[],ajaxType:"post",ajaxButtonName:"Submit",config:{header:{searchPlaceholder:"Search"},footer:{total:{title:"Total",locale:"en-IN",currency:"",maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},defaultValues:[],cellWidth:"13rem"},__webpack_exports__.a=Object(react_intl__WEBPACK_IMPORTED_MODULE_15__.c)(BackendCore)},83:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(50),c=a.n(n),s=[{id:"bankAccounts",Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_swift_code","bank_account_type","bank_country","bank_sort","bank_locale","bank_currency"],defaultValues:[{bank_sort:"0"}],cellWidth:[4,13,11,11,13,13,5,13,13]},{id:"creditCardAccounts",Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date","credit_card_annual_interest","credit_card_locale","credit_card_currency"],defaultValues:[{credit_card_annual_interest:"48"}],cellWidth:[4,13,11,8,8,8,8,13,13]},{id:"incExpCat",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name","inc_exp_cat_is_metric","inc_exp_cat_is_plan_metric"],defaultValues:[{inc_exp_cat_is_metric:"0"},{inc_exp_cat_is_plan_metric:"0"}],cellWidth:[4,13,13,13]},{id:"incExpTemp",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type","temp_inc_exp_date","temp_category","temp_bank"],defaultValues:[{temp_inc_exp_date:"1"},{temp_inc_exp_type:"Dr"},{temp_amount:"0.00"}],cellWidth:[4,13,13,13,5,13,13]}],r=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:[],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:c()(new Date).format("YYYY-MM-DD")}],rowKeyUp:"",rowElements:["checkbox","textbox","number","label",null,"date",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],o=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_transaction_status","cc_comments","cc_added_at"],TableAliasRows:[],showTotal:["cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance"],rowKeyUp:"cc_expected_balance=((Number(row.cc_opening_balance) - Number(row.cc_payment_credits)) + (Number(row.cc_purchases) + Number(row.cc_taxes_interest))).toFixed(2)",rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},{fetch:{dropDownList:[{checked:!1,id:"1",value:"Settled"},{checked:!1,id:"0",value:"Pending"},{checked:!1,id:"2",value:"Part payment"}]}},"textbox","relativeTime"],defaultValues:[{cc_date:c()().format("YYYY-MM-DD")},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0},{cc_transaction_status:"0"}],showTooltipFor:["cc_transaction","cc_comments"]}]},92:function(e,t,a){"use strict";var n=a(25),c=a(28),s=(a(1),a(0)),r=["className","entity"],o=function(e){var t=e.className,a=e.entity,o=Object(c.a)(e,r);return Object(s.jsx)("span",Object(n.a)({className:"htmlIcon ".concat(t),dangerouslySetInnerHTML:{__html:a}},o))};o.defaultProps={property:"String name"},t.a=o},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(1),c=a(72),s=function(){var e=Object(c.h)().search;return Object(n.useMemo)((function(){return new URLSearchParams(e)}),[e])}},94:function(e,t,a){"use strict";var n=a(25),c=a(28),s=a(1),r=a(1269),o=a(39),l=a(0),i=["icon","intlId","children"];t.a=function(e){var t=e.icon,a=e.intlId,d=e.children,u=Object(c.a)(e,i),_=Object(s.useContext)(o.a);return Object(l.jsx)("div",Object(n.a)(Object(n.a)({},u),{},{className:"bg-gradient ".concat("dark"===_.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill"),children:Object(l.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(l.jsxs)("div",{className:"d-flex align-items-center",children:[Object(l.jsx)("i",{className:"".concat(t," fa-1x")}),Object(l.jsx)("div",{className:"ps-2 mb-0",children:Object(l.jsx)(r.a,{id:a,defaultMessage:a})})]}),d]})}))}}}]);