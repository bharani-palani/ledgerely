"use strict";(self.webpackChunkledgerely_com=self.webpackChunkledgerely_com||[]).push([[5160],{5160:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(9950),c=a(4268),l=a(7937),d=a(9845),n=a(2436),o=a(9288),i=a(4570),r=a(3027),u=a(4414);const h=()=>(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("i",{className:"fa fa-thumbs-up pe-2 fa-2x"}),(0,u.jsxs)("ol",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"receivedRequest",defaultMessage:"receivedRequest"})}),(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"dataSafety",defaultMessage:"dataSafety"})}),(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"revokeAnytime",defaultMessage:"revokeAnytime"})}),(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"autoDelete",defaultMessage:"autoDelete"})}),(0,u.jsxs)("li",{children:[(0,u.jsx)("i",{className:"fa fa-handshake-o pe-2"}),(0,u.jsx)(r.A,{id:"goodBye",defaultMessage:"goodBye"})]})]})]}),x=()=>(0,u.jsx)("div",{children:(0,u.jsx)(r.A,{id:"sorryToGo",defaultMessage:"sorryToGo"})}),m=()=>(0,u.jsx)("div",{children:(0,u.jsx)(r.A,{id:"welcomeBack",defaultMessage:"welcomeBack"})}),f=()=>(0,u.jsx)("div",{children:(0,u.jsx)(r.A,{id:"accountRestore",defaultMessage:"accountRestore"})}),p=()=>{const e=(0,o.A)(),s=(0,t.useContext)(n.R),a=(0,t.useContext)(d.O),[p,j]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),A=()=>j(!1),k=[{value:"notRelevantToMe",checked:!1},{value:"pricingNotComp",checked:!1},{value:"limitedFeatures",checked:!1},{value:"others",checked:!1}],[y,b]=(0,t.useState)(k),[M,N]=(0,t.useState)("");(0,t.useEffect)((()=>{if(p){const e=new FormData;e.append("appId",s.userConfig.appId),i.A.post("/payments/checkClosure",e).then((e=>{const s=e.data.response;v(s)})).catch((e=>console.log("bbb",e)))}}),[p]);return(0,u.jsxs)("div",{className:"py-3",children:[(0,u.jsxs)(c.A,{show:p,onHide:A,style:{zIndex:1e4},children:[(0,u.jsx)(c.A.Header,{closeButton:!0,children:(0,u.jsx)(c.A.Title,{className:"d-flex align-items-center",children:g?(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("i",{className:"pe-2 fa-2x fa fa-smile-o"}),(0,u.jsx)(r.A,{id:"cancelDeletion",defaultMessage:"cancelDeletion"})]}):(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)(r.A,{id:"sorryToGo",defaultMessage:"sorryToGo"}),(0,u.jsx)("i",{className:"ps-2 fa-2x fa fa-frown-o"})]})})}),(0,u.jsx)(c.A.Body,{className:"rounded-bottom "+("dark"===s.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:g?(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"py-2",children:(0,u.jsx)(r.A,{id:"changedMind",defaultMessage:"changedMind"})}),(0,u.jsx)("button",{className:"w-100 btn btn-bni p-1 border-0",onClick:()=>(()=>{const t=new FormData;t.append("appId",s.userConfig.appId),i.A.post("/payments/revokeAccount",t).then((e=>{e.data.response&&a.setConfig({show:!0,className:"alert-success border-0 text-dark",type:"success",dismissible:!0,heading:(0,u.jsx)(m,{}),content:(0,u.jsx)(f,{})})})).catch((()=>{s.renderToast({type:"error",icon:"fa fa-times-circle",message:e.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})).finally((()=>A()))})(),children:(0,u.jsx)(r.A,{id:"revokeAccount",defaultMessage:"revokeAccount"})})]}):(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"pt-2",children:(0,u.jsx)(r.A,{id:"closeThisAccount",defaultMessage:"closeThisAccount"})}),(0,u.jsx)("div",{className:"py-2",children:(0,u.jsx)(r.A,{id:"serveYouBetter",defaultMessage:"serveYouBetter"})}),y.map((e=>(0,u.jsxs)("label",{htmlFor:e.value,className:"d-block",children:[(0,u.jsx)("input",{id:e.value,name:"reasons",type:"checkbox",onChange:s=>b((a=>a.map((a=>a.value===e.value?Object.assign(a,{checked:s.target.checked}):a)))),checked:e.checked}),(0,u.jsx)("span",{className:"ps-2",children:(0,u.jsx)(r.A,{id:e.value,defaultMessage:e.value})})]},e.value))),(0,u.jsx)("textarea",{placeholder:e.formatMessage({id:"comments",defaultMessage:"comments"}),rows:5,style:{resize:"none"},className:"form-control my-2",value:M,onChange:e=>N(e.target.value)}),(0,u.jsx)("div",{children:(0,u.jsx)(l.A,{disabled:!(y.some((e=>e.checked))&&M),variant:"danger",className:"w-100 my-2",onClick:()=>(()=>{const t=new FormData;t.append("appId",s.userConfig.appId),t.append("selections",y.filter((e=>e.checked)).map((e=>e.value)).join(", ")),t.append("comments",M),i.A.post("/payments/accountClosure",t).then((e=>{e.data.response&&(b(k),N(""),a.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,u.jsx)(x,{}),content:(0,u.jsx)(h,{})}))})).catch((()=>{s.renderToast({type:"error",icon:"fa fa-times-circle",message:e.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})).finally((()=>A()))})(),children:(0,u.jsx)(r.A,{id:"closeThisAccount",defaultMessage:"closeThisAccount"})})})]})})]}),(0,u.jsxs)("div",{onClick:()=>j(!0),className:"link-danger cursor-pointer d-flex align-items-center justify-content-center",children:[(0,u.jsx)("i",{className:"fa fa-frown-o fa-2x pe-2"}),(0,u.jsx)(r.A,{id:"accountClosure",defaultMessage:"accountClosure"})]})]})}}}]);