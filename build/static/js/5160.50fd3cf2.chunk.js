"use strict";(self.webpackChunkledgerely_com=self.webpackChunkledgerely_com||[]).push([[5160],{5160:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(9950),c=a(4268),l=a(7937),d=a(9845),n=a(2436),o=a(9288),i=a(4570),r=a(3027),u=a(4414);const h=()=>(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("i",{className:"fa fa-thumbs-up pe-2 fa-2x"}),(0,u.jsxs)("ol",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"receivedRequest",defaultMessage:"receivedRequest"})}),(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"dataSafety",defaultMessage:"dataSafety"})}),(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"revokeAnytime",defaultMessage:"revokeAnytime"})}),(0,u.jsx)("li",{children:(0,u.jsx)(r.A,{id:"autoDelete",defaultMessage:"autoDelete"})}),(0,u.jsxs)("li",{children:[(0,u.jsx)("i",{className:"fa fa-handshake-o pe-2"}),(0,u.jsx)(r.A,{id:"goodBye",defaultMessage:"goodBye"})]})]})]}),x=()=>(0,u.jsx)("div",{children:(0,u.jsx)(r.A,{id:"sorryToGo",defaultMessage:"sorryToGo"})}),m=()=>(0,u.jsx)("div",{children:(0,u.jsx)(r.A,{id:"welcomeBack",defaultMessage:"welcomeBack"})}),f=()=>(0,u.jsx)("div",{children:(0,u.jsx)(r.A,{id:"accountRestore",defaultMessage:"accountRestore"})}),p=e=>{const s=(0,o.A)(),a=(0,t.useContext)(n.R),p=(0,t.useContext)(d.O),[j,g]=(0,t.useState)(!1),[v,A]=(0,t.useState)(!1),k=()=>g(!1),y=[{value:"notRelevantToMe",checked:!1},{value:"pricingNotComp",checked:!1},{value:"limitedFeatures",checked:!1},{value:"others",checked:!1}],[b,M]=(0,t.useState)(y),[N,C]=(0,t.useState)("");(0,t.useEffect)((()=>{if(j){const e=new FormData;e.append("appId",a.userConfig.appId),i.A.post("/payments/checkClosure",e).then((e=>{const s=e.data.response;A(s)})).catch((e=>console.log("bbb",e)))}}),[j]);return(0,u.jsxs)("div",{className:"py-3",children:[(0,u.jsxs)(c.A,{show:j,onHide:k,style:{zIndex:1e4},children:[(0,u.jsx)(c.A.Header,{closeButton:!0,children:(0,u.jsx)(c.A.Title,{className:"d-flex align-items-center",children:v?(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("i",{className:"pe-2 fa-2x fa fa-smile-o"}),(0,u.jsx)(r.A,{id:"cancelDeletion",defaultMessage:"cancelDeletion"})]}):(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)(r.A,{id:"sorryToGo",defaultMessage:"sorryToGo"}),(0,u.jsx)("i",{className:"ps-2 fa-2x fa fa-frown-o"})]})})}),(0,u.jsx)(c.A.Body,{className:"rounded-bottom "+("dark"===a.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:v?(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"py-2",children:(0,u.jsx)(r.A,{id:"changedMind",defaultMessage:"changedMind"})}),(0,u.jsx)("button",{className:"w-100 btn btn-bni p-1 border-0",onClick:()=>(()=>{const e=new FormData;e.append("appId",a.userConfig.appId),i.A.post("/payments/revokeAccount",e).then((e=>{e.data.response&&p.setConfig({show:!0,className:"alert-success border-0 text-dark",type:"success",dismissible:!0,heading:(0,u.jsx)(m,{}),content:(0,u.jsx)(f,{})})})).catch((e=>{a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})).finally((()=>k()))})(),children:(0,u.jsx)(r.A,{id:"revokeAccount",defaultMessage:"revokeAccount"})})]}):(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"pt-2",children:(0,u.jsx)(r.A,{id:"closeThisAccount",defaultMessage:"closeThisAccount"})}),(0,u.jsx)("div",{className:"py-2",children:(0,u.jsx)(r.A,{id:"serveYouBetter",defaultMessage:"serveYouBetter"})}),b.map(((e,s)=>(0,u.jsxs)("label",{htmlFor:e.value,className:"d-block",children:[(0,u.jsx)("input",{id:e.value,name:"reasons",type:"checkbox",onChange:s=>M((a=>a.map((a=>a.value===e.value?Object.assign(a,{checked:s.target.checked}):a)))),checked:e.checked}),(0,u.jsx)("span",{className:"ps-2",children:(0,u.jsx)(r.A,{id:e.value,defaultMessage:e.value})})]},e.value))),(0,u.jsx)("textarea",{placeholder:s.formatMessage({id:"comments",defaultMessage:"comments"}),rows:5,style:{resize:"none"},className:"form-control my-2",value:N,onChange:e=>C(e.target.value)}),(0,u.jsx)("div",{children:(0,u.jsx)(l.A,{disabled:!(b.some((e=>e.checked))&&N),variant:"danger",className:"w-100 my-2",onClick:()=>(()=>{const e=new FormData;e.append("appId",a.userConfig.appId),e.append("selections",b.filter((e=>e.checked)).map((e=>e.value)).join(", ")),e.append("comments",N),i.A.post("/payments/accountClosure",e).then((e=>{e.data.response&&(M(y),C(""),p.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:(0,u.jsx)(x,{}),content:(0,u.jsx)(h,{})}))})).catch((e=>{a.renderToast({type:"error",icon:"fa fa-times-circle",message:s.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})).finally((()=>k()))})(),children:(0,u.jsx)(r.A,{id:"closeThisAccount",defaultMessage:"closeThisAccount"})})})]})})]}),(0,u.jsxs)("div",{onClick:()=>g(!0),className:"link-danger cursor-pointer d-flex align-items-center justify-content-center",children:[(0,u.jsx)("i",{className:"fa fa-frown-o fa-2x pe-2"}),(0,u.jsx)(r.A,{id:"accountClosure",defaultMessage:"accountClosure"})]})]})}}}]);