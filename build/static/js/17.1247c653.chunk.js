(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[17],{1215:function(t,n,e){"use strict";e.r(n);var a=e(1),r=e(71),l=e(54),i=e(48),s=e(0),o=function(t){var n=Object(a.useRef)(null),e=t.width,i=t.height,o=t.outerRadius,g=t.innerRadius,u=t.data,d=t.fillColor,c=t.style,A=t.fontSize,f=t.showTooltip,h=t.tooltipPrefix,v=t.tooltipSuffix,p=t.onClick,m=t.fontColor,x=t.showAnimation,M=t.animationClass,P=t.showLegend,I=t.showXaxisLabel,y=t.xAxisLabel;return Object(a.useEffect)((function(){var t,a,s=24,c=[],b=[],w=[],k=l.w().value((function(t){return t.value})),z=l.z().domain([0,u.length]).range(d).interpolate(l.p),C=l.b().startAngle((function(t){return t.startAngle})).endAngle((function(t){return t.endAngle})).innerRadius(g).outerRadius(o),F=l.N(n.current).attr("width",e).attr("height",i);F.selectAll("g").remove();var R=F.append("svg:g").attr("class","arc").attr("transform","translate("+e/2+","+i/2+")"),S=F.append("svg:g").attr("class","labelGroup").attr("transform","translate("+e/2+","+i/2+")"),T=F.append("svg:g").attr("class","centerGroup").attr("transform","translate("+e/2+","+i/2+")");function j(t,n){var e,a;b[n]?(e=b[n].startAngle,a=b[n].endAngle):!b[n]&&b[n-1]?(e=b[n-1].endAngle,a=b[n-1].endAngle):!b[n-1]&&b.length>0?(e=b[b.length-1].endAngle,a=b[b.length-1].endAngle):(e=0,a=0);var r=l.o({startAngle:e,endAngle:a},{startAngle:t.startAngle,endAngle:t.endAngle});return function(t){var n=r(t);return C(n)}}function L(t,n){s0=2*Math.PI,e0=2*Math.PI;var e=l.o({startAngle:t.startAngle,endAngle:t.endAngle},{startAngle:s0,endAngle:e0});return function(t){var n=e(t);return C(n)}}function O(t,n){var e;e=b[n]?(b[n].startAngle+b[n].endAngle-Math.PI)/2:!b[n]&&b[n-1]?(b[n-1].startAngle+b[n-1].endAngle-Math.PI)/2:!b[n-1]&&b.length>0?(b[b.length-1].startAngle+b[b.length-1].endAngle-Math.PI)/2:0;var a=(t.startAngle+t.endAngle-Math.PI)/2,r=l.q(e,a);return function(t){var n=r(t);return"translate("+Math.cos(n)*(o+s)+","+Math.sin(n)*(o+s)+")"}}I&&T.append("text").html(y).attr("fill",m).attr("font-size",A).attr("text-anchor","middle"),function(n){b=w,c=k(n);var e=0;w=c.filter((function(t,a,r){return t.name=n[a].label,t.value=n[a].value,e+=t.value,t.value>0}));var l=R.selectAll("path").data(w);if(l.enter().append("svg:path").on("click",(function(t,n){p(t,n)})).on("mousemove",(function(t,n){f&&(r.e.style("padding","5px"),r.e.style("opacity",1),r.e.html("<div>".concat(h," ").concat(n.name,"</div><div>").concat(n.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),"</div><div>").concat((n.value/e*100).toFixed(2),"%</div><div>").concat(v,"</div>")).style("left",t.pageX+15+"px").style("top",t.pageY-30+"px"))})).on("mouseout",(function(t){r.e.style("padding",0),r.e.style("opacity",0)})).attr("fill",(function(t,n){return z(n)})),l.enter().selectAll("path").attr("class",x?M:"").transition().duration(0).attrTween("d",j),l.exit().transition().duration(0).attrTween("d",L).remove(),P){var i=S.selectAll("line").data(w);i.enter().append("svg:line").attr("x1",0).attr("x2",0).attr("y1",-o-3).attr("y2",-o-15).attr("stroke","gray").attr("transform",(function(t){return"rotate("+(t.startAngle+t.endAngle)/2*(180/Math.PI)+")"})),i.transition().duration(0).attr("transform",(function(t){return"rotate("+(t.startAngle+t.endAngle)/2*(180/Math.PI)+")"})),i.exit().remove(),(t=S.selectAll("text.value").data(w).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?5:-7})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).text((function(t){return(t.value/e*100).toFixed(1)+"%"}))).enter().append("svg:text").attr("class","value").attr("fill","currentColor").attr("font-size",A).attr("transform",(function(t){return"translate("+Math.cos((t.startAngle+t.endAngle-Math.PI)/2)*(o+s)+","+Math.sin((t.startAngle+t.endAngle-Math.PI)/2)*(o+s)+")"})).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?5:-7})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).attr("fill",m).text((function(t){return(t.value/e*100).toFixed(2)+"%"})),t.transition().duration(0).attrTween("transform",O),t.exit().remove(),(a=S.selectAll("text.units").data(w).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?17:5})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).text((function(t){return t.name}))).enter().append("svg:text").attr("class","units").attr("font-size",A).attr("transform",(function(t){return"translate("+Math.cos((t.startAngle+t.endAngle-Math.PI)/2)*(o+s)+","+Math.sin((t.startAngle+t.endAngle-Math.PI)/2)*(o+s)+")"})).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?25:10})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).attr("fill",m).text((function(t){return t.name})),a.transition().duration(0).attrTween("transform",O),a.exit().remove()}}(u)}),[JSON.stringify(t)]),Object(s.jsx)("svg",{style:c,ref:n})};o.defaultProps=i.i,n.default=o}}]);