(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[4],{106:function(e,t,a){"use strict";var n=a(24),c=a(39),s=a(62),r=a(70),i=a(28),o=a(1),l=a(179),d=a(31),u=a(0),b=["info","checked","marker"],j=function(e){var t=e.info,a=e.checked,c=e.marker,s=Object(d.a)(e,b);return Object(u.jsxs)("label",{className:"checkBoxComponent",children:[Object(u.jsx)("span",{children:t.value}),c&&Object(u.jsx)("span",{className:"sup",children:"*"}),Object(u.jsx)("input",Object(n.a)({checked:a,type:"checkbox"},s)),Object(u.jsx)("span",{className:"checkmark"})]})};j.defaultProps={checked:!1};var m=j,f=a(871),p=a(295),h=function(e){var t=e.index,a=e.type,d=e.primaryKey,b=e.searchable,j=e.element,p=e.value,h=e.placeholder,O=e.onChange,g=e.intl,x=Object(o.useRef)(null),_=Object(o.useState)(!1),v=Object(i.a)(_,2),y=v[0],N=v[1],M=function(){return g.formatMessage({id:h})},D=function(){var e=p,t=j.fetch.dropDownList;return e="single"===a?(e=t.length>0&&t.filter((function(e){return e.id===p}))).length>0?e[0].value:M():"object"===typeof e&&e.length>0?e.map((function(e){return e.toString()})):[],[t,e]},w=D(),S=Object(i.a)(w,2),T=S[0],C=S[1],k=T.map((function(e){return e.checked=e.id&&(Array.isArray(C)?C.filter((function(t){return t.toString()===e.id.toString()})).length>0:C===e.value),e})),P="single"===a?T:k,E=Object(o.useState)(P),A=Object(i.a)(E,2),L=A[0],I=A[1],R=Object(o.useState)(C),B=Object(i.a)(R,2),Y=B[0],F=B[1],U=Object(o.useState)(""),K=Object(i.a)(U,2),W=K[0],q=K[1],V=Object(o.useState)(C),H=Object(i.a)(V,2),z=H[0],G=H[1];Object(o.useEffect)((function(){var e=D(),t=Object(i.a)(e,2),n=t[0],c=t[1],s=n.map((function(e){return e.checked=e.id&&(Array.isArray(c)?c.filter((function(t){return t.toString()===e.id.toString()})).length>0:c===e.value),e}));I("single"===a?n:s),F(c),G(c)}),[j]);var J=function(e){x.current&&!x.current.contains(e.target)&&N(!1)};Object(o.useEffect)((function(){return"multiple"===a&&F($(C)),document.addEventListener("click",J,!0),function(){document.removeEventListener("click",J,!0)}}),[C]);var Z=function(){var e=Object(r.a)(Object(s.a)().mark((function e(t){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(t),a=T.filter((function(e){return e.value.toString().toLowerCase().includes(t.toString().toLowerCase())})),e.next=4,I(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){var t=e.length>0&&T.filter((function(t){return t.id===e[0]}));return 1===t.length?(t=t[0].value,e.length>1?"".concat(t," + ").concat(e.length-1," more..."):t):M()},X=function(e,a){var s=e.target.checked,r=a.id&&s?[].concat(Object(c.a)(z),[a.id]):z.filter((function(e){return e!==a.id}));r=Object(c.a)(new Set(r));var i=L.map((function(e){return r.includes(e.id)?Object(n.a)(Object(n.a)({},e),{},{checked:!0}):Object(n.a)(Object(n.a)({},e),{},{checked:!1})}));I(i),G(r),F($(r)),O(t,r,d)};return Object(o.useEffect)((function(){if(y){var e=document.getElementById("inputText");e&&e.focus()}}),[y]),Object(u.jsxs)("div",{ref:x,className:"filterSelectComponent",children:[Object(u.jsxs)("div",{onClick:function(){return N(!y)},className:"selected ".concat(y?"yes":"no"),children:[Object(u.jsx)("div",{className:"string",title:Y,children:Y||g.formatMessage({id:h})}),Object(u.jsx)("div",{children:Object(u.jsx)(l.a,{className:"caretIcon ".concat(y?"down":"up"),entity:"&#9662;"})})]}),y&&Object(u.jsxs)("div",{className:"wrapper",children:[b&&Object(u.jsxs)("div",{className:"searchContent",children:[Object(u.jsx)("input",{id:"inputText",className:"inputText",onChange:function(e){return Z(e.target.value)},placeholder:g.formatMessage({id:"searchHere"}),type:"text",value:W}),W&&Object(u.jsx)(l.a,{onClick:function(e){q(""),Z("")},className:"icon",entity:"&#10006;"})]}),Object(u.jsx)("div",{className:"listWrapper",children:Object(u.jsx)("ul",{children:L.length>0?L.map((function(e,n){return Object(u.jsx)("li",{className:e.checked?"selectedSingle":"",children:"multiple"===a?Object(u.jsx)(m,{onChange:function(t){return X(t,e)},checked:e.checked,marker:e.marker,info:e},n):Object(u.jsxs)("div",{onClick:function(){return O(t,(n=e).id,d),F(n.value),void("single"===a&&N(!1));var n},children:[e.value,e.marker&&Object(u.jsx)("span",{className:"sup",children:"*"})]})},n)})):Object(u.jsx)("li",{className:"textCenter",children:Object(u.jsx)(f.a,{id:"noRecordsGenerated"})})})})]})]})};h.defaultProps={type:"single",searchable:!0,placeholder:"select"};t.a=Object(p.c)(h)},145:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(70),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(50),_FormElement__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(638),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(54),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__),_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(43),_Pagination__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(661),_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(179),_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(662),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(473),react_intl__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(871),_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(663),_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_15__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__);function BackendCore(props){var intl=Object(react_intl__WEBPACK_IMPORTED_MODULE_13__.a)(),Table=props.Table,config=props.config,className=props.className||"",TableRows=props.TableRows,TableAliasRows=props.TableAliasRows,postApiUrl=props.postApiUrl,onPostApi=props.onPostApi,showTotal=props.showTotal,rowKeyUp=props.rowKeyUp,insertCloneData=props.insertCloneData,showTooltipFor=props.showTooltipFor,defaultValues=props.defaultValues,onTableUpdate=props.onTableUpdate,onReFetchData=props.onReFetchData,cellWidth=props.cellWidth,_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),rowElements=_useState2[0],setRowElements=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(props.dbData),_useState4=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState3,2),dbData=_useState4[0],setDbData=_useState4[1],dbDataBackup=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(props.dbData),_useState5=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState6=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState5,2),deleteData=_useState6[0],setDeleteData=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState8=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState7,2),loader=_useState8[0],setLoader=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState10=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState9,2),btnLoader=_useState10[0],setBtnLoader=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState12=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState11,2),updatedIds=_useState12[0],setUpdatedIds=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({}),_useState14=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState13,2),sortType=_useState14[0],setSortType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState16=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState15,2),tableConfigErrors=_useState16[0],setTableConfigErrors=_useState16[1],pagination=config&&config.footer&&config.footer.pagination&&Object.keys(config.footer.pagination).length>0&&config.footer.pagination,cTotal=config&&config.footer&&config.footer.total,ajaxType=props.ajaxType,ajaxButtonName=props.ajaxButtonName,_useState17=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(pagination&&pagination.recordsPerPage),_useState18=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState17,2),recordsPerPage=_useState18[0],setRecordsPerPage=_useState18[1],defaultRecordsPerPage=pagination&&pagination.recordsPerPage,_useState19=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(Math.ceil(dbData.length/recordsPerPage)),_useState20=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState19,2),currentPage=_useState20[0],setCurrentPage=_useState20[1],maxPagesToShow=pagination&&pagination.maxPagesToShow,createElementPromise=function(){return props.rowElements.map((function(e){return new Promise((function(t,a){t(e)}))}))},runAllApis=function(e){setLoader(!0);var t=createElementPromise();Promise.all([t]).then(function(){var t=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function t(a){return Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a[0]).then((function(e){setRowElements(e),setLoader(!1)}));case 2:"function"===typeof e&&e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){var e=[];return TableAliasRows.length!==TableRows.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),Table&&0!==Table.toString().length&&""!==Table||e.push({error:'The "Table" props should be a valid string.'}),postApiUrl&&!["put","post","delete","patch","request","get","head","options"].includes(ajaxType)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&setTableConfigErrors(e),function(){}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){runAllApis()}),[TableRows,Table,props.rowElements]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){dbData.length>0&&setDbData(dbData)}),[props.dbData]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){if(insertCloneData&&insertCloneData.length>0){setLoader(!0);var e=[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(insertCloneData),Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData));setDbData(e),setTimeout((function(){setLoader(!1)}),500)}}),[insertCloneData]);var updateDbData=function updateDbData(index,data,primaryKey){var i=index.i,j=index.j;dbData[i][j]=data,setDbData(dbData);var id=dbData.filter((function(e,t){return t===i&&e}))[0][primaryKey]||"",array=id?[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds),[id]):Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds);if(array=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(new Set(array)),setUpdatedIds(array),rowKeyUp){var _rowKeyUp$split=rowKeyUp.split("="),_rowKeyUp$split2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_rowKeyUp$split,2),declare=_rowKeyUp$split2[0],operands=_rowKeyUp$split2[1];if(declare&&operands){var newDbData=dbData.map((function(row){return row[declare]=eval(operands),row}));setDbData(newDbData),onTableUpdate&&onTableUpdate(newDbData)}}onTableUpdate&&onTableUpdate(dbData)},_onAddRow=function(e){if(e){var t={};TableRows.map((function(e,a){var n=defaultValues.findIndex((function(t){return Object.keys(t)[0]===e}));return t[e]=n>-1?defaultValues[n][e]:"",null}));var a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData);a.push(t),setDbData(a)}},submitData=function(){setBtnLoader(!0);var e=dbData.filter((function(e){return""===e[TableRows[0]]})).map((function(e){return""===e[TableRows[0]]&&(e[TableRows[0]]=null),e})),t=dbData.filter((function(e){return updatedIds.includes(e[TableRows[0]])})).filter((function(e){return e&&("number"===typeof e[TableRows[0]]||"string"===typeof e[TableRows[0]])})),a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},(e.length>0||deleteData.length>0||t.length>0)&&{Table:Table}),e.length>0&&{insertData:e}),deleteData.length>0&&{deleteData:deleteData}),t.length>0&&{updateData:t}),n=new FormData;n.append("postData",JSON.stringify(a)),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__.a[ajaxType](postApiUrl,n).then((function(t){onPostApi&&onPostApi(t),e.length>0&&(setLoader(!0),setTimeout((function(){onReFetchData(!0),setLoader(!1)}),1e3))})).catch((function(e){onPostApi&&onPostApi({error:e,status:!1})})).finally((function(){setDeleteData([]),setUpdatedIds([]),setBtnLoader(!1),t=[],e=[]}))},getColumnTotal=function(e){var t="";return showTotal.length>0&&showTotal.forEach((function(a,n){if("string"===typeof a&&String(a)===String(e))t=dbData.reduce((function(t,a){return Number(t)+Number(a[e])}),0),t=cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,t,cTotal.maxDecimal);else if("object"===typeof a&&a.whichKey===String(e)){var c=[];t=[a].map((function(t){return t.forValue.map((function(a,n){var s=dbData.filter((function(e){return e[t.forKey]===a.value})).reduce((function(t,a){return Number(t)+Number(a[e])}),0);return c.push(s),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,s,cTotal.maxDecimal)," (".concat(intl.formatMessage({id:a.key}),")")]},n)}))})).concat(a.showDifference&&2===a.showDifference.indexes.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"d-inline-block p-1 ".concat(checkSettlement(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))),children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal),cTotal.maxDecimal),"\xa0",a.showDifference.showStability&&checkSettlementString(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))]},"totRow-".concat(n)))}})),t},checkSettlement=function(e){return 0===e?"txtSuccess":e>0?"txtError":e<0?"txtWarning":void 0},checkSettlementString=function(e){return 0===e?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.zero,")"]}):e<0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.plus,")"]}):e>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.minus,")"]}):void 0},onSort=function(e){var t=dbData.map((function(t){return t[e]&&(t[e].toString().indexOf("-")>-1||t[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(t[e]).replace(/-/g,"/"))?"date":""===t[e]||isNaN(t[e])?"string":"number"})),a=[];"date"===(t=t.sort((function(e,a){return t.filter((function(t){return t===e})).length-t.filter((function(e){return e===a})).length})).pop())&&(a=onSortByDate(e)),"number"===t&&(a=onSortByNumber(e)),"string"===t&&(a=onSortByString(e)),setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a)),setSortType((function(t){return{asc:!t.asc,key:e}}))},onSortByNumber=function(e){return dbData.sort((function(t,a){return sortType.asc?a[e]-t[e]:t[e]-a[e]}))},onSortByDate=function(e){return dbData.sort((function(t,a){return sortType.asc?new Date(a[e])-new Date(t[e]):new Date(t[e])-new Date(a[e])}))},onSortByString=function(e){return dbData.sort((function(t,a){return sortType.asc?(a[e]>t[e])-(a[e]<t[e]):(t[e]>a[e])-(t[e]<a[e])}))},onSetCurrentPage=function(e){setCurrentPage(e)},showHideRows=function(e){return e>=(currentPage-1)*recordsPerPage&&e<=currentPage*recordsPerPage-1?"d-block":"d-none"},_onDelete=function(e){var t=e.i,a=dbData[t]&&dbData[t][TableRows[0]];a&&void 0!==a&&(deleteData.push(a),setDeleteData(deleteData));var n=dbData.filter((function(e,a){return a!==t}));setDbData(n),onTableUpdate&&onTableUpdate(n)},onSearch=function(e){var t=[];TableRows.map((function(a){return t.push((function(t){return t[a].toString().toLowerCase().includes(e.toString().toLowerCase())}))}));var a=dbDataBackup.filter((function(e){return t.some((function(t){return t(e)}))&&!deleteData.includes(e[TableRows[0]])}));setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a))},onRecordsChange=function(e){setRecordsPerPage(e)},getPageCounts=function(){var e=(currentPage-1)*recordsPerPage+1;e=e>0?e:0;var t=dbData.length>=currentPage*recordsPerPage?currentPage*recordsPerPage:dbData.length;return intl.formatMessage({id:"recordsLengthLine"},{start:e,end:t,length:dbData?dbData.length:0})};return!1===loader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"react-responsive-ajax-data-table ".concat(className),children:0===tableConfigErrors.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"biGrid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"heading",title:getPageCounts(),children:getPageCounts()})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__.a,{config:config,defaultRecordsPerPage:defaultRecordsPerPage,onSearchChange:function(e){return onSearch(e)},onDropDownChange:function(e){return onRecordsChange(e)},onDismissSearch:function(){return onSearch("")}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"grid-responsive",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{style:Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},postApiUrl&&{gridTemplateColumns:"70px repeat(".concat(TableRows.length-1,", ").concat(cellWidth,")")}),!postApiUrl&&{gridTemplateColumns:"repeat(".concat(TableRows.length,", ").concat(cellWidth,")")}),className:"grid-container responsive-grid",children:[TableAliasRows.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{onClick:function(){return onSort(TableRows[t])},className:"header",children:t>0||!postApiUrl?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{title:e,children:e})," ",TableRows[t]===sortType.key&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:sortType.asc?"&#8593;":"&#8595;"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:"&#9776;"})},"key-".concat(t))})),dbData.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[dbData.map((function(e,t){return TableRows.map((function(a,n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"".concat(pagination?showHideRows(t):""),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},showTooltipFor.includes(a)&&{className:"tooltipContainer"}),{},{children:[""!==e[a]&&showTooltipFor.includes(a)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{className:"tooltips",children:e[a]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{config:config,onDelete:function(e){return _onDelete(e)},onChange:function(e,t,a){updateDbData(e,t,a)},index:{i:t,j:a},placeholder:TableAliasRows[n],value:e[a],element:rowElements[n],showIncrement:dbData.length-1===t,showDecrement:!0,onAddRow:function(e){return _onAddRow(e)},primaryKey:TableRows[0],isPostable:Boolean(postApiUrl)},"".concat(t,"-").concat(n))]}))},"".concat(e[a],"-").concat(n))}))})),showTotal&&showTotal.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"textCenter",children:cTotal.title}),TableRows.slice(1).map((function(e,t){var a=showTotal.includes(e)||showTotal.some((function(t){return t.whichKey===e}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:a?"totalColumn":"",children:a?getColumnTotal(e):""},t)}))]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{index:{i:0,j:0},element:rowElements[0],showIncrement:!0,showDecrement:!1,onAddRow:function(e){return _onAddRow(e)}},-1),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-3 text-center",style:{gridColumn:"1 / span ".concat(TableRows.length)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_14__.a,{id:"noRecordsGenerated"})})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"footer",children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_Pagination__WEBPACK_IMPORTED_MODULE_10__.a,{currentPage:currentPage,totalPages:Math.ceil(dbData.length/recordsPerPage),onSetPage:onSetCurrentPage,maxPagesToShow:maxPagesToShow,selectedPageString:pagination.currentPage}),postApiUrl&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-2 text-end",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("button",{onClick:function(){return submitData()},disabled:btnLoader,className:"btn btn-bni",children:btnLoader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:ajaxButtonName})})})]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"errorWrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h5",{children:"Please resolve the following issues:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("ol",{children:tableConfigErrors.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("li",{children:e.error},t)}))})]})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"relativeSpinner",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default.a,{type:_helpers__WEBPACK_IMPORTED_MODULE_9__.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}BackendCore.defaultProps={Table:"My table",TableRows:[],TableAliasRows:[],showTotal:[],rowKeyUp:"",rowElements:[],insertCloneData:[],showTooltipFor:[],ajaxType:"post",ajaxButtonName:"Submit",config:{header:{searchPlaceholder:"Search"},footer:{total:{title:"Total",locale:"en-IN",currency:"",maxDecimal:2,doubleEntryBalanceStrings:{zero:"Settled",plus:"Ahead",minus:"Bal"}},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},defaultValues:[],cellWidth:"15rem"},__webpack_exports__.a=BackendCore},179:function(e,t,a){"use strict";var n=a(24),c=a(31),s=(a(1),a(0)),r=["className","entity"],i=function(e){var t=e.className,a=e.entity,i=Object(c.a)(e,r);return Object(s.jsx)("span",Object(n.a)({className:"htmlIcon ".concat(t),dangerouslySetInnerHTML:{__html:a}},i))};i.defaultProps={property:"String name"},t.a=i},240:function(e,t,a){"use strict";var n=a(28),c=a(1),s=a(0),r=function(e){var t=e.index,a=e.primaryKey,r=e.onChange,i=e.element,o=e.value,l=t.i,d=t.j,u=Object(c.useState)(i.radio.radioList),b=Object(n.a)(u,1)[0],j=e.value||b.filter((function(e){return e.checked}))[0].value,m=Object(c.useState)(j),f=Object(n.a)(m,2),p=f[0],h=f[1];return Object(c.useEffect)((function(){h(o)}),[o]),Object(s.jsx)("div",{className:"radioComponent",children:b.length&&b.map((function(e,n){return Object(s.jsxs)("div",{className:"radioWrapper",children:[Object(s.jsx)("input",{type:"radio",onChange:function(n){h(n.target.value),r(t,e.value,a)},value:e.value,checked:e.value===p,name:"".concat(d,"-").concat(l),id:"".concat(d,"-").concat(n,"-").concat(l)})," ",Object(s.jsx)("span",{className:"checkmark"}),Object(s.jsx)("label",{htmlFor:"".concat(d,"-").concat(n,"-").concat(l),children:e.label})]},n)}))})};r.defaultProps={property:"String name"},t.a=r},324:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/spinner-1.650efd36.svg"},354:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return s}));var n=function(){return"https://apps.bharani.tech/services"},c="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0.By2r2BwheJsbrEGrHOaMQwrrmlY7wHVFzWtuEmv39fM",s="ab41d118d1msh03b94fd2a0f7b61p10edcdjsn2d55dd5a2c32"},43:function(e,t,a){"use strict";var n=a(39),c=a(49),s=a(24),r={self:void 0,sageHeaderAndList:function(e,t){var a=e.filter((function(e){return Number(e[t])>1}));return[e.filter((function(e){return 1===Number(e[t])}))[0],a]},loadRandomSpinnerIcon:function(){return"Oval"},stringToCapitalize:function(e){return e.split("_").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)})).join(" ")},donutChartColors:["#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#f44336"],indianLacSeperator:function(e,t){return e.toLocaleString("en-IN",{maximumFractionDigits:t,style:"currency",currency:"INR"})},countryCurrencyLacSeperator:function(e,t,a,n){return Number(a).toLocaleString(e,Object(s.a)({maximumFractionDigits:n,minimumFractionDigits:n,style:t?"currency":"decimal"},t&&{currency:t}))},lacSeperator:function(e){return e.toLocaleString("en-IN")},strToNumMonth:{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},monthToStr:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},fullmonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],threeDigitMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],leadingZeros:function(e){var t=Number(e);return t<10?"0".concat(t):t},dateToMonthYear:function(e){var t=new Date(e);return"".concat(r.threeDigitMonthNames[t.getMonth()],"-").concat(t.getFullYear())},addMonths:function(e,t){if(e&&t){var a,n=["",(e=new Date(+e)).getDate()],c=n[1];e.setMonth(e.getMonth()+t,1),a=e.getMonth(),e.setDate(c),e.getMonth()!==a&&e.setDate(0)}return e},getNextMonthDate:function(e){var t=new Date,a=t.getFullYear(),n=t.getMonth()+2;n>12&&(a+=1,n=1);var c=new Date("".concat(a,"-").concat(n,"-01")),s=c.getMonth()+1;s=s<10?"0".concat(s):s;var r=e<10?"0".concat(e):e,i=c.getFullYear();return"".concat(i,"-").concat(s,"-").concat(r)},getNow:function(){var e=function(e){var t=Number(e);return t<10?"0".concat(t):t},t=new Date,a=t.getFullYear(),n=e(t.getMonth()+1),c=e(t.getDate()),s=e(t.getHours()),r=e(t.getMinutes()),i=e(t.getSeconds());return"".concat(a,"-").concat(n,"-").concat(c," ").concat(s,":").concat(r,":").concat(i)},dateToYYYYMMDD:function(e){var t=function(e){var t=Number(e);return t<10?"0".concat(t):t},a=e.getFullYear(),n=t(e.getMonth()+1),c=t(e.getDate());return"".concat(a,"-").concat(n,"-").concat(c)},stripCommasInCSV:function(e){return e.map((function(e){var t=Object.keys(e).map((function(t){return Object(c.a)({},t,String(e[t]).replace(/,/g,""))}));return Object.assign.apply(Object,[{},{}].concat(Object(n.a)(t)))}))},chunkArray:function(e,t){return e.map((function(a,n){return e.slice(n*t,n*t+t)})).filter((function(e){return e.length>0}))}};t.a=r},478:function(e,t){},480:function(e,t){},50:function(e,t,a){"use strict";var n=a(345),c=a.n(n),s=a(354),r=c.a.create({baseURL:Object(s.a)(),headers:{Authorization:s.c}});t.a=r},505:function(e,t){},506:function(e,t){},638:function(e,t,a){"use strict";var n=a(24),c=a(49),s=a(28),r=a(31),i=a(1),o=a(240),l=a(179),d=a(106),u=a(355),b=a.n(u),j=a(0),m=["isPostable","config","index","value","element","primaryKey","onChange","placeholder","showDecrement","showIncrement","onDelete","onAddRow"];t.a=function(e){var t=e.isPostable,a=e.config,u=e.index,f=e.value,p=e.element,h=e.primaryKey,O=e.onChange,g=e.placeholder,x=e.showDecrement,_=e.showIncrement,v=e.onDelete,y=e.onAddRow,N=Object(r.a)(e,m),M=Object(i.useRef)([]);M.current=[];var D=Object(i.useState)(f?new Date(f):new Date),w=Object(s.a)(D,2),S=w[0],T=w[1],C=Object(i.useState)(f?new Date(f):new Date),k=Object(s.a)(C,2),P=k[0],E=k[1],A=function(e,t,a,n){O(t,a,n)};return Object(j.jsx)("div",{children:function(e,s,r,i){if("string"===typeof s)switch(s){case"textbox":return Object(j.jsx)("input",Object(n.a)({type:"text",placeholder:g,onBlur:function(t){return A(0,e,t.target.value,i)},className:"inputText",defaultValue:r},N));case"number":return Object(j.jsx)("input",Object(n.a)({type:"number",min:"0",step:".01",placeholder:g,ref:function(t){return function(e,t){t&&!M.current.includes(t)&&M.current.push(Object(c.a)({},e.i,t))}(e,t)},onBlur:function(t){return A(0,e,t.target.value,i)},className:"inputText",defaultValue:Number(r).toFixed(a.footer.total.maxDecimal)},N));case"textarea":return Object(j.jsx)("textarea",Object(n.a)({placeholder:g,onBlur:function(t){return A(0,e,t.target.value,i)},rows:"3",className:"inputText",defaultValue:r},N));case"label":default:return Object(j.jsx)("div",Object(n.a)(Object(n.a)({},N),{},{children:r}));case"checkbox":return t?Object(j.jsxs)(j.Fragment,{children:[x&&Object(j.jsx)(l.a,{onClick:function(){return v(e)},className:"error",entity:"&#215;"}),_&&Object(j.jsx)("div",{className:!1===x?"floatLeft":"floatRight",children:Object(j.jsx)(l.a,{onClick:function(){return y(!0)},className:"success tilt-45",entity:"&#215;"})})]}):Object(j.jsx)("div",Object(n.a)(Object(n.a)({},N),{},{children:r}));case"date":return Object(j.jsx)(b.a,{value:S,format:"y-MM-dd",clearIcon:null,onChange:function(t){T(t),O(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)}(t),i)}});case"dateTime":return Object(j.jsx)(b.a,{value:P,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:function(t){E(t),O(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate()),e.getHours(),e.getMinutes(),e.getSeconds()],a=t[1],n=t[2],c=t[3],s=t[4],r=t[5];return c=c<10?"0"+c:c,s=s<10?"0"+s:s,r=r<10?"0"+r:r,"".concat(t[0],"-").concat(a,"-").concat(n," ").concat(c,":").concat(s,":").concat(r)}(t),i)}})}else if("object"===typeof s){switch(Object.keys(s)[0]){case"fetch":return Object(j.jsx)(d.a,{index:e,primaryKey:i,onChange:function(e,t,a){return O(e,t,a)},element:s,value:r,type:Array.isArray(r)?"multiple":"single",searchable:s.searchable});case"radio":return Object(j.jsx)(o.a,{index:e,primaryKey:i,onChange:function(e,t,a){return O(e,t,a)},element:s,value:r},"".concat(e.i,"-").concat(e.j));default:return Object(j.jsx)("div",{children:"Unknown Element"})}}}(u,p,f,h)})}},661:function(e,t,a){"use strict";var n=a(24),c=a(39),s=a(28),r=a(1),i=a(0),o=function(e){var t=e.totalPages,a=e.maxPagesToShow,o=e.selectedPageString,l=e.onSetPage,d=Object(r.useState)(e.currentPage),u=Object(s.a)(d,2),b=u[0],j=u[1],m=function(e){return Array.from({length:e},(function(e,t){return++t}))},f=Object(r.useState)(m(t)),p=Object(s.a)(f,2),h=p[0],O=p[1];Object(r.useEffect)((function(){O(m(t));var e="first"===o?1:t;j(e),l(e)}),[t]),Object(r.useEffect)((function(){var e=[];a<t&&b>0&&(b<t-a?(e=[].concat(Object(c.a)(x(a,b)),["...",t]),O(e)):(e=Object(c.a)(x(a+1,t-a)),O(e)))}),[b]);var g=function(e){j(e),l(e)},x=function(e,t){return Array(e).fill().map((function(e,a){return t+a}))};return h.length>0&&Object(i.jsxs)("ul",{className:"page",children:[Object(i.jsx)("li",{onClick:function(){return b>1?g(1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<<"}),Object(i.jsx)("li",{onClick:function(){return b>1?g(b-1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<"}),h.map((function(e,a){return Object(i.jsx)("li",Object(n.a)(Object(n.a)({onClick:function(){return!isNaN(e)&&e<=t?g(e):null}},e===b&&{className:"active"}),{},{children:e}),function(e){return"page-".concat(e)}(a))})),Object(i.jsx)("li",{onClick:function(){return b<t?g(b+1):null},className:"gt ".concat(b===t?"disabled":""),children:">"}),Object(i.jsx)("li",{onClick:function(){return b<t?g(t):null},className:"gt ".concat(b===t?"disabled":""),children:">>"})]})};o.defaultProps={},t.a=o},662:function(e,t,a){"use strict";var n=a(28),c=a(1),s=a(179),r=a(473),i=a(0),o=function(e){var t=Object(r.a)(),a=e.defaultRecordsPerPage,o=e.config,l=e.onSearchChange,d=e.onDropDownChange,u=e.onDismissSearch,b=Object(c.useState)(!1),j=Object(n.a)(b,2),m=j[0],f=j[1],p=Object(c.useState)(""),h=Object(n.a)(p,2),O=h[0],g=h[1],x=Object(c.useState)(a),_=Object(n.a)(x,2),v=_[0],y=_[1],N=Object(c.useRef)(null),M=Array.from({length:10},(function(e,t){return++t})).map((function(e,t){return t>=0&&t<=2?e*a:t>=3&&t<=5?e*a*5:t>=6&&t<=9?e*a*10:null})),D=function(e){N.current&&!N.current.contains(e.target)&&f(!1)};Object(c.useEffect)((function(){return document.addEventListener("click",D,!0),function(){document.removeEventListener("click",D,!0)}}),[]);return Object(i.jsxs)("div",{className:"group-input",children:[Object(i.jsxs)("div",{className:"inputWrapper",children:[Object(i.jsx)("input",{onChange:function(e){return function(e){var t=e.target.value;l(t),g(t)}(e)},placeholder:o.header.searchPlaceholder,type:"text",value:O,className:"join-input"}),O&&Object(i.jsx)(s.a,{onClick:function(){u(),g("")},className:"dismiss",entity:"&#215;"})]}),Object(i.jsxs)("div",{ref:N,onClick:function(){return f(!m)},title:t.formatMessage({id:"showNRecordsPerPage"},{n:v}),className:"join-select",children:[Object(i.jsx)("div",{style:m?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:v}),Object(i.jsx)(s.a,{className:"icon up",entity:"&#9662;"})]})}),m&&Object(i.jsx)("ul",{children:M.map((function(e,t){return Object(i.jsx)("li",{onClick:function(){return y(t=e),void d(t);var t},children:e},t)}))})]})]})};o.defaultProps={property:"String name"},t.a=o},663:function(e,t,a){},670:function(e,t,a){},696:function(e,t){},698:function(e,t){},725:function(e,t){},727:function(e,t){},728:function(e,t){},733:function(e,t){},735:function(e,t){},754:function(e,t){},766:function(e,t){},769:function(e,t){},879:function(e,t,a){"use strict";a.r(t);var n=a(62),c=a(70),s=a(28),r=a(1),i=a.n(r),o=a(56),l=a(24),d=a(31),u=Object(r.createContext)([{},function(){}]),b=a(49),j=a(447),m=(a(290),a(0)),f=Object(r.createContext)([{},function(){}]);var p=function(e){var t=e.config,a=Object(r.useState)({}),n=Object(s.a)(a,2),c=n[0],i=n[1],o=JSON.parse(localStorage.getItem("userData"))||{},d=function(e){i(Object(l.a)(Object(l.a)({},e),c))},u=function(e,t){i((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(b.a)({},e,t))}))};return Object(r.useEffect)((function(){d(JSON.parse(localStorage.getItem("userData"))),u("theme","")}),[]),Object(r.useEffect)((function(){u("theme",t.webTheme),u("type",o.type?o.type:"public")}),[t]),Object(m.jsxs)(f.Provider,{value:{userData:c,addUserData:d,updateUserData:u,removeUserData:function(e){var t=Object(l.a)({},c);e.forEach((function(e){delete t[e]})),i((function(e){return Object(l.a)({},t)}))},renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,s=e.icon,r=void 0===s?"fa fa-check-circle":s,i=e.message;return j.b[c](Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:[Object(m.jsx)("i",{className:r})," ",Object(m.jsx)("span",{dangerouslySetInnerHTML:{__html:i}})]})}),{autoClose:a})}},children:[Object(m.jsx)(j.a,{className:"bniToaster"}),Object.keys(c).length>0&&e.children]})},h=["component"],O=function(e){var t=e.component,a=Object(d.a)(e,h);return Object(m.jsx)(u.Consumer,{children:function(e){return Object(m.jsx)(f.Consumer,{children:function(e){return Object(m.jsx)(o.b,Object(l.a)(Object(l.a)({},a),{},{render:function(n){return a.accessGiven.includes(e.userData.type)?Object(m.jsx)(t,Object(l.a)({},n)):Object(m.jsx)(o.a,{to:{pathname:"error",state:{from:n.location}}})}}))}})}})},g=a(94),x=a(871);var _=function(){var e=Object(r.useContext)(u),t=Object(s.a)(e,1)[0];return Object(m.jsx)("div",{className:"pt-5",children:Object(m.jsx)("div",{className:"pt-5",children:Object(m.jsxs)("div",{className:"pt-5 text-center",children:[Object(m.jsxs)("h1",{className:"",children:[Object(m.jsx)(x.a,{id:"oops"}),"!"]}),Object(m.jsx)("h1",{className:"text-danger",children:"404"}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(x.a,{id:"sorryYourRequestedPageCannotBeFound"}),"!"]}),Object(m.jsx)("hr",{className:"hr"}),Object(m.jsxs)("div",{className:"py-2",children:[Object(m.jsxs)(g.a,{to:"/",className:"btn btn-secondary me-2",children:[Object(m.jsx)("i",{className:"fa fa-home"})," ",Object(m.jsx)(x.a,{id:"home"})]}),Object(m.jsxs)("a",{rel:"noopener noreferrer",href:"mailto:".concat(t.email),className:"btn btn-secondary",children:[Object(m.jsx)("i",{className:"fa fa-envelope"})," ",Object(m.jsx)(x.a,{id:"support"})]})]})]})})})},v=Object(o.g)((function(e){var t=Object(r.useContext)(f).userData.menu;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(o.d,{children:[t.length>0&&t.map((function(e,t){return Object(m.jsx)(O,{accessGiven:e.hasAccessTo,exact:!0,path:e.href,component:e.component},t)})),Object(m.jsx)(o.b,{path:"*",component:_})]})})})),y=a(885),N=a(4),M=a(5),D=a(855),w=a(878),S=a(547),T=a(858),C=a(861),k=a(210),P=a.n(k),E=["aws_s3_access_key_id","aws_s3_region","aws_s3_secret_access_key","google_map_api_key","google_login_auth_token","facebook_app_id"],A="web",L=function(){function e(t){var a=this;Object(N.a)(this,e),this.uploadFile=function(e){return new T.a({client:new D.a(a.config),leavePartsOnError:!1,params:Object(l.a)(Object(l.a)({},e),{},{Bucket:a.Bucket})})},this.deleteFile=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(l.a)({Bucket:a.Bucket},Object.keys(t).length>0&&Object(l.a)({},t)),s=new w.a(a.config).deleteObject(c),e.abrupt("return",s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteFolder=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,c){var s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={Bucket:a.Bucket,Prefix:t},new w.a(a.config).listObjects(s,(function(e,t){if(e)return c({status:"fail"});0===t.Contents.length&&c({status:"success"}),(s={Bucket:a.Bucket}).Delete={Objects:[]},t.Contents.forEach((function(e){s.Delete.Objects.push({Key:e.Key})})),new w.a(a.config).deleteObjects(s,(function(e,t){if(e)return c({status:"fail"});t.IsTruncated?a.self.deleteFolder(a.Bucket,c):c({status:"success"})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.renameFile=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.Bucket,e.abrupt("return",new w.a(a.config).copyObject({Bucket:c,CopySource:"".concat(c,"/").concat(t.oldKey),Key:t.newKey},(function(){new w.a(a.config).deleteObject({Bucket:c,Key:t.oldKey})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renameFolder=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var s,r,i,o,l,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.Bucket,r="".concat(t.oldKey,"/"),i="".concat(t.newKey),e.prev=3,e.next=6,new w.a(a.self.config).listObjects({Bucket:s,Prefix:r});case 6:return o=e.sent,l=o.Contents,d=o.Prefix,e.next=11,Promise.all(l.map(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={Bucket:s,CopySource:"".concat(s,"/").concat(t.Key),Key:"".concat(i,"/").concat(t.Key.replace(d,""))},e.next=3,new w.a(a.self.config).copyObject(c);case 3:return r={Bucket:s,Key:t.Key},e.next=6,new w.a(a.self.config).deleteObject(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),this.getSignedUrl=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c,s,r,i,o,l,d=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>1&&void 0!==d[1]?d[1]:86400,s=d.length>2?d[2]:void 0,r={Bucket:s,Key:t,expiresIn:c},i=new D.a(a.config),o=new S.a(r),e.next=7,Object(C.a)(i,o,{expiresIn:c});case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.downloadToBrowser=function(e){var t=e.split("/"),n=t[t.length-1],c=t[0],s=e.split("/").slice(1,e.split("/").length).join("/");a.getSignedUrl(s,86400,c).then((function(e){var t=document.createElement("a");t.setAttribute("target","_blank"),t.setAttribute("href",e),t.setAttribute("download",n),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},this.Bucket=t.aws_s3_bucket,this.config={region:P.a.AES.decrypt(t.aws_s3_region,t.web).toString(P.a.enc.Utf8),credentials:{accessKeyId:P.a.AES.decrypt(t.aws_s3_access_key_id,t.web).toString(P.a.enc.Utf8),secretAccessKey:P.a.AES.decrypt(t.aws_s3_secret_access_key,t.web).toString(P.a.enc.Utf8)}},this.self=this}return Object(M.a)(e,[{key:"getBuckeName",value:function(){return this.Bucket}},{key:"fetchFileFolder",value:function(e){var t=Object(l.a)({Bucket:this.Bucket},Object.keys(e).length>0&&Object(l.a)({},e));return new w.a(this.config).listObjects(t)}}]),e}(),I=a(548),R=a.p+"static/media/ban.99659585.svg",B=a(324),Y=function(e){var t=e.videoRoot,a=e.style,n=e.className,c=e.optionalAttr;return Object(m.jsxs)("video",Object(l.a)(Object(l.a)({style:a,className:n},c),{},{children:[Object(m.jsx)("source",{src:t,type:"video/mp4"}),Object(m.jsx)("source",{src:t,type:"video/mov"}),Object(m.jsx)("source",{src:t,type:"video/webm"})]}))};var F=function(e){var t=e.className,a=e.style,n=e.appData,c=e.unsignedUrl,i=e.type,o=e.expiry,d=e.optionalAttr,u=e.customRef,b=Object(r.useState)(""),j=Object(s.a)(b,2),f=j[0],p=j[1];return Object(r.useEffect)((function(){return function(){p("")}}),[]),Object(r.useEffect)((function(){if(Object.keys(n).length>0){p("");!function(e){var t=c?c.split("/"):["/"],a=t[0],n=t.slice(1,t.length).join("/");new L(e).getSignedUrl(n,o,a).then((function(e){if("image"===i){var t=new Image;t.src=e,t.onerror=function(e){p(R)},t.onload=function(t){p(e)}}p(e)})).catch((function(){return p(R)}))}(n)}}),[n,o,i,c]),function(){switch(i){case"image":return Object(r.createElement)(I.LazyLoadImage,Object(l.a)(Object(l.a)({},d),{},{className:t,placeholderSrc:B.default,src:f,alt:f,key:1,style:a}));case"video":return f&&Object(m.jsx)(Y,Object(l.a)(Object(l.a)({ref:u,optionalAttr:d,style:a},t&&{className:t}),{},{videoRoot:f}));case"audio":return Object(m.jsx)("audio",Object(l.a)({className:t,ref:u,src:f,style:a},d));default:return Object(m.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:f,children:e.children})}}()},U=function(e){var t=Object(r.useContext)(f),a=e.onNavBarToggle,n=e.navBarExpanded,c=e.appData,s=t.userData.menu;return Object(m.jsx)("div",{className:"mobile-menu",children:Object(m.jsxs)(y.a,{style:{top:"50px"},className:"py-0 ps-2 pe-3 ".concat("dark"===t.userData.theme?"bg-dark":"bg-white"),fixed:"top",onToggle:a,expanded:n,expand:"lg",children:[Object(m.jsx)(y.a.Brand,{className:"navbar-brand pt-2",children:Object(m.jsx)(F,{type:"image",appData:c,unsignedUrl:c.logoImg,className:"img-fluid",optionalAttr:{width:"40",height:"40"}})}),Object(m.jsx)(y.a.Toggle,{style:{boxShadow:"none"},className:"p-0 pe-1 fs-2 btn text-secondary border-1","aria-controls":"basic-navbar-nav",bsPrefix:"navbar-toggle",children:Object(m.jsx)("i",{className:"fa fa-bars icon-bni"})}),Object(m.jsx)(y.a.Collapse,{children:Object(m.jsx)("ul",{className:"header-menu",children:s.map((function(e,n){return Object(m.jsx)("li",{children:Object(m.jsx)(g.a,{className:"dark"===t.userData.theme?"link-light":"link-dark",onClick:a,to:e.href,children:Object(m.jsx)(x.a,{id:e.page_id})})},n)}))})})]})})};U.defaultProps={property:"String name"};var K=U,W=function(e){var t=e.appData,a=Object(r.useContext)(f),n=a.userData.menu;return Object(m.jsx)("header",{className:"vertical-header ".concat(t.webLayoutType),children:Object(m.jsx)("div",{className:"vertical-header-wrapper ".concat(t.webMenuType),children:Object(m.jsxs)("nav",{className:"nav-menu ".concat(t.webMenuType," ").concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark":"bg-white"),children:[Object(m.jsx)("div",{className:"nav-header",children:Object(m.jsx)("span",{className:"",children:Object(m.jsx)(F,{type:"image",appData:t,unsignedUrl:t.logoImg,className:"brand img-fluid",optionalAttr:{width:"40",height:"40"}})})}),Object(m.jsx)("ul",{className:"header-menu ".concat(t.webMenuType),children:n.map((function(e,t){return Object(m.jsx)("li",{children:Object(m.jsx)(g.a,{className:"dark"===a.userData.theme?"text-white-50":"text-black",to:e.href,children:Object(m.jsx)(x.a,{id:e.page_id})})},t)}))})]})})})};W.defaultProps={property:"String name"};var q=W,V=a(287),H=Object(V.a)(),z=a(54),G=a.n(z),J=a(43),Z=a(39),$=a(330),X=a.n($),Q=a(129),ee=a.n(Q),te=a(344),ae=a.n(te),ne=a(295),ce=a(882),se=a(50),re=a(144),ie=a.n(re),oe=Object(r.createContext)([{},function(){}]),le=function(e){var t=Object(r.useState)(""),a=Object(s.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(""),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(""),j=Object(s.a)(u,2),p=j[0],h=j[1],O=Object(r.useState)(""),g=Object(s.a)(O,2),x=g[0],_=g[1],v=Object(r.useState)(""),y=Object(s.a)(v,2),N=y[0],M=y[1],D=Object(r.useState)({}),w=Object(s.a)(D,2),S=w[0],T=w[1],C=Object(r.useContext)(f),k=!!navigator.language&&navigator.language.split("-")[0].toLowerCase();return Object(r.useEffect)((function(){var e=se.a.get("/getLocale"),t=se.a.get("/getUniqueLocales");Promise.all([e,t]).then((function(e){var t=e[0].data.response,a=e[1].data.response,n=Object.entries(ie.a.groupBy(t,"locale_string")).map((function(e){return Object(b.a)({},e[0],Object.assign.apply(Object,[{}].concat(Object(Z.a)(e[1].map((function(e){return Object(b.a)({},e.locale_key,e.locale_value)}))))))}));n=Object.assign.apply(Object,[{}].concat(Object(Z.a)(n))),T(n);var s=a.map((function(e){return{string:e.locale_string,label:e.locale_label,id:e.locale_id,currency:e.locale_currency,language:e.locale_language}})).sort((function(e,t){return e-t.locale_sort}));h(s);var r=s.filter((function(e){return e.string===k})).length>0&&k?k:"en";d(r);var i=s.filter((function(e){return e.string===r}))[0].id;c(i)})).catch((function(e){C.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load locale objects. Please try again later"})})).finally((function(e){return!1}))}),[]),Object(r.useEffect)((function(){if(n&&p&&p.length>0){var e=p.filter((function(e){return e.id===n}))[0],t=e.string,a=e.currency,c=e.language;d(t),_(a),M(c)}}),[n,p]),Object(m.jsx)(oe.Provider,{value:{setLocale:d,localeList:p,localeId:n,setLocaleId:c,locale:l,localeCurrency:x,localeLanguage:N},children:Object.keys(S).length>0&&l&&Object(m.jsx)(ce.a,{messages:S[l],locale:l,defaultLocale:l,children:e.children})})},de=a(874),ue=a(636),be=function(e){var t=e.chartData,a=e.onMonthYearSelected,n=e.intl,c=Object(r.useContext)(oe),i=Object(r.useRef)(null),o=Object(r.useState)([]),l=Object(s.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)([]),j=Object(s.a)(b,2),f=j[0],p=j[1],h=Object(r.useState)(0),O=Object(s.a)(h,2),g=O[0],_=O[1],v=Object(r.useState)({}),y=Object(s.a)(v,2),N=y[0],M=y[1],D=Object(r.useState)(""),w=Object(s.a)(D,2),S=w[0],T=w[1],C=Object(r.useState)(!1),k=Object(s.a)(C,2)[1],P=getComputedStyle(document.documentElement).getPropertyValue("--app-theme-bg-color");Object(r.useEffect)((function(){_(i.current.clientWidth)}),[]),Object(r.useEffect)((function(){var e,n,s,r,o=t.map((function(e){return String(e.dated)}));o=Object(Z.a)(new Set(o));var l=function(e){var t=e.category,a=e.total;return{month:e.dated,label:t,value:Number(a),isEmpty:Number(a)<=0}},d=o.map((function(e){var a=t.filter((function(t){return String(t.dated)===String(e)&&"Dr"===t.type})).map((function(e){return l(e)}));a=0===a.length?[l({category:"No Data",total:0,dated:null})]:a;var n=t.filter((function(t){return String(t.dated)===String(e)&&"Cr"===t.type})).map((function(e){return l(e)}));return n=0===n.length?[l({category:"No Data",total:0,dated:null})]:n,{month:e,cData:a,creditData:n}}));u(d),d.length>0?(T(d[0].month),a(d[0].month)):k(!0);var b=function(e,t){var a=ee()().isSame(e,"month"),n=0!==t?1:ee()(e).daysInMonth(),c=ee()("".concat(e.split("-")[0],"-").concat(e.split("-")[1],"-").concat(n)).toDate();return a?new Date:c},j=[{color:P,points:A(t,"type","Cr").reduce((function(e,t){var a=e.length>0&&e.find((function(e){return e.dated===t.dated}));return a?a.y+=Number(t.total):e.push({dated:t.dated,x:ee()(t.dated.replace(/-/g," 01, ")).format("YYYY-MM-DD"),y:Number(t.total)}),e}),[]).map((function(e,t){var a=e.dated,n=e.x,c=e.y;return{month:a,x:n,y:Math.round(100*c)/100,measureDate:b(n,t)}}))}];p([]);var m=null===(e=j[0])||void 0===e||null===(n=e.points[j[0].points.length-1])||void 0===n?void 0:n.measureDate,f=null===(s=j[0])||void 0===s||null===(r=s.points[0])||void 0===r?void 0:r.measureDate,h=E(m,f);setTimeout((function(){var e,t;p(j);var a=j[0].points.reduce((function(e,t){return e+t.y}),0),n=J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,a/(40*h),2),s=J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,a/(5*h),2),r=J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,a/h,2);M({hourly:n,daily:s,weekly:r}),null!==(e=i.current)&&void 0!==e&&null!==(t=e.childNodes[1])&&void 0!==t&&t.childNodes[0]&&(i.current.childNodes[1].childNodes[0].style.height=260)}),1)}),[t,n,c]);var E=function(e,t){var a=Math.floor((t-e)/864e5);return Math.ceil(a/7)},A=function(e,t,a){return e.filter((function(e){return e[t]===a}))},L=J.a.donutChartColors,I=function(e,t){var a=Math[t].apply(Math,Object(Z.a)(e));return a=J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,a,2)},R=function(e){var t=e.i18Key,a=e.value;return Object(m.jsxs)("div",{className:"position-relative small py-4 animate__animated animate__pulse infiniteAnimation",children:[n.formatMessage({id:t}),Object(m.jsx)("span",{title:a,className:"position-absolute top-0 start-50 translate-middle rounded-pill bni-bg bni-text w-100 py-2 text-break",children:a})]})};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{ref:i,children:f.length>0&&d.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(de.a,{className:"mt-3",children:[Object(m.jsx)(ue.a,{md:2,xs:6,className:"py-2 text-center",children:Object(m.jsx)(R,{i18Key:"total",value:function(e){var t=e.reduce((function(e,t){return e+t.y}),0);return t=J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,t,2)}(f[0].points)})}),Object(m.jsx)(ue.a,{md:2,xs:6,className:"py-2 text-center",children:Object(m.jsx)(R,{i18Key:"highest",value:I(f[0].points.map((function(e){return e.y})),"max")})}),Object(m.jsx)(ue.a,{md:2,xs:6,className:"py-2 text-center",children:Object(m.jsx)(R,{i18Key:"lowest",value:I(f[0].points.map((function(e){return e.y})),"min")})}),Object(m.jsx)(ue.a,{md:2,xs:6,className:"py-2 text-center",children:Object(m.jsx)(R,{i18Key:"daily",value:N.daily})}),Object(m.jsx)(ue.a,{md:2,xs:6,className:"py-2 text-center",children:Object(m.jsx)(R,{i18Key:"hourly",value:N.hourly})}),Object(m.jsx)(ue.a,{md:2,xs:6,className:"py-2 text-center",children:Object(m.jsx)(R,{i18Key:"weekly",value:N.weekly})})]}),Object(m.jsx)(ae.a,{data:f,id:"debit-card-income-1",margins:{top:50,right:g>400?80:30,bottom:50,left:80},width:g,isDate:!0,height:250,xLabel:n.formatMessage({id:"month"}),yLabel:n.formatMessage({id:"income"}),onPointHover:function(e){return J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:f[0].points.length,xDisplay:function(e,t){return function(e){var t="";if(g>400){var a=(t=ee()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase(),c=e.getFullYear();t="".concat(n.formatMessage({id:a})," ").concat(c)}else t=ee()(e).format("M");return t}(e)},onPointClick:function(e,t){T(t.month),a(t.month)}})]})}),Object(m.jsx)("div",{className:"x-scroll",children:d.length>0?Object(m.jsx)("div",{className:"d-flex align-items-center pt-2 ps-3",children:d.map((function(e,t){return Object(m.jsxs)("div",{className:"chartWrapper",children:[Object(m.jsx)("div",{className:"text-center pt-10 pb-10",children:Object(m.jsx)("button",{className:"btn btn-sm btn-bni ".concat(String(S)===String(e.month)?"active":""),onClick:function(){T(e.month),a(e.month)},children:"".concat(n.formatMessage({id:e.month.split("-")[0].toLowerCase()})," ").concat(e.month.split("-")[1])})}),Object(m.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&Object(m.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(m.jsx)(x.a,{id:"expense"})}),Object(m.jsx)(X.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:L,height:220,width:220,legend:!1,data:e.cData,formatValues:function(e,t){return"".concat(J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,e,2))}})]}),Object(m.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&Object(m.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(m.jsx)(x.a,{id:"income"})}),Object(m.jsx)(X.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:L,height:220,width:220,legend:!1,data:e.creditData,formatValues:function(e,t){return"".concat(J.a.countryCurrencyLacSeperator(c.localeLanguage,c.localeCurrency,e,2))}})]})]},function(e){return"chart-".concat(e)}(t))}))}):Object(m.jsx)("div",{className:"py-3 text-center",children:Object(m.jsx)(x.a,{id:"noRecordsGenerated"})})})]})};be.defaultProps={chartData:[]};var je=Object(ne.c)(be),me=(a(637),Object(ne.c)((function(e){var t,a=Object(r.useContext)(oe),n=e.ccMonthYearSelected,c=e.ccDetails,i=e.data,o=e.onCcMonthYearSelected,l=e.intl,d=Object(r.useState)(0),u=Object(s.a)(d,2),b=u[0],j=u[1],f=Object(r.useState)([]),p=Object(s.a)(f,2),h=p[0],O=p[1],g=Object(r.useState)(!0),_=Object(s.a)(g,2),v=_[0],y=_[1],N=Object(r.useRef)(null),M=getComputedStyle(document.documentElement).getPropertyValue("--bs-danger"),D=getComputedStyle(document.documentElement).getPropertyValue("--bs-success"),w=getComputedStyle(document.documentElement).getPropertyValue("--bs-primary"),S=getComputedStyle(document.documentElement).getPropertyValue("--bs-warning"),T=Object(r.useState)({}),C=Object(s.a)(T,2),k=C[0],P=C[1];Object(r.useEffect)((function(){var e=n.split("-"),t=Object(s.a)(e,2),a=t[0],r=t[1],i=J.a.strToNumMonth[a],o=Number(c.credit_card_start_date),l=Number(c.credit_card_end_date),d=new Date("".concat(Number(r),"-").concat(Number(i),"-").concat(l).replace(/-/g,"/")),u="".concat(d.getFullYear(),"-").concat(J.a.leadingZeros(d.getMonth()+1),"-").concat(J.a.leadingZeros(d.getDate())),b=d.setTime(d.getTime()-2592e6);b=new Date(b),b=new Date(b.setDate(o));var m="".concat(b.getFullYear(),"-").concat(J.a.leadingZeros(b.getMonth()+1),"-").concat(J.a.leadingZeros(b.getDate())),f=Number(c.credit_card_payment_date);f=f<10?"0".concat(f):f,f=new Date("".concat(f,"-").concat(n));var p=[(f=J.a.addMonths(f,1)).getFullYear(),f.getMonth()+1,f.getDate()],h=p[0],O=p[1],g=p[2];O=O<10?"0".concat(O):O,g=g<10?"0".concat(g):g,f="".concat(h,"-").concat(O,"-").concat(g),P({sDateStr:m,eDateStr:u,payDate:f}),j(N.current.clientWidth)}),[]);var E=function(e){return ie.a.flatten(i.map((function(t,a){return t.cData.filter((function(t){return t.label.includes(e)})).map((function(e,a){return{x:ee()(t.month.replace(/-/g," 01, ")).format("YYYY-MM-DD"),y:Number(e.value.toFixed(2)),month:t.month}}))})))},A=function(e){var t=E(e).reduce((function(e,t){return e+Number(t.y.toFixed(2))}),0);return t=J.a.countryCurrencyLacSeperator(a.localeLanguage,a.localeCurrency,t,2)};Object(r.useEffect)((function(){var e=[{color:M,points:E("Taxes & Interest")},{color:D,points:E("Purchases")},{color:w,points:E("Paid")},{color:S,points:E("Opening Balance")}];O([]),setTimeout((function(){var t,a;O(e),null!==(t=N.current)&&void 0!==t&&null!==(a=t.childNodes[2])&&void 0!==a&&a.childNodes[0]&&(N.current.childNodes[2].childNodes[0].style.height=260)}),100)}),[i,l]);var L=function(e){var t="";if(b>400){var a=(t=ee()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase();t=l.formatMessage({id:a})}else t=ee()(e).format("M");return t};return Object(m.jsxs)("div",{ref:N,className:"position-relative",children:[Object(m.jsx)("i",{className:"fa fa-".concat(v?"minus":"plus","-circle roundedButton"),onClick:function(){return y(!v)},style:v?{}:{position:"absolute",top:"15px"}}),v&&h.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"row rounded",children:[Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly align-items-center",children:[Object(m.jsxs)("span",{children:[Object(m.jsx)(x.a,{id:"year"})," ",null===(t=i[0])||void 0===t?void 0:t.month.split("-")[1]]}),Object(m.jsx)("i",{className:"fa fa-circle text-warning me-1",title:l.formatMessage({id:"openingBalance"})}),Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"openingBalance"})})]}),Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly align-items-center",children:[Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"purchases"})}),Object(m.jsx)("i",{className:"fa fa-circle text-success",title:l.formatMessage({id:"purchases"})}),Object(m.jsx)("span",{children:"".concat(A("Purchases"))})]}),Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly align-items-center",children:[Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"payments"})}),Object(m.jsx)("i",{className:"fa fa-circle text-primary",title:l.formatMessage({id:"payments"})}),Object(m.jsx)("span",{children:"".concat(A("Paid"))})]}),Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly align-items-center",children:[Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"taxesAndInterest"})}),Object(m.jsx)("i",{className:"fa fa-circle text-danger",title:l.formatMessage({id:"taxesAndInterest"})}),Object(m.jsx)("span",{children:"".concat(A("Taxes & Interest"))})]})]}),Object(m.jsx)(ae.a,{data:h,id:"credit-card-usage-1",margins:{top:50,right:b>400?80:30,bottom:50,left:80},width:b,isDate:!0,height:250,xLabel:l.formatMessage({id:"month"}),yLabel:l.formatMessage({id:"transaction"}),onPointHover:function(e){return J.a.countryCurrencyLacSeperator(a.localeLanguage,a.localeCurrency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:i.length,xDisplay:function(e,t){return L(e)},onPointClick:function(e,t){return o(t.month)}}),n&&k&&c&&k.payDate&&Object(m.jsx)("div",{className:"pt-4",children:Object(m.jsxs)("div",{className:"row mt-10",children:[Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly",children:[Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"month"})}),Object(m.jsx)("span",{children:L(new Date(n))})]}),Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly",children:[Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"cardNumber"})}),Object(m.jsx)("span",{children:c.credit_card_number})]}),Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly align-items-center",children:[Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"cycle"})}),Object(m.jsx)("span",{children:k.sDateStr}),Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"to"})}),Object(m.jsx)("span",{children:k.eDateStr})]}),Object(m.jsxs)("div",{className:"col-md-3 small d-flex justify-content-evenly",children:[Object(m.jsx)("span",{children:Object(m.jsx)(x.a,{id:"payDate"})}),Object(m.jsx)("span",{children:k.payDate})]})]})})]})]})}))),fe=function(e){var t=e.ccChartData,a=e.onCcMonthYearSelected,n=e.ccDetails,c=e.ccYearSelected,i=e.ccMonthYearSelected,o=Object(r.useState)([]),l=Object(s.a)(o,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){if(t.length>0){var e=Array.from({length:12},(function(e,t){return++t})).map((function(e){var a=J.a.addMonths(new Date("".concat(c-1,"-11-").concat(n.credit_card_start_date)),e),s=J.a.addMonths(new Date("".concat(c-1,"-12-").concat(n.credit_card_end_date)),e);return t.filter((function(e){var t=new Date(e.month);return t>=a&&t<=s})).reduce((function(t,a){var n=new Date(c,e-1,1);return{month:J.a.dateToMonthYear(n),cData:[{label:"Opening Balance",value:t.cData[0].value+Number(a.ob)},{label:"Paid",value:t.cData[1].value+Number(a.paid)},{label:"Purchases",value:t.cData[2].value+Number(a.purchases)},{label:"Taxes & Interest",value:t.cData[3].value+Number(a.taxesInterest)},{label:"Balance",value:t.cData[4].value+Number(a.balance)}]}}),{cData:[{label:"Opening Balance",value:0},{label:"Paid",value:0},{label:"Purchases",value:0},{label:"Taxes & Interest",value:0},{label:"Balance",value:0}]})})).filter((function(e){return e.month})).reverse();u(e)}}),[t,n,c,a]),Object(m.jsx)("div",{children:Object(m.jsx)(me,{data:d,onCcMonthYearSelected:a,ccMonthYearSelected:i,ccDetails:n})})};fe.defaultProps={property:"String name"};var pe=fe,he=[{id:"bankAccounts",Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_ifsc_code","bank_card_no","bank_card_validity","isPrimaryAccount","bank_locale","bank_currency"],defaultValues:[{isPrimaryAccount:"0"}]},{id:"creditCardAccounts",Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date","credit_card_annual_interest","credit_card_locale","credit_card_currency"],defaultValues:[{credit_card_annual_interest:"48"}]},{id:"incExpCat",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name"]},{id:"incExpTemp",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type","temp_inc_exp_date"],defaultValues:[{temp_inc_exp_date:"1"},{temp_inc_exp_type:"Dr"}]}],Oe=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:[],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:ee()(new Date).format("YYYY-MM-DD")}],rowKeyUp:"",rowElements:["checkbox","textbox","number","number",null,"date",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],ge=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_transaction_status","cc_comments"],TableAliasRows:[],showTotal:["cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance"],rowKeyUp:"cc_expected_balance=((Number(row.cc_opening_balance) - Number(row.cc_payment_credits)) + (Number(row.cc_purchases) + Number(row.cc_taxes_interest))).toFixed(2)",rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},{fetch:{dropDownList:[{checked:!1,id:"1",value:"Settled"},{checked:!1,id:"0",value:"Pending"},{checked:!1,id:"2",value:"Part payment"}]}},"textbox"],defaultValues:[{cc_date:ee()().format("YYYY-MM-DD")},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0},{cc_transaction_status:"0"}],showTooltipFor:["cc_transaction","cc_comments"]}],xe=a(145),_e=a(875),ve=a(883),ye=a(360),Ne=(a(666),a(884)),Me=a(473),De=["monthYearSelected","bankSelected","selectedPlan"],we=function(e){var t=Object(Me.a)(),a=e.monthYearSelected,n=e.bankSelected,c=e.selectedPlan,i=Object(d.a)(e,De),o=Object(r.useContext)(f),u=Object(r.useContext)(oe),b=Object(r.useState)([]),j=Object(s.a)(b,2),p=j[0],h=j[1],O=Object(r.useState)(!0),g=Object(s.a)(O,2),_=g[0],v=g[1];Object(r.useEffect)((function(){v(!0);var e=y();Promise.all([e]).then((function(e){var t=e[0];h(t),v(!1)}))}),[a,n,c]);var y=function(){var e=new FormData;return e.append("startDate",c.startDate),e.append("endDate",c.endDate),e.append("bankSelected",n),e.append("criteria",c.criteria),se.a.post("/account_planner/getPlanDetails",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))},N=function(e){var t=e.reduce((function(e,t){return e+t}),0);return J.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,t,2)},M=[],D=[],w=[];return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},i),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{closeButton:!0,children:Object(m.jsxs)(Ne.a.Title,{children:[t.formatMessage({id:a.split("-")[0].toLowerCase()})," ",a.split("-")[1]," ",Object(m.jsx)("i",{className:"fa fa-angle-double-right"})," ",c.label]})}),Object(m.jsx)(Ne.a.Body,{className:"rounded-bottom ".concat("dark"===o.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(m.jsx)("div",{className:"table-responsive p-10",children:_?Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsx)("table",{className:"table ".concat("dark"===o.userData.theme?"text-white":"text-dark"),children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"expense"})}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"committed"})}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"plan"})}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"difference"})})]}),p&&p.length>0?p.map((function(e,t){var a,n,c=(a=e.inc_exp_plan_amount,n=e.inc_exp_amount,Number(a)-Number(n));return M.push(Number(e.inc_exp_amount)),D.push(Number(e.inc_exp_plan_amount)),w.push(Number(e.inc_exp_plan_amount)-Number(e.inc_exp_amount)),Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{children:[t+1,"."]}),Object(m.jsx)("td",{children:e.inc_exp_name}),Object(m.jsx)("td",{children:e.inc_exp_amount}),Object(m.jsx)("td",{children:e.inc_exp_plan_amount}),Object(m.jsx)("td",{className:"text-".concat(c>=0?"success":"danger"),children:c>=0?"+".concat(J.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,c,2)):"(".concat(J.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,c,2),")")})]},t)})):Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:"text-center py-3",colSpan:"5",children:Object(m.jsx)(x.a,{id:"noRecordsGenerated"})})}),p&&p.length>0&&Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)(x.a,{id:"total"})}),Object(m.jsx)("td",{}),Object(m.jsx)("td",{children:N(M)}),Object(m.jsx)("td",{children:N(D)}),Object(m.jsx)("td",{children:N(w)})]})]})})})})]}))};we.defaultProps={property:"String name"};var Se=we,Te=["totals"],Ce=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(f),n=Object(r.useContext)(oe),c=e.totals,i=Object(d.a)(e,Te),o=Object(r.useState)(0),u=Object(s.a)(o,2),b=u[0],j=u[1],p=Object(r.useState)(0),h=Object(s.a)(p,2),O=h[0],g=h[1],_=Object(r.useState)(0),v=Object(s.a)(_,2),y=v[0],N=v[1],M=Object(r.useState)(0),D=Object(s.a)(M,2),w=D[0],S=D[1],T=Object(r.useState)(0),C=Object(s.a)(T,2),k=C[0],P=C[1],E=Object(r.useState)(0),A=Object(s.a)(E,2),L=A[0],I=A[1];Object(r.useEffect)((function(){if(c.length>0){var e=c.length>0&&c.filter((function(e){return"danger"===e.flagString&&e.amount>0}));e=(e=e.length>0?e[0].amount:0).toFixed(2),e=Number(e),j(e)}}),[c]),Object(r.useEffect)((function(){var e=b-O-y-w;e=Math.round(100*e)/100,P(e=-0===e?0:e);var t=(Number(b)-e)/b;t=(t*=100)>100?100:t,t=isNaN(t)?100:t,I(t)}),[b,O,y,w]);var R=function(e){return{label:0===e?t.formatMessage({id:"solved"}):e>0?t.formatMessage({id:"behind"}):t.formatMessage({id:"ahead"}),class:0===e?"text-success":e>0?"text-danger":"text-primary"}};return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},i),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{closeButton:!0,children:Object(m.jsx)(Ne.a.Title,{children:Object(m.jsx)(x.a,{id:"tally"})})}),Object(m.jsx)(Ne.a.Body,{className:"rounded-bottom ".concat("dark"===a.userData.theme?"bg-dark":"bg-white"),children:Object(m.jsxs)("div",{className:"tallyModal text-dark",children:[Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"appplicationBalance",value:b,onChange:function(e){return j(Number(e.target.value))},placeholder:t.formatMessage({id:"balance"}),type:"number",className:"form-control"}),Object(m.jsx)("label",{htmlFor:"appplicationBalance",children:Object(m.jsx)(x.a,{id:"balance"})})]}),Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"bankBalance",onChange:function(e){return g(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"bank"})," ").concat(t.formatMessage({id:"balance"}))}),Object(m.jsxs)("label",{htmlFor:"bankBalance",children:[Object(m.jsx)(x.a,{id:"bank"})," ",Object(m.jsx)(x.a,{id:"balance"})]})]}),Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"unAccounted",onChange:function(e){return N(Number(e.target.value))},type:"number",className:"form-control",placeholder:t.formatMessage({id:"unaccounted"})}),Object(m.jsx)("label",{htmlFor:"unAccounted",children:Object(m.jsx)(x.a,{id:"unaccounted"})})]}),Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"walletBalance",onChange:function(e){return S(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"wallet"})," ").concat(t.formatMessage({id:"balance"}))}),Object(m.jsxs)("label",{htmlFor:"walletBalance",children:[Object(m.jsx)(x.a,{id:"wallet"})," ",Object(m.jsx)(x.a,{id:"balance"})]})]}),Object(m.jsxs)("div",{className:"py-2",children:[Object(m.jsx)("div",{className:"text-center p-10",children:Object(m.jsxs)("h5",{className:R(k).class,children:[R(k).label,"\xa0",Object(m.jsx)("i",{className:"fa ".concat(100===L?"fa-check":"fa-times-circle")})]})}),Object(m.jsx)("div",{className:"text-center ".concat(R(k).class),children:J.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,k,2)})]}),Object(m.jsx)("div",{className:"custom-progress-bar ".concat(L<100?"danger":"success"),style:{width:"".concat(L,"%")}})]})})]}))};Ce.defaultProps={property:"String name"};var ke=Ce,Pe=["srcArr","incExpList"],Ee=function(e){var t=e.srcArr,a=e.incExpList,n=Object(d.a)(e,Pe),c=Object(r.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],b=Object(r.useState)([]),j=Object(s.a)(b,2),p=j[0],h=j[1],O=Object(Me.a)(),g=Object(r.useContext)(f),_=Object(r.useState)({amount:"",source:"",dest:"",description:O.formatMessage({id:"fundTransfer"}),category:"",availableFunds:0}),v=Object(s.a)(_,2),y=v[0],N=v[1];Object(r.useEffect)((function(){t&&t.length>0&&u(t)}),[t]);Object(r.useEffect)((function(){var e=new FormData;e.append("id",y.source),se.a.post("/account_planner/getFundDetails",e).then((function(e){N((function(t){return Object(l.a)(Object(l.a)({},t),{},{availableFunds:e.data.response[0].availableFunds})}))})).catch((function(e){console.log("bbb",e)}))}),[y.source]);return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},n),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{closeButton:!0,children:Object(m.jsx)(Ne.a.Title,{children:Object(m.jsx)(x.a,{id:"fundTransfer"})})}),Object(m.jsx)(Ne.a.Body,{className:"p-0 rounded-bottom ".concat("dark"===g.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(m.jsxs)("div",{className:"row m-0",children:[Object(m.jsxs)("div",{className:"col-5 pt-3",children:[Object(m.jsxs)("div",{className:"py-3 text-center",children:[Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(m.jsx)("small",{children:Object(m.jsx)(x.a,{id:"sourceBank"})})]}),Object(m.jsxs)("div",{className:"form-floating mt-1",children:[Object(m.jsxs)("select",{id:"source",className:"form-control",value:y.source,onChange:function(e){!function(e){var t=Object(Z.a)(o).filter((function(t){return t.id!==e}));h(t),N((function(t){return Object(l.a)(Object(l.a)({},t),{},{source:e,dest:"",amount:"",category:""})}))}(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"--"}),o.length&&o.map((function(e,t){return Object(m.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(m.jsx)("label",{htmlFor:"source",className:"text-dark",children:Object(m.jsx)(x.a,{id:"selectSourceAccount"})}),Number(y.availableFunds)>0&&Object(m.jsxs)("small",{className:"text-danger",children:[Object(m.jsx)(x.a,{id:"balance"}),":",Number(y.availableFunds).toLocaleString()]})]})]}),Object(m.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-center",children:Object(m.jsx)("i",{className:"fa fa-arrow-circle-right fa-3x"})}),Object(m.jsxs)("div",{className:"col-5 pt-3",children:[Object(m.jsxs)("div",{className:"py-3 text-center",children:[Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(m.jsx)("small",{children:Object(m.jsx)(x.a,{id:"destinationBank"})})]}),Object(m.jsxs)("div",{className:"form-floating mt-1",children:[Object(m.jsxs)("select",{id:"dest",className:"form-control",value:y.dest,onChange:function(e){return N((function(t){return Object(l.a)(Object(l.a)({},t),{},{dest:e.target.value})}))},children:[Object(m.jsx)("option",{value:"",children:"--"}),p.length&&p.map((function(e,t){return Object(m.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(m.jsx)("label",{htmlFor:"dest",className:"text-dark",children:Object(m.jsx)(x.a,{id:"selectDestinationAccount"})})]})]}),Object(m.jsx)("div",{className:"col-6 pt-3",children:Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{id:"amount",value:y.amount,onChange:function(e){return N((function(t){return Object(l.a)(Object(l.a)({},t),{},{amount:e.target.value})}))},placeholder:O.formatMessage({id:"amount"}),type:"number",className:"form-control form-control-sm"}),Object(m.jsx)("label",{htmlFor:"amount",className:"text-dark",children:Object(m.jsx)(x.a,{id:"amount"})})]})}),Object(m.jsx)("div",{className:"col-6 pt-3",children:Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsxs)("select",{id:"cat",className:"form-control",value:y.category,onChange:function(e){return N((function(t){return Object(l.a)(Object(l.a)({},t),{},{category:e.target.value})}))},children:[Object(m.jsx)("option",{value:"",children:"--"}),a.length&&a.map((function(e,t){return Object(m.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(m.jsx)("label",{htmlFor:"cat",className:"text-dark",children:Object(m.jsx)(x.a,{id:"category"})})]})}),Object(m.jsx)("div",{className:"col-12 py-3",children:Object(m.jsx)("button",{disabled:!(y.dest&&y.amount&&y.source&&y.category),className:"btn btn-bni w-100",onClick:function(){return function(){var e=new FormData;e.append("amount",y.amount),e.append("source",y.source),e.append("dest",y.dest),e.append("description","".concat(y.description,": ").concat(o.filter((function(e){return e.id===y.source}))[0].value," -> ").concat(o.filter((function(e){return e.id===y.dest}))[0].value)),e.append("category",y.category),e.append("date",ee()(new Date).format("YYYY-MM-DD")),e.append("dateTime",ee()(new Date).format("YYYY-MM-DD HH:mm:ss")),se.a.post("/account_planner/postFundTransfer",e).then((function(e){var t=e.data;e&&t&&t.response?(g.renderToast({message:O.formatMessage({id:"fundTransferSuccess"})}),N((function(e){return Object(l.a)(Object(l.a)({},e),{},{source:"",dest:"",amount:"",category:"",description:O.formatMessage({id:"fundTransfer"})})}))):g.renderToast({type:"error",icon:"fa fa-times-circle",message:O.formatMessage({id:"fundTransferFail"})})})).catch((function(e){g.renderToast({type:"error",icon:"fa fa-times-circle",message:O.formatMessage({id:"unableToReachServer"})})}))}()},children:Object(m.jsx)(x.a,{id:"submit"})})})]})})]}))};Ee.defaultProps={property:"String name"};var Ae=Ee,Le=a(182),Ie=["monthYearSelected","bankSelected","intl"],Re=function(e,t){var a=Object(r.useContext)(Ft),i=e.monthYearSelected,o=e.bankSelected,u=e.intl,b=Object(d.a)(e,Ie),j=Object(r.useState)([]),f=Object(s.a)(j,2),p=f[0],h=f[1],O=Object(r.useState)([]),g=Object(s.a)(O,2),x=g[0],_=g[1],v=Object(r.useState)([]),y=Object(s.a)(v,2),N=y[0],M=y[1],D=Object(r.useState)([]),w=Object(s.a)(D,2),S=w[0],T=w[1],C=Object(r.useState)(!1),k=Object(s.a)(C,2),P=k[0],E=k[1],A=Object(r.useState)(!1),L=Object(s.a)(A,2),I=L[0],R=L[1],B=Object(r.useState)(!1),Y=Object(s.a)(B,2),F=Y[0],U=Y[1],K=Object(r.useState)({}),W=Object(s.a)(K,2),q=W[0],V=W[1],H=Object(r.useState)({}),z=Object(s.a)(H,2),$=z[0],X=z[1],Q=J.a.getNow(),ee=function(){M([]);var e=i.split("-"),t=Object(s.a)(e,2),a=t[0],r=t[1],l=J.a.strToNumMonth[a],d=new Date(r,l,0).getDate(),b='inc_exp_date between "'.concat(r,"-").concat(l,'-01" and "').concat(r,"-").concat(l,"-").concat(d,'" and inc_exp_bank = ').concat(o),j=ce(b),m=ne("/account_planner/inc_exp_list"),f=ne("/account_planner/bank_list"),p=te(o);Promise.all([j,m,f,p]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(t[3].data.response[0]),h([]),M(t[0].data.response),Oe[0].rowElements[6]=t[1],Oe[0].rowElements[7]=t[2],Oe[0].rowElements[4]={radio:{radioList:[{label:u.formatMessage({id:"credit"}),value:"Cr",checked:!1},{label:u.formatMessage({id:"debit"}),value:"Dr",checked:!0}]}};case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},te=function(e){var t=new FormData;return t.append("bank",e),se.a.post("/account_planner/getBankDetails",t)};Object(r.useEffect)((function(){oe(N)}),[u]),Object(r.useEffect)((function(){ee()}),[i,o]);var ae=function(){ee()};Object(r.useEffect)((function(){oe(N)}),[N]);var ne=function(e){return se.a.get(e).then((function(e){return{fetch:{dropDownList:Object(Z.a)(e.data.response)}}})).catch((function(e){console.log(e)}))},ce=function(e){var t=new FormData;return t.append("TableRows",Oe[0].TableRows),t.append("Table",Oe[0].Table),e&&t.append("WhereClause",e),se.a.post("/account_planner/getAccountPlanner",t)},re=function(e,t){return Object(m.jsx)(_e.a,Object(l.a)(Object(l.a)({id:"button-tooltip-1",className:"in show"},b),{},{children:t}))},ie=function(){var e=se.a.get("/account_planner/getIncExpTemplate").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e]).then((function(e){var t=e[0].map((function(e){var t=e.temp_inc_exp_name,a=e.temp_amount,n=e.temp_inc_exp_type,c=e.temp_inc_exp_date;return{inc_exp_id:"",inc_exp_name:t,inc_exp_amount:0,inc_exp_plan_amount:a,inc_exp_type:n,inc_exp_date:J.a.getNextMonthDate(c),inc_exp_category:"",inc_exp_bank:"",inc_exp_comments:""}}));h(t)}))},oe=function(e){var t=e.map((function(e){return e.inc_exp_plan_amount=Number(e.inc_exp_plan_amount),e.inc_exp_amount=Number(e.inc_exp_amount),e})).reduce((function(e,t){"Cr"===t.inc_exp_type&&(e.incomeTotal+=t.inc_exp_amount),"Dr"===t.inc_exp_type&&(e.expenseTotal+=t.inc_exp_amount,e.planTotal+=t.inc_exp_plan_amount);var a=t.inc_exp_plan_amount/t.inc_exp_amount;a=Number((100*(a===1/0||isNaN(a)?0:a)).toFixed(2)),e.totalPlans.push(a);var n=Object(l.a)({percent:a},t);return 0===a&&e.noPlans.push(n),100===a&&e.achievedPlans.push(n),a>100&&e.goodPlans.push(n),a<100&&a>0&&e.badPlans.push(n),e}),{planTotal:0,expenseTotal:0,incomeTotal:0,totalPlans:[],goodPlans:[],badPlans:[],noPlans:[],achievedPlans:[]}),a=[{amount:t.incomeTotal,label:u.formatMessage({id:"income"}),flagString:"success"},{amount:t.expenseTotal,label:u.formatMessage({id:"expense"}),flagString:"info"},{amount:t.incomeTotal-t.expenseTotal,label:u.formatMessage({id:"balance"}),flagString:"danger"},{amount:t.planTotal,label:u.formatMessage({id:"planning"}),flagString:"warning"}];T(a);var n=[{key:"goodPlans",flagString:"success",planString:u.formatMessage({id:"goodPlans"}),planArray:t.goodPlans},{key:"achievedPlans",flagString:"info",planString:u.formatMessage({id:"achievedPlans"}),planArray:t.achievedPlans},{key:"badPlans",flagString:"danger",planString:u.formatMessage({id:"badPlans"}),planArray:t.badPlans},{key:"noPlans",flagString:"warning",planString:u.formatMessage({id:"noPlans"}),planArray:t.noPlans}];_(n)},le=Oe.map((function(e){var t={header:{searchPlaceholder:u.formatMessage({id:"searchHere"})},footer:{total:{title:u.formatMessage({id:"total"}),locale:$.bank_locale,currency:$.bank_currency,maxDecimal:2,doubleEntryBalanceStrings:{zero:u.formatMessage({id:"solved"}),plus:u.formatMessage({id:"ahead"}),minus:u.formatMessage({id:"balance"})}},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}};return e.config=t,e.TableAliasRows=["id","transaction","amount","plan","type","date","category","bank","comments"].map((function(e){return u.formatMessage({id:e})})),e.showTotal=[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"credit",value:"Cr"},{key:"debit",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"credit",value:"Cr"},{key:"debit",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}}],e})),de=function(e){return e.reduce((function(e,t){return e+(t.inc_exp_plan_amount-t.inc_exp_amount)}),0)};return Object(m.jsxs)("div",{className:"settings",children:[P&&Object(m.jsx)(Se,{className:"planInfoModal",show:P,onHide:function(){return E(!1)},size:"lg",animation:!1,monthYearSelected:i,bankSelected:o,selectedPlan:q}),I&&Object(m.jsx)(ke,{className:"planInfoModal",show:I,onHide:function(){return R(!1)},size:"sm",totals:S,animation:!1}),F&&Oe[0].rowElements[7].fetch.dropDownList.length>0&&Object(m.jsx)(Ae,{className:"",show:F,onHide:function(){return U(!1)},size:"lg",animation:!1,srcArr:Oe[0].rowElements[7].fetch.dropDownList,incExpList:Oe[0].rowElements[6].fetch.dropDownList,centered:!0}),Object(m.jsx)("div",{className:"",children:i&&o&&N.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"buttonGrid",children:i&&N&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h6",{children:"".concat(u.formatMessage({id:i.split("-")[0].toLowerCase()})," ").concat(i.split("-")[1])}),Object(m.jsxs)("div",{className:"d-flex flex-row-reverse",children:[Object(m.jsx)("div",{children:Object(m.jsx)(ve.a,{placement:"left",delay:{show:250,hide:400},overlay:re(0,u.formatMessage({id:"fundTransfer"})),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-arrows-h roundedButton pull-right",onClick:function(){return U(!0)}})})}),Object(m.jsx)("div",{children:Object(m.jsx)(ve.a,{placement:"top",delay:{show:250,hide:400},overlay:re(0,u.formatMessage({id:"cloneFromTemplate"})),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return ie()},className:"fa fa-copy roundedButton pull-right"})})}),Object(m.jsx)("div",{children:Object(m.jsx)(ve.a,{placement:"top",delay:{show:250,hide:400},overlay:re(0,u.formatMessage({id:"exportToValue"},{value:"PDF"})),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return function(){var e=N.map((function(e,t){return[t+1,e.inc_exp_name,e.inc_exp_amount,e.inc_exp_plan_amount,e.inc_exp_type,e.inc_exp_date,e.inc_exp_comments]})),t=new ye.default;t.text("".concat(J.a.stringToCapitalize(Oe[0].Table)," (").concat(i,")"),15,10),t.autoTable({styles:{overflow:"linebreak"},theme:"grid",head:[["#","Transaction","Amount","Planned","Type","Date","Comments"]],body:Object(Z.a)(e)});var a=S.map((function(e){return J.a.lacSeperator(e.amount)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Income","Expense","Balance","Planning"]],body:[a]});var n=x.map((function(e){return J.a.lacSeperator(de(e.planArray))}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Good Plans","Achieved Plans","Bad Plans","No Plans"]],body:[n]}),t.save("".concat(Oe[0].Table,"-").concat(Q))}()},className:"fa fa-file-pdf-o roundedButton pull-right"})})}),Object(m.jsx)(Le.a,{datas:J.a.stripCommasInCSV(N),filename:"Income-Expense-".concat(Q,".csv"),columns:[{displayName:"Transaction",id:"inc_exp_name"},{displayName:"Date",id:"inc_exp_date"},{displayName:"Type",id:"inc_exp_type"},{displayName:"Amount",id:"inc_exp_amount"}],children:Object(m.jsx)(ve.a,{placement:"top",delay:{show:250,hide:400},overlay:re(0,u.formatMessage({id:"exportToValue"},{value:"CSV"})),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-file-excel-o roundedButton pull-right"})})}),Object(m.jsx)("div",{children:Object(m.jsx)(ve.a,{placement:"top",delay:{show:250,hide:400},overlay:re(0,u.formatMessage({id:"tally"})),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return R(!0)},className:"fa fa-text-width roundedButton pull-right"})})})]})]})}),le.sort((function(e,t){return e.id>t.id})).map((function(e,t){return Object(m.jsx)(xe.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,dbData:N,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,n=e.data;t?e&&n&&n.response?a.renderToast({message:u.formatMessage({id:"transactionSavedSuccessfully"})}):a.renderToast({type:"error",icon:"fa fa-times-circle",message:u.formatMessage({id:"noFormChangeFound"})}):a.renderToast({type:"error",icon:"fa fa-times-circle",message:u.formatMessage({id:"unableToReachServer"})})}(e)},insertCloneData:p,showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onTableUpdate:function(e){oe(e)},onReFetchData:ae,cellWidth:"12rem",ajaxButtonName:u.formatMessage({id:"submit"})},t)})),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"row",children:S.map((function(e){return Object(m.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"p-6 text-center",children:Object(m.jsx)("h5",{children:e.label})})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"text-center text-".concat(e.flagString),children:J.a.countryCurrencyLacSeperator($.bank_locale,$.bank_currency,e.amount,2)})})]})},e.label)}))}),Object(m.jsx)("div",{className:"row",children:x.map((function(e){return Object(m.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"p-6 text-center",children:Object(m.jsxs)("h5",{children:[e.planString,Object(m.jsx)("sup",{className:"superScript text-".concat(e.flagString),children:e.planArray.length})]})})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"text-center text-".concat(e.flagString),children:Object(m.jsx)("button",{onClick:function(){return function(e){var t=i.split("-"),a=Object(s.a)(t,2),n=a[0],c=a[1],r=J.a.strToNumMonth[n],d=new Date(c,r,0).getDate(),b={startDate:"".concat(c,"-").concat(r,"-01"),endDate:"".concat(c,"-").concat(r,"-").concat(d),bankSelected:o};switch(e){case"goodPlans":b=Object(l.a)(Object(l.a)({},b),{},{label:u.formatMessage({id:"goodPlans"}),criteria:"G100"});break;case"achievedPlans":b=Object(l.a)(Object(l.a)({},b),{},{label:u.formatMessage({id:"achievedPlans"}),criteria:"E100"});break;case"badPlans":b=Object(l.a)(Object(l.a)({},b),{},{label:u.formatMessage({id:"badPlans"}),criteria:"0TO100"});break;case"noPlans":b=Object(l.a)(Object(l.a)({},b),{},{label:u.formatMessage({id:"noPlans"}),criteria:"E0"})}E(!0),V(b)}(e.key)},className:"btn btn-sm btn-".concat(e.flagString),children:J.a.countryCurrencyLacSeperator($.bank_locale,$.bank_currency,de(e.planArray),2)})})})]})},e.key)}))})]})]}):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})})]})};Re.defaultProps={property:"String name"};var Be=Object(ne.c)(Re),Ye=a(880),Fe=function(e){var t=e.bankList,a=e.onSelectBank,n=e.title,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){t.length>0&&l(t[0].value)}),[t]),Object(m.jsxs)(Ye.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(Ye.a.Toggle,{className:"btn btn-bni",children:[o," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(Ye.a.Menu,{children:t.map((function(e,t){return Object(m.jsx)(Ye.a.Item,{onClick:function(t){l(e.value),a(e.id)},children:e.value},t)}))})]})};Fe.defaultProps={property:"String name"};var Ue=Fe,Ke=function(e){var t=e.yearList,a=e.onSelectYear,n=e.title,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){t.length>0&&l(t[0].value)}),[t]),Object(m.jsxs)(Ye.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(Ye.a.Toggle,{className:"btn btn-bni",children:[o," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(Ye.a.Menu,{children:t.map((function(e,t){return Object(m.jsx)(Ye.a.Item,{onClick:function(){l(e.id),a(e.id)},children:e.value},t)}))})]})};Ke.defaultProps={property:"String name"};var We=Ke,qe=function(e){var t=e.ccYearList,a=e.onSelectCcYear,n=e.title,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){t.length>0&&l(t[0].value)}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(Ye.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(Ye.a.Toggle,{className:"btn btn-bni",children:[o," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(Ye.a.Menu,{children:t&&t.length>0&&t.map((function(e,t){return Object(m.jsx)(Ye.a.Item,{onClick:function(){l(e.id),a(e.id)},children:e.value},t)}))})]})})};qe.defaultProps={title:"Title"};var Ve=qe,He=function(e){var t=e.ccBankList,a=e.onSelectCcBank,n=e.title,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){t.length>0&&l(t[0].value)}),[t]),Object(m.jsxs)(Ye.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(Ye.a.Toggle,{className:"btn btn-bni",children:[o," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(Ye.a.Menu,{children:t.map((function(e,t){return Object(m.jsx)(Ye.a.Item,{onClick:function(t){l(e.value),a(e.id)},children:e.value},t)}))})]})};He.defaultProps={title:"Title"};var ze=He,Ge=a(365),Je=a(886),Ze=a(888),$e=function(e){var t=e.intl,a=Object(r.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],d=Object(r.useState)([]),u=Object(s.a)(d,2),b=u[0],j=u[1],p=Object(r.useState)(!0),h=Object(s.a)(p,2),O=h[0],g=h[1],x=Object(r.useContext)(f),_=Object(r.useContext)(oe),v=ie.a.uniqBy(_.localeList.map((function(e){return{id:e.currency,value:e.currency}})),"id").sort((function(e,t){return e.id<t.id?-1:1})),y=ie.a.uniqBy(_.localeList.map((function(e){return{id:e.language,value:e.language}})),"id").sort((function(e,t){return e.language<t.language?-1:1})),N={banks:[{bank_id:"",bank_name:"",bank_account_number:"",bank_ifsc_code:"",bank_card_no:"",bank_card_validity:"",isPrimaryAccount:"0",bank_locale:"",bank_currency:""}],credit_cards:[{credit_card_id:"",credit_card_name:"",credit_card_number:"",credit_card_start_date:"",credit_card_end_date:"",credit_card_payment_date:"",credit_card_annual_interest:"",credit_card_locale:"",credit_card_currency:""}],income_expense_category:[{inc_exp_cat_id:"",inc_exp_cat_name:""}],income_expense_template:[{template_id:"",temp_inc_exp_name:"",temp_amount:"",temp_inc_exp_type:"Dr",temp_inc_exp_date:"1"}]},M=function(e,t){var a=new FormData;return a.append("TableRows",t),a.append("Table",e),se.a.post("/account_planner/getAccountPlanner",a)},D=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j([]),a=M(t.Table,t.TableRows),Promise.all([a]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a[0].data.response.length>0?j(a[0].data.response):j(N[t.Table]),l(t.label);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={bankAccounts:["id","bank","accountNumber","ifscCode","cardNumber","validity","primaryAccount","localeLanguage","localeCurrency"],creditCardAccounts:["id","name","cardNumber","startDate","endDate","payDate","annuaInterestRate","localeLanguage","localeCurrency"],incExpCat:["id","name"],incExpTemp:["id","name","amount","type","date"]};Object(r.useEffect)((function(){g(!1),setTimeout((function(){g(!0)}),100)}),[t]);var S={bankAccounts:["checkbox","textbox","textbox","textbox","textbox","textbox",{radio:{radioList:[{label:t.formatMessage({id:"yes"}),value:"1",checked:!1},{label:t.formatMessage({id:"no"}),value:"0",checked:!0}]}},{fetch:{dropDownList:y}},{fetch:{dropDownList:v}}],creditCardAccounts:["checkbox","textbox","textbox","number","number","number","number",{fetch:{dropDownList:y}},{fetch:{dropDownList:v}}],incExpCat:["checkbox","textbox"],incExpTemp:["checkbox","textbox","number",{radio:{radioList:[{label:t.formatMessage({id:"credit"}),value:"Cr",checked:!1},{label:t.formatMessage({id:"debit"}),value:"Dr",checked:!0}]}},{fetch:{dropDownList:new Array(25).fill("_").map((function(e,t){return{checked:"1"===String(t+1),id:String(t+1),value:String(t+1)}}))}}]},T={bankAccounts:null,creditCardAccounts:null,incExpCat:null,incExpTemp:[{whichKey:"temp_amount",forKey:"temp_inc_exp_type",forCondition:"equals",forValue:[{key:"credit",value:"Cr"},{key:"debit",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!1}}]},C=he.map((function(e){var a={header:{searchPlaceholder:t.formatMessage({id:"searchHere"})},footer:{total:{locale:_.localeLanguage,currency:_.localeCurrency,maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}};return e.config=a,e.TableAliasRows=w[e.id].map((function(e){return t.formatMessage({id:e})})),e.rowElements=S[e.id],e.showTotal=T[e.id],e}));function k(e){var t=e.children,a=e.eventKey,n=e.object,c=Object(Ge.b)(a,(function(){return D(n)}));return Object(m.jsx)("button",{type:"button",className:"col-12 text-start btn ".concat("dark"===x.userData.theme?"btn-dark":"btn-white"),onClick:c,children:t})}return Object(m.jsx)("div",{className:"settings",children:Object(m.jsx)(Je.a,{bsPrefix:"util",defaultActiveKey:1,className:"",children:C.sort((function(e,t){return e.id-t.id})).map((function(e,a){return Object(m.jsxs)(Ze.a,{className:"my-2 ".concat("dark"===x.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[Object(m.jsx)(Ze.a.Header,{className:"row m-0",children:Object(m.jsx)(k,{eventKey:e.id,object:e,children:t.formatMessage({id:e.id})})}),Object(m.jsx)(Je.a.Collapse,{eventKey:e.id,children:Object(m.jsx)(Ze.a.Body,{children:e.label===o&&O?Object(m.jsxs)("div",{className:"pt-10",children:[Object(m.jsx)("div",{className:"text-end pb-2",children:b.length>0&&Object(m.jsx)(Le.a,{datas:J.a.stripCommasInCSV(b),filename:"".concat(e.id,".csv"),children:Object(m.jsx)(ve.a,{placement:"left",delay:{show:250,hide:400},overlay:(n=t.formatMessage({id:"download"}),Object(m.jsx)(_e.a,{id:"button-tooltip-".concat(Math.random()),className:"in show",children:n})),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-download roundedButton"})})})}),Object(m.jsx)(xe.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,showTotal:e.showTotal,rowElements:e.rowElements,defaultValues:e.defaultValues,dbData:b,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var a=e.status,n=e.data;a?e&&n&&n.response?x.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully"})}):x.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound"})}):x.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})}(e)},onReFetchData:function(){return D(e)},cellWidth:"12rem",ajaxButtonName:t.formatMessage({id:"submit"})},a)]}):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})})})]},e.id);var n}))})})};$e.defaultProps={property:"String name"};var Xe=Object(ne.c)($e),Qe=function(e){var t=Object(Me.a)(),a=e.onImport,n=Object(r.useContext)(f),c=Object(r.useState)([]),o=Object(s.a)(c,2),d=o[0],u=o[1],b=Object(r.useState)([]),j=Object(s.a)(b,2),p=j[0],h=j[1],O=Object(r.useState)(-1),g=Object(s.a)(O,2),_=g[0],v=g[1],y=Object(r.useState)(-1),N=Object(s.a)(y,2),M=N[0],D=N[1],w=Object(r.useState)(-1),S=Object(s.a)(w,2),T=S[0],C=S[1],k=Object(r.useState)(" "),P=Object(s.a)(k,2),E=P[0],A=P[1],L=[{label:t.formatMessage({id:"transaction"}),type:"text",key:"cc_transaction"},{label:t.formatMessage({id:"date"}),type:"dated",key:"cc_date"},{label:t.formatMessage({id:"openingBalance"}),type:"number",key:"cc_opening_balance"},{label:t.formatMessage({id:"credits"}),type:"number",key:"cc_payment_credits"},{label:t.formatMessage({id:"purchases"}),type:"number",key:"cc_purchases"},{label:t.formatMessage({id:"interest"}),type:"number",key:"cc_taxes_interest"}],I=Object(r.useRef)(null),R="{--#newLine#--}";Object(r.useEffect)((function(){if(_>-1&&M>-1&&T>-1&&_!==M){var e=Object(Z.a)(d);e=e.map((function(e,t){return t===T&&e.length>1&&(e[_]=e[_]&&e[M]&&[].concat(Object(Z.a)(e[_]),Object(Z.a)(e[M])).join(""),e[M]=e[M]&&null),e})).map((function(e){return e.filter((function(e){return null!==e}))})),u(e),D(-1),C(-1),v(-1)}}),[_,M,T]);var B=function(e){e.preventDefault()},Y=function(e,t,a){var n,c=JSON.parse(e.dataTransfer.getData("drag-item")),s=c.cell,r=c.i,i="";"dated"===t?(n=s,i=[ee()(n,"YYYY/MMM/DD",!0).isValid()&&ee()(n,"YYYY/MMM/DD").format("YYYY-MM-DD"),ee()(n,"YYYY.MMM.DD",!0).isValid()&&ee()(n,"YYYY.MMM.DD").format("YYYY-MM-DD"),ee()(n,"YYYY-MMM-DD",!0).isValid()&&ee()(n,"YYYY-MMM-DD").format("YYYY-MM-DD"),ee()(n,"YYYY MMM DD",!0).isValid()&&ee()(n,"YYYY MMM DD").format("YYYY-MM-DD"),ee()(n,"YYYY/MM/DD",!0).isValid()&&ee()(n,"YYYY/MM/DD").format("YYYY-MM-DD"),ee()(n,"YYYY.MM.DD",!0).isValid()&&ee()(n,"YYYY.MM.DD").format("YYYY-MM-DD"),ee()(n,"YYYY-MM-DD",!0).isValid()&&ee()(n,"YYYY-MM-DD").format("YYYY-MM-DD"),ee()(n,"YYYY MM DD",!0).isValid()&&ee()(n,"YYYY MM DD").format("YYYY-MM-DD"),ee()(n,"DD/MM/YYYY",!0).isValid()&&ee()(n,"DD/MM/YYYY").format("YYYY-MM-DD"),ee()(n,"DD-MM-YYYY",!0).isValid()&&ee()(n,"DD-MM-YYYY").format("YYYY-MM-DD"),ee()(n,"DD.MM.YYYY",!0).isValid()&&ee()(n,"DD.MM.YYYY").format("YYYY-MM-DD"),ee()(n,"DD MM YYYY",!0).isValid()&&ee()(n,"DD MM YYYY").format("YYYY-MM-DD"),ee()(n,"DD/MMM/YYYY",!0).isValid()&&ee()(n,"DD/MMM/YYYY").format("YYYY-MM-DD"),ee()(n,"DD-MMM-YYYY",!0).isValid()&&ee()(n,"DD-MMM-YYYY").format("YYYY-MM-DD"),ee()(n,"DD.MMM.YYYY",!0).isValid()&&ee()(n,"DD.MMM.YYYY").format("YYYY-MM-DD"),ee()(n,"DD MMM YYYY",!0).isValid()&&ee()(n,"DD MMM YYYY").format("YYYY-MM-DD"),ee()(n,"DD/MMMM/YYYY",!0).isValid()&&ee()(n,"DD/MMMM/YYYY").format("YYYY-MM-DD"),ee()(n,"DD-MMMM-YYYY",!0).isValid()&&ee()(n,"DD-MMMM-YYYY").format("YYYY-MM-DD"),ee()(n,"DD.MMMM.YYYY",!0).isValid()&&ee()(n,"DD.MMMM.YYYY").format("YYYY-MM-DD"),ee()(n,"DD MMMM YYYY",!0).isValid()&&ee()(n,"DD MMMM YYYY").format("YYYY-MM-DD")].filter((function(e){return!1!==e}))[0]||"Invalid Date"):"text"===t?i=s:"number"===t&&(s=s.replace(",",""),i=Number(s)||0),e.target.value=i,F(r,a,i)},F=function(e,t,a){var n=Object(Z.a)(p);n=n.map((function(n,c){return e===c&&(n[t]=a),n})),h(n)};return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{closeButton:!0,children:Object(m.jsx)(Ne.a.Title,{children:Object(m.jsx)(x.a,{id:"importYourCreditCardStatement"})})}),Object(m.jsx)(Ne.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(m.jsxs)("div",{className:"creditCardModal",children:[d.length?Object(m.jsx)("div",{className:"table-responsive pb-3",children:Object(m.jsxs)("div",{className:"tableGrid",children:[L.map((function(e,t){return Object(m.jsx)("div",{className:"heading",children:e.label},t)})),d.map((function(e,t){return Object(m.jsxs)(i.a.Fragment,{children:[e.length>0&&Object(m.jsxs)("div",{className:"singleLines",children:[e.map((function(e,a){return Object(m.jsxs)("span",{id:a,draggable:"true",onDragStart:function(n){return function(e,t){v(Number(e.target.id)),e.dataTransfer.setData("drag-item",t)}(n,JSON.stringify({cell:e,i:t,j:a}))},onDrop:function(e){return function(e,t){var a=t.i;C(Number(a)),D(Number(e.target.id))}(e,{i:t,j:a})},onDragOver:function(e){return B(e)},className:"cell",children:[e,Object(m.jsx)("i",{onClick:function(){return function(e,t){var a=Object(Z.a)(d);a=a.map((function(a,n){return n===e?a.filter((function(e,a){return a!==t})):a})),u(a)}(t,a)},className:"fa fa-times-circle"})]},a)})),e.length>0&&Object(m.jsx)("span",{onClick:function(){return function(e){var t=Object(Z.a)(d);t=t.map((function(t,a){return a===e&&(t=[]),t})),u(t)}(t)},className:"cell danger",title:"Delete all?",children:Object(m.jsx)("i",{className:"fa fa-times"})})]}),L.map((function(e,a){return Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:e.type,onChange:function(a){return F(t,e.key,a.target.value)},onDragOver:function(e){return B(e)},onDrop:function(t){return Y(t,e.type,e.key)},className:"input"})},a)}))]},t)}))]})}):Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"row separatorWrapper py-2",children:[Object(m.jsx)("div",{className:"col-md-9 col-7 pl-0",children:Object(m.jsxs)("label",{htmlFor:"paste",children:[Object(m.jsx)(x.a,{id:"pasteYourCreditCardStatementHere"})," ",Object(m.jsx)("i",{className:"fa fa-level-down"})]})}),Object(m.jsx)("div",{className:"col-md-3 col-5 pr-0",children:Object(m.jsxs)("div",{className:"input-group input-group-sm",children:[Object(m.jsx)("span",{className:"input-group-text",children:Object(m.jsx)(x.a,{id:"textSeperated"})}),Object(m.jsx)("input",{type:"text",defaultValue:E,onChange:function(e){return A(e.target.value)},className:"form-control"})]})})]}),Object(m.jsx)("textarea",{id:"paste",ref:I,className:"textArea"})]}),Object(m.jsxs)("div",{className:"text-end py-2",children:[d.length>0&&Object(m.jsxs)("button",{onClick:function(){return u([])},className:"btn btn-bni me-3",children:[Object(m.jsx)("i",{className:"fa fa-angle-double-left"})," ",Object(m.jsx)(x.a,{id:"back"})]}),d.length?Object(m.jsx)("button",{onClick:function(){return a(p)},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"generate"})}):Object(m.jsx)("button",{onClick:function(){return function(){var e=I.current.value,t=(e=e.replace(/(\r\n|\n|\r)/gm,R).split(R).filter((function(e){return e})).map((function(e){return e.split(E)}))).map((function(){return{cc_comments:"",cc_date:"",cc_expected_balance:"",cc_for_card:"",cc_id:"",cc_opening_balance:"",cc_payment_credits:"",cc_purchases:"",cc_taxes_interest:"",cc_transaction:""}}));h(t),u(e)}()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"process"})})]})]})})]}))};Qe.defaultProps={property:"String name"};var et=Qe,tt=function(e){var t=Object(r.useContext)(Ft),a=e.ccMonthYearSelected,i=e.ccBankSelected,o=e.ccDetails,d=e.intl,u=Object(r.useState)(!1),b=Object(s.a)(u,2),j=b[0],f=b[1],p=Object(r.useState)([]),h=Object(s.a)(p,2),O=h[0],g=h[1],x=Object(r.useState)([]),_=Object(s.a)(x,2),v=_[0],y=_[1];Object(r.useEffect)((function(){N()}),[a,i,o,d]);var N=function(){var e=a.split("-"),t=Object(s.a)(e,2),r=t[0],l=t[1],d=J.a.strToNumMonth[r],u=Number(o.credit_card_start_date),b=Number(o.credit_card_end_date),j=new Date("".concat(Number(l),"-").concat(Number(d),"-").concat(b).replace(/-/g,"/")),m="".concat(j.getFullYear(),"-").concat(J.a.leadingZeros(j.getMonth()+1),"-").concat(J.a.leadingZeros(j.getDate())),f=j.setTime(j.getTime()-2592e6);f=new Date(f),f=new Date(f.setDate(u));var p="".concat(f.getFullYear(),"-").concat(J.a.leadingZeros(f.getMonth()+1),"-").concat(J.a.leadingZeros(f.getDate())),h='cc_date between "'.concat(p,'" and "').concat(m,'" and cc_for_card = ').concat(i);g([]);var O=w(h),x=D("/account_planner/credit_card_list"),_=D("/account_planner/inc_exp_list");Promise.all([O,x,_]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y([]),g(t[0].data.response),ge[0].rowElements[8]=t[1],ge[0].rowElements[9]=t[2],ge[0].rowElements[8].searchable=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},M=function(){N()},D=function(e){return se.a.get(e).then((function(e){return{fetch:{dropDownList:Object(Z.a)(e.data.response)}}})).catch((function(e){console.log(e)}))},w=function(e){var t=new FormData;return t.append("TableRows",ge[0].TableRows),t.append("Table",ge[0].Table),e&&t.append("WhereClause",e),se.a.post("/account_planner/getAccountPlanner",t)},S=ge.map((function(e){var t={header:{searchPlaceholder:d.formatMessage({id:"searchHere"})},footer:{total:{title:d.formatMessage({id:"total"}),locale:o.credit_card_locale,currency:o.credit_card_currency,maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}};return e.config=t,e.TableAliasRows=["id","transaction","date","openingBalance","credits","purchases","taxesAndInterest","balance","cardNumber","category","status","comments"].map((function(e){return d.formatMessage({id:e})})),e}));return Object(m.jsxs)("div",{className:"settings",children:[j&&Object(m.jsx)(et,{className:"creditCardModal",show:j,onHide:function(){return f(!1)},size:"xl",animation:!1,onImport:function(e){y(e),f(!1)}}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"row py-2",children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(ve.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e,t){return Object(m.jsx)(_e.a,Object(l.a)(Object(l.a)({id:"button-tooltip-1",className:"in show"},e),{},{children:t}))}(e,d.formatMessage({id:"importYourCreditCardStatement"})),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return f(!j)},className:"fa fa-upload roundedButton pull-right"})})})}),a&&i&&O.length>0?S.sort((function(e,t){return e.id>t.id})).map((function(e,a){return Object(m.jsx)(xe.a,{Table:e.Table,config:e.config,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,dbData:O,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var a=e.status,n=e.data;a?e&&n&&n.response?t.renderToast({message:d.formatMessage({id:"transactionSavedSuccessfully"})}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:d.formatMessage({id:"noFormChangeFound"})}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:d.formatMessage({id:"unableToReachServer"})})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:M,insertCloneData:v,cellWidth:"12rem",ajaxButtonName:d.formatMessage({id:"submit"})},a)})):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})]})};tt.defaultProps={property:"String name"};var at=Object(ne.c)(tt),nt=a(355),ct=a.n(nt),st=a(366),rt=a.n(st),it=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(Ft),n=Object(r.useState)(new Date),c=Object(s.a)(n,2),i=c[0],o=c[1],d=Object(r.useState)(""),u=Object(s.a)(d,2),b=u[0],j=u[1],f=Object(r.useState)(""),p=Object(s.a)(f,2),h=p[0],O=p[1],g=Object(r.useState)("0"),_=Object(s.a)(g,2),v=_[0],y=_[1],N=Object(r.useState)(!0),M=Object(s.a)(N,2),D=M[0],w=M[1],S=Object(r.useState)(!0),T=Object(s.a)(S,2),C=T[0],k=T[1],P=Object(r.useState)([]),E=Object(s.a)(P,2),A=E[0],L=E[1],I=Object(r.useState)([]),R=Object(s.a)(I,2),B=R[0],Y=R[1],F=Object(r.useState)(""),U=Object(s.a)(F,2),K=U[0],W=U[1],q=Object(r.useState)([]),V=Object(s.a)(q,2),H=V[0],z=V[1],Z=Object(r.useState)(""),$=Object(s.a)(Z,2),X=$[0],Q=$[1],ee=Object(r.useState)(""),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(r.useState)(""),re=Object(s.a)(ce,2),ie=re[0],oe=re[1],le=Object(r.useState)(""),de=Object(s.a)(le,2),ue=de[0],be=de[1],je=Object(r.useState)(!1),me=Object(s.a)(je,2),fe=me[0],pe=me[1],he="&Lang;",Oe=[{1:t.formatMessage({id:"1"})},{2:t.formatMessage({id:"2"})},{3:t.formatMessage({id:"3"})},{4:t.formatMessage({id:"4"})},{5:t.formatMessage({id:"5"})},{6:t.formatMessage({id:"6"})},{7:t.formatMessage({id:"7"})},{8:t.formatMessage({id:"8"})},{9:t.formatMessage({id:"9"})},{"&Lang;":he},{0:t.formatMessage({id:"0"})},{".":"."},{C:"C"}];Object(r.useEffect)((function(){var e=se.a.get("/account_planner/bank_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),t=se.a.get("/account_planner/inc_exp_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),a=se.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e,t,a]).then((function(e){e[0].length>0?L(e[0]):L([{id:null,value:"NULL"}]),e[0].length>0&&e[0][0].id?W(e[0][0].id):W(""),e[1].length>0?z(e[1]):z([{id:null,value:"NULL"}]),e[1].length>0&&e[1][0].id?Q(e[1][0].id):Q(""),e[1].length>0&&e[1][0].value?ne(e[1][0].value):ne("NULL"),e[2].length>0?Y(e[2]):Y([{id:null,value:"NULL"}]),e[2].length>0&&e[2][0].id?oe(e[2][0].id):oe(""),e[2].length>0&&e[2][0].value?be(e[2][0].value):be("NULL")}))}),[]);var ge=function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)};return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{closeButton:!0,children:Object(m.jsx)(Ne.a.Title,{children:Object(m.jsx)(x.a,{id:"fastShopping"})})}),Object(m.jsx)(Ne.a.Body,{className:"rounded-bottom bg-dark text-white",children:Object(m.jsxs)("form",{id:"transactForm",onSubmit:function(e){return e.preventDefault()},children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:t.formatMessage({id:"transaction"}),onChange:function(e){return j(e.target.value)}})}),Object(m.jsx)("div",{className:"overflow text-end",children:v}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"numPads pb-2",children:Oe.map((function(e,t){var a=isNaN(Number(Object.keys(e)[0]))?Object.keys(e)[0]:Number(Object.keys(e)[0]),n=Object.values(e)[0];return Object(m.jsx)("div",{className:"text-center buttonContainer",children:Object(m.jsx)("button",{disabled:v.toString().includes(".")&&"."===a,onClick:function(){return function(e){var t=v;"number"===typeof e&&(t=fe?"".concat(t,".").concat(e):"".concat(v).concat(e),pe(!1)),"."===e&&(pe(!0),"0"===t.substring(0,1)&&(t="0"+t)),t.length>0&&"0"===t.substring(0,1)&&!t.includes(".")&&(t=t.substring(1,t.length)),t.length>0&&"."===t.substring(0,1)&&(t="0".concat(t)),"C"===e&&(t="0",pe(!1)),e===he&&(t=t.length>1?t.slice(0,-1):"0").length>0&&"."===t.slice(t.length-1)&&(t=t.slice(0,-1),pe(!1)),y(t)}(a)},dangerouslySetInnerHTML:{__html:n}})},t)}))})}),Object(m.jsxs)("div",{className:"row py-2",children:[Object(m.jsx)("div",{className:"col-6 py-2 react-responsive-ajax-data-table",children:Object(m.jsx)(ct.a,{onChange:function(e){o(e)},value:i,format:"y-MM-dd",required:!0,clearIcon:null,className:"fastShoppingDatePicker"})}),Object(m.jsx)("div",{className:"col-6 py-2",children:Object(m.jsxs)("div",{className:"d-flex align-items-center",children:[Object(m.jsx)("div",{onClick:function(){return k(!C)},className:"",children:C?t.formatMessage({id:"debitCard"}):t.formatMessage({id:"creditCard"})}),Object(m.jsx)("i",{onClick:function(){return k(!C)},className:"fa fa-circle ps-2 ".concat(C?"debit":"credit")})]})})]}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Comments",onChange:function(e){return O(e.target.value)}})}),Object(m.jsx)("div",{children:A.length>0&&H.length>0&&B.length>0?Object(m.jsxs)(m.Fragment,{children:[C?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[Object(m.jsx)("div",{onClick:function(){return w(!0)},className:"",children:Object(m.jsx)(x.a,{id:"expense"})}),Object(m.jsx)(rt.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return w(!D)},checked:!0===D}),Object(m.jsx)("div",{onClick:function(){return w(!1)},className:"",children:Object(m.jsx)(x.a,{id:"income"})}),Object(m.jsx)(rt.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return w(!D)},checked:!1===D})]})}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsx)(Ue,{bankList:A,onSelectBank:function(e){return W(e)}})})]}):Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)(Ye.a,{className:"d-grid",children:[Object(m.jsxs)(Ye.a.Toggle,{className:"btn btn-bni",children:[ue," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(Ye.a.Menu,{children:B.map((function(e,t){return Object(m.jsx)(Ye.a.Item,{onClick:function(t){oe(e.id),be(e.value)},children:e.value},t)}))})]})}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)(Ye.a,{className:"d-grid",children:[Object(m.jsxs)(Ye.a.Toggle,{className:"btn btn-bni",children:[ae," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(Ye.a.Menu,{children:H.map((function(e,t){return Object(m.jsx)(Ye.a.Item,{onClick:function(t){Q(e.id),ne(e.value)},children:e.value},t)}))})]})})]}):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsx)("button",{disabled:!(Number(v)>0&&b),onClick:function(){return function(){var e={Table:C?"income_expense":"credit_card_transactions",insertData:C?[{inc_exp_id:null,inc_exp_name:b,inc_exp_amount:v,inc_exp_plan_amount:v,inc_exp_type:D?"Dr":"Cr",inc_exp_date:ge(i),inc_exp_category:X,inc_exp_bank:K,inc_exp_comments:h}]:[{cc_id:null,cc_transaction:b,cc_date:ge(i),cc_opening_balance:0,cc_payment_credits:0,cc_purchases:v,cc_taxes_interest:0,cc_expected_balance:v,cc_for_card:ie,cc_inc_exp_cat:X,cc_comments:h,cc_transaction_status:0}]},n=new FormData;document.getElementById("transactForm").reset(),n.append("postData",JSON.stringify(e)),se.a.post("/account_planner/postAccountPlanner",n).then((function(e){e.data.response?a.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully"})}):a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound"})}),y("0"),j(""),O(""),document.getElementById("transactForm").reset()})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})}),console.log(e)}))}()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"submit"})})})]})})]}))};it.defaultProps={property:"String name"};var ot=it,lt=function(e){var t=e.ccDetails,a=Object(r.useState)(0),n=Object(s.a)(a,2),c=n[0],i=n[1],o=24*Number(t.remDays)*3600;Object(r.useEffect)((function(){Number(t.remDays)>0&&l()}),[t.remDays]);var l=function e(){var t=Math.floor(o/24/60/60),a=Math.floor(o-86400*t),n=Math.floor(a/3600),c=Math.floor(a-3600*n),s=Math.floor(c/60),r=o%60,l=u(t)+":"+u(n)+":"+u(s)+":"+u(r);0===o?d(e):o--,i(l),setTimeout(e,1e3)},d=function(){clearTimeout(l)},u=function(e){return e<10?"0"+e:e};return Object(m.jsx)("span",{children:c})};lt.defaultProps={property:"String name"};var dt=lt,ut=function(e){var t=Object(r.useContext)(f),a=Object(r.useState)(!1),n=Object(s.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(!1),d=Object(s.a)(o,2),u=d[0],b=d[1],j=Object(r.useState)(!1),p=Object(s.a)(j,2),h=p[0],O=p[1],g=Object(r.useState)({}),_=Object(s.a)(g,2),v=_[0],y=_[1],N=Object(r.useState)([]),M=Object(s.a)(N,2),D=M[0],w=M[1],S=new Date;Object(r.useEffect)((function(){i(!0);var e=C();Promise.all([e]).then((function(e){var t=e[0];w(t),i(!1)}))}),[]);var T=function(){return Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},C=function(){return se.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}))};return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{closeButton:!0,children:Object(m.jsx)(Ne.a.Title,{children:Object(m.jsx)(x.a,{id:"checkCreditCardCycleDate"})})}),Object(m.jsxs)(Ne.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[c?T():Object(m.jsx)("div",{className:"row",children:D&&D.length>0&&D.map((function(e,t){return Object(m.jsxs)("div",{onClick:function(){return function(e){var t=new FormData;return t.append("bank",e),y({}),b(!0),O(e),se.a.post("/account_planner/credit_card_details",t).then((function(e){var t=e.data.response[0],a=t.credit_card_start_date,n=[(a=J.a.addMonths(new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(a).replace(/-/g,"/")),-1)).getFullYear(),a.getMonth()+1,a.getDate()],c=n[0],s=n[1],r=n[2],i=[s<10?"0".concat(s):s,r<10?"0".concat(r):r];s=i[0],r=i[1],a="".concat(c,"-").concat(s,"-").concat(r);var o=t.credit_card_end_date,l=[(o=new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(o).replace(/-/g,"/"))).getFullYear(),o.getMonth()+1,o.getDate()],d=l[0],u=l[1],j=l[2],m=[u<10?"0".concat(u):u,j<10?"0".concat(j):j];u=m[0],j=m[1],o="".concat(d,"-").concat(u,"-").concat(j);var f=t.credit_card_payment_date,p=[(f=J.a.addMonths(new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(f).replace(/-/g,"/")),1)).getFullYear(),f.getMonth()+1,f.getDate()],h=p[0],O=p[1],g=p[2],x=[O<10?"0".concat(O):O,g<10?"0".concat(g):g];O=x[0],g=x[1],f="".concat(h,"-").concat(O,"-").concat(g);var _=new Date(f)-new Date;_=Math.abs(_),_=Math.ceil(_/864e5);var v={cardNumber:t.credit_card_number,cardName:t.credit_card_name,startDate:a,endDate:o,payDate:f,remDays:_};y(v),b(!1)})).catch((function(e){console.log(e)}))}(e.id)},className:"col-6 text-center cardWrapper ".concat(h===e.id?"active":""),children:[Object(m.jsx)("i",{className:"fa fa-credit-card-alt"}),e.value]},t)}))}),u?T():Object.keys(v).length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"py-3 text-center",children:v.cardName}),Object(m.jsxs)("div",{className:"container mt-10 text-center",children:[Object(m.jsx)("div",{className:"contactLabel",children:Object(m.jsx)(x.a,{id:"cardNumber"})}),Object(m.jsx)("div",{children:v.cardNumber}),Object(m.jsxs)("div",{className:"row pb-3 pt-3",children:[Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:Object(m.jsx)(x.a,{id:"startDate"})}),Object(m.jsx)("div",{children:v.startDate})]}),Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:Object(m.jsx)(x.a,{id:"endDate"})}),Object(m.jsx)("div",{children:v.endDate})]})]}),Object(m.jsxs)("div",{className:"row text-center",children:[Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:Object(m.jsx)(x.a,{id:"payDate"})}),Object(m.jsx)("div",{children:v.payDate})]}),Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:Object(m.jsx)(x.a,{id:"remainingDays"})}),Object(m.jsx)("div",{children:Object(m.jsx)(dt,{ccDetails:v})})]})]})]})]})]})]}))};ut.defaultProps={property:"String name"};var bt=ut,jt=function(e){var t=e.onHide,a=e.onYes,n=Object(r.useContext)(f);return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{closeButton:!0,children:Object(m.jsx)(Ne.a.Title,{children:Object(m.jsx)(x.a,{id:"sureAbtSqlQueries"})})}),Object(m.jsx)(Ne.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return a()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"allow"})})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return t()},className:"btn btn-secondary",children:Object(m.jsx)(x.a,{id:"restrict"})})})]})})]}))};jt.defaultProps={};var mt=jt,ft=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(Ft),n=Object(r.useContext)(oe),c=Object(r.useState)({}),o=Object(s.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(!1),b=Object(s.a)(u,2),j=b[0],f=b[1];Object(r.useEffect)((function(){f(!0),se.a.get("/account_planner/getTotalHoldings").then((function(e){d(e.data.response.result)})).catch((function(){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})})).finally((function(){return f(!1)}))}),[]);var p=function(e,t){return Object.keys(l).length>0?l[e].reduce((function(e,a){return Number(e)+Number(a[t])||0}),0):0};return j?Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"totalHoldings",children:[Object(m.jsx)("div",{className:"h5 bni-border bottom pb-1",children:Object(m.jsx)(x.a,{id:"bank"})}),Object(m.jsx)("div",{className:"h5 text-end bni-border bottom pb-1",children:Object(m.jsx)(x.a,{id:"balance"})}),Object.keys(l).length>0?l.bankBalance.map((function(e,t){return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("div",{children:e.Bank}),Object(m.jsx)("div",{className:"text-end",children:J.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,Number(e.Balance),2)})]},t)})).concat(l.bankBalance.length>0?Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("div",{className:"total h5 py-2 pb-2",children:Object(m.jsx)(x.a,{id:"total"})}),Object(m.jsx)("div",{className:"text-end total h5 py-2 pb-2 btn-bni pe-1",children:J.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,p("bankBalance","Balance"),2)})]},"a"):null).concat(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"h5 bni-border bottom pb-1 mt-5",children:Object(m.jsx)(x.a,{id:"creditCard"})}),Object(m.jsx)("div",{className:"h5 text-end bni-border bottom pb-1 mt-5",children:Object(m.jsx)(x.a,{id:"balance"})}),l.creditBalance.length>0?l.creditBalance.map((function(e,t){return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("div",{children:e.cardName}),Object(m.jsx)("div",{className:"text-end",children:J.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,Number(e.total),2)})]},t)})):Object(m.jsx)("div",{className:"noData",children:Object(m.jsx)(x.a,{id:"noRecordsGenerated"})})]})).concat(l.creditBalance.length>0?Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("div",{className:"total h5 py-2",children:Object(m.jsx)(x.a,{id:"total"})}),Object(m.jsx)("div",{className:"text-end total h5 py-2 btn-bni pe-1",children:J.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,p("creditBalance","total"),2)})]},"b"):null):Object(m.jsx)("div",{className:"noData",children:Object(m.jsx)(x.a,{id:"noRecordsGenerated"})})]})};ft.defaultProps={property:"String name"};var pt=ft,ht=a(106),Ot=a(240),gt=function(e){var t=e.onSelect,a=e.master,n=Object(r.useState)(""),c=Object(s.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)([]),d=Object(s.a)(l,2),u=d[0],b=d[1],j=Object(r.useState)(!1),f=Object(s.a)(j,2),p=f[0],h=f[1],O=Object(r.useState)([]),g=Object(s.a)(O,2),x=g[0],_=g[1],v=Object(r.useState)([]),y=Object(s.a)(v,2),N=y[0],M=y[1],D=Object(r.useState)(""),w=Object(s.a)(D,2),S=w[0],T=w[1];Object(r.useEffect)((function(){C(N)}),[N,p,x]),Object(r.useEffect)((function(){var e=[],t=function(t){e.push(a.fields[t].map((function(e){return{id:"".concat(t,".").concat(e.field),value:"".concat(t,".").concat(e.field),marker:e.marker}})))};for(var n in a.fields)t(n);var c=[].concat.apply([],e);b(c),M([])}),[]);var C=function(e){var a;a="*"===i?e.join(", "):e[0];var n=x.map((function(e){return e.split(" AS ")[1]})).join(", ");t({fields:a||"*",fieldArray:e,hasAlias:p,aliases:x.join(", ")||"",aliasArray:x,aliasStrings:n})},k=function(){_([]),h(!1)};return Object(m.jsxs)("div",{className:"select pt-2",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Select"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return o(""),h(!1),_([]),M([]),void T("")}})})]}),Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ht.a,{placeholder:"Select Type",onChange:function(e,t,a){o(t),C("*"===i?[]:""),M([]),h(!1),_([])},element:{fetch:{dropDownList:["*","SUM","COUNT","MIN","MAX","AVG","DISTINCT"].map((function(e){return{id:e,value:e}}))}},value:i,type:"single",searchable:!1},1)})}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ht.a,{placeholder:"Select Field(s)",onChange:function(e,t,a){return function(e){Array.isArray(e)?M(e):M(["".concat(i,"(").concat(e,")")]),Array.isArray(e)?T(e):T("".concat(e)),k()}(t)},element:{fetch:{dropDownList:u.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:S,type:"*"===i?"multiple":"single",searchable:!0},2)})}),N.length>0&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(Ot.a,{index:{i:0,j:"radioNull"},onChange:function(e,t,a){if(h("1"===t),"1"===t){var n=N.map((function(e,t){return"".concat(e," AS F").concat(t+1)}));_(n)}else _([])},element:{radio:{radioList:[{label:"Has Alias",value:"1"},{label:"No Alias",value:"0"}]}},value:p?"1":"0"})})})]}),Object(m.jsx)("div",{className:"row",children:p&&N.length>0&&N.map((function(e,t){return Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"text",placeholder:"".concat(e," (Alias)"),className:"form-control",defaultValue:"F".concat(t+1),onBlur:function(e){e.target.value||(e.target.value="F".concat(t+1))},onChange:function(e){return function(e,t){var a=Object(Z.a)(x);a[t]&&(a=a.map((function(a,n){return t===n&&(a=e?"".concat(N[n]," AS ").concat(e):"".concat(N[n]," AS F").concat(n+1)),a})),_(a))}(e.target.value,t)}})})},t)}))})]})]})};gt.defaultProps={property:"String name"};var xt=gt,_t=function(e){var t=e.master,a=e.onFrom,n=Object(r.useState)(""),c=Object(s.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)([]),d=Object(s.a)(l,2),u=d[0],b=d[1];Object(r.useEffect)((function(){var e=Object.entries(t.tables).map((function(e){return"".concat(e[1]," AS ").concat(e[0])}));b(e),o(e[0]),a(e[0])}),[]);var j=function(e){o(e),a(e)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"pt-2",children:[Object(m.jsx)("div",{className:"h6",children:"From"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){j(u[0])}})})]}),Object(m.jsx)("div",{className:"react-responsive-ajax-data-table",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ht.a,{placeholder:"Select Table",onChange:function(e,t,a){return j(t)},element:{fetch:{dropDownList:u.map((function(e){return{id:e,value:e}}))}},value:i,type:"single",searchable:!0},1)})})})})]})};_t.defaultProps={};var vt=_t,yt=function(e){var t=e.master,a=e.onJoin,n=Object(r.useContext)(f),c=["INNER","LEFT","RIGHT","OUTER"],o=Object(r.useState)([]),l=Object(s.a)(o,2),d=l[0],u=l[1],b=c.map((function(e){return{type:e,joins:[{tableDropDown:{fetch:{dropDownList:Object.keys(t.tables).map((function(e){return{id:e,value:e}}))}},selectedSource:"",selectedTarget:"",sourceFields:{},targetFields:{}}]}})),j=Object(r.useState)(b),p=Object(s.a)(j,2),h=p[0],O=p[1];Object(r.useEffect)((function(){g()}),[h]);var g=function(){var e=Object(Z.a)(h).filter((function(e){return e.joins.some((function(e){return e.selectedSource&&e.selectedTarget}))})),n=[];e.forEach((function(e){return e.joins.forEach((function(a){t.tables[a.sourceFields.table]&&a.sourceFields.table&&a.sourceFields.table&&a.selectedSource&&n.push("".concat(e.type," JOIN ").concat(t.tables[a.sourceFields.table]," AS ").concat(a.sourceFields.table," ON ").concat(a.sourceFields.table,".").concat(a.selectedSource," = ").concat(a.targetFields.table,".").concat(a.selectedTarget))}))})),a(n)},x=function(e,t,a,n){var c=Object(s.a)(d,2),r=c[0],i=c[1];if(r&&i){var o="source"===a?"selectedSource":"selectedTarget",l=Object(Z.a)(h);l=l.map((function(a){if(a.type===e){var c=a.joins.map((function(e,a){return a===n&&(e[o]=t),e}));a.joins=c}return a})),O(l)}};return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Join"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){O(b)}})})]}),Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsxs)("table",{className:"table table-borderless ".concat("dark"===n.userData.theme?"text-white":"text-dark"),children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:c.map((function(e,t){return Object(m.jsx)("td",{className:"text-center",children:e},t)}))})}),Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:h.map((function(e,a){return Object(m.jsx)("td",{children:e.joins.map((function(n,c){return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(ht.a,{index:{i:a,j:-1},placeholder:"Select Tables",onChange:function(e,n,r){!function(e,a,n){var c=Object(s.a)(e,2),r=c[0],i=c[1];r&&i&&u([r,i]);var o=Object(Z.a)(h);o=o.map((function(e,c){return a===c&&e.joins.map((function(e,a){return a===n&&(e.sourceFields=t.fields[r]&&{table:r,fetch:{dropDownList:t.fields[r].map((function(e){var t=e.field;return{id:t,value:t,marker:e.marker}}))}}||{},e.targetFields=t.fields[i]&&{table:i,fetch:{dropDownList:t.fields[i].map((function(e){var t=e.field;return{id:t,value:t,marker:e.marker}}))}}||{}),e})),e})),O(o)}(n,a,c)},element:n.tableDropDown,value:"",type:"multiple",searchable:!0})}),Object.keys(n.sourceFields).length>0&&Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(ht.a,{index:{i:a,j:c},placeholder:"Set Source Relation",onChange:function(t,a,n){x(e.type,a,"source",c)},element:n.sourceFields,value:"",type:"single",searchable:!1})}),Object.keys(n.targetFields).length>0&&Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(ht.a,{index:{i:a,j:c},placeholder:"Set Target Relation",onChange:function(t,a,n){x(e.type,a,"target",c)},element:n.targetFields,value:"",type:"single",searchable:!1})}),Object(m.jsxs)("div",{className:"mb-2",children:[c>0?Object(m.jsx)("i",{onClick:function(){return function(e,t){var a=Object(Z.a)(h);a=a.map((function(a){if(a.type===e){var n=a.joins.filter((function(e,a){return a!==t}));a.joins=n}return a})),O(a)}(e.type,c)},className:"fa fa-times-circle danger"}):Object(m.jsx)("i",{}),Object(m.jsx)("i",{onClick:function(){return function(e){var a=Object(Z.a)(h),n={tableDropDown:{fetch:{dropDownList:Object.keys(t.tables).map((function(e){return{id:e,value:e}}))}},selectedSource:"",selectedTarget:"",sourceFields:{},targetFields:{}};a=a.map((function(t){return t.type===e&&t.joins.push(n),t})),O(a)}(e.type)},className:"pull-right fa fa-plus-circle success"})]})]},c)}))},a)}))})})]})})]})})};yt.defaultProps={property:"String name"};var Nt=yt,Mt=function(e){var t=e.master,a=e.onGroupBy,n=function(){var e=[],a=function(a){e.push(t.fields[a].map((function(e){return"".concat(a,".").concat(e.field)})))};for(var n in t.fields)a(n);return e.join().split(",")},c=n()||[];c=c.map((function(e){return{id:e,value:e}}));var i=Object(r.useState)(c),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)([]),b=Object(s.a)(u,2),j=b[0],f=b[1];Object(r.useEffect)((function(){var e=n()||[];e=e.map((function(e){return{id:e,value:e}})),d(e)}),[JSON.stringify(e.selectData)]);return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Group By"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return f([]),void a([])}})})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:l&&l.length>0&&Object(m.jsx)(ht.a,{placeholder:"Select Type",onChange:function(e,t,n){f(t),a(t)},element:{fetch:{dropDownList:l}},value:j,type:"multiple",searchable:!0},"Group-1")})})})]})})};Mt.defaultProps={};var Dt=Mt,wt=function(e){var t=e.master,a=e.onOrderBy,n=function(){var e=[],a=function(a){e.push(t.fields[a].map((function(e){return"".concat(a,".").concat(e.field)})))};for(var n in t.fields)a(n);return e.join().split(",")},c=n();c=c.map((function(e){return{id:e,value:e}}));var i=Object(r.useState)(c),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(""),b=Object(s.a)(u,2),j=b[0],f=b[1],p=Object(r.useState)(""),h=Object(s.a)(p,2),O=h[0],g=h[1];Object(r.useEffect)((function(){var e=n()||[];e=e.map((function(e){return{id:e,value:e}})),d(e)}),[JSON.stringify(e.selectData)]),Object(r.useEffect)((function(){var e=[O&&"".concat(O," DESC"),j&&"".concat(j," ASC")].filter((function(e){return""!==e}));a(e)}),[j,O]);return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Order By"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return f(""),void g("")}})})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:l&&l.length>0&&Object(m.jsx)(ht.a,{placeholder:"ASC",onChange:function(e,t,a){f(t)},element:{fetch:{dropDownList:l}},value:j,type:"single",searchable:!1},1)})}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:l&&l.length>0&&Object(m.jsx)(ht.a,{placeholder:"DESC",onChange:function(e,t,a){g(t)},element:{fetch:{dropDownList:l}},value:O,type:"single",searchable:!1},1)})})]})]})})};wt.defaultProps={};var St=wt,Tt=function(e){var t=e.onLimit,a=Object(r.useState)(0),n=Object(s.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(100),l=Object(s.a)(o,2),d=l[0],u=l[1];Object(r.useEffect)((function(){t({offset:c,rowCount:d})}),[c,d]);return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Limit"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return i(0),u(100),void t({offset:0,rowCount:100})}})})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"number",onChange:function(e){return i(+e.target.value)},value:c,placeholder:"Offset",className:"form-control"})})}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"number",value:d,onChange:function(e){return u(+e.target.value)},placeholder:"Row Count",className:"form-control"})})})]})]})})};Tt.defaultProps={property:"String name"};var Ct=Tt,kt=function(e){var t=e.onWhere,a=e.master,n=Object(r.useState)([]),c=Object(s.a)(n,2),i=c[0],o=c[1],d={SEP:"AND",AND:[{field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"AND"}],OR:[{field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"OR"}]},u=Object(r.useState)(d),b=Object(s.a)(u,2),j=b[0],f=b[1],p=[{label:"Between",value:"BETWEEN {a} AND {b}",placeholder:"Double comma sepearated values",valueType:"DOUBLE"},{label:"Equal To",value:"= '{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Not Equal To",value:"!= '{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Lesser Than",value:"< '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Greater Than",value:"> '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Lesser Than Equal To",value:"<= '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Greater Than Equal To",value:">= '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"contains",value:"LIKE '%{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Starts With",value:"LIKE '{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Ends With",value:"LIKE '%{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not Contain",value:"NOT LIKE '%{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not Begin With",value:"NOT LIKE '{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not End With",value:"NOT LIKE '%{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Is Null",value:"IS NULL",placeholder:"String / Number",valueType:"NULL"},{label:"Is Not Null",value:"IS NOT NULL",placeholder:"String / Number",valueType:"NULL"},{label:"In",value:"IN {n}",placeholder:"comma seperated values",valueType:"MULTIPLE"},{label:"Not In",value:"NOT IN {n}",placeholder:"comma seperated values",valueType:"MULTIPLE"}];Object(r.useEffect)((function(){var e=[],t=function(t){e.push(a.fields[t].map((function(e){return{id:"".concat(t,".").concat(e.field),value:"".concat(t,".").concat(e.field),marker:e.marker}})))};for(var n in a.fields)t(n);var c=[].concat.apply([],e);o(c)}),[]),Object(r.useEffect)((function(){var e=j.AND.filter((function(e){return e.clause})),a=j.OR.filter((function(e){return e.clause})),n=e.map((function(t,a){return"".concat(t.field," ").concat(t.clause).concat(a!==e.length-1?" ".concat(t.condition):"")})),c=a.map((function(e,t){return"".concat(e.field," ").concat(e.clause).concat(t!==a.length-1?" ".concat(e.condition):"")})),s=[].concat(Object(Z.a)(n.length>0?["(".concat(n.join(" "),")")]:[]),Object(Z.a)(n.length>0&&c.length>0?[j.SEP]:[]),Object(Z.a)(c.length>0?["(".concat(c.join(" "),")")]:[]));t(s)}),[j]);var h=function(e){var t={field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"AND"===e?"AND":"OR"},a=Object(l.a)({},j);a[e]=[].concat(Object(Z.a)(a[e]),[t]),f(a)},O=function(e,t){var a=Object(l.a)({},j),n=a[e].filter((function(e,a){return a!==t}));a[e]=n,f(a)},g=function(e,t,a,n){var c=Object(l.a)({},j),s=c[n].map((function(n,c){if(t===c&&(n[a]=e,"criteria"===a)){var s=p.filter((function(t){return t.value===e}))[0];n.placeholder=s.placeholder,n.valueType=s.valueType,n.clause="NULL"===n.valueType?n.criteria:"",n.value=""}return n}));c[n]=s,f(c)},x=function(e,t,a){var n=Object(l.a)({},j),c=n[a].filter((function(e,a){return a===t}))[0].valueType,s=n[a].map((function(a,n){if(t===n){var s="";switch(c){case"SINGLE":s=e?a.criteria.replace("{a}","".concat(e)):"";break;case"DOUBLE":var r=e.split(",");s=r.length>=2&&r[0]&&r[1]?(s=a.criteria.replace("{a}","'".concat(r[0],"'"))).replace("{b}","'".concat(r[1],"'")):"";break;case"MULTIPLE":var i=e.split(",");s=i.some((function(e){return e}))?a.criteria.replace("{n}","(".concat(i,")")):"";break;case"NULL":s=a.criteria;break;default:s=e}a.clause=s,a.value=e}return a}));n[a]=s,f(n)};return Object(m.jsxs)("div",{className:"where pt-2",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Where"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){f(d)}})})]}),Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[j.AND.map((function(e,t){return Object(m.jsxs)("div",{className:"row pt-2",children:[Object(m.jsxs)("div",{className:"col-md-1 actionIcons",children:[t>0?Object(m.jsx)("i",{onClick:function(){return O("AND",t)},className:"fa fa-times-circle danger"}):Object(m.jsx)("i",{}),Object(m.jsx)("i",{onClick:function(){return h("AND")},className:"fa fa-plus-circle success"})]}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:i.length>0&&Object(m.jsx)(ht.a,{placeholder:"Select field",onChange:function(e,a,n){g(a,t,"field","AND")},element:{fetch:{dropDownList:i.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:e.field,type:"single",searchable:!1},"field-".concat(t))})}),e.field&&p.length>0&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ht.a,{placeholder:"Select Criteria",onChange:function(e,a,n){g(a,t,"criteria","AND")},element:{fetch:{dropDownList:p.map((function(e){return{id:e.value,value:e.label}}))}},value:e.criteria,type:"single",searchable:!1},"criteria-".concat(t))})}),e.criteria&&"NULL"!==e.valueType&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"text",title:e.placeholder,placeholder:e.placeholder,className:"form-control",onChange:function(e){return x(e.target.value,t,"AND")},value:e.value},"AndKey-".concat(t))})}),Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("div",{className:"pb-2",children:(e.clause||"NULL"===e.valueType)&&Object(m.jsx)(Ot.a,{index:{i:t,j:"AND"},onChange:function(e,a,n){return g(a,t,"condition","AND")},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!0},{label:"OR",value:"OR",checked:!1}]}},value:"AND"})})})]},t)})),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(m.jsx)("div",{className:"andOrWrapper",children:Object(m.jsx)(Ot.a,{index:{i:0,j:"sepCond"},onChange:function(e,t,a){return function(e){var t=Object(l.a)({},j);t.SEP=e,f(t)}(t)},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!0},{label:"OR",value:"OR",checked:!1}]}},value:j.SEP})})})}),j.OR.map((function(e,t){return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-1 actionIcons",children:[t>0?Object(m.jsx)("i",{onClick:function(){return O("OR",t)},className:"fa fa-times-circle danger"}):Object(m.jsx)("i",{}),Object(m.jsx)("i",{onClick:function(){return h("OR")},className:"fa fa-plus-circle success"})]}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:i.length>0&&Object(m.jsx)(ht.a,{placeholder:"Select field",onChange:function(e,a,n){g(a,t,"field","OR")},element:{fetch:{dropDownList:i.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:e.field,type:"single",searchable:!1},"field-".concat(t))})}),e.field&&p.length>0&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ht.a,{placeholder:"Select Criteria",onChange:function(e,a,n){g(a,t,"criteria","OR")},element:{fetch:{dropDownList:p.map((function(e){return{id:e.value,value:e.label}}))}},value:e.criteria,type:"single",searchable:!1},"criteria-".concat(t))})}),e.criteria&&"NULL"!==e.valueType&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"text",title:e.placeholder,placeholder:e.placeholder,className:"form-control",onChange:function(e){return x(e.target.value,t,"OR")},value:e.value},"ORKey-".concat(t))})}),(e.clause||"NULL"===e.valueType)&&Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(Ot.a,{index:{i:t,j:"OR"},onChange:function(e,a,n){return g(a,t,"condition","OR")},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!1},{label:"OR",value:"OR",checked:!0}]}},value:"OR"})})})]},t)}))]})]})};kt.defaultProps={property:"String name"};var Pt=kt,Et=function(e){var t=e.master,a=Object(r.useState)([]),n=Object(s.a)(a,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){var e=Object.keys(t.fields).map((function(e){return{table:t.tables[e],fields:t.fields[e]}}));i(e)}),[]),Object(m.jsx)("div",{className:"Erd",children:Object(m.jsx)("div",{className:"erdGrid",children:c.map((function(e,t){return Object(m.jsxs)("div",{className:"tableBox",children:[Object(m.jsx)("div",{className:"tableName",children:e.table}),Object(m.jsx)("ul",{children:e.fields.map((function(e,t){return Object(m.jsxs)("li",{children:[e.field," ",e.marker&&Object(m.jsx)("i",{className:"fa fa-key green"})," ",e.type&&Object(m.jsx)("em",{children:e.type.toUpperCase()})," ",e.relationId&&Object(m.jsx)("i",{className:"fa fa-link ".concat(e.relationId)})," "]},t)}))})]},t)}))})})};Et.defaultProps={property:"String name"};var At=Et,Lt=(a(670),function(e){var t=e.schema,a=e.onUpdateSchema,n=e.onUpdateObject,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],d=i[1],u=Object(r.useState)({select:{},from:function(){var e=Object.entries(t.tables)[0];return e="".concat(e[1]," AS ").concat(e[0])}(),join:{},where:[],groupBy:[],orderBy:[],limit:{}}),b=Object(s.a)(u,2),j=b[0],f=b[1],p=function(e,t){var a=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},j),"select"===e&&{select:t}),"from"===e&&{from:t}),"join"===e&&{join:t}),"where"===e&&{where:t}),"groupBy"===e&&{groupBy:t}),"orderBy"===e&&{orderBy:t}),"limit"===e&&{limit:t});f(a)};Object(r.useEffect)((function(){var e=["SELECT",j.select.aliasArray&&j.select.aliasArray.length>0?"\t"+j.select.aliasArray.join(", "):j.select.fieldArray&&j.select.fieldArray.length>0?"\t"+j.select.fieldArray.join(" ,"):"\t*","FROM",j.from&&"\t"+j.from].concat(Object(Z.a)(j.join.length>0?[j.join.join("\n")]:[]),Object(Z.a)(j.where.length>0?["WHERE \r\n\t".concat(j.where.join("\n\t"))]:[]),Object(Z.a)(j.groupBy.length>0?["GROUP BY \r\n\t".concat(j.groupBy.join(", "))]:[]),Object(Z.a)(j.orderBy.length>0?["ORDER BY \r\n\t".concat(j.orderBy.join(", "))]:[]),Object(Z.a)(j.limit.offset>0?["LIMIT ".concat(j.limit.offset,", ").concat(j.limit.rowCount)]:["LIMIT ".concat(j.limit.rowCount)]));e=e.join("\r\n"),d(e)}),[j]);return Object(m.jsxs)("div",{className:"queryBuilder",children:[Object(m.jsx)(At,{master:t}),Object(m.jsx)(xt,{master:t,onSelect:function(e){return p("select",e)}}),Object(m.jsx)(vt,{master:t,onFrom:function(e){return p("from",e)}}),Object(m.jsx)(Nt,{master:t,onJoin:function(e){return p("join",e)}}),Object(m.jsx)(Pt,{master:t,onWhere:function(e){return p("where",e)}}),Object(m.jsx)(Dt,{master:t,onGroupBy:function(e){return p("groupBy",e)}}),Object(m.jsx)(St,{master:t,onOrderBy:function(e){return p("orderBy",e)}}),Object(m.jsx)(Ct,{onLimit:function(e){return p("limit",e)}}),Object(m.jsxs)("div",{className:"queryWrapper mt-2",children:[Object(m.jsxs)("div",{className:"heading",children:[Object(m.jsx)("div",{children:"Query"}),localStorage.getItem("query")&&Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return function(){var e=localStorage.getItem("query");d(e)}()},className:"btn-red pull-right",children:Object(m.jsx)(x.a,{id:"getAutoSavedQuery"})})})]}),Object(m.jsx)("textarea",{className:"form-control query-list",value:o,onChange:function(e){d(e.target.value)}})]}),Object(m.jsx)("div",{className:"pb-2 text-end",children:Object(m.jsx)("button",{className:"btn btn-bni sm",onClick:function(){a(o),n(j),localStorage.setItem("query",o)},children:Object(m.jsx)(x.a,{id:"generate"})})})]})});Lt.defaultProps={schema:{fields:{T1:[{field:"sampleFieldId1"}],T2:[{field:"sampleFieldId2"}]},tables:{T1:"sampleTable1",T2:"sampleTable2"}},onUpdateSchema:function(){},onUpdateObject:function(){}};var It=Lt,Rt={fields:{T1:[{field:"inc_exp_cat_id",marker:!0,relationId:"blue",type:"int(11)"},{field:"inc_exp_cat_name",type:"varchar(40)"}],T2:[{field:"credit_card_id",marker:!0,relationId:"red",type:"int(11)"},{field:"credit_card_name",type:"varchar(40)"},{field:"credit_card_number",type:"varchar(20)"},{field:"credit_card_start_date",type:"char(2)"},{field:"credit_card_end_date",type:"char(2)"},{field:"credit_card_payment_date",type:"char(2)"}],T3:[{field:"cc_id",marker:!0,type:"int(11)"},{field:"cc_transaction",type:"varchar(100)"},{field:"cc_date",type:"date"},{field:"cc_opening_balance",type:"decimal(10,2)"},{field:"cc_payment_credits",type:"decimal(10,2)"},{field:"cc_purchases",type:"decimal(10,2)"},{field:"cc_taxes_interest",type:"decimal(10,2)"},{field:"cc_expected_balance",type:"decimal(10,2)"},{field:"cc_for_card",relationId:"red",type:"int(11)"},{field:"cc_inc_exp_cat",relationId:"blue",type:"int(11)"},{field:"cc_comments",type:"varchar(100)"}]},tables:{T1:"income_expense_category",T2:"credit_cards",T3:"credit_card_transactions"}},Bt={fields:{T1:[{field:"inc_exp_cat_id",marker:!0,relationId:"red",type:"int(11)"},{field:"inc_exp_cat_name",type:"varchar(40)"}],T2:[{field:"bank_id",marker:!0,relationId:"blue",type:"int(11)"},{field:"bank_name",type:"varchar(40)"},{field:"bank_account_number",type:"varchar(20)"},{field:"bank_ifsc_code",type:"varchar(15)"},{field:"bank_card_no",type:"varchar(20)"},{field:"bank_card_validity",type:"varchar(7)"},{field:"isPrimaryAccount",type:"tinyint(1)"}],T3:[{field:"inc_exp_id",marker:!0,type:"int(11)"},{field:"inc_exp_name",type:"varchar(100)"},{field:"inc_exp_amount",type:"decimal(10,2)"},{field:"inc_exp_plan_amount",type:"decimal(10,2)"},{field:"inc_exp_type",type:"char(2)"},{field:"inc_exp_date",type:"date"},{field:"inc_exp_category",relationId:"red",type:"int(11)"},{field:"inc_exp_bank",relationId:"blue",type:"int(11)"},{field:"inc_exp_comments",type:"varchar(100)"}]},tables:{T1:"income_expense_category",T2:"banks",T3:"income_expense"}},Yt=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(Ft),i=J.a.getNow(),o=Object.assign({},e),d=Object(r.useState)("Credit Cards"),u=Object(s.a)(d,2),b=u[0],j=u[1],f=Object(r.useState)([]),p=Object(s.a)(f,2),h=p[0],O=p[1],g=Object(r.useState)(!1),_=Object(s.a)(g,2),v=_[0],y=_[1],N=Object(r.useState)(!1),M=Object(s.a)(N,2),D=M[0],w=M[1],S=Object(r.useState)({TableAliasRows:[],TableRows:[]}),T=Object(s.a)(S,2),C=T[0],k=T[1],P=Object(r.useState)([]),E=Object(s.a)(P,2),A=E[0],L=E[1],I=[{id:2,label:t.formatMessage({id:"bankAccounts"}),component:Object(m.jsx)(It,{schema:Bt,onUpdateSchema:function(e){return R(e)}})},{id:1,label:t.formatMessage({id:"creditCardAccounts"}),component:Object(m.jsx)(It,{schema:Rt,onUpdateSchema:function(e){return R(e)}})}];Object(r.useEffect)((function(){if(h.length>0){var e=Object.keys(h[0]);k({TableAliasRows:e,TableRows:e,rowElements:Array(e.length).fill("label")});var t=e.map((function(e){return{displayName:e.replace(/,/g,""),id:e}}));L(t)}}),[h]);var R=function(e){O([]),y(!0),w(!0),function(e){var t=new FormData,a=e.replace(/%/g,"{%}"),n=encodeURIComponent(a);return t.append("postData",n),se.a.post("/account_planner/runQuery",t)}(e).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!1),O(t.data.response.result);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){y(!1),a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong"})})}))};function B(e){var t=e.children,a=e.eventKey,n=e.object,c=Object(Ge.b)(a,(function(){j(n.label),O([]),w(!1)}));return Object(m.jsx)("button",{type:"button",className:"col-12 text-start btn btn-dark",onClick:c,children:t})}return Object(m.jsx)("div",{className:"mt-15",children:Object(m.jsx)(Je.a,{bsPrefix:"util",defaultActiveKey:0,children:I.map((function(e,t){return Object(m.jsxs)(Ze.a,{className:"my-2 bg-dark text-white",children:[Object(m.jsx)(Ze.a.Header,{className:"m-0 row",children:Object(m.jsx)(B,{eventKey:e.id,object:e,children:e.label})}),Object(m.jsx)(Je.a.Collapse,{eventKey:e.id,children:Object(m.jsxs)(Ze.a.Body,{className:"p-2",children:[e.label===b&&e.component,h.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"buttonGrid",children:[Object(m.jsx)("div",{}),Object(m.jsx)(Le.a,{datas:J.a.stripCommasInCSV(h),filename:"Query-result-".concat(i,".csv"),columns:A,children:Object(m.jsx)(ve.a,{placement:"left",delay:{show:250,hide:400},overlay:(a="Export CSV",Object(m.jsx)(_e.a,Object(l.a)(Object(l.a)({id:"button-tooltip-1",className:"in show"},o),{},{children:a}))),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-file-excel-o roundedButton pull-right"})})})]}),Object(m.jsx)(xe.a,{dbData:h,cellWidth:"20rem",TableAliasRows:C.TableAliasRows,TableRows:C.TableRows,rowElements:C.rowElements})]}),!v&&!h.length&&D&&Object(m.jsx)("div",{className:"py-3 text-center",children:Object(m.jsx)(x.a,{id:"noRecordsGenerated"})}),v&&Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})})]},e.id);var a}))})})},Ft=i.a.createContext(),Ut=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(f);document.title="Money planner";var n=Object(r.useState)([]),c=Object(s.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)([]),d=Object(s.a)(l,2),u=d[0],b=d[1],p=Object(r.useState)([]),h=Object(s.a)(p,2),O=h[0],g=h[1],_=Object(r.useState)([]),v=Object(s.a)(_,2),y=v[0],N=v[1],M=Object(r.useState)([]),D=Object(s.a)(M,2),w=D[0],S=D[1],T=Object(r.useState)(""),C=Object(s.a)(T,2),k=C[0],P=C[1],E=Object(r.useState)([]),A=Object(s.a)(E,2),L=A[0],I=A[1],R=Object(r.useState)(""),B=Object(s.a)(R,2),Y=B[0],F=B[1],U=Object(r.useState)(""),K=Object(s.a)(U,2),W=K[0],q=K[1],V=Object(r.useState)(""),H=Object(s.a)(V,2),z=H[0],Z=H[1],$=Object(r.useState)(""),X=Object(s.a)($,2),Q=X[0],ee=X[1],te=Object(r.useState)(""),ae=Object(s.a)(te,2),ne=ae[0],ce=ae[1],re=Object(r.useState)({}),ie=Object(s.a)(re,2),oe=ie[0],le=ie[1],de=Object(r.useState)(!1),ue=Object(s.a)(de,2),be=ue[0],me=ue[1],fe=Object(r.useState)(!1),he=Object(s.a)(fe,2),Oe=he[0],ge=he[1],xe=Object(r.useState)(!1),_e=Object(s.a)(xe,2),ve=_e[0],ye=_e[1],Ne=Object(r.useState)(!1),De=Object(s.a)(Ne,2),we=De[0],Se=De[1],Te=Object(r.useState)(!1),Ce=Object(s.a)(Te,2),ke=Ce[0],Pe=Ce[1],Ee=Object(r.useState)(!1),Ae=Object(s.a)(Ee,2),Le=Ae[0],Ie=Ae[1],Re=Object(r.useState)(!1),Ye=Object(s.a)(Re,2),Fe=Ye[0],Ke=Ye[1],qe=Object(r.useState)(!1),He=Object(s.a)(qe,2),Ge=He[0],Je=He[1];Object(r.useEffect)((function(){var e=se.a.get("/account_planner/year_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),a=se.a.get("/account_planner/bank_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),n=se.a.get("/account_planner/cc_year_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),c=se.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e,a,n,c]).then((function(e){e[0].length>0?o(e[0]):o([{id:t.formatMessage({id:"null"}),value:t.formatMessage({id:"null"})}]),e[0].length>0&&e[0][0].id?q(e[0][0].id):q(""),e[1].length>0?g(e[1]):g([{id:t.formatMessage({id:"null"}),value:t.formatMessage({id:"null"})}]),e[1].length>0&&e[1][0].id?Z(e[1][0].id):Z(""),e[2].length>0?b(e[2]):b([{id:t.formatMessage({id:"null"}),value:t.formatMessage({id:"null"})}]),e[2].length>0&&e[2][0].id?P(e[2][0].id):P(""),e[3].length>0?I(e[3]):I([{id:t.formatMessage({id:"null"}),value:t.formatMessage({id:"null"})}]),e[3].length>0&&e[3][0].id?F(e[3][0].id):F("")})),S([])}),[t]);var Ze=function(){me(!0),N([]),function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),se.a.post("/account_planner/getIncExpChartData",n)}("".concat(W,"-01-01"),"".concat(W,"-12-31"),z).then((function(e){N(e.data.response)})).catch((function(e){N([]),console.log(e)})).finally((function(){me(!1)}))},$e=function(){ge(!0),S([]),le([]),ce(null),function(e){var t=new FormData;return t.append("bank",e),se.a.post("/account_planner/credit_card_details",t)}(Y).then((function(e){var t=e.data.response[0];le(t);var a="undefined"!==typeof t?"".concat(k-1,"-12-").concat(t.credit_card_start_date):"".concat(k-1,"-12-1"),n="undefined"!==typeof t?"".concat(k,"-12-").concat(t.credit_card_end_date):"".concat(k,"-12-31");(function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),se.a.post("/account_planner/getCreditCardChartData",n)})(a,n,Y).then((function(e){var t=e.data.response,a=t.length>0?new Date(t[0].month):new Date,c=a.getDate()>new Date(n).getDate()?J.a.addMonths(a,1):J.a.addMonths(a,0);S(t),ce(J.a.dateToMonthYear(c))})).catch((function(e){console.log(e)})).finally((function(){ge(!1)}))})).catch((function(e){console.log(e)}))},Qe=function(){return Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})};return Object(m.jsxs)(Ft.Provider,{value:{renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,s=e.icon,r=void 0===s?"fa fa-check-circle":s,i=e.message;return j.b[c](Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:[Object(m.jsx)("i",{className:r})," ",Object(m.jsx)("span",{dangerouslySetInnerHTML:{__html:i}})]})}),{autoClose:a})}},children:[Object(m.jsx)(j.a,{className:"bniToaster"}),Object(m.jsxs)("section",{className:"",children:[ke&&Object(m.jsx)(bt,{show:ke,onHide:function(){return Pe(!1)},size:"sm",animation:!1}),Le&&Object(m.jsx)(ot,{className:"accountPlanner fastShopping",show:Le,onHide:function(){return Ie(!1)},size:"sm",animation:!1}),Fe&&Object(m.jsx)(mt,{className:"confirmQBModal",show:Fe,onHide:function(){Ke(!1),Je(!1)},onYes:function(){Ke(!1),Je(!0)},size:"md",animation:!1}),Object(m.jsxs)("div",{className:"pt-5",children:[Object(m.jsx)("div",{className:"pt-4",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h2",{className:"",children:Object(m.jsx)(x.a,{id:"moneyPlanner"})}),Object(m.jsx)("hr",{className:"hr"}),Object(m.jsx)("i",{className:"fa fa-money fa-5x py-3"}),Object(m.jsx)("p",{className:"p-10",children:Object(m.jsx)(x.a,{id:"moneyPlannerSubtitle"})})]})}),Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"accountPlanner ".concat(a.userData.theme),children:O.length>0&&i.length&&u.length>0&&L.length>0>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"row py-2",children:[Object(m.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(m.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between",onClick:function(){return ye(!ve)},children:[Object(m.jsx)(x.a,{id:"coreSettings"}),Object(m.jsx)("i",{className:"fa fa-cog ps-2"})]})}),Object(m.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(m.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between ps-2",onClick:function(){return Se(!we)},children:[Object(m.jsx)(x.a,{id:"totalHoldings"}),Object(m.jsx)("i",{className:"fa fa-cubes ps-2"})]})}),Object(m.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(m.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between",onClick:function(){localStorage.getItem("query")?Je(!Ge):Ke(!0)},children:[Object(m.jsx)(x.a,{id:"queryBuilder"}),Object(m.jsx)("i",{className:"fa fa-database ps-2"})]})}),ve&&Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(Xe,{})}),we&&Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(pt,{})}),Ge&&Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("div",{children:Object(m.jsx)(Yt,{})})})]}),Object(m.jsx)("div",{className:"h5",children:Object(m.jsx)(x.a,{id:"bankTransactions"})}),Object(m.jsxs)("div",{className:"row mt-10",children:[Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(Ue,{bankList:O,onSelectBank:function(e){return function(e){N([]),Z(e)}(e)},title:t.formatMessage({id:"select"})})}),Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(We,{yearList:i,onSelectYear:function(e){return function(e){N([]),q(e),ee("")}(e)},title:t.formatMessage({id:"select"})})}),Object(m.jsx)("div",{className:"col-md-3 py-2",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:function(){return Ze()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"generate"})})})}),Object(m.jsx)("div",{className:"col-md-1 py-2 mb-2",children:Object(m.jsx)("button",{onClick:function(){return Ie(!0)},className:"btn btn-bni w-100",children:Object(m.jsx)("i",{className:"fa fa-cart-plus"})})})]}),be?Qe():Object(m.jsx)(je,{chartData:y,onMonthYearSelected:function(e){ee(""),setTimeout((function(){ee(e)}),1)}}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12 b-0 mb-10 pr-0 pl-0",children:y.length>0&&z&&Q&&Object(m.jsx)(Be,{bankSelected:z,monthYearSelected:Q})})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("div",{className:"h5",children:Object(m.jsx)(x.a,{id:"creditCardTransactions"})})})}),Object(m.jsxs)("div",{className:"row py-2",children:[Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(ze,{ccBankList:L,onSelectCcBank:function(e){return function(e){S([]),F(e)}(e)}})}),Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(Ve,{ccYearList:u,onSelectCcYear:function(e){return function(e){S([]),P(e)}(e)}})}),Object(m.jsx)("div",{className:"col-md-3 py-2",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:function(){return $e()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"generate"})})})}),Object(m.jsx)("div",{className:"col-md-1 py-2",children:Object(m.jsx)("button",{onClick:function(){return Pe(!0)},className:"btn btn-bni w-100",children:Object(m.jsx)("i",{className:"fa fa-calendar-o mt-20"})})})]}),Oe?Qe():w&&w.length>0?Object(m.jsx)(pe,{ccChartData:w,onCcMonthYearSelected:function(e){ce(e)},ccDetails:oe,ccYearSelected:k,ccMonthYearSelected:ne}):Object(m.jsx)("div",{className:"py-3 text-center",children:Object(m.jsx)(x.a,{id:"noRecordsGenerated"})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12 pt-2",children:w.length>0&&Y&&ne&&Object(m.jsx)(at,{ccMonthYearSelected:ne,ccBankSelected:Y,ccDetails:oe})})})]}):Qe()})})]})]})]})};Ut.defaultProps={property:"String name"};var Kt=Ut,Wt=a(671),qt=a.n(Wt),Vt=a(668),Ht=a(860),zt=["btnValue","btnClassName","label","children"];var Gt=function(e){var t=e.btnValue,a=e.btnClassName,n=e.label,c=e.children,i=Object(d.a)(e,zt),o=Object(r.useState)(!1),u=Object(s.a)(o,2),b=u[0],j=u[1],p=Object(r.useContext)(f);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Vt.a,{tabIndex:"-1",variant:null,dangerouslySetInnerHTML:{__html:t},className:a,onClick:function(){return j(!0)}}),Object(m.jsxs)(Ht.a,Object(l.a)(Object(l.a)({show:b,onHide:function(){return j(!1)}},i),{},{className:"".concat("dark"===p.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[Object(m.jsx)(Ht.a.Header,{closeButton:!0,children:Object(m.jsx)(Ht.a.Title,{children:n})}),Object(m.jsx)(Ht.a.Body,{className:"".concat("dark"===p.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:c})]}))]})},Jt=["structure","showSubmit","parentClassName","onChange","onSubmit","submitBtnLabel","submitBtnClassName"];function Zt(e){var t=e.structure,a=e.showSubmit,n=e.parentClassName,c=e.onChange,i=e.onSubmit,o=e.submitBtnLabel,u=e.submitBtnClassName,b=Object(d.a)(e,Jt),j=Object(r.useContext)(f),p=Object(r.useState)(t),h=Object(s.a)(p,2),O=h[0],g=h[1],x=Object(r.useState)(!1),_=Object(s.a)(x,2),v=_[0],y=_[1],N=Object(r.useState)([]),M=Object(s.a)(N,2),D=M[0],w=M[1];Object(r.useEffect)((function(){g(O)}),[JSON.stringify(O)]);var S=function(e,t,a,n){c(t,a,n)},T=function(e){var t=e.label;return Object(m.jsx)("div",{className:"text-danger pt-2",children:t})},C=function(e,t){if(e.options&&e.options.validation){var a=Object(Z.a)(D);if(new RegExp(e.options.validation).test(t)){var n=a.indexOf(e.index);-1!==n&&a.splice(n,1)}else a.push(e.index);a=Object(Z.a)(new Set(a)),w(a)}},k=Object(r.useCallback)(qt()((function(e,t){S(0,t.index,e.target.value),C(t,e.target.value)}),300),[]),P=function(e,t){switch(e.elementType){case"hidden":return Object(m.jsx)("div",{children:Object(m.jsx)("input",Object(l.a)({id:e.id,className:"d-none",type:"hidden",defaultValue:e.value},b))},t);case"text":return Object(m.jsxs)("div",{className:"py-2 text-dark",children:[Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",Object(l.a)({id:e.id,type:"text",placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":""),defaultValue:e.value},b)),e.options&&e.options.help&&Object(m.jsx)(Gt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},t)}))})},1),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]}),D.includes(e.index)&&Object(m.jsx)(T,{label:e.options.errorMsg})]},t);case"number":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(m.jsx)(Gt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},t)}))})},1),Object(m.jsx)("input",Object(l.a)({id:e.id,type:"number",placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":""),defaultValue:e.value},b)),D.includes(e.index)&&Object(m.jsx)(T,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"textArea":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(m.jsx)(Gt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},t)}))})},1),Object(m.jsx)("textarea",Object(l.a)(Object(l.a)({id:e.id,style:{height:"".concat(e.options.rowLength,"px")},placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":"")},b),{},{defaultValue:e.value})),D.includes(e.index)&&Object(m.jsx)(T,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"password":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating password",children:[e.options&&e.options.help&&Object(m.jsx)(Gt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},t)}))})},1),Object(m.jsx)("input",Object(l.a)({id:e.id,type:"".concat(v?"text":"password"),placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(D.includes(e.index)?"is-invalid":""),defaultValue:e.value},b)),Object(m.jsx)("i",{onClick:function(){return y(!v)},className:"eye fa fa-".concat(v?"eye":"eye-slash")}),D.includes(e.index)&&Object(m.jsx)(T,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"dropDown":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(m.jsx)(Gt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},t)}))})},1),Object(m.jsxs)("select",Object(l.a)(Object(l.a)({id:e.id,onChange:function(t){C(e,t.target.value),S(0,e.index,t.target.value)},className:"form-select ".concat(D.includes(e.index)?"is-invalid":""),value:e.value},b),{},{children:[Object(m.jsx)("option",{value:"",children:e.placeHolder}),e.list&&e.list.length>0&&e.list.map((function(e,t){return Object(m.jsx)("option",{value:e.value,children:e.label},t)}))]})),D.includes(e.index)&&Object(m.jsx)(T,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"checkBox":return Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)("div",{className:"position-relative",children:[Object(m.jsx)("div",{children:e.label}),Object(m.jsxs)("div",{children:[e.options&&e.options.help&&Object(m.jsx)(Gt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},t)}))})},1),e.list.map((function(t,a){var n=ie.a.uniqueId("checkbox-".concat(t.id,"-"));return Object(m.jsxs)("div",{className:"form-check ".concat(e.isInline?"d-inline-block":"d-block"),children:[Object(m.jsx)("input",Object(l.a)({className:"form-check-input",onChange:function(a){S(0,e.index,"",{id:t.id,checked:a.target.checked}),C(e,e.value)},type:"checkbox",defaultValue:t.value,id:n,disabled:t.disabled,defaultChecked:t.checked,name:e.index},b)),Object(m.jsx)("label",{className:"form-check-label pe-2",htmlFor:n,children:t.label})]},a)}))]}),D.includes(e.index)&&Object(m.jsx)(T,{label:e.options.errorMsg})]})},t);case"radio":return Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)("div",{className:"position-relative",children:[Object(m.jsx)("div",{children:e.label}),Object(m.jsxs)("div",{children:[e.options&&e.options.help&&Object(m.jsx)(Gt,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-white rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-white text-dark"),children:e},t)}))})},1),e.list.map((function(t,a){var n=ie.a.uniqueId("radio-".concat(t.id,"-"));return Object(m.jsxs)("div",{className:"form-check ".concat(e.options.isInline?"d-inline-block":"d-block"),children:[Object(m.jsx)("input",Object(l.a)({className:"form-check-input",onChange:function(t){C(e,t.target.value),S(0,e.index,t.target.value)},type:"radio",defaultValue:t.value,id:n,disabled:t.disabled,defaultChecked:t.checked,name:e.index},b)),Object(m.jsx)("label",{className:"form-check-label pe-2",htmlFor:n,children:t.label})]},a)}))]}),D.includes(e.index)&&Object(m.jsx)(T,{label:e.options.errorMsg})]})},t);default:return Object(m.jsx)("div",{children:"Unknown Element"})}};return Object(m.jsx)("div",{className:n,children:Object(m.jsxs)("div",{className:"row",children:[O.length>0&&O.map((function(e,t){return Object(m.jsx)("div",{className:e.className,children:P(e,t)},t)})),O.length>0&&O.filter((function(e){return"hidden"===e.elementType})).length>0&&O.filter((function(e){return"hidden"===e.elementType})).map((function(e,t){return P(e,t)})),a&&Object(m.jsx)("div",{className:"col-md-12 py-2",children:Object(m.jsx)("button",{onClick:function(){return function(){var e=O.map((function(e){return!!e.options&&!!e.options.validation&&!new RegExp(e.options.validation).test(e.value)&&e.index})).filter((function(e){return e}));e.length>0?w(e):i()}()},className:u,children:o})})]})})}Zt.defaultProps={structure:{options:{rowLength:3}},submitBtnLabel:"Submit",submitBtnClassName:"btn btn-sm btn-success",showSubmit:!0,parentClassName:"my-reactive-form"};var $t=Zt;var Xt=function(e){var t=e.data,a=e.menu,n=e.onMassagePayload,c=e.onReactiveFormSubmit,i=Object(r.useState)(0),o=Object(s.a)(i,2),d=o[0],u=o[1],b=Object(r.useState)([]),j=Object(s.a)(b,2),f=j[0],p=j[1];Object(r.useEffect)((function(){h(a[0].filterArray)}),[]),Object(r.useEffect)((function(){h(a[d].filterArray)}),[d]);var h=function(e){var a=Object(Z.a)(t);a=a.map((function(t){return t.className=t.className.replaceAll(" d-none",""),e.includes(t.id)||(t.className="".concat(t.className," d-none")),t})),p(a)};return Object(m.jsx)("section",{children:Object(m.jsxs)("div",{className:"wizard",children:[Object(m.jsx)("div",{className:"py-3",children:Object(m.jsx)("ul",{className:"d-flex justify-content-between",role:"tablist",children:a.map((function(t,a){return Object(m.jsx)(ve.a,{placement:"top",overlay:(n=t.label,Object(m.jsx)(_e.a,Object(l.a)(Object(l.a)({id:"wizard-tooltip",className:"in show"},e),{},{children:n}))),triggerType:"hover",children:Object(m.jsx)("li",{className:"btn rounded-circle ".concat(t.id===d?"btn-bni":"btn-secondary"),onClick:function(){return u(t.id)},children:Object(m.jsx)("span",{className:"round-tab",children:Object(m.jsx)("i",{className:t.icon})})})},a);var n}))})}),Object(m.jsxs)("div",{className:"tab-content",children:[Object(m.jsxs)("div",{className:"row pb-2",children:[Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)("button",{disabled:0===d,onClick:function(){u(d-1)},className:"btn btn-bni pull-left",children:Object(m.jsx)("i",{className:"fa fa-angle-double-left"})})}),Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)("button",{disabled:d===a.length-1,onClick:function(){u(d+1)},className:"btn btn-bni pull-right",children:Object(m.jsx)("i",{className:"fa fa-angle-double-right"})})})]}),f.length>0&&Object(m.jsx)($t,{parentClassName:"reactive-form text-dark",structure:f,onChange:function(e,t){return n(e,t)},onSubmit:function(){return c()},submitBtnClassName:"btn btn-bni pull-right"}),Object(m.jsx)("div",{className:"clearfix"})]})]})})};var Qt=function(e){var t,a,n=Object(Me.a)(),c=[{id:0,label:n.formatMessage({id:"googleApi"}),icon:"fa fa-google",filterArray:["google_map_api_key","google_login_auth_token","facebook_app_id"]},{id:1,label:n.formatMessage({id:"webDefaults"}),icon:"fa fa-globe",filterArray:["web","email","bgSong","bgSongDefaultPlay","switchSongFeatureRequired","bgVideo","bgVideoDefaultPlay","switchVideoFeatureRequired","bannerImg","logoImg","favIconImg","webLayoutType","webMenuType","webTheme","switchThemeFeatureRequired","webThemeColor","webThemeBackground"]},{id:2,label:n.formatMessage({id:"AWSS3"}),icon:"fa fa-amazon",filterArray:["aws_s3_access_key_id","aws_s3_secret_access_key","aws_s3_bucket","aws_s3_region"]},{id:3,label:n.formatMessage({id:"socialMedia"}),icon:"fa fa-share-square",filterArray:["social_media_facebook","social_media_twitter","social_media_linkedIn","social_media_instagram","switchSocialMediaFeatureRequired"]}],i=[{id:"config_id",index:"config_id",elementType:"hidden",value:"",className:""},{id:"web",index:"web",label:n.formatMessage({id:"website"}),elementType:"text",value:"",placeHolder:"johndoe.com",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"enterValidWebsite"}),help:[n.formatMessage({id:"yourWebDomain"}),n.formatMessage({id:"thisValueWillBeSetToYourGlobalVariables"})]}},{id:"email",index:"email",label:n.formatMessage({id:"email"}),elementType:"text",value:"",placeHolder:"support@johndoe.com",className:"col-md-4 col-sm-6",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:n.formatMessage({id:"enterValidEmail"}),help:[n.formatMessage({id:"yourPersonalOrCompanyMailId"}),n.formatMessage({id:"thisValueWillBeSetToYourGlobalVariables"})]}},{id:"google_map_api_key",index:"google_map_api_key",label:n.formatMessage({id:"googleMapApiKey"}),elementType:"textArea",value:"",placeHolder:"xxYYzz",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"howToGetThem"}),n.formatMessage({id:"goTo"},{link:"https://console.cloud.google.com/"}),n.formatMessage({id:"scrollAndClickGoogleMapsPlatform"}),n.formatMessage({id:"clickValue"},{value:"Credentials"}),n.formatMessage({id:"ClickValueAtTheTopCenter"},{value:"+Create Credentials"}),n.formatMessage({id:"ClickValueAtTheTopCenter"},{value:"API Key"}),n.formatMessage({id:"copyTheGeneratedKey"}),n.formatMessage({id:"pasteHereAndSave"}),n.formatMessage({id:"youAreDoneGoogleMaps"})]}},{id:"google_login_auth_token",index:"google_login_auth_token",label:n.formatMessage({id:"googleLoginAuthToken"}),elementType:"textArea",value:"",placeHolder:"xxYYzz",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"howToGetThem"}),n.formatMessage({id:"goTo"},{link:"https://console.cloud.google.com/"}),n.formatMessage({id:"clickValue"},{value:"API Services"}),n.formatMessage({id:"clickValue"},{value:"Credentials"}),n.formatMessage({id:"ClickValueAtTheTopCenter"},{value:"+Create Credentials"}),n.formatMessage({id:"clickValue"},{value:"Oauth Client Id"}),n.formatMessage({id:"selectWebApplicationGiveaSuitableName"}),n.formatMessage({id:"clickValue"},{value:"Add URI"}),n.formatMessage({id:"typeYourDomainUrl"}),n.formatMessage({id:"clickValue"},{value:"Create"}),n.formatMessage({id:"copyValue"},{value:"Client ID"}),n.formatMessage({id:"pasteHere"}),n.formatMessage({id:"youAreDone"}),n.formatMessage({id:"nowYouAllowPublicToLoginViaGoogleLogin"})]}},{id:"facebook_app_id",index:"facebook_app_id",label:n.formatMessage({id:"facebookAppId"}),elementType:"textArea",value:"",placeHolder:"100Xxxxxyyy",className:"col-md-4 col-sm-6",options:{required:!0,rowLength:"100",validation:/([^\s])/,errorMsg:"Facebook app id required",help:[n.formatMessage({id:"howToGetThem"}),n.formatMessage({id:"goTo"},{link:"https://developers.facebook.com/"}),n.formatMessage({id:"signupAnAccountIfYouDontHaveOne"}),n.formatMessage({id:"onceLoggedInYourAppIdWillBeVvailableOnTheTopHeader"}),n.formatMessage({id:"dontForgetToToggleEnforceHttpsToYes"}),n.formatMessage({id:"copyPasteHere"}),n.formatMessage({id:"youAreDone"}),n.formatMessage({id:"nowYouAllowPublicToLoginViaFacebookLogin"})]}},{id:"bgSong",index:"bgSong",label:n.formatMessage({id:"themeBackgroundMusic"}),elementType:"textArea",value:"",placeHolder:"https://mysong.mp3",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"chooseYourThemeSongPlayableForPeople"}),n.formatMessage({id:"ifNotRequiredLeaveaSlash"}),n.formatMessage({id:"ifRequiredPasteItFromAwsGallery"})]}},{id:"bgSongDefaultPlay",index:"bgSongDefaultPlay",label:n.formatMessage({id:"themeMusicDefaultPlay"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"themeMusicDefaultPlay"}),list:[{label:n.formatMessage({id:"yes"}),value:1},{label:n.formatMessage({id:"no"}),value:0}],className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"themeBackgroundMusicWillBePlayed"}),n.formatMessage({id:"ifRequiredPasteItFromAwsGallery"})]}},{id:"switchSongFeatureRequired",index:"switchSongFeatureRequired",label:n.formatMessage({id:"requireBackgroundSongSwitch"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"requireBackgroundSongSwitch"}),className:"col-md-4 col-sm-6",list:[{label:n.formatMessage({id:"yes"}),value:"1"},{label:n.formatMessage({id:"no"}),value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"youCanShowOrHideAudioControl"}),n.formatMessage({id:"thisFeatureCanBeEnabledOrDisabled"})]}},{id:"bgVideo",index:"bgVideo",label:n.formatMessage({id:"themeBackgroundVideo"}),elementType:"textArea",value:"",placeHolder:"https://my-video.mp4",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"chooseYourThemeVideoWhichPlaysInBackground"}),n.formatMessage({id:"dontWorryItWillBeMuted"}),n.formatMessage({id:"KeepaSmallVideo"}),n.formatMessage({id:"ifRequiredPasteItFromAwsGallery"})]}},{id:"bgVideoDefaultPlay",index:"bgVideoDefaultPlay",label:n.formatMessage({id:"themeVideoDefaultPlay"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"themeVideoDefaultPlay"}),list:[{label:n.formatMessage({id:"yes"}),value:"1"},{label:n.formatMessage({id:"no"}),value:"0"}],className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"themeBackgroundVideoWillBePlayed"})]}},{id:"switchVideoFeatureRequired",index:"switchVideoFeatureRequired",label:n.formatMessage({id:"requireBackgroundVideoSwitch"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"requireBackgroundVideoSwitch"}),className:"col-md-4 col-sm-6",list:[{label:n.formatMessage({id:"yes"}),value:"1"},{label:n.formatMessage({id:"no"}),value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"youCanShowOrHideVideoControlSwitch"}),n.formatMessage({id:"thisFeatureCanBeEnabledOrDisabled"})]}},{id:"bannerImg",index:"bannerImg",label:n.formatMessage({id:"logoImage"}),elementType:"textArea",value:"",placeHolder:"https://my-banner-img.svg",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"setYourLogoImage"}),n.formatMessage({id:"pngOrSvgTypeIsRecommended"}),n.formatMessage({id:"200X40DimensionRequired"}),n.formatMessage({id:"ifRequiredPasteItFromAwsGallery"}),n.formatMessage({id:"thisWillBeAvailableInTopGlobalHeader"})]}},{id:"logoImg",index:"logoImg",label:n.formatMessage({id:"logoIcon"}),elementType:"textArea",value:"",placeHolder:"https://my-logo.svg",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"setYourLogoIcon"}),n.formatMessage({id:"pngOrSvgTypeIsRecommended"}),n.formatMessage({id:"ifRequiredPasteItFromAwsGallery"})]}},{id:"favIconImg",index:"favIconImg",label:n.formatMessage({id:"faviconImage"}),elementType:"textArea",value:"",placeHolder:"https://my-favicon.icon",className:"col-md-4 col-sm-6",options:{required:!0,validation:/$/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"setYourFavicon"}),n.formatMessage({id:"32X32Or64X64SizeIsSufficient"}),n.formatMessage({id:"ifRequiredPasteItFromAwsGallery"})]}},{id:"webLayoutType",index:"webLayoutType",label:n.formatMessage({id:"WebLayoutType"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"WebLayoutType"}),className:"col-md-4 col-sm-6",list:[{label:"Default",value:"default"},{label:"Classic",value:"classic"}],options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"thisSetupIsOnlyForLargeDisplays"}),"Default: ".concat(n.formatMessage({id:"occupiesEntireWidthOfScreen"})),"Classic: ".concat(n.formatMessage({id:"occupies70%WidthInScreenMiddle"}))]}},{id:"webMenuType",index:"webMenuType",label:n.formatMessage({id:"WebMenuType"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"WebMenuType"}),className:"col-md-4 col-sm-6",list:[{label:n.formatMessage({id:"top"}),value:"topMenu"},{label:n.formatMessage({id:"left"}),value:"sideMenuLeft"},{label:n.formatMessage({id:"right"}),value:"sideMenuRight"}],options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"whereYouWantToPlaceYourMenuLinks"})]}},{id:"webTheme",index:"webTheme",label:n.formatMessage({id:"webTheme"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"webTheme"}),className:"col-md-4 col-sm-6",list:[{label:n.formatMessage({id:"dark"}),value:"dark"},{label:n.formatMessage({id:"light"}),value:"light"}],options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"howDoesYourWebsiteLookOnStartUp"}),"".concat(n.formatMessage({id:"dark"})," / ").concat(n.formatMessage({id:"light"}))]}},{id:"switchThemeFeatureRequired",index:"switchThemeFeatureRequired",label:n.formatMessage({id:"switchThemeFeatureRequired"}),elementType:"dropDown",value:"",placeHolder:n.formatMessage({id:"switchThemeFeatureRequired"}),className:"col-md-4 col-sm-6",list:[{label:n.formatMessage({id:"yes"}),value:"1"},{label:n.formatMessage({id:"no"}),value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"youCanShowOrHideThemeButtons"}),n.formatMessage({id:"thisFeatureCanBeEnabledOrDisabled"})]}},{id:"webThemeColor",index:"webThemeColor",label:n.formatMessage({id:"webThemeColor"}),elementType:"text",value:"",placeHolder:"#000000",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"yourApplicationTextolor"}),n.formatMessage({id:"usualyItsBlack"}),n.formatMessage({id:"thisDecidesTheLookAndFeelOfYourApplication"})]}},{id:"webThemeBackground",index:"webThemeBackground",label:n.formatMessage({id:"webThemeBackgroundColor"}),elementType:"text",value:"",placeHolder:"#c2d82e",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"yourApplicationBackgroundColor"}),n.formatMessage({id:"itShouldBeaLightColor"}),n.formatMessage({id:"thisDecidesTheLookAndFeelOfYourApplication"})]}},{id:"aws_s3_access_key_id",index:"aws_s3_access_key_id",label:n.formatMessage({id:"awsS3AccessKeyId"}),elementType:"textArea",value:"",placeHolder:"XXXyyyZZZ",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"howToGetThem"}),n.formatMessage({id:"hopeYouHaveCreatedAnAwsS3Account"}),n.formatMessage({id:"goTo"},{link:"https://s3.console.aws.amazon.com/"}),n.formatMessage({id:"youllSeeThisKeyWhileAddingUserInCreateUserSection"}),n.formatMessage({id:"youNeedToCopyPasteBackup"}),n.formatMessage({id:"thisConfigurationIsImportantToMedia"}),n.formatMessage({id:"awsS3AccessKeyImportant"},{adminAccess:"AdministratorAccess"})]}},{id:"aws_s3_secret_access_key",index:"aws_s3_secret_access_key",label:n.formatMessage({id:"awsS3SecretAccessKey"}),elementType:"textArea",value:"",placeHolder:"XXXyyyZZZ",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"followSameAsInAwsS3AccessKeyId"})]}},{id:"aws_s3_bucket",index:"aws_s3_bucket",label:n.formatMessage({id:"awsS3BucketName"}),elementType:"text",value:"",placeHolder:"My-S3-Bucket",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"howToGetThem"}),n.formatMessage({id:"hopeYouHaveCreatedAnAwsS3Account"}),n.formatMessage({id:"goTo"},{link:"https://s3.console.aws.amazon.com/"}),n.formatMessage({id:"createBucket"},{bucket:"bucket"}),n.formatMessage({id:"onceCreatedClickTheBucketName"},{bucket:"bucket"}),n.formatMessage({id:"goToPermissionsTab"}),n.formatMessage({id:"checkBlockPublicAccessIsOn"},{publicAccessOn:"Block public access"}),n.formatMessage({id:"GotoBucketEditReplaceCredentials"},{bucketPolicy:"Bucket policy"}),'{\n            "Version": "2012-10-17",\n            "Statement": [\n              {\n                "Sid": "Statement1",\n                "Effect": "Allow",\n                "Principal": {\n                  "AWS": "arn:aws:iam::12345678:user/xxxyyyzzz"\n                },\n                "Action": [\n                  "s3:PutObject",\n                  "s3:PutObjectAcl",\n                  "s3:DeleteObject"\n                ],\n                "Resource": "arn:aws:s3:::yourbucketname/*"\n              }\n            ]\n          }',n.formatMessage({id:"goTo"},{link:"Cross-origin resource sharing (CORS)"}),n.formatMessage({id:"editAndReplaceCodeWithCredentials"}),'[\n            {\n              "AllowedHeaders": [\n                "*"\n              ],\n              "AllowedMethods": [\n                "GET",\n                "PUT",\n                "POST",\n                "DELETE"\n              ],\n              "AllowedOrigins": [\n                "https://yourwebsite.com"\n              ],\n              "ExposeHeaders": [\n                "ETag"\n              ]\n            }\n          ]',n.formatMessage({id:"youAreDone"})]}},{id:"aws_s3_region",index:"aws_s3_region",label:n.formatMessage({id:"awsS3RegionName"}),elementType:"text",value:"",placeHolder:"xx-south-yy",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"howToGetThem"}),n.formatMessage({id:"hopeYouHaveCreatedAnAwsS3Account"}),n.formatMessage({id:"hopeYouHaveCreatedAnAwsS3Account"},{region:"Region",bucket:"Bucket"}),n.formatMessage({id:"thisHelpsFetchAwsServer"}),n.formatMessage({id:"thisConfigurationIsImportantToMedia"})]}},{id:"social_media_facebook",index:"social_media_facebook",label:n.formatMessage({id:"facebook"}),elementType:"textArea",value:"",placeHolder:"https://facebook.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"yourSocialProfileLink"},{media:"facebook"})]}},{id:"social_media_twitter",index:"social_media_twitter",label:n.formatMessage({id:"twitter"}),elementType:"textArea",value:"",placeHolder:"https://twitter.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"yourSocialProfileLink"},{media:"twitter"})]}},{id:"social_media_linkedIn",index:"social_media_linkedIn",label:n.formatMessage({id:"linkedIn"}),elementType:"textArea",value:"",placeHolder:"https://linkedIn.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"yourSocialProfileLink"},{media:"linkedIn"})]}},(t={id:"social_media_instagram",index:"social_media_instagram",label:"",elementType:"textArea"},Object(b.a)(t,"label",n.formatMessage({id:"instagram"})),Object(b.a)(t,"placeHolder","https://instagram.com/xyz"),Object(b.a)(t,"className","col-md-4 col-sm-6"),Object(b.a)(t,"options",{validation:/$/,rowLength:100,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"yourSocialProfileLink"},{media:"instagram"})]}),t),(a={id:"switchSocialMediaFeatureRequired",index:"switchSocialMediaFeatureRequired",label:n.formatMessage({id:"switchSocialMediaFeatureRequired"}),elementType:"dropDown",value:""},Object(b.a)(a,"label",n.formatMessage({id:"switchSocialMediaFeatureRequired"})),Object(b.a)(a,"className","col-md-4 col-sm-6"),Object(b.a)(a,"list",[{label:n.formatMessage({id:"yes"}),value:"1"},{label:n.formatMessage({id:"no"}),value:"0"}]),Object(b.a)(a,"options",{required:!0,validation:/([^\s])/,errorMsg:n.formatMessage({id:"thisFieldIsRequired"}),help:[n.formatMessage({id:"youCanShowOrHideSocialMediaLinks"}),n.formatMessage({id:"thisFeatureCanBeEnabledOrDisabled"})]}),a)],o=Object(r.useContext)(f),l=Object(r.useContext)(u),d=Object(s.a)(l,2),j=d[0],p=d[1],h=Object(r.useState)(i),O=Object(s.a)(h,2),g=O[0],x=O[1],_=Object(r.useState)(!0),v=Object(s.a)(_,2),y=v[0],N=v[1];return Object(r.useEffect)((function(){N(!0),function(e,t){var a=new FormData;return a.append("TableRows",t),a.append("Table",e),se.a.post("getBackend",a)}("config",g.map((function(e){return e.index}))).then((function(e){var t=e.data.response[0],a=Object.keys(t),n=Object(Z.a)(g);n=n.map((function(e){return a.includes(e.index)&&(e.value=E.includes(e.index)?P.a.AES.decrypt(t[e.index],j.web).toString(P.a.enc.Utf8):t[e.index]),e})),x(n)})).catch((function(e){console.log(e)})).finally((function(){N(!1)}))}),[JSON.stringify(j)]),Object(m.jsx)("div",{className:"",children:y?Object(m.jsx)("div",{className:"text-center mt-100",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsx)("div",{className:"",children:Object(m.jsx)(Xt,{data:g,menu:c,onMassagePayload:function(e,t){var a=Object(Z.a)(g);a=a.map((function(a){return a.id===e&&(a.value=t),a})),x(a)},onReactiveFormSubmit:function(){N(!0);var e=Object(Z.a)(g).filter((function(e){return e.id===A}))[0].value,t=Object(Z.a)(g).map((function(t){return Object(b.a)({},t.id,E.includes(t.id)?P.a.AES.encrypt(t.value,e).toString():t.value)})),a={Table:"config",updateData:[t=Object.assign.apply(Object,[{}].concat(Object(Z.a)(t)))]},c=new FormData;c.append("postData",JSON.stringify(a)),se.a.post("/postBackend",c).then((function(e){if(e.data.response){var a=Object(Z.a)(g),c=Object.keys(t);a=a.map((function(e){return c.includes(e.index)&&(e.value=t[e.index]),e})),x(a),o.renderToast({message:n.formatMessage({id:"transactionSavedSuccessfully"})});var s=a.map((function(e){return[e.id,e.value]}));s=Object.fromEntries(s),p(s)}})).catch((function(e){return o.renderToast({type:"error",icon:"fa fa-times-circle",message:n.formatMessage({id:"unableToReachServer"})})})).finally((function(){return N(!1)}))}},1)})})},ea=a(243),ta=a(862);var aa=function(e){var t=e.isDirectory,a=e.handleupload,n=e.progress,c=Object(r.useState)([]),i=Object(s.a)(c,2),o=i[0],d=i[1],u=function(e){return Math.ceil(e.loaded/e.total*100)};return Object(r.useEffect)((function(){if(Object.keys(n).length>0){var e=Object(Z.a)(o);e.push(n);var t=e.reverse().filter((function(e,t,a){return a.findIndex((function(t){return t.Key===e.Key}))===t&&e.total!==e.loaded}));t=ie.a.sortBy(t,(function(e){return e.Key})),d(t)}}),[n]),Object(m.jsx)("div",{className:"dropZone text-center m-5",children:Object(m.jsx)(ta.a,{accept:"image/*,application/*,video/*,audio/*",maxSize:5368709120,onDrop:function(e,t,n){e.length>0&&a(e)},disabled:!t,children:function(e){var a=e.getRootProps,n=e.getInputProps,c=e.isDragAccept,s=e.isDragReject,r="dropZoneWrapper btn-bni rounded-3",i=Object(m.jsx)("div",{children:Object(m.jsx)(x.a,{id:"dragFilesHere"})});return c&&(r="".concat(r," bg-success rounded-3"),i=Object(m.jsx)("div",{className:"upload-success",children:Object(m.jsx)(x.a,{id:"dropFileOrfilesHere"})})),s&&(r="".concat(r," bg-danger rounded-3"),i=Object(m.jsx)("div",{className:"upload-error",children:Object(m.jsx)(x.a,{id:"fileTypeNotAllowed"})})),t||(r="".concat(r," disabled rounded-3"),i=Object(m.jsxs)("div",{children:[Object(m.jsx)("i",{className:"fa fa-folder-open"})," ",Object(m.jsx)(x.a,{id:"selectaFolderToUploadFiles"})]})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",Object(l.a)(Object(l.a)({},a()),{},{className:"".concat(r," title"),children:[Object(m.jsx)("input",Object(l.a)({},n())),i]})),o.length>0&&Object(m.jsx)("div",{className:"progressWrapper",children:o.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"text-center title gridLabels pb-2",children:[Object(m.jsx)("div",{className:"text-left pl-5",children:e.Key.split("/").slice(-1)}),Object(m.jsxs)("div",{className:"text-end pr-5",children:[u(e),"%"]})]}),Object(m.jsx)("div",{className:"progress",children:Object(m.jsx)("div",{className:"progress-bar",style:{width:"".concat(u(e),"%")},children:"\xa0"})})]},t)}))})]})}})})};var na=function(e){var t=e.breadCrumbs,a=e.onBreadClick;return Object(m.jsx)("div",{className:"header",children:Object(m.jsx)("div",{className:"breadCrumb",children:t.length>0?t.map((function(e,t){return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("i",{className:"fa fa-angle-right breadIcon"}),Object(m.jsx)("button",{onClick:function(){return a(e)},className:"breadButton",children:e.title})]},t)})):Object(m.jsx)("i",{className:"fa fa-angle-left breadIcon"})})})};var ca=function(e){var t=e.object,a=e.bucket,n=Object(r.useContext)(u),c=Object(s.a)(n,1)[0];Object(r.useEffect)((function(){i(t)}),[JSON.stringify(t)]);var i=function(e){var t=/[.]/.exec(e.url)?/[^.]+$/.exec(e.url)[0].toLowerCase():void 0;return["jpg","jpeg","tiff","bmp","png","gif","svg"].includes(t)?Object(m.jsx)(F,{className:"img-fluid img-thumbnail",type:"image",appData:c,unsignedUrl:"".concat(a,"/").concat(e.url),optionalAttr:{alt:e.tag}}):["mp4","mov","webm"].includes(t)?Object(m.jsx)(F,{className:"img-fluid",type:"video",optionalAttr:{controls:!0,autoPlay:!1},appData:c,unsignedUrl:"".concat(a,"/").concat(e.url)}):["mp3","ogg","wav"].includes(t)?Object(m.jsx)(F,{className:"audioThumb",type:"audio",optionalAttr:{controls:!0,autoPlay:!1},appData:c,unsignedUrl:"".concat(a,"/").concat(e.url)}):["pdf"].includes(t)?Object(m.jsx)(F,{appData:c,unsignedUrl:"".concat(a,"/").concat(e.url),children:Object(m.jsx)("i",{className:"fa fa-file-pdf-o noPreview"})}):Object(m.jsx)(F,{className:"img-fluid",appData:c,unsignedUrl:"".concat(a,"/").concat(e.url),children:Object(m.jsx)("i",{className:"fa fa-picture-o noPreview"})})};return Object(m.jsx)("div",{className:"thumbnail-height",children:i(t)})},sa=["bucket","data","directory","selectedId","onCreateFolder","onDeleteFolder","onRename","onDownload","isDirectory"];var ra=function(e){var t=Object(Me.a)(),a=e.bucket,o=e.data,u=e.directory,b=e.selectedId,j=e.onCreateFolder,p=e.onDeleteFolder,h=e.onRename,O=e.onDownload,g=e.isDirectory,_=Object(d.a)(e,sa),v=Object(r.useState)("table"),y=Object(s.a)(v,2),N=y[0],M=y[1],D=Object(r.useState)(""),w=Object(s.a)(D,2),S=w[0],T=w[1],C=Object(r.useState)(!1),k=Object(s.a)(C,2),P=k[0],E=k[1],A=Object(r.useState)(!1),L=Object(s.a)(A,2),I=L[0],R=L[1],B=Object(r.useState)({}),Y=Object(s.a)(B,2),F=Y[0],U=Y[1],K=Object(r.useContext)(f),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(a));return"".concat(parseFloat((e/Math.pow(a,s)).toFixed(n))," ").concat(c[s])},q=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("clipboard"in navigator)){e.next=6;break}return e.next=3,navigator.clipboard.writeText(t);case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",document.execCommand("copy",!0,t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){E(!1),R(!1)};Object(r.useEffect)((function(){V();var e=u,t=(e=e.split("/")).filter((function(t,a){return a<(g?e.length-2:e.length-1)})).join("/"),a=g?e[e.length-2]:e[e.length-1];U({path:t,value:a})}),[u,g]);var H,z=function(){return P?u:F.path};return Object(m.jsxs)("div",{className:"tableGrid",children:[Object(m.jsxs)("div",{className:"headerGrid",children:[!P&&!I&&Object(m.jsx)("div",{className:"dirLabel",children:u&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("i",{className:"fa fa-folder-open px-2"}),Object(m.jsx)("span",{children:u})]})}),(P||I)&&Object(m.jsxs)("div",{className:"input-group input-group-sm",children:[Object(m.jsx)(ve.a,{placement:"top",overlay:(H=z(),Object(m.jsx)(_e.a,Object(l.a)(Object(l.a)({id:"button-tooltip-1",className:"in show"},_),{},{children:H}))),triggerType:"hover",children:Object(m.jsxs)("span",{className:"input-group-text",children:[Object(m.jsx)("i",{className:"fa fa-folder-open px-2"})," ",z()]})}),Object(m.jsx)("input",{type:"text",autoFocus:!0,onFocus:function(e){return T(e.target.value)},placeholder:P?t.formatMessage({id:"newFolder"}):t.formatMessage({id:"renameFileOrFolder"}),defaultValue:I?F.value:"",onChange:function(e){return T(e.target.value)},className:"form-control"}),Object(m.jsxs)(m.Fragment,{children:[P&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){S?(j(b,S),E(!1),T("")):K.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"folderNameCantBeEmpty"})})},type:"button",children:Object(m.jsx)("i",{className:"fa fa-upload"})}),Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){return V()},type:"button",children:Object(m.jsx)("i",{className:"fa fa-undo"})})]}),I&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){return function(){var e=F.path?"".concat(F.path,"/"):"";if(S){var a={oldKey:"".concat(e).concat(F.value),newKey:"".concat(e).concat(S)};h(a,b,g)}else K.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"fieldCantBeEmpty"})})}()},type:"button",children:Object(m.jsx)("i",{className:"fa fa-font"})}),Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){return V()},type:"button",children:Object(m.jsx)("i",{className:"fa fa-undo"})})]})]})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"text-end",children:[g&&!P&&Object(m.jsx)("i",{className:"fa fa-plus viewButtons",onClick:function(){R(!1),E(!0)}}),o.length>0&&!I&&Object(m.jsx)("i",{className:"fa fa-font viewButtons",onClick:function(){E(!1),R(!0)}}),o.length>0&&Object(m.jsx)("i",{className:"fa fa-trash viewButtons",onClick:function(){return p(b)}}),Object(m.jsx)("i",{className:"fa fa-list viewButtons",onClick:function(){return M("list")}}),Object(m.jsx)("i",{className:"fa fa-table viewButtons",onClick:function(){return M("table")}})]})})]}),Object(m.jsxs)("div",{className:"gridWrapper",children:[Object(m.jsxs)("div",{className:"responsive-gallery-grid ".concat(N,"-grid"),children:["list"===N&&o.length>0&&Object(m.jsxs)("div",{className:"child ".concat(N,"-child"),children:[Object(m.jsx)("div",{className:"title ps-2",children:Object(m.jsx)(x.a,{id:"fileName"})}),Object(m.jsx)("div",{className:"title ps-2",children:Object(m.jsx)(x.a,{id:"fileSize"})}),Object(m.jsx)("div",{className:"title ps-2",children:Object(m.jsx)(x.a,{id:"lastModified"})})]}),o.length>0&&o.map((function(e,n){return Object(m.jsx)(i.a.Fragment,{children:e.size>0&&Object(m.jsxs)("div",{className:"child ".concat(N,"-child"),children:[Object(m.jsx)("div",{className:"".concat("table"===N?"text-center":""),children:Object(m.jsxs)("div",{className:"copyable",children:[Object(m.jsx)("i",{onClick:function(){return n="".concat(a,"/").concat(e.label),void q(n).then((function(){K.renderToast({message:t.formatMessage({id:"fileValueCopiedToClipboard"},{file:n})})})).catch((function(e){console.log(e)}));var n},title:"Copy to clipboard",className:"fa fa-copy btn btn-sm btn-secondary"}),Object(m.jsx)("span",{className:"ellipsis ".concat("table"===N?"text-center":""),children:e.label.split("/").slice(-1)}),Object(m.jsx)("i",{onClick:function(){return O("".concat(a,"/").concat(e.label))},className:"fa fa-download btn btn-sm btn-secondary"})]})}),"table"===N&&Object(m.jsx)(ca,{bucket:a,object:e}),"table"===N?Object(m.jsxs)("div",{className:"copyable info",children:[Object(m.jsx)("div",{className:"text-center",children:"".concat(W(e.size))}),Object(m.jsx)("div",{className:"text-center",children:ee()(e.lastModified).format("MMM Do YYYY, h:mm:ss a")})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"ps-2",children:"".concat(W(e.size))}),Object(m.jsx)("div",{className:"ps-2",children:ee()(e.lastModified).format("MMM Do YYYY, h:mm:ss a")})]})]})},n)}))]}),""===u&&Object(m.jsxs)("div",{className:"p-5 text-center",children:[Object(m.jsx)("i",{className:"fa fa-file fa-3x py-3"}),Object(m.jsx)("div",{children:Object(m.jsx)(x.a,{id:"selectaFileOrFolderToViewThem"})})]})]})]})},ia=["confirmationstring","handleHide","handleYes"];var oa=function(e){var t=Object(r.useContext)(f),a=e.confirmationstring,n=e.handleHide,c=e.handleYes,s=Object(d.a)(e,ia);return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},s),{},{style:{zIndex:9999},children:[Object(m.jsx)(Ne.a.Header,{children:Object(m.jsx)(Ne.a.Title,{children:a})}),Object(m.jsxs)(Ne.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[Object(m.jsx)("p",{className:"text-center",children:Object(m.jsx)(x.a,{id:"thisActionCannotBeUndone"})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-6 text-center",children:Object(m.jsx)("button",{onClick:function(){return c()},className:"btn btn-bni",children:Object(m.jsx)("i",{className:"fa fa-thumbs-o-up"})})}),Object(m.jsx)("div",{className:"col-6 text-center",children:Object(m.jsx)("button",{onClick:function(){return n()},className:"btn btn-bni dark",children:Object(m.jsx)("i",{className:"fa fa-thumbs-o-down"})})})]})]})]}))},la=a(856),da=a(32),ua=a.n(da),ba=(a(683),a(887));var ja=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(u),n=Object(s.a)(a,1)[0],c=Object(r.useContext)(f),i=Object(r.useState)([]),o=Object(s.a)(i,2),d=o[0],b=o[1],j=Object(r.useState)([]),p=Object(s.a)(j,2),h=p[0],O=p[1],g=Object(r.useState)(""),_=Object(s.a)(g,2),v=_[0],y=_[1],N=Object(r.useState)(!1),M=Object(s.a)(N,2),D=M[0],w=M[1],S=Object(r.useState)(""),T=Object(s.a)(S,2),C=T[0],k=T[1],P=Object(r.useState)(""),E=Object(s.a)(P,2),A=E[0],I=E[1],R=Object(r.useState)([]),B=Object(s.a)(R,2),Y=B[0],F=B[1],U=Object(r.useState)(!1),K=Object(s.a)(U,2),W=K[0],q=K[1],V=Object(r.useState)({}),H=Object(s.a)(V,2),z=H[0],$=H[1],X=Object(r.useState)(!1),Q=Object(s.a)(X,2),ee=Q[0],te=Q[1],ae=Object(r.useState)(!0),ne=Object(s.a)(ae,2),ce=ne[0],se=ne[1];Object(r.useEffect)((function(){re()}),[]);var re=function(){new L(n).fetchFileFolder({Prefix:""}).then((function(e){if(se(!0),e.Contents){var t=e.Contents.filter((function(e){return"/"!==e.Key.slice(-1)})),a=oe(t);b(a)}else{var n=Object(ba.a)(),c=[{Key:"SampleFolder/Samplefile.txt",LastModified:new Date,ETag:n,Size:0}],s=oe(c);b(s)}te(!0)})).catch((function(e){te(!1)})).finally((function(){return se(!1)}))},ie=function(e){return e.split("/").pop().indexOf(".")>-1};Object(r.useEffect)((function(){var e=Object(Z.a)(h.map((function(e){return e.title})));if(e.length>0){var a=ie(e.join("/"))?e.join("/"):"".concat(e.join("/"),"/");y(a);var s=!ie(e.join("/"));w(s),F([]),new L(n).fetchFileFolder({Prefix:a}).then((function(e){var t=e.Contents&&e.Contents.length?e.Contents.map((function(e){return{label:e.Key,url:e.Key,lastModified:e.LastModified,size:e.Size,tag:e.ETag}})):[];F(t)})).catch((function(){c.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})}))}}),[JSON.stringify(h)]);var oe=function(e){var t=[],a={z:t};return e.forEach((function(e,t){var n=e.Key.split("/");n.reduce((function(e,t){return e[t]||(e[t]={z:[]},e.z.push(Object(l.a)({key:Object(ba.a)(),title:t},n[n.length-1]!==t&&{children:e[t].z}))),e[t]}),a)})),t},le=function e(t,a){if(t.key===a)return[];if(Array.isArray(t.children)){var n,c=Object(ea.a)(t.children);try{for(c.s();!(n=c.n()).done;){var s=n.value,r=e(s,a);if(Array.isArray(r))return[s].concat(r)}}catch(i){c.e(i)}finally{c.f()}}},de=function(e){e[0]&&(O(le({children:Object(Z.a)(d)},e[0])),k(e[0]))},ue=function e(t,a,n,c){return Array.isArray(n)&&n.forEach((function(n){n.key===t?n.children&&"folder"===c?n.children=[].concat(Object(Z.a)(n.children),[a]):"file"===c&&n.children.push(a):e(t,a,n.children,c)})),n},be=function e(t,a,n){return Array.isArray(n)&&n.forEach((function(n){n.key===t?n.title=a:e(t,a,n.children)})),n},je=function(e,t,a){var n=Object(ba.a)(),c=Object(l.a)({key:n,title:t},a&&{children:[]}),s=Object(Z.a)(d),r=ue(e,c,s,a);b(r),de([n])},me=function e(t,a){return Array.isArray(a)&&a.forEach((function(n,c){n.key===t?a.splice(c,1):e(t,n.children)})),a},fe=function(){new L(n).deleteFolder(v,(function(e){"success"===e.status?c.renderToast({message:D?t.formatMessage({id:"folderSuccessfullyDeleted"}):t.formatMessage({id:"fileSuccessfullyDeleted"})}):c.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToDeleteFileOrfolder"})})}));var e=Object(Z.a)(d),a=me(A,e);b(a),q(!1),he()},pe=function(e,a,s){(s?new L(n).renameFolder(e):new L(n).renameFile(e)).then((function(){c.renderToast({message:D?t.formatMessage({id:"folderRenamedSuccessfully"}):t.formatMessage({id:"fileRenamedSuccessfully"})})})).catch((function(){c.renderToast({type:"error",icon:"fa fa-times-circle",message:D?t.formatMessage({id:"unableToRenameFolder"}):t.formatMessage({id:"unableToRenameFile"})})})).finally((function(){return setTimeout((function(){var t=Object(Z.a)(d),n=be(a,e.newKey.split("/").slice(-1),t);b(n),de([a])}),1e3)}))},he=function(){O([]),y(""),k(""),I(""),F([]),w(!1)},Oe=function(){return new L(n).getBuckeName()};return ce?Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"galleryContainer",children:[W&&Object(m.jsx)(oa,{show:W,confirmationstring:D?t.formatMessage({id:"areYouSureToDeleteFolder"}):t.formatMessage({id:"areYouSureToDeleteFile"}),handleHide:function(){q(!1),I("")},handleYes:function(){return fe()},size:"md",animation:!1}),ee?Object(m.jsxs)("div",{className:"row ms-0 me-0",children:[Object(m.jsxs)("div",{className:"col-lg-3 col-md-4 leftPane",children:[Object(m.jsx)("div",{className:"bucketName btn-bni m-2",children:Oe()}),Object(m.jsx)("div",{className:"listContainer",children:d.length>0&&Object(m.jsx)(la.a,{treeData:d,icon:function(e){var t=e.data;return Object(m.jsx)("i",{className:ua()("fa fa-folder icon",!t.children&&"fa fa-file icon")})},showLine:!0,checkable:!1,selectable:!0,onSelect:de,selectedKeys:[C],defaultExpandAll:!0},C)})]}),Object(m.jsxs)("div",{className:"col-lg-9 col-md-8 rightPane",children:[Object(m.jsx)(na,{breadCrumbs:h,onBreadClick:function(e){de([e.key])}}),Object(m.jsx)(aa,{isDirectory:D,handleupload:function(e){return function(e){try{e.forEach((function(e){var a={Key:"".concat(v).concat(e.name),Body:e,ContentType:e.type},s=new L(n).uploadFile(a);s.on("httpUploadProgress",(function(e){$(e),e.loaded===e.total&&je(C,e.Key.split("/").slice(-1),"file")})),s.done().then((function(a){c.renderToast({message:t.formatMessage({id:"fileUploadedSuccessfully"},{file:e.name})})})).catch((function(a){console.error("bbb",a),c.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToUploadFilePleaseTryAgain"},{file:e.name})})}))}))}catch(a){c.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToStartUploadPleaseTryAgain"})})}}(e)},progress:z}),Object(m.jsx)(ra,{bucket:Oe(),data:Y,directory:v,selectedId:C,onCreateFolder:function(e,t){return je(e,t,"folder")},isDirectory:D,onDeleteFolder:function(e){q(!0),I(e)},onRename:function(e,t,a){return pe(e,t,a)},onDownload:function(e){return t=e,void new L(n).downloadToBrowser(t);var t}},1)]})]}):Object(m.jsxs)("div",{className:"mt-5 p-5 text-center rounded-3",children:[Object(m.jsx)("i",{className:"fa fa-times-circle fa-3x text-danger"}),Object(m.jsxs)("h4",{children:[Object(m.jsx)(x.a,{id:"AWSS3"})," ",Object(m.jsx)(x.a,{id:"configurationIsInvalid"})]}),Object(m.jsx)("h5",{children:Object(m.jsx)(x.a,{id:"pleaseCheckConnectionParameters"})})]})]})},ma=function(e){var t=Object(Me.a)(),a=Object(r.useState)([]),i=Object(s.a)(a,2),o=i[0],l=i[1],d=Object(r.useState)([]),u=Object(s.a)(d,2),b=u[0],j=u[1],p=Object(r.useState)([]),h=Object(s.a)(p,2),O=h[0],g=h[1],_=Object(r.useState)(""),v=Object(s.a)(_,2),y=v[0],N=v[1],M=Object(r.useState)(!1),D=Object(s.a)(M,2),w=D[0],S=D[1],T=Object(r.useState)(!1),C=Object(s.a)(T,2),k=C[0],P=C[1],E=Object(r.useContext)(f),A=function(){return Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},L={config:{header:{searchPlaceholder:t.formatMessage({id:"searchHere"})},footer:{total:{},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},id:"intlMaster",Table:"locale_master",label:"Locale master",TableRows:["locale_id","locale_label","locale_string","locale_language","locale_currency","locale_sort"],TableAliasRows:[t.formatMessage({id:"id"}),t.formatMessage({id:"localeLabel"}),t.formatMessage({id:"localeString"}),t.formatMessage({id:"localeLanguage"}),t.formatMessage({id:"localeCurrency"}),t.formatMessage({id:"localeSort"})],defaultValues:[{locale_sort:1}],rowElements:["checkbox","textbox","textbox","textbox","textbox","number"]},I={config:{header:{searchPlaceholder:t.formatMessage({id:"searchHere"})},footer:{total:{},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},id:"intlChild",Table:"locale_child",label:"Locale child",TableRows:["loc_id","locale_ref_id","locale_key","locale_value"],TableAliasRows:[t.formatMessage({id:"id"}),t.formatMessage({id:"localeLanguage"}),t.formatMessage({id:"id"}),t.formatMessage({id:"value"})],defaultValues:[],rowElements:["checkbox",{fetch:{dropDownList:O}},"textbox","textbox"]},R=[{locale_id:"",locale_label:"",locale_string:"",locale_language:"",locale_currency:"",locale_sort:""}];Object(r.useEffect)((function(){B()}),[]);var B=function(){l([]),S(!0);var e=Y(L),t=se.a.get("/getUniqueLocales");Promise.all([e,t]).then((function(e){var t=e[0].data.response,a=e[1].data.response.map((function(e){return{checked:!1,id:e.locale_id,value:e.locale_label}}));g(a),t.length>0?l(t):l(R),t.length>0?N(t[0].locale_id):N("")})).catch((function(){l([])})).finally((function(){return S(!1)}))},Y=function(e,t){var a=new FormData;return a.append("TableRows",e.TableRows),a.append("Table",e.Table),t&&a.append("WhereClause",t),se.a.post("/account_planner/getAccountPlanner",a)},F=function(){j([]),P(!0),Y(I,"locale_ref_id = ".concat(y)).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.response.length>0?j(t.data.response):j(R);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){j([])})).finally((function(){return P(!1)}))};Object(r.useEffect)((function(){y&&F()}),[y]);var U=function(e){var a=e.status,n=e.data;a?e&&n&&n.response?(E.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully"})}),B()):E.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound"})}):E.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})};return Object(m.jsxs)("div",{className:"pt-10",children:[o.length>0&&!w?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h5",{children:Object(m.jsx)(x.a,{id:"masterTable"})}),Object(m.jsx)("h6",{children:Object(m.jsx)(x.a,{id:"note"})}),Object(m.jsx)("ul",{children:Object(m.jsx)("li",{className:"small",children:Object(m.jsx)(x.a,{id:"youCanStillDuplicateLocales"})})}),Object(m.jsx)(xe.a,{config:L.config,Table:L.Table,TableRows:L.TableRows,TableAliasRows:L.TableAliasRows,rowElements:L.rowElements,defaultValues:L.defaultValues,dbData:o,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return U(e)},onReFetchData:function(){B(),F()},cellWidth:"12rem",ajaxButtonName:t.formatMessage({id:"submit"})},"lcale-master-table"),Object(m.jsx)("h5",{children:Object(m.jsx)(x.a,{id:"childTable"})}),Object(m.jsxs)("div",{className:"fst-italic",children:[Object(m.jsx)("h6",{children:Object(m.jsx)(x.a,{id:"note"})}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{className:"small",children:Object(m.jsx)(x.a,{id:"pleaseDonotEditIntlKey"})}),Object(m.jsx)("li",{className:"small",children:Object(m.jsx)(x.a,{id:"indentOfIntlForm"})})]})]}),Object(m.jsxs)(Ye.a,{className:"pb-3",children:[Object(m.jsx)(Ye.a.Toggle,{className:"btn btn-bni",children:y?o.filter((function(e){return e.locale_id===y}))[0].locale_label:t.formatMessage({id:"selectLanguage"})}),Object(m.jsx)(Ye.a.Menu,{children:o.map((function(e,t){return Object(m.jsx)(Ye.a.Item,{onClick:function(t){return N(e.locale_id)},children:e.locale_label},t)}))})]})]}):A(),b.length>0&&!k?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(xe.a,{config:I.config,Table:I.Table,TableRows:I.TableRows,TableAliasRows:I.TableAliasRows,rowElements:I.rowElements,defaultValues:I.defaultValues,dbData:b,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return U(e)},onReFetchData:function(){return F()},cellWidth:"17rem",ajaxButtonName:t.formatMessage({id:"submit"})},"lcale-master-table")}):A()]})},fa=a(684),pa=a.n(fa),ha=a(876),Oa=a(772),ga=a(687),xa=a.n(ga);var _a=Object(ne.c)((function(e){var t=e.intl,a=Object(r.useContext)(f),n=Object(r.useState)([]),c=Object(s.a)(n,2),i=c[0],o=c[1],d=Object(r.useState)(!1),u=Object(s.a)(d,2),j=u[0],p=u[1],h=Object(r.useState)([]),O=Object(s.a)(h,2),g=O[0],_=O[1],v=Object(r.useState)([]),y=Object(s.a)(v,2),N=y[0],M=y[1],D=Object(r.useState)("Create"),w=Object(s.a)(D,2),S=w[0],T=w[1],C=Object(r.useState)(!1),k=Object(s.a)(C,2),P=k[0],E=k[1],A=Object(r.useState)({}),L=Object(s.a)(A,2),I=L[0],R=L[1],B=Object(r.useState)({}),Y=Object(s.a)(B,2),F=Y[0],U=Y[1],K=Object(r.useState)({mode:"Create",icon:"fa fa-plus"}),W=Object(s.a)(K,2),q=W[0],V=W[1],H=Object(r.useState)(!1),z=Object(s.a)(H,2),$=z[0],X=z[1],Q=Object(r.useState)(!0),ee=Object(s.a)(Q,2),te=ee[0],ae=ee[1],ne=/([A-Z])/g,ce=/([a-z])/g,re=/([\d])/g,ie=/([\!\@\#\$\%\^\&\*])/g,oe=/([\w\d\!\@\#\$\%\^\&\*])\1{2,}/g,le=[{id:"user_id",index:"user_id",elementType:"hidden",value:null,className:""},{id:"user_name",index:"user_name",label:t.formatMessage({id:"userName"}),elementType:"text",value:"",placeHolder:t.formatMessage({id:"userName"}),className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:t.formatMessage({id:"userNameRequired"}),help:[t.formatMessage({id:"setUniqueUserName"}),t.formatMessage({id:"thisShouldNotConflictOtherUserNames"}),t.formatMessage({id:"minimumLetters"},{n:4}),t.formatMessage({id:"maxLetters"},{n:20}),t.formatMessage({id:"noSpecialCharactersAllowed"})]}},{id:"user_display_name",index:"user_display_name",label:t.formatMessage({id:"displayName"}),elementType:"text",value:"",placeHolder:t.formatMessage({id:"displayName"}),className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:t.formatMessage({id:"inputDoesNotMatchCriteria"}),help:[t.formatMessage({id:"minimumLetters"},{n:4}),t.formatMessage({id:"maxLetters"},{n:20}),t.formatMessage({id:"noSpecialCharactersAllowed"})]}},{id:"user_profile_name",index:"user_profile_name",label:t.formatMessage({id:"profileName"}),elementType:"text",value:"",placeHolder:t.formatMessage({id:"profileName"}),className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,50}$/g,errorMsg:t.formatMessage({id:"inputDoesNotMatchCriteria"}),help:[t.formatMessage({id:"minimumLetters"},{n:4}),t.formatMessage({id:"maxLetters"},{n:50}),t.formatMessage({id:"noSpecialCharactersAllowed"})]}},{id:"user_password",index:"user_password",label:t.formatMessage({id:"password"}),elementType:"text",value:"",placeHolder:t.formatMessage({id:"password"}),className:"",options:{required:!0,validation:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_])(?=.{8,})/,errorMsg:"".concat(t.formatMessage({id:"password"})," ").concat(t.formatMessage({id:"inputDoesNotMatchCriteria"})),help:[t.formatMessage({id:"minimumLetters"},{n:8}),t.formatMessage({id:"atleastNCapitalLetter"},{n:1}),t.formatMessage({id:"atleastNSpecialCharacter"},{n:1}),t.formatMessage({id:"atleastNNumber"},{n:1}),t.formatMessage({id:"allTheAboveAreRequired"})]}},{id:"user_email",index:"user_email",label:t.formatMessage({id:"email"}),elementType:"text",value:"",placeHolder:t.formatMessage({id:"email"}),className:"",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:t.formatMessage({id:"enterValidEmail"}),help:[t.formatMessage({id:"enterValidEmail"})]}},{id:"user_type",index:"user_type",label:t.formatMessage({id:"type"}),elementType:"dropDown",value:"",placeHolder:t.formatMessage({id:"select"}),className:"",list:[],options:{required:!0,validation:/([^\s])/,errorMsg:t.formatMessage({id:"thisFieldIsRequired"}),help:["Super Admin: ".concat(t.formatMessage({id:"hasAccessToSetingsAndBuildInApplications"})),"Admin: ".concat(t.formatMessage({id:"doesNotHaveAccessToSettingsOnlyToApps"}))]}},{id:"user_mobile",index:"user_mobile",label:t.formatMessage({id:"mobile"}),elementType:"number",value:"",placeHolder:t.formatMessage({id:"mobile"}),className:"",options:{required:!0,validation:/^[0-9]{10}$/,errorMsg:t.formatMessage({id:"enterValidMobileNumber"}),help:[t.formatMessage({id:"enterValidMobileNumber"})]}},{id:"user_image_url",index:"user_image_url",label:t.formatMessage({id:"image"}),elementType:"text",value:"",placeHolder:t.formatMessage({id:"image"}),className:"",options:{help:[t.formatMessage({id:"userImageFileLocation"}),t.formatMessage({id:"AWSLocationOrOthers"}),t.formatMessage({id:"imageShownInGlobalHeader"})]}}],de=function(e){var t=e.match(ne),a=e.match(ce),n=e.match(re),c=e.match(ie),s=e.match(oe);return e.length>=8&&!s&&t&&t.length>=2&&a&&a.length>=2&&n&&n.length>=2&&c&&c.length>=2};Object(r.useEffect)((function(){return be(),ue(),function(){fe()}}),[]),Object(r.useEffect)((function(){ue(),fe()}),[t]);var ue=function(){se.a.post("fetchAccessLevels").then((function(e){var t=e.data.response;M(t);var a=le.map((function(e){return"user_type"===e.id&&(e.list=t.map((function(e){return{value:e.access_id,label:e.access_label}}))),e}));o(a)})).catch((function(){return a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})})).finally((function(){return p(!1)}))},be=function(){p(!0),se.a.post("fetchUsers").then((function(e){_(e.data.response)})).catch((function(){return a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})})).finally((function(){return p(!1)}))},je=function(){var e=Object(Z.a)(i),n=e.map((function(e){return Object(b.a)({},e.id,"user_password"===e.id?pa()(e.value):"user_id"===e.id&&"Create"===S?null:e.value)}));n=Object.assign.apply(Object,[{}].concat(Object(Z.a)(n)));var c={Create:{key:"insertData",responseString:t.formatMessage({id:"userSuccessfullyCreated"})},Update:{key:"updateData",responseString:t.formatMessage({id:"userSuccessfullyUpdated"})}},s=Object(b.a)({Table:"users"},c[S].key,[n]);"insertData"===c[S].key?function(e,t){var a=new FormData;return a.append("username",e),a.append("email",t),se.a.post("checkUserExists",a)}(n.user_name,n.user_email).then((function(n){n.data.response?a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"userAlreadyExist"})}):me(s,c[S].responseString,e)})).catch((function(){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})})):me(s,c[S].responseString,e)},me=function(e,n,c){p(!0);var s=new FormData;s.append("postData",JSON.stringify(e));var r=se.a.post("/postBackend",s),i=te&&c.length>0?function(e){var t=new FormData;return t.append("email",e.filter((function(e){return"user_email"===e.id}))[0].value),t.append("userName",e.filter((function(e){return"user_name"===e.id}))[0].value),t.append("password",e.filter((function(e){return"user_password"===e.id}))[0].value),se.a.post("sendUserInfo",t)}(c):1,o=[r,i];Promise.all(o).then((function(e){e[0].data.response&&a.renderToast({message:n})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})})).finally((function(){be(),ue(),fe(),p(!1),E(!1)}))},fe=function(){var e=[].concat(le);e=e.map((function(e){return e.value="",e})),p(!0),o([]),setTimeout((function(){o(e),p(!1),T("Create")}),1e3)},pe=function(){V({id:null,label:"",value:"",mode:"Create",icon:"fa fa-plus"})};return Object(m.jsxs)("div",{className:"container-fluid mt-3",children:[Object(m.jsx)(oa,{show:P,confirmationstring:t.formatMessage({id:"areYouSureToDeleteUser"},{user:I.user_display_name}),handleHide:function(){E(!1),R({})},handleYes:function(){return function(){var e={Table:"users",deleteData:[I.user_id]};me(e,t.formatMessage({id:"userSuccessfullyDeleted"}),[])}()},size:"md"}),Object(m.jsx)(oa,{show:$,confirmationstring:t.formatMessage({id:"areYouSureToDeleteAccess"},{access:F.access_label}),handleHide:function(){X(!1),U({})},handleYes:function(){return function(){p(!0);var e=new FormData;e.append("accessId",F.access_id),se.a.post("/deleteAccessLevel",e).then((function(e){e.data.response&&(fe(),ue(),a.renderToast({message:t.formatMessage({id:"accessLevelSuccessfullyDeleted"})}))})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"accessHasAssociations"},{level:F.access_label})})})).finally((function(){p(!1),X(!1),pe(),fe()}))}()},size:"md"}),j?Object(m.jsx)("div",{className:"text-center mt-100",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-lg-3",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(m.jsxs)("p",{className:"",children:[Object(m.jsx)(x.a,{id:"users"})," ",t.formatMessage({id:S.toLowerCase()})]}),"Create"!==S&&Object(m.jsx)("button",{title:t.formatMessage({id:"reset"}),onClick:function(){return fe()},className:"btn btn-sm btn-secondary rounded-circle",children:Object(m.jsx)("i",{className:"fa fa-undo"})})]}),Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsxs)(Vt.a,{onClick:function(){var e=Object(Z.a)(i),t=function(){for(var e="",t=Math.floor(12*Math.random())+8;!de(e);)e=xa()(t,!1,/[\w\d\!\@\#\$\%\^\&\*]/);return e}();e=e.map((function(e){return"user_password"===e.id&&(e.value=t),e})),o([]),p(!0),setTimeout((function(){o(e),p(!1)}),1e3)},size:"sm",children:[Object(m.jsx)("i",{className:"fa fa-key"})," ",Object(m.jsx)(x.a,{id:"generatePassword"})]})}),Object(m.jsxs)("div",{className:"position-relative",children:[i&&i.length>0&&Object(m.jsx)($t,{parentClassName:"reactive-form text-dark",structure:i,onChange:function(e,t){return function(e,t){var a=Object(Z.a)(i);a=a.map((function(a){return a.id===e&&(a.value=t),a})),o(a)}(e,t)},onSubmit:function(){return je()},submitBtnLabel:t.formatMessage({id:S.toLowerCase()}),submitBtnClassName:"btn btn-bni pull-right"}),Object(m.jsxs)("div",{className:"form-check position-absolute w-75",style:{bottom:"ta"===t.locale?"0px":"15px"},children:[Object(m.jsx)("input",{className:"form-check-input",type:"checkbox",defaultChecked:te,onChange:function(e){return ae(e.target.checked)},id:"sendMailCheck"}),Object(m.jsx)("label",{className:"form-check-label small",htmlFor:"sendMailCheck",children:Object(m.jsx)("em",{children:Object(m.jsx)(x.a,{id:"notifyUserOnMail"})})})]})]})]}),Object(m.jsxs)("div",{className:"col-lg-6",children:[Object(m.jsx)("p",{className:"",children:Object(m.jsx)(x.a,{id:"usersList"})}),g.length>0&&Object(m.jsx)("div",{className:"table-responsive pb-2 mb-3",children:Object(m.jsxs)("table",{className:"table table-striped table-light table-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"action"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"userName"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"displayName"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"profileName"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"email"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"mobile"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"image"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"type"})})]})}),Object(m.jsx)("tbody",{children:g.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:"p-2 text-center",children:[Object(m.jsx)("i",{onClick:function(){return function(e){o([]);var t=Object(Z.a)(i);t=t.map((function(t){return e.hasOwnProperty(t.id)?(t.value=e[t.id],"user_type"===t.id&&(t.value=N.filter((function(t){return t.access_label===String(e.user_type)}))[0].access_id||"")):t.value="",t})),o([]),p(!0),setTimeout((function(){o(t),p(!1),T("Update")}),1e3)}(e)},className:"fa fa-pencil text-success cursor-pointer ".concat("0"===e.user_is_founder?"me-2":"")}),"0"===e.user_is_founder&&Object(m.jsx)("i",{onClick:function(){return R(e),void E(!0)},className:"fa fa-times text-danger cursor-pointer"})]}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_name}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_display_name}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_profile_name}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_email}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_mobile}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_image_url}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_type})]},t)}))})]})})]}),Object(m.jsxs)("div",{className:"col-lg-3",children:[Object(m.jsx)("p",{className:"",children:Object(m.jsx)(x.a,{id:"createAccessLevel"})}),Object(m.jsxs)(ha.a,{size:"sm",className:"pb-2",children:[Object(m.jsx)(Oa.a,{placeholder:t.formatMessage({id:"label"}),value:q.label,onChange:function(e){return V((function(t){return Object(l.a)(Object(l.a)(Object(l.a)({},t),"Create"===q.mode&&{id:null}),{},{label:e.target.value})}))}}),Object(m.jsx)(Oa.a,{placeholder:t.formatMessage({id:"value"}),value:q.value,onChange:function(e){return V((function(t){return Object(l.a)(Object(l.a)(Object(l.a)({},t),"Create"===q.mode&&{id:null}),{},{value:e.target.value})}))}}),Object(m.jsxs)(Vt.a,{variant:"primary",disabled:!(q.label&&q.value),onClick:function(){return function(){p(!0);var e=null===q.id?t.formatMessage({id:"created"}):t.formatMessage({id:"updated"}),n=new FormData;n.append("accessId",q.id),n.append("accessLabel",q.label),n.append("accessValue",q.value),se.a.post("/saveOrUpdateAccessLevel",n).then((function(n){n.data.response&&(ue(),a.renderToast({message:t.formatMessage({id:"accessLevelSuccessfully"},{status:e})}))})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer"})})})).finally((function(){p(!1),fe(),pe()}))}()},children:[Object(m.jsx)("i",{className:q.icon})," ",t.formatMessage({id:q.mode.toLowerCase()})]}),q.label&&q.value&&Object(m.jsx)(Vt.a,{variant:"danger",onClick:function(){return pe()},children:Object(m.jsx)("i",{className:"fa fa-undo",title:t.formatMessage({id:"reset"})})})]}),Object(m.jsx)("p",{className:"",children:Object(m.jsx)(x.a,{id:"accessList"})}),Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsxs)("table",{className:"table table-striped table-light table-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"action"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"label"})}),Object(m.jsx)("th",{className:"text-truncate",children:Object(m.jsx)(x.a,{id:"value"})})]})}),Object(m.jsx)("tbody",{children:N.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:"p-2",children:[["superAdmin","admin"].includes(e.access_value)?Object(m.jsx)("i",{className:"fa fa-ban text-danger pe-2"}):Object(m.jsx)("i",{onClick:function(){return function(e){V({id:e.access_id,label:e.access_label,value:e.access_value,mode:"Update",icon:"fa fa-pencil"})}(e)},className:"fa fa-pencil text-success cursor-pointer me-2"}),!["superAdmin","admin"].includes(e.access_value)&&Object(m.jsx)("i",{onClick:function(){return U(e),void X(!0)},className:"fa fa-times text-danger cursor-pointer"})]}),Object(m.jsx)("td",{children:e.access_label}),Object(m.jsx)("td",{children:e.access_value})]},t)}))})]})})]})]})]})})),va=function(e){var t=Object(r.useContext)(f),a=Object(r.useState)("AWSS3"),n=Object(s.a)(a,2),c=n[0],o=n[1],l=Object(Me.a)(),d=[{id:"configuration",label:l.formatMessage({id:"configuration"}),component:Qt,help:{heading:l.formatMessage({id:"configuration"}),points:[l.formatMessage({id:"configGoogleApi"}),l.formatMessage({id:"configWebDefaults"}),l.formatMessage({id:"configAwsS3"}),l.formatMessage({id:"configSocialMedia"})]}},{id:"users",label:l.formatMessage({id:"users"}),component:_a,help:{heading:l.formatMessage({id:"users"}),points:[l.formatMessage({id:"setUsersToHandleAndMaintainYourApp"}),l.formatMessage({id:"superAdminIsAddedByDefault"}),l.formatMessage({id:"superAdminHasAccessToControl"}),l.formatMessage({id:"crudOperationsAreAvailable"}),l.formatMessage({id:"editUserRequiresNewPassword"}),l.formatMessage({id:"onceUsersCreated"})]}},{id:"AWSS3",label:l.formatMessage({id:"AWSS3"}),component:ja,help:{heading:l.formatMessage({id:"AWSS3"}),points:[l.formatMessage({id:"awsS3BucketIsUsedTo"}),l.formatMessage({id:"theseFilesCanBeMaintained"}),l.formatMessage({id:"pleseFollowTheSteps"}),l.formatMessage({id:"pleaseTakeBackupOfYour"}),l.formatMessage({id:"youCanMaintainMultipleBuckets"}),l.formatMessage({id:"weUseSignedURLs"}),l.formatMessage({id:"youCanCopyTheLocationOfYourFile"}),l.formatMessage({id:"forMoreDetailsAboutAwsS3"},{link:'<a target="_blank" href="https://aws.amazon.com/s3/" class="btn-link">https://aws.amazon.com/s3/</a>'})]}},{id:"internationalization",label:l.formatMessage({id:"internationalization\xa0"}),component:ma,help:{heading:l.formatMessage({id:"internationalization\xa0"}),points:[l.formatMessage({id:"indentOfIntlForm"}),l.formatMessage({id:"pleaseDonotEditIntlKey"}),l.formatMessage({id:"updateTheValuesCorrespondingYourLocales"}),l.formatMessage({id:"submitTheFormToSaveChanges"})]}}];function u(e){var a=e.children,n=e.eventKey,c=e.eventLabel,s=Object(Ge.b)(n,(function(){return o(c)}));return Object(m.jsx)("button",{type:"button",className:"col-11 text-start btn ".concat("dark"===t.userData.theme?"btn-dark":"btn-white"),onClick:s,children:a})}return Object(m.jsxs)("section",{className:"",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h2",{className:"",children:Object(m.jsx)(x.a,{id:"settings"})}),Object(m.jsx)("hr",{className:"my-3"}),Object(m.jsx)("i",{className:"fa fa-gears fa-2x py-2"}),Object(m.jsx)("p",{className:"",children:Object(m.jsx)(x.a,{id:"settingsTitle"})})]})}),Object(m.jsx)("div",{className:"px-1",children:Object(m.jsx)("div",{className:"",children:Object(m.jsx)(Je.a,{bsPrefix:"util",defaultActiveKey:-1,className:"",children:d.map((function(e,a){return Object(m.jsxs)(Ze.a,{className:"my-2 ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[Object(m.jsxs)(Ze.a.Header,{className:"row m-0",children:[Object(m.jsx)(u,{eventLabel:e.label,eventKey:e.id,children:e.label}),Object(m.jsx)(Gt,{className:"text-center ".concat("dark"===t.userData.theme?"bg-dark text-white-50":"bg-white text-black"),btnValue:"<i class='fa fa-question-circle' />",btnClassName:"col-1 btn btn-sm ".concat("dark"===t.userData.theme?"text-white":"text-dark"),placement:"end",label:e.help.heading,children:e.help.points.length>0&&Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.help.points.map((function(e,a){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===t.userData.theme?"bg-dark text-white-50":"bg-white text-black"),dangerouslySetInnerHTML:{__html:e}},a)}))})},e.id)]}),Object(m.jsx)(Je.a.Collapse,{eventKey:e.id,children:Object(m.jsx)(Ze.a.Body,{className:"p-2",children:e.label===c&&i.a.createElement(e.component)})})]},e.id)}))})})})]})};va.defaultProps={property:"String name"};var ya=va,Na=a(345),Ma=a.n(Na),Da=a(354),wa=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(u),n=Object(s.a)(a,1)[0],c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(r.useState)({}),b=Object(s.a)(d,2),j=b[0],f=b[1],p=Object(r.useState)(!1),h=Object(s.a)(p,2),O=h[0],g=h[1];Object(r.useEffect)((function(){o&&v()}),[]);var _=function(e,t){var a=encodeURIComponent(e);f({}),l(a),"function"===typeof t&&t()},v=function(){f({}),g(!0);var e="https://seo-api.p.rapidapi.com/v1/search/q=".concat(o),t={headers:{"X-User-Agent":"desktop","X-Proxy-Location":"IN","X-RapidAPI-Key":Da.b,"X-RapidAPI-Host":"seo-api.p.rapidapi.com"}};Ma.a.get(e,t).then((function(e){f(e.data)})).finally((function(){return g(!1)}))};return Object(m.jsxs)("div",{className:"mt-3 container-fluid",children:[Object(m.jsxs)("div",{className:"text-center my-2",style:{fontSize:"5rem"},children:[Object(m.jsx)("span",{className:"text-primary",children:Object(m.jsx)(F,{type:"image",appData:n,unsignedUrl:n.logoImg,className:"img-fluid",optionalAttr:{width:"70",height:"70"}})}),Object(m.jsx)("span",{className:"text-danger",children:"o"}),Object(m.jsx)("span",{className:"text-danger",children:"o"}),Object(m.jsx)("span",{className:"text-success",children:"g"}),Object(m.jsx)("span",{className:"text-info",children:"l"}),Object(m.jsx)("span",{className:"text-warning",children:"e"})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-8 offset-sm-2",children:[Object(m.jsxs)("div",{className:"input-group input-group-lg mb-2",children:[Object(m.jsx)("input",{type:"text",spellCheck:"false",value:decodeURIComponent(o),onKeyPress:function(e){return"Enter"===e.key&&v()},onChange:function(e){return _(e.target.value)},className:"form-control",placeholder:t.formatMessage({id:"searchHere"}),"aria-label":"Search here","aria-describedby":"boogle-sizing-lg",id:"boogle-sizing-lg"}),Object(m.jsx)("button",{disabled:O,onClick:function(){return v()},className:"btn btn-primary",type:"button",children:O?Object(m.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):Object(m.jsx)("i",{className:"fa fa-search"})})]}),j.results&&o&&Object(m.jsxs)("div",{className:"text-muted my-2 small",children:[Object(m.jsx)(x.a,{id:"about"}),"  ",j.results.filter((function(e){return e.link&&e.description&&e.title})).length," ",Object(m.jsx)(x.a,{id:"resultsfor"})," ",decodeURIComponent(o)]})]})}),j.results&&j.results.length>0&&Object(m.jsxs)("div",{className:"resultGrid mt-3",children:[j.results.filter((function(e){return e.link&&e.description&&e.title})).map((function(e,t){return Object(m.jsx)("div",{className:"mb-3 row",children:Object(m.jsxs)("div",{className:"col-sm-12",children:[Object(m.jsx)("a",{className:"link-primary h5 d-block",href:e.link,rel:"noreferrer",target:"_blank",children:e.title}),Object(m.jsx)("p",{dangerouslySetInnerHTML:{__html:e.description}})]})},t)})),j.answers&&j.answers.length>0&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{children:Object(m.jsx)("em",{className:"badge bg-primary rounded-pill",children:Object(m.jsx)(x.a,{id:"relevantSearch"})})}),Object(m.jsx)("ul",{className:"",style:{listStyle:"none",paddingLeft:0},children:j.answers.map((function(e,t){return Object(m.jsx)("li",{className:"py-1",children:Object(m.jsx)("a",{href:!0,onClick:function(){_(e,(function(){v()}))},className:"link-primary cursor-pointer",children:e})},t)}))})]})]})]})},Sa=a(881),Ta=a(877),Ca=a(773),ka=a.n(Ca),Pa=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(oe),n=Object(r.useContext)(f),c=J.a.getNow(),i=Object.assign({},e),o=a.localeList.map((function(e,t){return Object(b.a)({},e.currency,e.language)}));o=Object.assign.apply(Object,[{}].concat(Object(Z.a)(o)));var d=a.localeList.map((function(e){return e.currency})).filter((function(e,t,a){return a.indexOf(e)===t})),u=Object(r.useState)({decimalPoint:0,currency:"INR",minAmount:1e5,maxAmount:1e7,amount:1e6,minTenure:1,maxTenure:30,tenure:1,minRoi:1,maxRoi:100,roi:8.6}),j=Object(s.a)(u,2),p=j[0],h=j[1],O=p.decimalPoint>-1&&p.decimalPoint<5?p.decimalPoint:0,g=Object(r.useState)(0),_=Object(s.a)(g,2),v=_[0],y=_[1],N=Object(r.useState)([]),M=Object(s.a)(N,2),D=M[0],w=M[1],S=Object(r.useState)([]),T=Object(s.a)(S,2),C=T[0],k=T[1],P=Object(r.useState)([]),E=Object(s.a)(P,2),A=E[0],L=E[1];Object(r.useEffect)((function(){var e=p.roi/100/12,t=Math.ceil(12*p.tenure),a=p.amount,n=Number(B(e,t,a).toFixed(O));y(n)}),[p]);var I=function(e,t){var a=t;["tenure"].includes(e)&&(a=t>=p.minTenure&&t<=p.maxTenure?t:1),["roi"].includes(e)&&(a=t>=1&&t<=100?t:1),["decimalPoint"].includes(e)&&(a=t>0&&t<5?t:0),h((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(b.a)({},e,a))}))};Object(r.useEffect)((function(){var e=p.roi/100/12,a=Number(p.tenure)>0?Math.ceil(12*p.tenure):1,n=p.amount,c=Number(Math.abs(B(e,a,n)).toFixed(O)),s=0,r=0,i=n,o=new Array(a).fill(1).map((function(e,t){return i=Number(0===t?i:i-s),r=Number(i*(p.roi/100)/12),s=Number(c-r),{index:t+1,emi:c,int:r,princ:s,bal:i}}));w(o),L(o.map((function(e){return e.int=e.int.toFixed(O),e.bal=e.bal.toFixed(O),e.princ=e.princ.toFixed(O),e.emi=e.emi.toFixed(O),e})));var l=[{label:t.formatMessage({id:"principalAmount"}),value:o.reduce((function(e,t){return Number(e)+Number(t.princ)}),0)/o.reduce((function(e,t){return Number(e)+Number(t.emi)}),0)*100,isEmpty:!1},{label:t.formatMessage({id:"interest"}),value:o.reduce((function(e,t){return Number(e)+Number(t.int)}),0)/o.reduce((function(e,t){return Number(e)+Number(t.emi)}),0)*100}];k(l)}),[p]);var R,B=function(e,t,a,n,c){var s,r=0;return n||(n=0),c||(c=0),0===e?-(a+n)/t:(r=-e*(a*(s=Math.pow(1+e,t))+n)/(s-1),1===c&&(r/=1+e),r)},Y=function(e){var t=D.reduce((function(t,a){return Number(t)+Number(a[e])}),0);return t=J.a.countryCurrencyLacSeperator(o[p.currency],p.currency,t,O)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)(de.a,{className:"align-items-center",children:[Object(m.jsx)(ue.a,{md:"2",className:"p-3",children:Object(m.jsx)(x.a,{id:"loanAmount"})}),Object(m.jsx)(ue.a,{md:"8",children:Object(m.jsx)(ka.a,{value:p.amount,step:p.minAmount,min:p.minAmount,max:p.maxAmount,onChange:function(e){return I("amount",e)},tooltip:!1})}),Object(m.jsx)(ue.a,{md:"2",children:Object(m.jsx)(Sa.a.Control,{type:"number",className:"form-control-sm",value:p.amount,onChange:function(e){return I("amount",Number(e.target.value))},placeholder:t.formatMessage({id:"loanAmount"})})}),Object(m.jsx)(ue.a,{md:"2",className:"p-3",children:Object(m.jsx)(x.a,{id:"tenure"})}),Object(m.jsx)(ue.a,{md:"8",children:Object(m.jsx)(ka.a,{value:Number(p.tenure),min:p.minTenure,max:p.maxTenure,onChange:function(e){return I("tenure",e)},tooltip:!1})}),Object(m.jsx)(ue.a,{md:"2",children:Object(m.jsx)(Sa.a.Control,{type:"number",className:"form-control-sm",min:"1",max:"100",value:p.tenure,onChange:function(e){return I("tenure",""+Number(e.target.value))},placeholder:t.formatMessage({id:"tenure"})})}),Object(m.jsx)(ue.a,{md:"2",className:"p-3",children:Object(m.jsx)(x.a,{id:"interest"})}),Object(m.jsx)(ue.a,{md:"8",children:Object(m.jsx)(ka.a,{value:Number(p.roi),min:p.minRoi,max:p.maxRoi,onChange:function(e){return I("roi",e)},tooltip:!1})}),Object(m.jsx)(ue.a,{md:"2",children:Object(m.jsx)(Sa.a.Control,{type:"number",className:"form-control-sm",value:p.roi,onChange:function(e){return I("roi",Number(e.target.value))},placeholder:t.formatMessage({id:"interest"})})}),Object(m.jsx)(ue.a,{md:"2",className:"p-3",children:Object(m.jsx)(x.a,{id:"decimals"})}),Object(m.jsx)(ue.a,{md:"8",children:Object(m.jsx)(ka.a,{value:Number(p.decimalPoint),min:0,max:4,onChange:function(e){return I("decimalPoint",e)},tooltip:!1})}),Object(m.jsx)(ue.a,{md:"2",children:Object(m.jsx)(Sa.a.Control,{type:"number",className:"form-control-sm",value:p.decimalPoint,onChange:function(e){return I("decimalPoint",Number(e.target.value))},placeholder:t.formatMessage({id:"decimals"})})}),Object(m.jsx)(ue.a,{md:"2",className:"p-3",children:Object(m.jsx)(x.a,{id:"currency"})}),Object(m.jsx)(ue.a,{md:"10",children:d.map((function(e,t){return Object(m.jsx)(Sa.a.Check,{inline:!0,name:"currency",type:"radio",id:"default-".concat(t),label:e,checked:e===p.currency,onChange:function(t){return I("currency",e)}},t)}))})]}),Object(m.jsxs)(de.a,{children:[Object(m.jsxs)(ue.a,{md:4,className:"p-3 accountPlanner ".concat("dark"===n.userData.theme?"dark":"light"),children:[A.length>0&&Object(m.jsx)("div",{className:"py-2 pe-1 d-inline-block",children:Object(m.jsx)(Le.a,{datas:J.a.stripCommasInCSV(A),filename:"Amortization-table-".concat(c,".csv"),columns:[{displayName:"Month",id:"index"},{displayName:"EMI",id:"emi"},{displayName:"Diminishing",id:"bal"},{displayName:"Interest",id:"int"},{displayName:"Principle",id:"princ"}],children:Object(m.jsx)(ve.a,{placement:"top",delay:{show:250,hide:400},overlay:(R=t.formatMessage({id:"exportToValue"},{value:"CSV"}),Object(m.jsx)(_e.a,Object(l.a)(Object(l.a)({id:"button-tooltip-1",className:"in show"},i),{},{children:R}))),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-file-excel-o roundedButton"})})})}),C.length>0&&Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(X.a,{innerRadius:1,outerRadius:.8,strokeColor:"".concat("dark"===n.userData.theme?"#555555":"#ffffff"),colors:["#c2d82e","#bf3d3d"],height:250,width:250,legend:!1,data:C})})]}),Object(m.jsx)(ue.a,{md:8,children:D.length>0&&Object(m.jsxs)(Ta.a,{striped:!0,bordered:!0,variant:"".concat("dark"===n.userData.theme?"dark":"light"),children:[Object(m.jsxs)("thead",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"installments"})}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"interest"})}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"principalAmount"})}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"diminishing"})})]}),Object(m.jsxs)("tr",{className:"border-bottom",children:[Object(m.jsxs)("th",{children:[Object(m.jsx)(x.a,{id:"total"})," ",Object(m.jsx)("span",{className:"pull-right",children:Y("emi")})]}),Object(m.jsx)("th",{className:"text-danger",children:Y("int")}),Object(m.jsx)("th",{colSpan:2,className:"text-success",children:Y("princ")})]})]}),Object(m.jsx)("tbody",{children:D.length>0&&D.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{children:[t+1,". ",Object(m.jsx)("span",{className:"pull-right",children:Math.abs(v).toLocaleString(o[p.currency])})]}),Object(m.jsx)("td",{children:parseFloat(Number(e.int).toFixed(O)).toLocaleString(o[p.currency])}),Object(m.jsx)("td",{children:parseFloat(Number(e.princ).toFixed(O)).toLocaleString(o[p.currency])}),Object(m.jsx)("td",{children:parseFloat(Number(e.bal).toFixed(O)).toLocaleString(o[p.currency])})]},t)}))})]})})]})]})},Ea=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(f),n=Object(r.useState)(""),c=Object(s.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)({}),d=Object(s.a)(l,2),u=d[0],b=d[1],j=function(){var e={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:0,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26},t=i.split("").map((function(t){return{name:t,number:e[t]}})),a=t.map((function(e){return e.number})).join("");a=p(a),b({nameArray:t,sum:a})},p=function e(t){return t<10?t:e(t%10+e(Math.floor(t/10)))};return Object(m.jsxs)("div",{className:"mt-3",children:[Object(m.jsx)(de.a,{children:Object(m.jsx)(ue.a,{className:"col-md-6 offset-md-3",children:Object(m.jsxs)("div",{className:"input-group mb-3",children:[Object(m.jsx)("input",{type:"text",onChange:function(e){return t=e.target.value.toLowerCase(),b({}),void o(t);var t},onKeyPress:function(e){return"Enter"===e.key&&j()},className:"form-control",placeholder:t.formatMessage({id:"enterName"})}),Object(m.jsx)("button",{onClick:function(){return j()},className:"btn btn-bni",type:"button",children:Object(m.jsx)(x.a,{id:"get"})})]})})}),Object.keys(u).length>0&&i&&Object(m.jsxs)(Ta.a,{striped:!0,bordered:!0,variant:"".concat("dark"===a.userData.theme?"dark":"light"),children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"digit"})}),Object(m.jsx)("th",{children:Object(m.jsx)(x.a,{id:"number"})})]})}),Object(m.jsx)("tbody",{children:u.nameArray&&u.nameArray.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:e.number})]},t)}))}),Object(m.jsx)("tfoot",{children:Object(m.jsxs)("tr",{className:"table-active border-top",children:[Object(m.jsx)("td",{children:Object(m.jsx)(x.a,{id:"singleDigitTotal"})}),Object(m.jsx)("td",{children:Object(m.jsx)("span",{className:"btn btn-sm rounded-circle btn-bni",children:u.sum})})]})})]})]})},Aa=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(Me.a)(),i=[{page_id:"1",constant:"AMORT",label:c.formatMessage({id:"amortizationCalculator"}),description:c.formatMessage({id:"amortizationCalculatorSubTitle"}),icon:"fa fa-line-chart"},{page_id:"2",constant:"NAMENUMBER",label:c.formatMessage({id:"nameNumber"}),description:c.formatMessage({id:"nameNumberSubTitle"}),icon:"fa fa-sort-numeric-asc"}],o=function(){var e={AMORT:Pa,NAMENUMBER:Ea}[a];return Object(m.jsx)(e,{})};return Object(r.useEffect)((function(){a&&(n(""),n(a))}),[a]),Object(m.jsxs)("div",{className:"mt-3 container-fluid",children:[Object(m.jsx)("div",{className:"row",children:i.map((function(e){return Object(m.jsx)("div",{className:"col-md-3 text-black mb-1",children:Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title text-center",children:e.label}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("i",{className:"fa-5x p-2 ".concat(e.icon)})}),Object(m.jsx)("p",{className:"card-text",children:e.description}),Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{className:"btn btn-bni",onClick:function(){return n(e.constant)},children:Object(m.jsx)(x.a,{id:"clickHere"})})})]})})},e.page_id)}))}),Object(m.jsx)("div",{children:a&&Object(m.jsx)(o,{})})]})};var La=function(e){var t=e.appData,a=Object(r.useContext)(f),n=Object(r.useState)(!1),c=Object(s.a)(n,2),l=c[0],d=c[1];return Object(r.useEffect)((function(){if(a.userData.type){var e=[{page_id:"home",hasAccessTo:["public","admin","superAdmin"],href:"/",label:"Home",description:"Your landing page to access menu options with todays relevant information",icon:"fa fa-home",component:wa},{page_id:"moneyPlanner",hasAccessTo:["superAdmin"],href:"/moneyPlanner",label:"Money Planner",description:"Handle your credit & debit card transactions with visualizations and query builder",icon:"fa fa-inr",component:Kt},{page_id:"settings",hasAccessTo:["superAdmin"],href:"/settings",label:"Settings",description:"Maintain application configuration, web settings, google & AWS settings",icon:"fa fa-cogs",component:ya},{page_id:"applications",hasAccessTo:["public","admin","superAdmin"],href:"/apps",label:"Apps",description:"Some common usefull apps",icon:"fa fa-code",component:Aa}].filter((function(e){return e.hasAccessTo.includes(a.userData.type)}));a.updateUserData("menu",e)}}),[a.userData.type]),Object(m.jsx)(i.a.Fragment,{children:Object.keys(t).length>0&&a.userData.menu&&a.userData.menu.length>0&&Object(m.jsx)(o.c,{history:H,children:Object(m.jsxs)("div",{className:"application-wrapper ".concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark":"bg-white"),children:[Object(m.jsx)("div",{className:""}),Object(m.jsxs)("div",{className:"application-content ".concat(t.webMenuType),children:[Object(m.jsxs)("div",{className:"menu-wrapper d-print-none p-0 ".concat(["sideMenuRight","sideMenuLeft"].includes(t.webMenuType)?"col-sm-2":""),children:[Object(m.jsx)("div",{className:"fixed-content",children:Object(m.jsx)(q,{appData:t})}),Object(m.jsx)(K,{onNavBarToggle:function(){d(!l)},navBarExpanded:l,onNavBarClose:function(){d(!1)},appData:t})]}),Object(m.jsx)("div",{style:{opacity:a.userData.videoShown?.9:1},className:"wrapper ".concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark text-white":"bg-white text-dark"," p-0 ").concat(t.webMenuType," ").concat(["sideMenuRight","sideMenuLeft"].includes(t.webMenuType)?"col-sm-10":"col-sm-12"),children:Object(m.jsx)(v,{})})]}),Object(m.jsx)("div",{className:""})]})})})},Ia=a(776),Ra=a.n(Ia);var Ba=function(e){var t=Object(Me.a)(),a=Object(r.useContext)(f),n=e.onToggle,c=e.onClose,i=e.onSuccess,o=Object(r.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)(""),j=Object(s.a)(b,2),p=j[0],h=j[1],O=Object(r.useState)(!1),g=Object(s.a)(O,2),_=g[0],v=g[1],y=Object(r.useState)(!1),N=Object(s.a)(y,2),M=N[0],D=N[1],w=function(e){13!==e.which&&13!==e.keyCode||S()},S=function(){D(!0);var e=new FormData;e.append("username",d),e.append("password",p),se.a.post("/validateUser",e).then((function(e){var n=e.data.response;if(n){var s={userId:n.user_id,type:n.user_type,email:n.user_email,name:n.user_display_name,imageUrl:n.user_image_url};i(s),c()}else a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"invalidUserNameOrPassword"})})})).catch((function(e){console.log("bbb",e),a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong"})})})).finally((function(){return D(!1)}))};return Object(m.jsx)("div",{children:M?Object(m.jsx)("div",{className:"login-loader text-center",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"text",id:"username",className:"form-control",onKeyDown:function(e){return w(e)},placeholder:t.formatMessage({id:"userName"})}),Object(m.jsx)("label",{htmlFor:"username",children:Object(m.jsx)(x.a,{id:"userName"})})]})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){return h(e.target.value)},type:_?"text":"password",id:"userPassword",className:"form-control",onKeyDown:function(e){return w(e)},placeholder:t.formatMessage({id:"password"})}),Object(m.jsx)("i",{onClick:function(){return v(!_)},className:"fa fa-".concat(_?"eye-slash":"eye")}),Object(m.jsx)("label",{htmlFor:"userPassword",children:Object(m.jsx)(x.a,{id:"password"})})]})}),Object(m.jsx)("div",{className:"pt-3 col-lg-12 text-center",children:Object(m.jsxs)("div",{className:"d-grid",children:[Object(m.jsx)("button",{onClick:function(){return n("changePassword")},className:"btn btn-sm btn-primary mb-2",children:Object(m.jsx)(x.a,{id:"changePassword"})}),Object(m.jsx)("button",{onClick:function(){return n("resetPassword")},className:"btn btn-sm btn-danger",children:Object(m.jsx)(x.a,{id:"resetPassword"})})]})}),Object(m.jsx)("div",{className:"pt-3 col-lg-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-6 pb-3",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:function(){return S()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"submit"})})})}),Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:c,className:"btn btn-secondary",children:Object(m.jsx)(x.a,{id:"cancel"})})})})]})})]})})};var Ya=function(e){var t=Object(Me.a)(),a=e.onClose,n=Object(r.useContext)(f),c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(r.useState)(""),u=Object(s.a)(d,2),b=u[0],j=u[1],p=Object(r.useState)(!1),h=Object(s.a)(p,2),O=h[0],g=h[1],_=Object(r.useState)(!0),v=Object(s.a)(_,2),y=v[0],N=v[1],M=Object(r.useState)(!1),D=Object(s.a)(M,2),w=D[0],S=D[1],T=Object(r.useState)(null),C=Object(s.a)(T,2),k=C[0],P=C[1],E=Object(r.useState)(300),A=Object(s.a)(E,2),L=A[0],I=A[1];Object(r.useEffect)((function(){N(!new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/).test(o))}),[o]);var R=function e(){0===L?B(e):L--,I(L),setTimeout(e,1e3)},B=function(){clearTimeout(R)};Object(r.useEffect)((function(){w&&R()}),[w]);var Y=function(){g(!0);var e=new FormData;e.append("email",o),se.a.post("/sendOtp",e).then((function(e){var a=e.data.response;a?(n.renderToast({message:t.formatMessage({id:"OtpSuccessfullyMailedToYou"})}),P(a),S(!0)):n.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"errorYourMailIsInValid"})})})).catch((function(e){n.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong"})})})).finally((function(){g(!1)}))};return Object(m.jsx)("div",{children:O?Object(m.jsx)("div",{className:"login-loader text-center py-3",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{children:[w?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"form-floating mb-3",children:[Object(m.jsx)("input",{onChange:function(e){j(e.target.value)},type:"number",className:"form-control",placeholder:t.formatMessage({id:"enterOtp"}),id:"otp"}),Object(m.jsx)("label",{htmlFor:"otp",children:Object(m.jsx)(x.a,{id:"enterOtp"})})]}),Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("button",{disabled:L>0,onClick:function(){return Y()},className:"btn btn-sm btn-primary",children:Object(m.jsx)(x.a,{id:"resendOtp"})})}),L>0&&Object(m.jsx)("div",{className:"pb-2 text-danger fst-italic",children:Object(m.jsx)(x.a,{id:"enterOtp",values:{seconds:L}})})]}):Object(m.jsxs)("div",{className:"form-floating mb-3",children:[Object(m.jsx)("input",{onChange:function(e){l(e.target.value)},type:"email",className:"form-control",placeholder:t.formatMessage({id:"yourEmailPlease"}),id:"email"}),Object(m.jsx)("label",{htmlFor:"email",children:Object(m.jsx)(x.a,{id:"yourEmailPlease"})})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-6 py-2",children:Object(m.jsx)("div",{className:"d-grid",children:w?Object(m.jsx)("button",{onClick:function(){return function(){g(!0);var e=new FormData;e.append("otp",b),e.append("id",k),e.append("email",o),se.a.post("/resetPassword",e).then((function(e){e.data.response?(n.renderToast({message:t.formatMessage({id:"resetSuccess"})}),a()):n.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"OtpFailed"})})})).catch((function(e){n.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong"})})})).finally((function(){g(!1)}))}()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"send"})}):Object(m.jsx)("button",{disabled:y,onClick:function(){return Y()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"reset"})})})}),Object(m.jsx)("div",{className:"col-lg-6 py-2",children:Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)("button",{onClick:a,className:"btn btn-secondary",children:Object(m.jsx)(x.a,{id:"cancel"})})})})]})]})})},Fa=["onClose"];var Ua=function(e){var t=Object(Me.a)(),a=e.onClose,n=Object(d.a)(e,Fa),c=Object(r.useContext)(f),i=Object(r.useState)(""),o=Object(s.a)(i,2),u=o[0],b=o[1],j=Object(r.useState)(""),p=Object(s.a)(j,2),h=p[0],O=p[1],g=Object(r.useState)(""),_=Object(s.a)(g,2),v=_[0],y=_[1],N=Object(r.useState)(""),M=Object(s.a)(N,2),D=M[0],w=M[1],S=Object(r.useState)(!1),T=Object(s.a)(S,2),C=T[0],k=T[1],P=Object(r.useState)(!0),E=Object(s.a)(P,2),A=E[0],L=E[1],I=Object(r.useState)(!1),R=Object(s.a)(I,2),B=R[0],Y=R[1],F=Object(r.useState)(!1),U=Object(s.a)(F,2),K=U[0],W=U[1],q=Object(r.useState)(!1),V=Object(s.a)(q,2),H=V[0],z=V[1];Object(r.useEffect)((function(){var e=[0===u.length,0===v.length,0===D.length,v!==D,!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/).test(v),!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/).test(D)];L(e.some((function(e){return!0===e})))}),[v,D,u]);var Z=function(e,t,a){var c=function(){return t.length>1?Object(m.jsx)("ul",{style:{listStyle:"decimal",padding:"10px",textAlign:"left",margin:"5px"},children:t.map((function(e,t){return Object(m.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},t)}))}):Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:t[0]}})};return Object(m.jsx)(_e.a,Object(l.a)(Object(l.a)({style:{zIndex:1e4},id:"tooltip-".concat(a),className:"in show"},n),{},{children:Object(m.jsx)(c,{},"html-1")}))},$=function(e){var t=e.label,a=e.id;return Object(m.jsx)(ve.a,{placement:"right",overlay:Z(0,t,a),trigger:"click",children:Object(m.jsx)("i",{className:"fa fa-question-circle help text-secondary"})})};return Object(m.jsx)("div",{children:C?Object(m.jsx)("div",{className:"login-loader text-center",children:Object(m.jsx)(G.a,{type:J.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{onChange:function(e){return b(e.target.value)},type:"text",id:"username",className:"form-control"}),Object(m.jsx)("label",{htmlFor:"username",children:Object(m.jsx)(x.a,{id:"userName"})})]})}),Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)($,{label:[t.formatMessage({id:"minimumLetters"},{n:8}),t.formatMessage({id:"atleastNCapitalLetter"},{n:1}),t.formatMessage({id:"atleastNSpecialCharacter"},{n:1}),t.formatMessage({id:"atleastNNumber"},{n:1}),t.formatMessage({id:"allTheAboveAreRequired"})],id:1})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){O(e.target.value),Y(!0)},type:"password",className:"form-control",placeholder:t.formatMessage({id:"currentPassword"}),onBlur:function(e){return Y(!0)},id:"currentPassword"}),B&&Object(m.jsx)("i",{className:"fa fa-".concat(h.length>0?"check good":"times bad")}),Object(m.jsx)("label",{htmlFor:"currentPassword",children:Object(m.jsx)(x.a,{id:"currentPassword"})})]})}),Object(m.jsx)("div",{className:"col-lg-12  py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){y(e.target.value),W(!0)},type:"password",className:"form-control",placeholder:t.formatMessage({id:"newPassword"}),onBlur:function(e){return W(!0)},id:"newPassword"}),K&&Object(m.jsx)("i",{className:"fa fa-".concat(v.length>0?"check good":"times bad")}),Object(m.jsx)("label",{htmlFor:"newPassword",children:Object(m.jsx)(x.a,{id:"newPassword"})})]})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){w(e.target.value),z(!0)},type:"password",className:"form-control",placeholder:t.formatMessage({id:"retypePassword"}),onBlur:function(e){return z(!0)},id:"repeatPassword"}),H&&Object(m.jsx)("i",{className:"fa fa-".concat(D.length>0&&D===v?"check good":"times bad")}),Object(m.jsx)("label",{htmlFor:"repeatPassword",children:Object(m.jsx)(x.a,{id:"retypePassword"})})]})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-6 pb-3",children:Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)("button",{disabled:A,onClick:function(){return function(){k(!0);var e=new FormData;e.append("userName",u),e.append("currentPass",h),e.append("newPass",v),e.append("repeatPass",D),se.a.post("/changePassword",e).then((function(e){e.data.response.status?(c.renderToast({message:t.formatMessage({id:"passwordSuccessfullyChanged"})}),a()):c.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"passwordChangeFailedInvalidCredentials"})})})).catch((function(){c.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"somethingWentWrong"})})})).finally((function(){k(!1),y(""),w("")}))}()},className:"btn btn-bni",children:Object(m.jsx)(x.a,{id:"submit"})})})}),Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)("button",{onClick:a,className:"btn btn-secondary",children:Object(m.jsx)(x.a,{id:"cancel"})})})})]})})]})})};var Ka=function(e){var t=Object(Me.a)(),a=e.onClose,n=e.onSuccess,c=Object(r.useContext)(f),i=Object(r.useState)("login"),o=Object(s.a)(i,2),d=o[0],u=o[1],b={login:t.formatMessage({id:"login"}),resetPassword:t.formatMessage({id:"resetPassword"}),changePassword:t.formatMessage({id:"changePassword"})};return Object(m.jsxs)(Ne.a,Object(l.a)(Object(l.a)({},e),{},{className:"",size:"sm",centered:!0,children:[Object(m.jsx)(Ne.a.Header,{children:Object(m.jsxs)(Ne.a.Title,{children:["login"!==d&&Object(m.jsx)("button",{onClick:function(){return u("login")},className:"btn btn-sm btn-default me-2",children:Object(m.jsx)("i",{className:"fa fa-chevron-left"})}),Object(m.jsx)("span",{className:"pl-5",children:b[d]})]})}),Object(m.jsx)(Ne.a.Body,{className:"rounded-bottom ".concat("dark"===c.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(m.jsxs)("div",{className:"text-dark",children:["login"===d&&Object(m.jsx)(Ba,{onToggle:function(e){return u(e)},onClose:a,onSuccess:n}),"resetPassword"===d&&Object(m.jsx)(Ya,{onClose:a}),"changePassword"===d&&Object(m.jsx)(Ua,{onClose:a})]})})]}))},Wa=a(777),qa=a.n(Wa),Va=function(e){var t=e.onLogAction,n=Object(Me.a)(),c=Object(r.useContext)(f),o=Object(r.useContext)(u),d=Object(s.a)(o,1)[0],b=Object(r.useState)(""),j=Object(s.a)(b,2),p=j[0],h=j[1],O=Object(r.useState)(!1),g=Object(s.a)(O,2),_=g[0],v=g[1],y=Object(r.useState)(!1),N=Object(s.a)(y,2),M=N[0],D=N[1],w=function(e){var a=JSON.stringify(e);localStorage.setItem("userData",a),c.addUserData(JSON.parse(a)),c.updateUserData("type",e.type),t(e),S(e),h("slideInRight")},S=function(e){var t={};fetch("https://geolocation-db.com/json/").then((function(e){return e.json()})).then((function(a){t=Object(l.a)(Object(l.a)({},e),{time:(new Date).toString(),ip:a.IPv4})})).catch((function(){t=Object(l.a)(Object(l.a)({},e),{time:(new Date).toString(),ip:"127.0.0.1"})})).finally((function(){var e=new FormData;e.append("log",JSON.stringify(t)),se.a.post("/saveLog",e)}))};return Object(m.jsxs)(i.a.Fragment,{children:[M&&Object(m.jsx)(Ka,{show:M,size:"sm",animation:!1,style:{zIndex:9999},onClose:function(){return D(!1)},onSuccess:function(e){var t={userId:e.userId,source:"self",type:e.type,email:e.email,name:e.name,imageUrl:e.imageUrl,rest:{}};w(t)}}),Object(m.jsx)(oa,{show:_,confirmationstring:n.formatMessage({id:"sureToLogout"}),handleHide:function(){v(!1)},handleYes:function(){return c.removeUserData(["email","imageUrl","name","rest","source","userId"]),c.updateUserData("type","public"),localStorage.removeItem("userData"),t({}),void v(!1)},size:"md",animation:!1}),c.userData.userId?Object(m.jsxs)("div",{className:"d-print-none animate__animated animate__".concat(p),children:[Object(m.jsx)("div",{className:"options welcomeText",children:Object(m.jsx)(x.a,{id:"welcome"})}),Object(m.jsx)("div",{className:"options",children:Object(m.jsx)("div",{className:"welcomeText pb-10",children:c.userData.name})}),Object(m.jsxs)("div",{className:"options pt-3",children:[["facebook","google"].includes(c.userData.source)&&c.userData.imageUrl&&Object(m.jsx)("img",{className:"userImage",alt:"userImage",src:c.userData.imageUrl||a(324)}),"self"===c.userData.source&&c.userData.imageUrl&&Object(m.jsx)(F,{type:"image",appData:d,unsignedUrl:c.userData.imageUrl,className:"userImage"}),Object(m.jsx)("i",{onClick:function(e){v(!0)},title:n.formatMessage({id:"logout"}),className:"fa fa-sign-out text-secondary cursor-pointer fs-4"})]})]}):Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("div",{className:"google",children:Object(m.jsx)(Ra.a,{clientId:P.a.AES.decrypt(d.google_login_auth_token,d.web).toString(P.a.enc.Utf8),buttonText:"",render:function(e){return Object(m.jsx)("i",{onClick:e.onClick,disabled:e.disabled,className:"fa fa-google text-secondary cursor-pointer fs-4"})},onSuccess:function(e){var t={userId:e.profileObj.googleId,type:"public",source:"google",email:e.profileObj.email,name:e.profileObj.name,imageUrl:e.profileObj.imageUrl,rest:e};w(t)},cookiePolicy:"single_host_origin"})}),Object(m.jsx)(qa.a,{appId:P.a.AES.decrypt(d.facebook_app_id,d.web).toString(P.a.enc.Utf8),fields:"name,email,picture",isMobile:!1,redirectUri:d.web,callback:function(e){if(console.log("bbb",e),"unknown"!==e.status){var t={userId:e.id,type:"public",source:"facebook",email:e.email,name:e.name,imageUrl:e.picture.data.url,rest:e};w(t)}},cssClass:"facebook-container",icon:Object(m.jsx)("i",{className:"fa fa-facebook text-secondary cursor-pointer fs-5",title:"Sign in with Facebook"}),textButton:""}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{onClick:function(){return D(!0)},className:"fa fa-user text-secondary cursor-pointer fs-4"})})]})]})};Va.defaultProps={};var Ha=Va,za=[{name:"Facebook",icon:"fa fa-facebook",id:"social_media_facebook"},{name:"LinkedIn",icon:"fa fa-linkedin",id:"social_media_linkedIn"},{name:"Twitter",icon:"fa fa-twitter",id:"social_media_twitter"},{name:"Instagram",icon:"fa fa-instagram",id:"social_media_instagram"}];var Ga=function(e){var t=e.onLogAction,a=i.a.createRef(),n=Object(r.useContext)(u),c=Object(s.a)(n,1)[0],o=Object(r.useContext)(f),l=Object(r.useContext)(oe),d=Object(r.useState)(!1),b=Object(s.a)(d,2),j=b[0],p=b[1],h=Object(r.useState)(!1),O=Object(s.a)(h,2),g=O[0],_=O[1],v=Object(r.useState)(!1),y=Object(s.a)(v,2),N=y[0],M=y[1],D=Object(r.useState)(!1),w=Object(s.a)(D,2),S=w[0],T=w[1],C=Object(r.useState)([]),k=Object(s.a)(C,2),P=k[0],E=k[1],A=Object(r.useState)(o.userData.theme),L=Object(s.a)(A,2),I=L[0],R=L[1];return Object(r.useEffect)((function(){null!==a.current&&(g?a.current.play():a.current.pause())}),[g]),Object(r.useEffect)((function(){o.updateUserData("theme",I),o.updateUserData("videoShown",N)}),[I,N]),Object(r.useEffect)((function(){if(Object.keys(c).length>0){"1"===c.bgSongDefaultPlay&&(T(!0),setTimeout((function(){_(!0)}),5e3)),M("1"===c.bgVideoDefaultPlay);var e=Object.keys(c),t=[].concat(za).map((function(t){return e.includes(t.id)&&(t.href=c[t.id]),t}));E(t)}}),[c]),Object(m.jsxs)("div",{children:[S&&Object(m.jsx)(F,{customRef:a,className:"audio",optionalAttr:{autoPlay:"1"===c.bgSongDefaultPlay,loop:!0,preload:"auto",width:"100",height:"50"},type:"audio",appData:c,unsignedUrl:c.bgSong}),Object(m.jsx)(F,{className:"videoTag d-print-none",optionalAttr:{autoPlay:!0,loop:!0,muted:!0},style:{display:N?"block":"none"},type:"video",appData:c,unsignedUrl:c.bgVideo}),Object(m.jsxs)("div",{className:"globalHeader d-print-none d-flex justify-content-between ".concat("dark"===o.userData.theme?"bg-dark":"bg-white"," fixed-top"),children:[Object(m.jsx)("div",{children:Object(m.jsx)(F,{type:"image",appData:c,unsignedUrl:c.bannerImg,className:"brand global img-fluid",optionalAttr:{width:"150",height:"40"}})}),Object(m.jsx)("div",{className:"text-end",children:Object(m.jsxs)(Ye.a,{show:j,onToggle:function(e,t){"select"!==t.source&&p(e),T(!0)},children:[Object(m.jsx)(Ye.a.Toggle,{as:"i",children:Object(m.jsx)("i",{className:"fa fa-th-large gIcon icon-bni"})}),Object(m.jsxs)(Ye.a.Menu,{align:"start",className:"dark"===o.userData.theme?"bg-dark text-white-50":"bg-white text-black",children:[Object(m.jsx)(Ye.a.Item,{as:"div",children:Object(m.jsx)(Ha,{onLogAction:function(e){t(e),p(!0)}})}),Boolean(Number(c.switchSongFeatureRequired))&&Object(m.jsx)(Ye.a.Item,{as:"div",onClick:function(){_(!g)},children:Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("div",{className:"labelText",children:Object(m.jsx)(x.a,{id:"music"})}),Object(m.jsx)(rt.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===o.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===o.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){_(!g)},checked:!0===g})]})}),Boolean(Number(c.switchVideoFeatureRequired))&&Object(m.jsx)(Ye.a.Item,{as:"div",onClick:function(){return M(!N)},children:Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("div",{className:"labelText",children:Object(m.jsx)(x.a,{id:"video"})}),Object(m.jsx)(rt.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===o.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===o.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){return M(!N)},checked:!0===N})]})}),Boolean(Number(c.switchThemeFeatureRequired))&&Object(m.jsx)(Ye.a.Item,{as:"div",children:Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("button",{className:"btn border-2 btn-sm btn-secondary",onClick:function(){return R("dark")},children:Object(m.jsx)("small",{children:Object(m.jsx)(x.a,{id:"dark"})})}),Object(m.jsx)("button",{className:"btn border-2 btn-sm btn-secondary",onClick:function(){return R("light")},children:Object(m.jsx)("small",{children:Object(m.jsx)(x.a,{id:"light"})})})]})}),Object(m.jsx)(Ye.a.Item,{as:"div",children:Object(m.jsxs)(ha.a,{style:{width:"90%",margin:"0 auto"},children:[Object(m.jsx)(ha.a.Text,{children:Object(m.jsx)("i",{className:"fa fa-globe"})}),Object(m.jsx)(Sa.a.Select,{value:l.localeId,size:"sm",onChange:function(e){return l.setLocaleId(e.target.value)},children:l.localeList.map((function(e,t){return Object(m.jsx)("option",{value:e.id,children:e.label},t)}))})]})}),Boolean(Number(c.switchSocialMediaFeatureRequired))&&P.length>0&&Object(m.jsx)(Ye.a.Item,{as:"div",children:Object(m.jsx)("div",{className:"options text-center",children:P.map((function(e,t){return Object(m.jsx)("a",{className:"dark"===o.userData.theme?"text-white-50":"text-black-50",href:e.href,onClick:function(){return t=e.href,void window.open(t,"_blank").focus();var t},children:Object(m.jsx)("i",{className:"".concat(e.icon," social-icons")})},t)}))})})]})]})})]}),e.children]})};t.default=function(e){var t=Object(r.useState)({}),a=Object(s.a)(t,2),i=a[0],o=a[1],l=Object(r.useState)(!0),d=Object(s.a)(l,2),b=d[0],j=d[1],f=Object(r.useState)(JSON.parse(localStorage.getItem("userData"))||{}),h=Object(s.a)(f,2)[1],O=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),e.next=3,se.a.get("/").then((function(e){var t=e.data.response[0];o(t),j(!0),g(t),document.documentElement.style.setProperty("--app-theme-color",t.webThemeColor),document.documentElement.style.setProperty("--app-theme-bg-color",t.webThemeBackground)})).catch((function(e){return j(!1)})).finally((function(e){return!1}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=document.querySelector("#favIcon"),a=e.favIconImg.split("/")[0],n=e.favIconImg.split("/").slice(1,e.favIconImg.split("/").length).join("/");new L(e).getSignedUrl(n,86400,a).then((function(e){t.href=e||""}))};return Object(r.useEffect)((function(){O()}),[]),Object(m.jsx)(m.Fragment,{children:b&&Object(m.jsx)(u.Provider,{value:[i,o],children:Object(m.jsx)(p,{config:i,children:Object(m.jsx)(le,{children:Object(m.jsx)(Ga,{onLogAction:function(e){h(e)},children:Object(m.jsx)(La,{appData:i})})})})})})}}}]);
//# sourceMappingURL=4.8aef709c.chunk.js.map