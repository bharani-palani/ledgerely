(this["webpackJsonpledgerely.com"]=this["webpackJsonpledgerely.com"]||[]).push([[61],{1165:function(e,t,s){"use strict";s.r(t);var a=s(25),n=s(28),c=s(29),r=s(26),i=s(1),d=s(1265),o=s(351),l=s(49),u=s(41),j=s(68),f=s(371),b=s(1243),x=s(0);t.default=function(e){var t=Object(i.useContext)(u.a),s=Object(i.useContext)(o.BillingContext),p=Object(i.useContext)(j.a),h=s.showSessionPopup,m=s.setShowSessionPopup,O=s.summary,g=["hourglass-o","hourglass-start","hourglass-half","hourglass-end","hourglass"],v=Object(i.useState)(0),y=Object(r.a)(v,2),N=y[0],w=y[1],M=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("appId",t),e.next=4,l.a.post("/getUserConfig",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){var s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("customerId",O.razorPayCustomerId),s.append("expiryDate",t.userConfig.expiryDateTime),e.next=5,l.a.post("/payments/razorpay/isOrderPaid",s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e=0,s=setInterval((function(){w(e=(e+=1)>g.length-1?0:e),k().then((function(e){var s;(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.response)&&M(t.userConfig.appId).then((function(e){var s=e.data.response;console.log("bbb",s[0]),t.setUserConfig((function(e){return Object(a.a)(Object(a.a)({},e),s[0])})),p.setConfig({show:!0,className:"alert-success border-0 text-dark",type:"success",dismissible:!0,heading:Object(x.jsx)(f.d,{}),content:Object(x.jsx)(f.c,{})})})).catch((function(e){return console.error("Unable to fetch user config and order",e)})).finally((function(){return m(!1)}))})).catch((function(e){return console.error("fetch order error:",e)}))}),3e3);return function(){return clearInterval(s)}}),[]),Object(x.jsxs)(d.a,{show:h,onHide:function(){return m(!1)},style:{zIndex:1e4},keyboard:!1,backdrop:"static",children:[Object(x.jsx)(d.a.Header,{children:Object(x.jsxs)(d.a.Title,{className:"d-flex align-items-center",children:[Object(x.jsx)("i",{className:"px-2 fa-1x fa fa-hand-paper-o"}),Object(x.jsx)("span",{children:Object(x.jsx)(b.a,{id:"pleaseWait",defaultMessage:"pleaseWait"})})]})}),Object(x.jsx)(d.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(x.jsxs)("div",{className:"text-center",children:[Object(x.jsx)("div",{children:Object(x.jsx)(b.a,{id:"doNotRefresh",defaultMessage:"doNotRefresh"})}),Object(x.jsx)("div",{className:"p-5",children:Object(x.jsx)("i",{className:"animate__animated animate__pulse animate__infinite fa fa-".concat(g[N]," fa-5x fa-fw")})})]})})]})}},371:function(e,t,s){"use strict";s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return r})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return d}));s(1);var a=s(1243),n=s(0),c=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("i",{className:"fa fa-check fa-2x pt-2 text-success"}),Object(n.jsxs)("div",{className:"ps-2",children:[Object(n.jsx)("div",{className:"fs-3",children:Object(n.jsx)(a.a,{id:"success",defaultMessage:"success"})}),Object(n.jsx)("div",{className:"fs-6",children:Object(n.jsx)(a.a,{id:"paymentReceived",defaultMessage:"paymentReceived"})})]})]})})},r=function(){return Object(n.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"fs-6",children:Object(n.jsx)(a.a,{id:"paymentSuccessMessage",defaultMessage:"paymentSuccessMessage"})})})})},i=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)("i",{className:"fa fa-times-circle fa-2x pt-2 text-danger"}),Object(n.jsxs)("div",{className:"ps-2",children:[Object(n.jsx)("div",{className:"fs-3",children:Object(n.jsx)(a.a,{id:"failed",defaultMessage:"failed"})}),Object(n.jsx)("div",{className:"fs-6",children:Object(n.jsx)(a.a,{id:"paymentNotReceived",defaultMessage:"paymentNotReceived"})})]})]})})},d=function(){return Object(n.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"fs-6",children:Object(n.jsx)(a.a,{id:"paymentFailMessage",defaultMessage:"paymentFailMessage"})})})})}}}]);