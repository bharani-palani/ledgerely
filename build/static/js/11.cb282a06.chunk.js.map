{"version":3,"sources":["components/shared/D3/VerticalBarChart.js","components/shared/D3/constants.js"],"names":["VerticalBarChart","props","svgRef","useRef","width","height","marginTop","marginRight","marginBottom","marginLeft","fillColor","yAxisLabel","xAxisLabel","padding","style","tooltipPrefix","tooltipSuffix","data","showYaxisLine","showXaxis","showXaxisLabel","showYaxis","showYaxisLabel","showTooltip","sortClause","showAnimation","xAxisTicksOrientation","onClick","fontSize","useEffect","isNaN","order","arguments","length","undefined","d3","_ref","_slicedToArray","value","d","label","_ref3","map","sortBy","x","domain","range","xAxis","tickSizeOuter","y","nice","svg","current","attr","call","extent","scaleExtent","translateExtent","on","event","transform","applyX","selectAll","bandwidth","append","join","i","tooltip","html","concat","pageX","pageY","transition","delay","duration","g","text","select","remove","JSON","stringify","_jsx","ref","defaultProps","appThemeBgColor","Array","fill","_","Number","Math","random","toFixed","appThemeColor","successColor","dangerColor"],"mappings":"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","file":"static/js/11.cb282a06.chunk.js","sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport { appThemeBgColor, tooltip } from \"./constants\";\nimport PropTypes from \"prop-types\";\n\nconst VerticalBarChart = props => {\n  const svgRef = useRef(null);\n  const {\n    width,\n    height,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    fillColor,\n    yAxisLabel,\n    xAxisLabel,\n    padding,\n    style,\n    tooltipPrefix,\n    tooltipSuffix,\n    data,\n    showYaxisLine,\n    showXaxis,\n    showXaxisLabel,\n    showYaxis,\n    showYaxisLabel,\n    showTooltip,\n    sortClause,\n    showAnimation,\n    xAxisTicksOrientation,\n    onClick,\n    fontSize,\n  } = props;\n\n  const sortBy = (clause = null) => {\n    switch (clause) {\n      case \"desc\":\n        return d3.groupSort(\n          data,\n          ([d]) => -d.value,\n          d => d.label,\n        );\n      case \"asc\":\n        return d3.groupSort(\n          data,\n          ([d]) => d.value,\n          d => d.label,\n        );\n      default:\n        return data.map(d => d.label);\n    }\n  };\n\n  useEffect(() => {\n    if (!isNaN(width)) {\n      const order = sortBy(sortClause);\n      // Declare the x (horizontal position) scale.\n      const x = d3\n        .scaleBand()\n        .domain(order)\n        .range([marginLeft, width - marginRight])\n        .padding(padding);\n\n      const xAxis = d3.axisBottom(x).tickSizeOuter(0);\n\n      // Declare the y (vertical position) scale.\n      const y = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, d => d.value)])\n        .nice()\n        .range([height - marginBottom, marginTop]);\n\n      const zoom = svg => {\n        const extent = [\n          [marginLeft, marginTop],\n          [width - marginRight, height - marginTop],\n        ];\n\n        svg.call(\n          d3\n            .zoom()\n            .scaleExtent([1, 8])\n            .translateExtent(extent)\n            .extent(extent)\n            .on(\"zoom\", event => {\n              x.range(\n                [marginLeft, width - marginRight].map(d =>\n                  event.transform.applyX(d),\n                ),\n              );\n              svg\n                .selectAll(\".bars rect\")\n                .attr(\"x\", d => x(d.label))\n                .attr(\"width\", x.bandwidth());\n              svg.selectAll(\".x-axis\").call(xAxis);\n            }),\n        );\n      };\n\n      // Create the SVG container.\n      const svg = d3\n        .select(svgRef.current)\n        .attr(\"width\", width)\n        .attr(\"height\", height + 50)\n        .attr(\"viewBox\", [0, 0, width, height])\n        .attr(\"style\", style)\n        .call(zoom);\n\n      // Add a rect for each bar.\n      svg\n        .append(\"g\")\n        .attr(\"class\", \"bars\")\n        .selectAll()\n        .data(data)\n        .join(\"rect\")\n        .on(\"click\", (d, i) => {\n          onClick(d, i);\n        })\n        .on(\"mousemove\", (d, i) => {\n          if (showTooltip) {\n            tooltip.style(\"opacity\", 0.9);\n            tooltip\n              .html(`${tooltipPrefix} ${i.value} ${tooltipSuffix}`)\n              .style(\"left\", d.pageX + 5 + \"px\")\n              .style(\"top\", d.pageY - 30 + \"px\");\n          }\n        })\n        .on(\"mouseout\", d => {\n          tooltip.style(\"opacity\", 0);\n        })\n        .attr(\"width\", x.bandwidth())\n        .attr(\"x\", d => x(d.label))\n        // .attr(\"y\", 0)\n        // .attr(\"height\", 0)\n        .transition()\n        .delay(200)\n        .duration((d, i) => (showAnimation ? i * 100 : i))\n        .attr(\"fill\", fillColor)\n        .attr(\"y\", d => y(d.value))\n        .attr(\"height\", d => y(0) - y(d.value));\n\n      // Add the x-axis and label.\n      if (showXaxis) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"x-axis\")\n          .attr(\"transform\", `translate(0,${height - marginBottom})`)\n          .call(xAxis)\n          .call(g =>\n            showXaxisLabel\n              ? g\n                  .append(\"text\")\n                  .style(\"text-anchor\", \"start\")\n                  .attr(\"font-size\", fontSize)\n                  .attr(\"x\", width / 2)\n                  .attr(\"y\", marginBottom)\n                  .attr(\"fill\", \"currentColor\")\n                  .text(xAxisLabel)\n              : g,\n          );\n        if (xAxisTicksOrientation === \"vertical\") {\n          svg\n            .selectAll(\".x-axis .tick text\")\n            .attr(\"font-size\", fontSize)\n            .style(\"text-anchor\", \"end\")\n            .attr(\"y\", \"15\")\n            .attr(\"dx\", \"-1em\")\n            .attr(\"dy\", \".15em\")\n            .attr(\"transform\", \"rotate(-60)\");\n        }\n      }\n\n      // Add the y-axis and x-axis label\n      if (showYaxis) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"y-axis\")\n          .attr(\"transform\", `translate(${marginLeft},0)`)\n          .call(d3.axisLeft(y))\n          .call(g => (!showYaxisLine ? g.select(\".domain\").remove() : g))\n          .call(g =>\n            showYaxisLabel\n              ? g\n                  .append(\"text\")\n                  .style(\"text-anchor\", \"middle\")\n                  .attr(\"font-size\", fontSize)\n                  .attr(\"x\", -((height - marginBottom) / 2))\n                  .attr(\"y\", -(marginLeft - 20))\n                  .attr(\"fill\", \"currentColor\")\n                  .attr(\"transform\", \"rotate(270)\")\n                  .text(yAxisLabel)\n              : g,\n          );\n      }\n    }\n  }, [JSON.stringify(props)]);\n\n  return <svg ref={svgRef} />;\n};\n\nVerticalBarChart.propTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  marginTop: PropTypes.number,\n  marginRight: PropTypes.number,\n  marginBottom: PropTypes.number,\n  marginLeft: PropTypes.number,\n  fillColor: PropTypes.string,\n  yAxisLabel: PropTypes.string,\n  xAxisLabel: PropTypes.string,\n  padding: PropTypes.number,\n  style: PropTypes.string,\n  tooltipPrefix: PropTypes.string,\n  tooltipSuffix: PropTypes.string,\n  showTooltip: PropTypes.bool,\n  data: PropTypes.array,\n  showYaxisLine: PropTypes.bool,\n  showXaxis: PropTypes.bool,\n  showXaxisLabel: PropTypes.bool,\n  showYaxis: PropTypes.bool,\n  showYaxisLabel: PropTypes.bool,\n  showAnimation: PropTypes.bool,\n  sortClause: PropTypes.string,\n  xAxisTicksOrientation: PropTypes.string,\n  onClick: PropTypes.func,\n  fontSize: PropTypes.number,\n};\n\nVerticalBarChart.defaultProps = {\n  width: 400,\n  height: 200,\n  marginTop: 0,\n  marginRight: 10,\n  marginBottom: 40,\n  marginLeft: 60,\n  fillColor: appThemeBgColor,\n  yAxisLabel: \"y-axis\",\n  xAxisLabel: \"x-axis\",\n  padding: 0.01,\n  style:\n    \"max-width: 100%; height: auto; box-shadow: 0px 0 10px #000; border-radius: 10px;\",\n  tooltipPrefix: \"\",\n  tooltipSuffix: \"\",\n  showTooltip: true,\n  data: new Array(20)\n    .fill(\"_\")\n    .map((_, i) => ({\n      label: `C${i + 1}`,\n      value: Number((Math.random() * 100).toFixed(2)),\n    })),\n  showYaxisLine: true,\n  showXaxis: true,\n  showXaxisLabel: true,\n  showYaxis: true,\n  showYaxisLabel: true,\n  showAnimation: true,\n  sortClause: \"\",\n  xAxisTicksOrientation: \"horizontal\",\n  fontSize: 14,\n  onClick: () => {},\n};\n\nexport default VerticalBarChart;\n","import * as d3 from \"d3\";\n\nconst appThemeBgColor = \"#c2d82e\";\nconst appThemeColor = \"#000000\";\nconst successColor = \"#198754\";\nconst dangerColor = \"#dc3545\";\nconst warningColor = \"#ffc107\";\nconst infoColor = \"#0dcaf0\";\nconst tooltip = d3\n  .select(\"body\")\n  .append(\"div\")\n  .attr(\"class\", \"tooltip\")\n  .attr(\"role\", \"tooltip\")\n  .style(\"position\", \"absolute\")\n  .style(\"background\", \"#222222\")\n  .style(\"padding\", \"5px\")\n  .style(\"border-radius\", \"5px\")\n  .style(\"color\", \"#ffffff\");\n\nexport {\n  tooltip,\n  appThemeBgColor,\n  appThemeColor,\n  successColor,\n  dangerColor,\n  warningColor,\n  infoColor,\n};\n"],"sourceRoot":""}