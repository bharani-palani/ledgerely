(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[11],{1154:function(t,n,e){"use strict";e.r(n);var a=e(1),r=e(78),l=e(56),i=e(71),o=e(0),s=function DonutChart(t){var n=Object(a.useRef)(null),e=t.width,i=t.height,s=t.outerRadius,g=t.innerRadius,u=t.data,d=t.fillColor,c=t.style,A=t.fontSize,f=t.showTooltip,h=t.tooltipPrefix,v=t.tooltipSuffix,p=t.onClick,x=t.fontColor,m=t.showAnimation,M=t.animationClass,P=t.showLegend,I=t.showXaxisLabel,w=t.xAxisLabel;return Object(a.useEffect)((function(){var t,a,o=24,c=[],y=[],b=[],T=l.w().value((function(t){return t.value})),C=l.z().domain([0,u.length]).range(d).interpolate(l.p),k=l.b().startAngle((function(t){return t.startAngle})).endAngle((function(t){return t.endAngle})).innerRadius(g).outerRadius(s),z=l.N(n.current).attr("width",e).attr("height",i);z.selectAll("g").remove();var F=z.append("svg:g").attr("class","arc").attr("transform","translate("+e/2+","+i/2+")"),R=z.append("svg:g").attr("class","labelGroup").attr("transform","translate("+e/2+","+i/2+")"),S=z.append("svg:g").attr("class","centerGroup").attr("transform","translate("+e/2+","+i/2+")");function pieTween(t,n){var e,a;y[n]?(e=y[n].startAngle,a=y[n].endAngle):!y[n]&&y[n-1]?(e=y[n-1].endAngle,a=y[n-1].endAngle):!y[n-1]&&y.length>0?(e=y[y.length-1].endAngle,a=y[y.length-1].endAngle):(e=0,a=0);var r=l.o({startAngle:e,endAngle:a},{startAngle:t.startAngle,endAngle:t.endAngle});return function(t){var n=r(t);return k(n)}}function removePieTween(t,n){s0=2*Math.PI,e0=2*Math.PI;var e=l.o({startAngle:t.startAngle,endAngle:t.endAngle},{startAngle:s0,endAngle:e0});return function(t){var n=e(t);return k(n)}}function textTween(t,n){var e;e=y[n]?(y[n].startAngle+y[n].endAngle-Math.PI)/2:!y[n]&&y[n-1]?(y[n-1].startAngle+y[n-1].endAngle-Math.PI)/2:!y[n-1]&&y.length>0?(y[y.length-1].startAngle+y[y.length-1].endAngle-Math.PI)/2:0;var a=(t.startAngle+t.endAngle-Math.PI)/2,r=l.q(e,a);return function(t){var n=r(t);return"translate("+Math.cos(n)*(s+o)+","+Math.sin(n)*(s+o)+")"}}I&&S.append("text").html(w).attr("fill",x).attr("font-size",A).attr("text-anchor","middle"),function update(n){y=b,c=T(n);var e=0;b=c.filter((function filterData(t,a,r){return t.name=n[a].label,t.value=n[a].value,e+=t.value,t.value>0}));var l=F.selectAll("path").data(b);if(l.enter().append("svg:path").on("click",(function(t,n){p(t,n)})).on("mousemove",(function(t,n){f&&(r.d.style("padding","5px"),r.d.style("opacity",1),r.d.html("<div>".concat(h," ").concat(n.name,"</div><div>").concat(n.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),"</div><div>").concat((n.value/e*100).toFixed(2),"%</div><div>").concat(v,"</div>")).style("left",t.pageX+15+"px").style("top",t.pageY-30+"px"))})).on("mouseout",(function(t){r.d.style("padding",0),r.d.style("opacity",0)})).attr("fill",(function(t,n){return C(n)})),l.enter().selectAll("path").attr("class",m?M:"").transition().duration(0).attrTween("d",pieTween),l.exit().transition().duration(0).attrTween("d",removePieTween).remove(),P){var i=R.selectAll("line").data(b);i.enter().append("svg:line").attr("x1",0).attr("x2",0).attr("y1",-s-3).attr("y2",-s-15).attr("stroke","gray").attr("transform",(function(t){return"rotate("+(t.startAngle+t.endAngle)/2*(180/Math.PI)+")"})),i.transition().duration(0).attr("transform",(function(t){return"rotate("+(t.startAngle+t.endAngle)/2*(180/Math.PI)+")"})),i.exit().remove(),(t=R.selectAll("text.value").data(b).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?5:-7})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).text((function(t){return(t.value/e*100).toFixed(1)+"%"}))).enter().append("svg:text").attr("class","value").attr("fill","currentColor").attr("font-size",A).attr("transform",(function(t){return"translate("+Math.cos((t.startAngle+t.endAngle-Math.PI)/2)*(s+o)+","+Math.sin((t.startAngle+t.endAngle-Math.PI)/2)*(s+o)+")"})).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?5:-7})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).attr("fill",x).text((function(t){return(t.value/e*100).toFixed(2)+"%"})),t.transition().duration(0).attrTween("transform",textTween),t.exit().remove(),(a=R.selectAll("text.units").data(b).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?17:5})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).text((function(t){return t.name}))).enter().append("svg:text").attr("class","units").attr("font-size",A).attr("transform",(function(t){return"translate("+Math.cos((t.startAngle+t.endAngle-Math.PI)/2)*(s+o)+","+Math.sin((t.startAngle+t.endAngle-Math.PI)/2)*(s+o)+")"})).attr("dy",(function(t){return(t.startAngle+t.endAngle)/2>Math.PI/2&&(t.startAngle+t.endAngle)/2<1.5*Math.PI?25:10})).attr("text-anchor",(function(t){return(t.startAngle+t.endAngle)/2<Math.PI?"beginning":"end"})).attr("fill",x).text((function(t){return t.name})),a.transition().duration(0).attrTween("transform",textTween),a.exit().remove()}}(u)}),[JSON.stringify(t)]),Object(o.jsx)("svg",{style:c,ref:n})};s.defaultProps=i.e,n.default=s}}]);
//# sourceMappingURL=11.842047fa.chunk.js.map