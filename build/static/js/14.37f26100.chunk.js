(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[14],{1201:function(e,t,a){"use strict";a.r(t);var c=a(25),s=a(26),i=a(1),n=a(217),l=a.n(n),r=a(1217),d=a(798),o=a(1254),j=a(836),b=a(55),u=a(226),m=a(89),h=a(1203),f=a(1186),p=a(44),x=a(1257),O=a(1216),y=a(0),v=Object(h.a)("pk_live_51P9nXmSG6hEpjfQn0275coL9mVH2dTYC4jI9IsqWBt0hxoRB7uP97KMMOV7R1b7BhwyVtUW4DAEAHfuWvt5iCmch00yXKDXak8"),g=function(){var e=Object(i.useContext)(u.a),t=e.summary,a=e.showCheckout,c=e.setShowCheckout,s={fetchClientSecret:Object(i.useCallback)((function(){var e=new FormData;return e.append("summary",JSON.stringify(t)),p.a.post("/payments/checkoutSubscription",e).then((function(e){return e.data.response.client_secret}))}),[t])};return Object(y.jsxs)(x.a,{show:a,onHide:function(){return c(!1)},style:{zIndex:9999},size:"xl",backdrop:"static",keyboard:!1,children:[Object(y.jsx)(x.a.Header,{closeButton:!0,className:"p-2",children:Object(y.jsxs)(x.a.Title,{className:"d-flex align-items-center",children:[Object(y.jsx)("i",{className:"pe-2 fa fa-credit-card-alt"}),Object(y.jsx)("span",{className:"small",children:Object(y.jsx)(O.a,{id:"checkout",defaultMessage:"checkout"})})]})}),Object(y.jsx)(x.a.Body,{className:"p-0 bg-white text-dark",children:Object(y.jsx)("div",{id:"checkout",children:Object(y.jsx)(f.EmbeddedCheckoutProvider,{stripe:v,options:s,children:Object(y.jsx)(f.EmbeddedCheckout,{})})})}),Object(y.jsx)(x.a.Footer,{className:"border-0 bg-white justify-content-center px-2 py-1",children:Object(y.jsx)("small",{className:"text-danger",style:{fontSize:"0.75rem"},children:Object(y.jsx)(O.a,{id:"checkoutNote",defaultMessage:"checkoutNote"})})})]})},k=a(797);t.default=function(e){var t=Object(k.a)(),a=Object(i.useContext)(m.a),n=Object(i.useContext)(b.a),h=Object(i.useContext)(u.a),f=Object(i.useState)(!1),p=Object(s.a)(f,2),x=p[0],v=p[1],N=h.summary,C=h.setSummary,w=h.cycleList,M=h.table,P=h.selectedPlan,S=h.cycleRef,D=h.total,_=h.billingLoader,E=h.setShowCheckout,H=[{id:0,href:a.cancellationRefundPolicyLink,label:t.formatMessage({id:"cancellationPolicy",defaultMessage:"cancellationPolicy"})},{id:1,href:a.termsOfServiceLink,label:t.formatMessage({id:"termsOfService",defaultMessage:"termsOfService"})},{id:2,href:a.privacyPolicyLink,label:t.formatMessage({id:"privacyPolicy",defaultMessage:"privacyPolicy"})}];return Object(y.jsxs)("div",{className:"my-3",children:[Object(y.jsx)(g,{}),Object(y.jsx)("div",{className:"fs-3",children:Object(y.jsx)(O.a,{id:"summary",defaultMessage:"summary"})}),Object(y.jsxs)(r.a,{className:"m-1",children:[Object(y.jsx)(d.a,{md:6,className:"receipt rounded",style:{"--theme-color":"dark"===n.userData.theme?"#1a1d21":"#eee"},children:Object(y.jsxs)("div",{style:{background:"dark"===n.userData.theme?"#1a1d21":"#eee",color:"dark"===n.userData.theme?"#fff":"#000",height:"15rem"},className:"position-relative px-2",children:[N.invoice.map((function(e,t){return Object(y.jsxs)(d.a,{xs:12,className:"d-flex justify-content-between align-items-center py-1",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{children:Object(y.jsx)(O.a,{id:e.id,defaultMessage:e.id})}),Object(y.jsx)("span",{className:"ps-2",children:e.title?"(".concat(e.title,")"):""})]}),Object(y.jsx)("div",{children:_?Object(y.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):e.value})]},e.id)})),Object(y.jsxs)(d.a,{xs:12,style:{borderTop:"dotted 5px #aeaeae",position:"absolute",width:"98%",bottom:0},className:"d-flex justify-content-between align-items-center py-2",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.a,{id:"total",defaultMessage:"total"})}),Object(y.jsx)("div",{children:D.toFixed(2)})]})]})}),Object(y.jsxs)(d.a,{md:6,className:"pt-2",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-1",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.a,{id:"paymentCycle",defaultMessage:"paymentCycle"})}),Object(y.jsx)("div",{children:Object(y.jsx)(o.a.Select,{value:N.cycle,disabled:!P.planCode,size:"sm",onChange:function(e){var t=M.filter((function(e){return e.planCode===P.planCode}))[0][S[e.target.value].prop],a=M.filter((function(e){return e.planCode===P.planCode}))[0][S[e.target.value].stripeProp];C((function(s){return Object(c.a)(Object(c.a)({},s),{},{stripePriceId:a,cycle:e.target.value,invoice:s.invoice.map((function(e){return"price"===e.id?Object.assign(e,{value:t}):e}))})}))},children:w.map((function(e,t){return Object(y.jsx)("option",{value:e.value,children:e.label},t)}))})})]}),H.map((function(e){return Object(y.jsx)("div",{className:"py-1",children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link-primary",href:e.href,children:e.label})},e.id)})),Object(y.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-1",children:[Object(y.jsx)("div",{children:Object(y.jsx)(O.a,{id:"iAgreeTerms",defaultMessage:"iAgreeTerms"})}),Object(y.jsx)("div",{children:Object(y.jsx)(l.a,{className:"".concat(P.planCode?"animate__animated animate__headShake infiniteAnimation":""),onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:document.documentElement.style.getPropertyValue("--app-theme-color"),offHandleColor:"dark"===n.userData.theme?"#555":"#ddd",onHandleColor:"dark"===n.userData.theme?"#555":"#ddd",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:30,onChange:function(e){v(e)},checked:x})})]}),Object(y.jsx)("div",{className:"pt-2",children:Object(y.jsxs)(j.a,{disabled:!(x&&D>0&&!_),className:"btn btn-bni w-100 border-0 d-flex justify-content-between align-items-center",onClick:function(){return E(!0)},children:[Object(y.jsxs)("span",{className:"fs-5",children:[Object(y.jsx)("i",{className:"fa fa-credit-card-alt pe-2"}),Object(y.jsx)(O.a,{id:"subscribeNow",defaultMessage:"subscribeNow"})]}),Object(y.jsx)("div",{children:_?Object(y.jsx)("i",{className:"fa p-1 fa-2x fa-circle-o-notch fa-spin"}):Object(y.jsx)(u.b,{amount:D,suffix:S[N.cycle].suffix,symbol:P.planPriceCurrencySymbol})})]})})]})]})]})}}}]);