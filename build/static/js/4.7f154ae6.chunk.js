(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[4],{103:function(e,t,a){"use strict";var n=a(35),c=a(60),r=a(22),s=a(73),l=a(26),i=a(1),o=a(174),d=a(29),u=a(0),b=["info","checked","marker"],j=function(e){var t=e.info,a=e.checked,n=e.marker,c=Object(d.a)(e,b);return Object(u.jsxs)("label",{className:"checkBoxComponent",children:[Object(u.jsx)("span",{children:t.value}),n&&Object(u.jsx)("span",{className:"sup",children:"*"}),Object(u.jsx)("input",Object(r.a)({checked:a,type:"checkbox"},c)),Object(u.jsx)("span",{className:"checkmark"})]})};j.defaultProps={checked:!1};var m=j,p=function(e){var t=e.index,a=e.type,d=e.primaryKey,b=e.searchable,j=e.element,p=e.value,h=e.placeholder,f=e.onChange,O=Object(i.useRef)(null),_=Object(i.useState)(!1),x=Object(l.a)(_,2),g=x[0],v=x[1],y=function(){return h},N=function(){var e=p,t=j.fetch.dropDownList;return e="single"===a?(e=t.length>0&&t.filter((function(e){return e.id===p}))).length>0?e[0].value:y():"object"===typeof e&&e.length>0?e.map((function(e){return e.toString()})):[],[t,e]},D=N(),w=Object(l.a)(D,2),S=w[0],T=w[1],P=S.map((function(e){return e.checked=e.id&&T.includes(e.id.toString()),e})),M="single"===a?S:P,k=Object(i.useState)(M),C=Object(l.a)(k,2),E=C[0],A=C[1],I=Object(i.useState)(T),R=Object(l.a)(I,2),L=R[0],B=R[1],Y=Object(i.useState)(""),U=Object(l.a)(Y,2),F=U[0],K=U[1],W=Object(i.useState)(T),q=Object(l.a)(W,2),V=q[0],H=q[1];Object(i.useEffect)((function(){var e=N(),t=Object(l.a)(e,2),n=t[0],c=t[1],r=n.map((function(e){return e.checked=e.id&&c.includes(e.id.toString()),e}));A("single"===a?n:r),B(c),H(c)}),[j]);var z=function(e){O.current&&!O.current.contains(e.target)&&v(!1)};Object(i.useEffect)((function(){return"multiple"===a&&B(J(T)),document.addEventListener("click",z,!0),function(){document.removeEventListener("click",z,!0)}}),[T]);var G=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(t),a=S.filter((function(e){return e.value.toString().toLowerCase().includes(t.toString().toLowerCase())})).map((function(e){return V.includes(e.id)?Object(r.a)(Object(r.a)({},e),{},{checked:!0}):Object(r.a)(Object(r.a)({},e),{},{checked:!1})})),e.next=4,A(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=e.length>0&&S.filter((function(t){return t.id===e[0]}));return 1===t.length?(t=t[0].value,e.length>1?"".concat(t," + ").concat(e.length-1," more..."):t):y()},$=function(e,a){var c=e.target.checked,s=a.id&&c?[].concat(Object(n.a)(V),[a.id]):V.filter((function(e){return e!==a.id}));s=Object(n.a)(new Set(s));var l=E.map((function(e){return s.includes(e.id)?Object(r.a)(Object(r.a)({},e),{},{checked:!0}):Object(r.a)(Object(r.a)({},e),{},{checked:!1})}));A(l),H(s),B(J(s)),f(t,s,d)};return Object(i.useEffect)((function(){if(g){var e=document.getElementById("inputText");e&&e.focus()}}),[g]),Object(u.jsxs)("div",{ref:O,className:"filterSelectComponent",children:[Object(u.jsxs)("div",{onClick:function(){return v(!g)},className:"selected ".concat(g?"yes":"no"),children:[Object(u.jsx)("div",{className:"string",title:L,children:L||h}),Object(u.jsx)("div",{children:Object(u.jsx)(o.a,{className:"caretIcon ".concat(g?"down":"up"),entity:"&#9662;"})})]}),g&&Object(u.jsxs)("div",{className:"wrapper",children:[b&&Object(u.jsxs)("div",{className:"searchContent",children:[Object(u.jsx)("input",{id:"inputText",className:"inputText",onChange:function(e){return G(e.target.value)},placeholder:"Search",type:"text",value:F}),F&&Object(u.jsx)(o.a,{onClick:function(e){K(""),G("")},className:"icon",entity:"&#10006;"})]}),Object(u.jsx)("div",{className:"listWrapper",children:Object(u.jsx)("ul",{children:E.length>0?E.map((function(e,n){return Object(u.jsx)("li",{className:e.id&&(e.id===p||V.includes(e.id))?"selectedSingle":"",children:"multiple"===a?Object(u.jsx)(m,{onChange:function(t){return $(t,e)},checked:e.checked,marker:e.marker,info:e},n):Object(u.jsxs)("div",{onClick:function(){return f(t,(n=e).id,d),B(n.value),void("single"===a&&v(!1));var n},children:[e.value,e.marker&&Object(u.jsx)("span",{className:"sup",children:"*"})]})},n)})):Object(u.jsx)("li",{className:"textCenter",children:"No results"})})})]})]})};p.defaultProps={type:"single",searchable:!0,placeholder:"Select"};t.a=p},173:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(60),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(73),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(50),_FormElement__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(632),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(53),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__),_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(40),_Pagination__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(655),_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(174),_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(656),_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(657),_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_backendUpdate_scss__WEBPACK_IMPORTED_MODULE_13__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__);function BackendCore(props){var Table=props.Table,config=props.config,className=props.className||"",TableRows=props.TableRows,TableAliasRows=props.TableAliasRows,postApiUrl=props.postApiUrl,onPostApi=props.onPostApi,showTotal=props.showTotal,rowKeyUp=props.rowKeyUp,insertCloneData=props.insertCloneData,showTooltipFor=props.showTooltipFor,defaultValues=props.defaultValues,onTableUpdate=props.onTableUpdate,onReFetchData=props.onReFetchData,cellWidth=props.cellWidth,_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),rowElements=_useState2[0],setRowElements=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(props.dbData),_useState4=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState3,2),dbData=_useState4[0],setDbData=_useState4[1],dbDataBackup=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(props.dbData),_useState5=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState6=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState5,2),deleteData=_useState6[0],setDeleteData=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState8=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState7,2),loader=_useState8[0],setLoader=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState10=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState9,2),btnLoader=_useState10[0],setBtnLoader=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState12=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState11,2),updatedIds=_useState12[0],setUpdatedIds=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({}),_useState14=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState13,2),sortType=_useState14[0],setSortType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState16=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState15,2),tableConfigErrors=_useState16[0],setTableConfigErrors=_useState16[1],pagination=config&&config.footer&&config.footer.pagination&&Object.keys(config.footer.pagination).length>0&&config.footer.pagination,cTotal=config&&config.footer&&config.footer.total,ajaxType=props.ajaxType,ajaxButtonName=props.ajaxButtonName,_useState17=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(pagination&&pagination.recordsPerPage),_useState18=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState17,2),recordsPerPage=_useState18[0],setRecordsPerPage=_useState18[1],defaultRecordsPerPage=pagination&&pagination.recordsPerPage,_useState19=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(Math.ceil(dbData.length/recordsPerPage)),_useState20=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState19,2),currentPage=_useState20[0],setCurrentPage=_useState20[1],maxPagesToShow=pagination&&pagination.maxPagesToShow,createElementPromise=function(){return props.rowElements.map((function(e){return new Promise((function(t,a){t(e)}))}))},runAllApis=function(e){setLoader(!0);var t=createElementPromise();Promise.all([t]).then(function(){var t=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function t(a){return Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a[0]).then((function(e){setRowElements(e),setLoader(!1)}));case 2:"function"===typeof e&&e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){var e=[];return TableAliasRows.length!==TableRows.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),Table&&0!==Table.toString().length&&""!==Table||e.push({error:'The "Table" props should be a valid string.'}),postApiUrl&&!["put","post","delete","patch","request","get","head","options"].includes(ajaxType)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&setTableConfigErrors(e),function(){}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){runAllApis()}),[TableRows,Table,props.rowElements]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){dbData.length>0&&setDbData(dbData)}),[props.dbData]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){if(insertCloneData&&insertCloneData.length>0){setLoader(!0);var e=[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(insertCloneData),Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData));setDbData(e),setTimeout((function(){setLoader(!1)}),500)}}),[insertCloneData]);var updateDbData=function updateDbData(index,data,primaryKey){var i=index.i,j=index.j;dbData[i][j]=data,setDbData(dbData);var id=dbData.filter((function(e,t){return t===i&&e}))[0][primaryKey]||"",array=id?[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds),[id]):Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds);if(array=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(new Set(array)),setUpdatedIds(array),rowKeyUp){var _rowKeyUp$split=rowKeyUp.split("="),_rowKeyUp$split2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_rowKeyUp$split,2),declare=_rowKeyUp$split2[0],operands=_rowKeyUp$split2[1];if(declare&&operands){var newDbData=dbData.map((function(row){return row[declare]=eval(operands),row}));setDbData(newDbData),onTableUpdate&&onTableUpdate(newDbData)}}onTableUpdate&&onTableUpdate(dbData)},_onAddRow=function(e){if(e){var t={};TableRows.map((function(e,a){var n=defaultValues.findIndex((function(t){return Object.keys(t)[0]===e}));return t[e]=n>-1?defaultValues[n][e]:"",null}));var a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData);a.push(t),setDbData(a)}},submitData=function(){setBtnLoader(!0);var e=dbData.filter((function(e){return""===e[TableRows[0]]})).map((function(e){return""===e[TableRows[0]]&&(e[TableRows[0]]=null),e})),t=dbData.filter((function(e){return updatedIds.includes(e[TableRows[0]])})).filter((function(e){return e&&("number"===typeof e[TableRows[0]]||"string"===typeof e[TableRows[0]])})),a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},(e.length>0||deleteData.length>0||t.length>0)&&{Table:Table}),e.length>0&&{insertData:e}),deleteData.length>0&&{deleteData:deleteData}),t.length>0&&{updateData:t}),n=new FormData;n.append("postData",JSON.stringify(a)),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__.a[ajaxType](postApiUrl,n).then((function(t){onPostApi&&onPostApi(t),e.length>0&&(setLoader(!0),setTimeout((function(){onReFetchData(!0),setLoader(!1)}),1e3))})).catch((function(e){onPostApi&&onPostApi({error:e,status:!1})})).finally((function(){setDeleteData([]),setUpdatedIds([]),setBtnLoader(!1),t=[],e=[]}))},getColumnTotal=function(e){var t="";return showTotal.length>0&&showTotal.forEach((function(a,n){if("string"===typeof a&&String(a)===String(e))t=dbData.reduce((function(t,a){return Number(t)+Number(a[e])}),0),t=cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,t,cTotal.maxDecimal);else if("object"===typeof a&&a.whichKey===String(e)){var c=[];t=[a].map((function(t){return t.forValue.map((function(a,n){var r=dbData.filter((function(e){return e[t.forKey]===a})).reduce((function(t,a){return Number(t)+Number(a[e])}),0);return c.push(r),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,r,cTotal.maxDecimal)," (".concat(a,")")]},n)}))})).concat(a.showDifference&&2===a.showDifference.indexes.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"d-inline-block p-1 bg-black rounded-3 ".concat(checkSettlement(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))),children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal),cTotal.maxDecimal),"\xa0",a.showDifference.showStability&&checkSettlementString(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))]},"totRow-".concat(n)))}})),t},checkSettlement=function(e){return 0===e?"txtSuccess":e>0?"txtError":e<0?"txtWarning":void 0},checkSettlementString=function(e){return 0===e?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.zero,")"]}):e<0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.plus,")"]}):e>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("span",{children:["(",cTotal&&cTotal.doubleEntryBalanceStrings&&cTotal.doubleEntryBalanceStrings.minus,")"]}):void 0},onSort=function(e){var t=dbData.map((function(t){return t[e]&&(t[e].toString().indexOf("-")>-1||t[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(t[e]).replace(/-/g,"/"))?"date":""===t[e]||isNaN(t[e])?"string":"number"})),a=[];"date"===(t=t.sort((function(e,a){return t.filter((function(t){return t===e})).length-t.filter((function(e){return e===a})).length})).pop())&&(a=onSortByDate(e)),"number"===t&&(a=onSortByNumber(e)),"string"===t&&(a=onSortByString(e)),setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a)),setSortType((function(t){return{asc:!t.asc,key:e}}))},onSortByNumber=function(e){return dbData.sort((function(t,a){return sortType.asc?a[e]-t[e]:t[e]-a[e]}))},onSortByDate=function(e){return dbData.sort((function(t,a){return sortType.asc?new Date(a[e])-new Date(t[e]):new Date(t[e])-new Date(a[e])}))},onSortByString=function(e){return dbData.sort((function(t,a){return sortType.asc?(a[e]>t[e])-(a[e]<t[e]):(t[e]>a[e])-(t[e]<a[e])}))},onSetCurrentPage=function(e){setCurrentPage(e)},showHideRows=function(e){return e>=(currentPage-1)*recordsPerPage&&e<=currentPage*recordsPerPage-1?"d-block":"d-none"},_onDelete=function(e){var t=e.i,a=dbData[t]&&dbData[t][TableRows[0]];a&&void 0!==a&&(deleteData.push(a),setDeleteData(deleteData));var n=dbData.filter((function(e,a){return a!==t}));setDbData(n),onTableUpdate&&onTableUpdate(n)},onSearch=function(e){var t=[];TableRows.map((function(a){return t.push((function(t){return t[a].toString().toLowerCase().includes(e.toString().toLowerCase())}))}));var a=dbDataBackup.filter((function(e){return t.some((function(t){return t(e)}))&&!deleteData.includes(e[TableRows[0]])}));setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a))},onRecordsChange=function(e){setRecordsPerPage(e)},getPageCounts=function(){var e=(currentPage-1)*recordsPerPage+1;e=e>0?e:0;var t=dbData.length>=currentPage*recordsPerPage?currentPage*recordsPerPage:dbData.length,a=dbData.length>1?"s":"";return"".concat(e," to ").concat(t," of ").concat(dbData?dbData.length:0," record").concat(a)};return!1===loader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"react-responsive-ajax-data-table ".concat(className),children:0===tableConfigErrors.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"biGrid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"heading",title:getPageCounts(),children:getPageCounts()})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__.a,{defaultRecordsPerPage:defaultRecordsPerPage,onSearchChange:function(e){return onSearch(e)},onDropDownChange:function(e){return onRecordsChange(e)},onDismissSearch:function(){return onSearch("")}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"grid-responsive",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},postApiUrl&&{gridTemplateColumns:"50px repeat(".concat(TableRows.length-1,", ").concat(cellWidth,")")}),!postApiUrl&&{gridTemplateColumns:"repeat(".concat(TableRows.length,", ").concat(cellWidth,")")}),className:"grid-container responsive-grid",children:[TableAliasRows.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{onClick:function(){return onSort(TableRows[t])},className:"header",children:t>0||!postApiUrl?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("span",{title:e,children:e})," ",TableRows[t]===sortType.key&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:sortType.asc?"&#8593;":"&#8595;"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:"&#9776;"})},"key-".concat(t))})),dbData.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[dbData.map((function(e,t){return TableRows.map((function(a,n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"".concat(pagination?showHideRows(t):""),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},showTooltipFor.includes(a)&&{className:"tooltipContainer"}),{},{children:[""!==e[a]&&showTooltipFor.includes(a)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("span",{className:"tooltips",children:e[a]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{config:config,onDelete:function(e){return _onDelete(e)},onChange:function(e,t,a){updateDbData(e,t,a)},index:{i:t,j:a},placeholder:TableAliasRows[n],value:e[a],element:rowElements[n],showIncrement:dbData.length-1===t,showDecrement:!0,onAddRow:function(e){return _onAddRow(e)},primaryKey:TableRows[0],isPostable:Boolean(postApiUrl)},"".concat(t,"-").concat(n))]}))},"".concat(e[a],"-").concat(n))}))})),showTotal&&showTotal.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"textCenter",children:"Total"}),TableRows.slice(1).map((function(e,t){var a=showTotal.includes(e)||showTotal.some((function(t){return t.whichKey===e}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:a?"totalColumn":"",children:a?getColumnTotal(e):""},t)}))]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{index:{i:0,j:0},element:rowElements[0],showIncrement:!0,showDecrement:!1,onAddRow:function(e){return _onAddRow(e)}},-1),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"py-3 text-center",style:{gridColumn:"1 / span ".concat(TableRows.length)},children:"No Records"})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"footer",children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_Pagination__WEBPACK_IMPORTED_MODULE_10__.a,{currentPage:currentPage,totalPages:Math.ceil(dbData.length/recordsPerPage),onSetPage:onSetCurrentPage,maxPagesToShow:maxPagesToShow,selectedPageString:pagination.currentPage}),postApiUrl&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"py-2 text-end",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{onClick:function(){return submitData()},disabled:btnLoader,className:"btn btn-bni",children:btnLoader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment,{children:ajaxButtonName})})})]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:"errorWrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("h5",{children:"Please resolve the following issues:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("ol",{children:tableConfigErrors.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("li",{children:e.error},t)}))})]})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:"relativeSpinner",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default.a,{type:_helpers__WEBPACK_IMPORTED_MODULE_9__.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}BackendCore.defaultProps={Table:"My table",TableRows:[],TableAliasRows:[],showTotal:[],rowKeyUp:"",rowElements:[],insertCloneData:[],showTooltipFor:[],ajaxType:"post",ajaxButtonName:"Submit",config:{footer:{total:{locale:"en-IN",currency:"",maxDecimal:2,doubleEntryBalanceStrings:{zero:"Settled",plus:"Ahead",minus:"Bal"}},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},defaultValues:[],cellWidth:"15rem"},__webpack_exports__.a=BackendCore},174:function(e,t,a){"use strict";var n=a(22),c=a(29),r=(a(1),a(0)),s=["className","entity"],l=function(e){var t=e.className,a=e.entity,l=Object(c.a)(e,s);return Object(r.jsx)("span",Object(n.a)({className:"htmlIcon ".concat(t),dangerouslySetInnerHTML:{__html:a}},l))};l.defaultProps={property:"String name"},t.a=l},236:function(e,t,a){"use strict";var n=a(26),c=a(1),r=a(0),s=function(e){var t=e.index,a=e.primaryKey,s=e.onChange,l=e.element,i=e.value,o=t.i,d=t.j,u=Object(c.useState)(l.radio.radioList),b=Object(n.a)(u,1)[0],j=e.value||b.filter((function(e){return e.checked}))[0].value,m=Object(c.useState)(j),p=Object(n.a)(m,2),h=p[0],f=p[1];return Object(c.useEffect)((function(){f(i)}),[i]),Object(r.jsx)("div",{className:"radioComponent",children:b.length&&b.map((function(e,n){return Object(r.jsxs)("div",{className:"radioWrapper",children:[Object(r.jsx)("input",{type:"radio",onChange:function(n){f(n.target.value),s(t,e.value,a)},value:e.value,checked:e.value===h,name:"".concat(d,"-").concat(o),id:"".concat(d,"-").concat(n,"-").concat(o)})," ",Object(r.jsx)("span",{className:"checkmark"}),Object(r.jsx)("label",{htmlFor:"".concat(d,"-").concat(n,"-").concat(o),children:e.label})]},n)}))})};s.defaultProps={property:"String name"},t.a=s},318:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/spinner-1.650efd36.svg"},348:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return r}));var n=function(){return"https://apps.bharani.tech/services"},c="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0.By2r2BwheJsbrEGrHOaMQwrrmlY7wHVFzWtuEmv39fM",r="ab41d118d1msh03b94fd2a0f7b61p10edcdjsn2d55dd5a2c32"},40:function(e,t,a){"use strict";var n=a(35),c=a(46),r=a(22),s={self:void 0,sageHeaderAndList:function(e,t){var a=e.filter((function(e){return Number(e[t])>1}));return[e.filter((function(e){return 1===Number(e[t])}))[0],a]},loadRandomSpinnerIcon:function(){return"Oval"},stringToCapitalize:function(e){return e.split("_").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1,e.length)})).join(" ")},donutChartColors:["#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#f44336"],indianLacSeperator:function(e,t){return e.toLocaleString("en-IN",{maximumFractionDigits:t,style:"currency",currency:"INR"})},countryCurrencyLacSeperator:function(e,t,a,n){return Number(a).toLocaleString(e,Object(r.a)({maximumFractionDigits:n,minimumFractionDigits:n,style:t?"currency":"decimal"},t&&{currency:t}))},lacSeperator:function(e){return e.toLocaleString("en-IN")},strToNumMonth:{Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},monthToStr:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},fullmonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],threeDigitMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],leadingZeros:function(e){var t=Number(e);return t<10?"0".concat(t):t},dateToMonthYear:function(e){var t=new Date(e);return"".concat(s.threeDigitMonthNames[t.getMonth()],"-").concat(t.getFullYear())},addMonths:function(e,t){if(e&&t){var a,n=["",(e=new Date(+e)).getDate()],c=n[1];e.setMonth(e.getMonth()+t,1),a=e.getMonth(),e.setDate(c),e.getMonth()!==a&&e.setDate(0)}return e},getNextMonthDate:function(e){var t=new Date,a=t.getFullYear(),n=t.getMonth()+2;n>12&&(a+=1,n=1);var c=new Date("".concat(a,"-").concat(n,"-01")),r=c.getMonth()+1;r=r<10?"0".concat(r):r;var s=e<10?"0".concat(e):e,l=c.getFullYear();return"".concat(l,"-").concat(r,"-").concat(s)},getNow:function(){var e=function(e){var t=Number(e);return t<10?"0".concat(t):t},t=new Date,a=t.getFullYear(),n=e(t.getMonth()+1),c=e(t.getDate()),r=e(t.getHours()),s=e(t.getMinutes()),l=e(t.getSeconds());return"".concat(a,"-").concat(n,"-").concat(c," ").concat(r,":").concat(s,":").concat(l)},dateToYYYYMMDD:function(e){var t=function(e){var t=Number(e);return t<10?"0".concat(t):t},a=e.getFullYear(),n=t(e.getMonth()+1),c=t(e.getDate());return"".concat(a,"-").concat(n,"-").concat(c)},stripCommasInCSV:function(e){return e.map((function(e){var t=Object.keys(e).map((function(t){return Object(c.a)({},t,String(e[t]).replace(/,/g,""))}));return Object.assign.apply(Object,[{},{}].concat(Object(n.a)(t)))}))},chunkArray:function(e,t){return e.map((function(a,n){return e.slice(n*t,n*t+t)})).filter((function(e){return e.length>0}))}};t.a=s},473:function(e,t){},475:function(e,t){},50:function(e,t,a){"use strict";var n=a(339),c=a.n(n),r=a(348),s=c.a.create({baseURL:Object(r.a)(),headers:{Authorization:r.c}});t.a=s},500:function(e,t){},501:function(e,t){},632:function(e,t,a){"use strict";var n=a(22),c=a(46),r=a(26),s=a(29),l=a(1),i=a(236),o=a(174),d=a(103),u=a(349),b=a.n(u),j=a(0),m=["isPostable","config","index","value","element","primaryKey","onChange","placeholder","showDecrement","showIncrement","onDelete","onAddRow"];t.a=function(e){var t=e.isPostable,a=e.config,u=e.index,p=e.value,h=e.element,f=e.primaryKey,O=e.onChange,_=e.placeholder,x=e.showDecrement,g=e.showIncrement,v=e.onDelete,y=e.onAddRow,N=Object(s.a)(e,m),D=Object(l.useRef)([]);D.current=[];var w=Object(l.useState)(p?new Date(p):new Date),S=Object(r.a)(w,2),T=S[0],P=S[1],M=Object(l.useState)(p?new Date(p):new Date),k=Object(r.a)(M,2),C=k[0],E=k[1],A=function(e,t,a,n){O(t,a,n)};return Object(j.jsx)("div",{children:function(e,r,s,l){if("string"===typeof r)switch(r){case"textbox":return Object(j.jsx)("input",Object(n.a)({type:"text",placeholder:_,onBlur:function(t){return A(0,e,t.target.value,l)},className:"inputText",defaultValue:s},N));case"number":return Object(j.jsx)("input",Object(n.a)({type:"number",min:"0",step:".01",placeholder:_,ref:function(t){return function(e,t){t&&!D.current.includes(t)&&D.current.push(Object(c.a)({},e.i,t))}(e,t)},onBlur:function(t){return A(0,e,t.target.value,l)},className:"inputText",defaultValue:Number(s).toFixed(a.footer.total.maxDecimal)},N));case"textarea":return Object(j.jsx)("textarea",Object(n.a)({placeholder:_,onBlur:function(t){return A(0,e,t.target.value,l)},rows:"3",className:"inputText",defaultValue:s},N));case"label":default:return Object(j.jsx)("div",Object(n.a)(Object(n.a)({},N),{},{children:s}));case"checkbox":return t?Object(j.jsxs)(j.Fragment,{children:[x&&Object(j.jsx)(o.a,{onClick:function(){return v(e)},className:"error",entity:"&#215;"}),g&&Object(j.jsx)("div",{className:!1===x?"floatLeft":"floatRight",children:Object(j.jsx)(o.a,{onClick:function(){return y(!0)},className:"success tilt-45",entity:"&#215;"})})]}):Object(j.jsx)("div",Object(n.a)(Object(n.a)({},N),{},{children:s}));case"date":return Object(j.jsx)(b.a,{value:T,format:"y-MM-dd",clearIcon:null,onChange:function(t){P(t),O(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)}(t),l)}});case"dateTime":return Object(j.jsx)(b.a,{value:C,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:function(t){E(t),O(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate()),e.getHours(),e.getMinutes(),e.getSeconds()],a=t[1],n=t[2],c=t[3],r=t[4],s=t[5];return c=c<10?"0"+c:c,r=r<10?"0"+r:r,s=s<10?"0"+s:s,"".concat(t[0],"-").concat(a,"-").concat(n," ").concat(c,":").concat(r,":").concat(s)}(t),l)}})}else if("object"===typeof r){switch(Object.keys(r)[0]){case"fetch":return Object(j.jsx)(d.a,{index:e,primaryKey:l,onChange:function(e,t,a){return O(e,t,a)},element:r,value:s,type:Array.isArray(s)?"multiple":"single",searchable:r.searchable});case"radio":return Object(j.jsx)(i.a,{index:e,primaryKey:l,onChange:function(e,t,a){return O(e,t,a)},element:r,value:s},"".concat(e.i,"-").concat(e.j));default:return Object(j.jsx)("div",{children:"Unknown Element"})}}}(u,h,p,f)})}},655:function(e,t,a){"use strict";var n=a(22),c=a(35),r=a(26),s=a(1),l=a(0),i=function(e){var t=e.totalPages,a=e.maxPagesToShow,i=e.selectedPageString,o=e.onSetPage,d=Object(s.useState)(e.currentPage),u=Object(r.a)(d,2),b=u[0],j=u[1],m=function(e){return Array.from({length:e},(function(e,t){return++t}))},p=Object(s.useState)(m(t)),h=Object(r.a)(p,2),f=h[0],O=h[1];Object(s.useEffect)((function(){O(m(t));var e="first"===i?1:t;j(e),o(e)}),[t]),Object(s.useEffect)((function(){var e=[];a<t&&b>0&&(b<t-a?(e=[].concat(Object(c.a)(x(a,b)),["...",t]),O(e)):(e=Object(c.a)(x(a+1,t-a)),O(e)))}),[b]);var _=function(e){j(e),o(e)},x=function(e,t){return Array(e).fill().map((function(e,a){return t+a}))};return f.length>0&&Object(l.jsxs)("ul",{className:"page",children:[Object(l.jsx)("li",{onClick:function(){return b>1?_(1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<<"}),Object(l.jsx)("li",{onClick:function(){return b>1?_(b-1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<"}),f.map((function(e,a){return Object(l.jsx)("li",Object(n.a)(Object(n.a)({onClick:function(){return!isNaN(e)&&e<=t?_(e):null}},e===b&&{className:"active"}),{},{children:e}),function(e){return"page-".concat(e)}(a))})),Object(l.jsx)("li",{onClick:function(){return b<t?_(b+1):null},className:"gt ".concat(b===t?"disabled":""),children:">"}),Object(l.jsx)("li",{onClick:function(){return b<t?_(t):null},className:"gt ".concat(b===t?"disabled":""),children:">>"})]})};i.defaultProps={},t.a=i},656:function(e,t,a){"use strict";var n=a(26),c=a(1),r=a(174),s=a(0),l=function(e){var t=e.defaultRecordsPerPage,a=e.onSearchChange,l=e.onDropDownChange,i=e.onDismissSearch,o=Object(c.useState)(!1),d=Object(n.a)(o,2),u=d[0],b=d[1],j=Object(c.useState)(""),m=Object(n.a)(j,2),p=m[0],h=m[1],f=Object(c.useState)(t),O=Object(n.a)(f,2),_=O[0],x=O[1],g=Object(c.useRef)(null),v=Array.from({length:10},(function(e,t){return++t})).map((function(e,a){return a>=0&&a<=2?e*t:a>=3&&a<=5?e*t*5:a>=6&&a<=9?e*t*10:null})),y=function(e){g.current&&!g.current.contains(e.target)&&b(!1)};Object(c.useEffect)((function(){return document.addEventListener("click",y,!0),function(){document.removeEventListener("click",y,!0)}}),[]);return Object(s.jsxs)("div",{className:"group-input",children:[Object(s.jsxs)("div",{className:"inputWrapper",children:[Object(s.jsx)("input",{onChange:function(e){return function(e){var t=e.target.value;a(t),h(t)}(e)},placeholder:"Search",type:"text",value:p,className:"join-input"}),p&&Object(s.jsx)(r.a,{onClick:function(){i(),h("")},className:"dismiss",entity:"&#215;"})]}),Object(s.jsxs)("div",{ref:g,onClick:function(){return b(!u)},title:"show ".concat(_," records per page"),className:"join-select",children:[Object(s.jsx)("div",{style:u?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:_}),Object(s.jsx)(r.a,{className:"icon up",entity:"&#9662;"})]})}),u&&Object(s.jsx)("ul",{children:v.map((function(e,t){return Object(s.jsx)("li",{onClick:function(){return x(t=e),void l(t);var t},children:e},t)}))})]})]})};l.defaultProps={property:"String name"},t.a=l},657:function(e,t,a){},664:function(e,t,a){},692:function(e,t){},694:function(e,t){},721:function(e,t){},723:function(e,t){},724:function(e,t){},729:function(e,t){},731:function(e,t){},750:function(e,t){},762:function(e,t){},765:function(e,t){},775:function(e,t,a){},876:function(e,t,a){"use strict";a.r(t);var n=a(60),c=a(73),r=a(26),s=a(1),l=a.n(s),i=a(52),o=a(22),d=a(29),u=Object(s.createContext)([{},function(){}]),b=a(46),j=a(444),m=(a(287),a(0)),p=Object(s.createContext)([{},function(){}]);var h=function(e){var t=e.config,a=Object(s.useState)({}),n=Object(r.a)(a,2),c=n[0],l=n[1],i=JSON.parse(localStorage.getItem("userData"))||{},d=function(e){l(Object(o.a)(Object(o.a)({},e),c))},u=function(e,t){l((function(a){return Object(o.a)(Object(o.a)({},a),{},Object(b.a)({},e,t))}))};return Object(s.useEffect)((function(){d(JSON.parse(localStorage.getItem("userData"))),u("theme","")}),[]),Object(s.useEffect)((function(){u("theme",t.webTheme),u("type",i.type?i.type:"public")}),[t]),Object(m.jsxs)(p.Provider,{value:{userData:c,addUserData:d,updateUserData:u,removeUserData:function(e){var t=Object(o.a)({},c);e.forEach((function(e){delete t[e]})),l((function(e){return Object(o.a)({},t)}))},renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,r=e.icon,s=void 0===r?"fa fa-check-circle":r,l=e.message;return j.b[c](Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:[Object(m.jsx)("i",{className:s})," ",Object(m.jsx)("span",{dangerouslySetInnerHTML:{__html:l}})]})}),{autoClose:a})}},children:[Object(m.jsx)(j.a,{className:"bniToaster"}),Object.keys(c).length>0&&e.children]})},f=["component"],O=function(e){var t=e.component,a=Object(d.a)(e,f);return Object(m.jsx)(u.Consumer,{children:function(e){return Object(m.jsx)(p.Consumer,{children:function(e){return Object(m.jsx)(i.b,Object(o.a)(Object(o.a)({},a),{},{render:function(n){return a.accessGiven.includes(e.userData.type)?Object(m.jsx)(t,Object(o.a)({},n)):Object(m.jsx)(i.a,{to:{pathname:"error",state:{from:n.location}}})}}))}})}})},_=a(90);var x=function(){var e=Object(s.useContext)(u),t=Object(r.a)(e,1)[0];return Object(m.jsx)("div",{className:"pt-5",children:Object(m.jsx)("div",{className:"pt-5",children:Object(m.jsxs)("div",{className:"pt-5 text-center",children:[Object(m.jsx)("h1",{className:"",children:"Oops!"}),Object(m.jsx)("h1",{className:"text-danger",children:"404"}),Object(m.jsx)("div",{className:"",children:"Sorry, your requested page cannot be found!"}),Object(m.jsx)("hr",{className:"hr"}),Object(m.jsxs)("div",{className:"py-2",children:[Object(m.jsxs)(_.a,{to:"/",className:"btn btn-secondary me-2",children:[Object(m.jsx)("i",{className:"fa fa-home"})," Home"]}),Object(m.jsxs)("a",{rel:"noopener noreferrer",href:"mailto:".concat(t.email),className:"btn btn-secondary",children:[Object(m.jsx)("i",{className:"fa fa-envelope"})," Support"]})]})]})})})},g=Object(i.g)((function(e){var t=Object(s.useContext)(p).userData.menu;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(i.d,{children:[t.length>0&&t.map((function(e,t){return Object(m.jsx)(O,{accessGiven:e.hasAccessTo,exact:!0,path:e.href,component:e.component},t)})),Object(m.jsx)(i.b,{path:"*",component:x})]})})})),v=a(882),y=a(4),N=a(5),D=a(853),w=a(875),S=a(542),T=a(856),P=a(859),M=a(206),k=a.n(M),C=["aws_s3_access_key_id","aws_s3_region","aws_s3_secret_access_key","google_map_api_key","google_login_auth_token"],E="web",A=function(){function e(t){var a=this;Object(y.a)(this,e),this.uploadFile=function(e){return new T.a({client:new D.a(a.config),leavePartsOnError:!1,params:Object(o.a)(Object(o.a)({},e),{},{Bucket:a.Bucket})})},this.deleteFile=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(o.a)({Bucket:a.Bucket},Object.keys(t).length>0&&Object(o.a)({},t)),r=new w.a(a.config).deleteObject(c),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteFolder=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,c){var r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={Bucket:a.Bucket,Prefix:t},new w.a(a.config).listObjects(r,(function(e,t){if(e)return c({status:"fail"});0===t.Contents.length&&c({status:"success"}),(r={Bucket:a.Bucket}).Delete={Objects:[]},t.Contents.forEach((function(e){r.Delete.Objects.push({Key:e.Key})})),new w.a(a.config).deleteObjects(r,(function(e,t){if(e)return c({status:"fail"});t.IsTruncated?a.self.deleteFolder(a.Bucket,c):c({status:"success"})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.renameFile=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.Bucket,e.abrupt("return",new w.a(a.config).copyObject({Bucket:c,CopySource:"".concat(c,"/").concat(t.oldKey),Key:t.newKey},(function(){new w.a(a.config).deleteObject({Bucket:c,Key:t.oldKey})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renameFolder=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var r,s,l,i,o,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.Bucket,s="".concat(t.oldKey,"/"),l="".concat(t.newKey),e.prev=3,e.next=6,new w.a(a.self.config).listObjects({Bucket:r,Prefix:s});case 6:return i=e.sent,o=i.Contents,d=i.Prefix,e.next=11,Promise.all(o.map(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={Bucket:r,CopySource:"".concat(r,"/").concat(t.Key),Key:"".concat(l,"/").concat(t.Key.replace(d,""))},e.next=3,new w.a(a.self.config).copyObject(c);case 3:return s={Bucket:r,Key:t.Key},e.next=6,new w.a(a.self.config).deleteObject(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),this.getSignedUrl=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var c,r,s,l,i,o,d=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>1&&void 0!==d[1]?d[1]:86400,r=d.length>2?d[2]:void 0,s={Bucket:r,Key:t,expiresIn:c},l=new D.a(a.config),i=new S.a(s),e.next=7,Object(P.a)(l,i,{expiresIn:c});case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.downloadToBrowser=function(e){var t=e.split("/"),n=t[t.length-1],c=t[0],r=e.split("/").slice(1,e.split("/").length).join("/");a.getSignedUrl(r,86400,c).then((function(e){var t=document.createElement("a");t.setAttribute("target","_blank"),t.setAttribute("href",e),t.setAttribute("download",n),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},this.Bucket=t.aws_s3_bucket,this.config={region:k.a.AES.decrypt(t.aws_s3_region,t.web).toString(k.a.enc.Utf8),credentials:{accessKeyId:k.a.AES.decrypt(t.aws_s3_access_key_id,t.web).toString(k.a.enc.Utf8),secretAccessKey:k.a.AES.decrypt(t.aws_s3_secret_access_key,t.web).toString(k.a.enc.Utf8)}},this.self=this}return Object(N.a)(e,[{key:"getBuckeName",value:function(){return this.Bucket}},{key:"fetchFileFolder",value:function(e){var t=Object(o.a)({Bucket:this.Bucket},Object.keys(e).length>0&&Object(o.a)({},e));return new w.a(this.config).listObjects(t)}}]),e}(),I=a(543),R=a.p+"static/media/ban.99659585.svg",L=a(318),B=function(e){var t=e.videoRoot,a=e.style,n=e.className,c=e.optionalAttr;return Object(m.jsxs)("video",Object(o.a)(Object(o.a)({style:a,className:n},c),{},{children:[Object(m.jsx)("source",{src:t,type:"video/mp4"}),Object(m.jsx)("source",{src:t,type:"video/mov"}),Object(m.jsx)("source",{src:t,type:"video/webm"})]}))};var Y=function(e){var t=e.className,a=e.style,n=e.appData,c=e.unsignedUrl,l=e.type,i=e.expiry,d=e.optionalAttr,u=e.customRef,b=Object(s.useState)(""),j=Object(r.a)(b,2),p=j[0],h=j[1];return Object(s.useEffect)((function(){return function(){h("")}}),[]),Object(s.useEffect)((function(){if(Object.keys(n).length>0){h("");!function(e){var t=c?c.split("/"):["/"],a=t[0],n=t.slice(1,t.length).join("/");new A(e).getSignedUrl(n,i,a).then((function(e){if("image"===l){var t=new Image;t.src=e,t.onerror=function(e){h(R)},t.onload=function(t){h(e)}}h(e)})).catch((function(){return h(R)}))}(n)}}),[n,i,l,c]),function(){switch(l){case"image":return Object(s.createElement)(I.LazyLoadImage,Object(o.a)(Object(o.a)({},d),{},{className:t,placeholderSrc:L.default,src:p,alt:p,key:1,style:a}));case"video":return p&&Object(m.jsx)(B,Object(o.a)(Object(o.a)({ref:u,optionalAttr:d,style:a},t&&{className:t}),{},{videoRoot:p}));case"audio":return Object(m.jsx)("audio",Object(o.a)({className:t,ref:u,src:p,style:a},d));default:return Object(m.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:p,children:e.children})}}()},U=function(e){var t=Object(s.useContext)(p),a=e.onNavBarToggle,n=e.navBarExpanded,c=e.appData,r=t.userData.menu;return Object(m.jsx)("div",{className:"mobile-menu",children:Object(m.jsxs)(v.a,{style:{top:"50px"},className:"py-0 ps-2 pe-3 ".concat("dark"===t.userData.theme?"bg-dark":"bg-light"),fixed:"top",onToggle:a,expanded:n,expand:"lg",children:[Object(m.jsx)(v.a.Brand,{className:"navbar-brand pt-2",children:Object(m.jsx)(Y,{type:"image",appData:c,unsignedUrl:c.logoImg,className:"img-fluid",optionalAttr:{width:"40",height:"40"}})}),Object(m.jsx)(v.a.Toggle,{style:{boxShadow:"none"},className:"p-0 pe-1 fs-2 btn text-secondary border-1","aria-controls":"basic-navbar-nav",bsPrefix:"navbar-toggle",children:Object(m.jsx)("i",{className:"fa fa-bars icon-bni"})}),Object(m.jsx)(v.a.Collapse,{children:Object(m.jsx)("ul",{className:"header-menu",children:r.map((function(e,n){return Object(m.jsx)("li",{children:Object(m.jsx)(_.a,{className:"dark"===t.userData.theme?"link-light":"link-dark",onClick:a,to:e.href,children:e.label})},n)}))})})]})})};U.defaultProps={property:"String name"};var F=U,K=function(e){var t=e.appData,a=Object(s.useContext)(p),n=a.userData.menu;return Object(m.jsx)("header",{className:"vertical-header ".concat(t.webLayoutType),children:Object(m.jsx)("div",{className:"vertical-header-wrapper ".concat(t.webMenuType),children:Object(m.jsxs)("nav",{className:"nav-menu ".concat(t.webMenuType," ").concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark":"bg-light"),children:[Object(m.jsx)("div",{className:"nav-header",children:Object(m.jsx)("span",{className:"",children:Object(m.jsx)(Y,{type:"image",appData:t,unsignedUrl:t.logoImg,className:"brand img-fluid",optionalAttr:{width:"40",height:"40"}})})}),Object(m.jsx)("ul",{className:"header-menu ".concat(t.webMenuType),children:n.map((function(e,t){return Object(m.jsx)("li",{children:Object(m.jsx)(_.a,{className:"dark"===a.userData.theme?"text-white-50":"text-black",to:e.href,children:e.label})},t)}))})]})})})};K.defaultProps={property:"String name"};var W=K,q=a(284),V=Object(q.a)(),H=a(53),z=a.n(H),G=a(40),J=a(35),$=a(324),Z=a.n($),X=a(140),Q=a.n(X),ee=a(338),te=a.n(ee),ae=function(e){var t=e.chartData,a=e.onMonthYearSelected,n=Object(s.useRef)(null),c=Object(s.useState)([]),l=Object(r.a)(c,2),i=l[0],o=l[1],d=Object(s.useState)([]),u=Object(r.a)(d,2),b=u[0],j=u[1],p=Object(s.useState)(0),h=Object(r.a)(p,2),f=h[0],O=h[1],_=Object(s.useState)(""),x=Object(r.a)(_,2),g=x[0],v=x[1],y=Object(s.useState)(!1),N=Object(r.a)(y,2)[1],D=getComputedStyle(document.documentElement).getPropertyValue("--app-theme-bg-color");Object(s.useEffect)((function(){O(n.current.clientWidth)}),[]),Object(s.useEffect)((function(){var e=t.map((function(e){return String(e.dated)}));e=Object(J.a)(new Set(e));var n=function(e){var t=e.category,a=e.total;return{month:e.dated,label:t,value:Number(a),isEmpty:Number(a)<=0}},c=e.map((function(e){var a=t.filter((function(t){return String(t.dated)===String(e)&&"Dr"===t.type})).map((function(e){return n(e)}));a=0===a.length?[n({category:"No Data",total:0,dated:null})]:a;var c=t.filter((function(t){return String(t.dated)===String(e)&&"Cr"===t.type})).map((function(e){return n(e)}));return c=0===c.length?[n({category:"No Data",total:0,dated:null})]:c,{month:e,cData:a,creditData:c}}));if(o(c),c.length>0?(v(c[0].month),a(c[0].month)):N(!0),t.length>0){var r=[{color:D,points:w(t,"type","Cr").reduce((function(e,t){var a=e.length>0&&e.find((function(e){return e.dated===t.dated}));return a?a.y+=Number(t.total):e.push({dated:t.dated,x:Q()(t.dated.replace(/-/g," 01, ")).format("YYYY-MM-DD"),y:Number(t.total)}),e}),[]).map((function(e){var t=e.dated,a=e.x,n=e.y;return{month:t,x:a,y:Math.round(100*n)/100}}))}];j(r)}}),[t]);var w=function(e,t,a){return e.filter((function(e){return e[t]===a}))},S=G.a.donutChartColors;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{ref:n,children:b.length>0&&i.length>0&&Object(m.jsx)(te.a,{data:b,id:"debit-card-income-1",margins:{top:50,right:f>400?80:30,bottom:50,left:80},width:f,isDate:!0,height:250,xLabel:"Month",yLabel:"Income",onPointHover:function(e){return G.a.indianLacSeperator(e.y,2)},tooltipClass:"line-chart-tooltip",ticks:b[0].points.length,xDisplay:function(e,t){return f>400?Q()(new Date(e)).format("MMM YYYY"):Q()(new Date(e)).format("M")},onPointClick:function(e,t){v(t.month),a(t.month)}})}),Object(m.jsx)("div",{className:"x-scroll",children:i.length>0?Object(m.jsx)("div",{className:"d-flex align-items-center pt-2",children:i.map((function(e,t){return Object(m.jsxs)("div",{className:"chartWrapper",children:[Object(m.jsx)("div",{className:"text-center pt-10 pb-10",children:Object(m.jsx)("button",{className:"btn btn-sm btn-bni ".concat(String(g)===String(e.month)?"active":""),onClick:function(){v(e.month),a(e.month)},children:e.month})}),Object(m.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&Object(m.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:"Expense"}),Object(m.jsx)(Z.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:S,height:220,width:220,legend:!1,data:e.cData,formatValues:function(e,t){return"".concat(G.a.countryCurrencyLacSeperator("en-IN","INR",e,2))}})]}),Object(m.jsxs)("div",{className:"floatingChartWrapper",children:[t<1&&Object(m.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:"Income"}),Object(m.jsx)(Z.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:S,height:220,width:220,legend:!1,data:e.creditData,formatValues:function(e,t){return"".concat(G.a.countryCurrencyLacSeperator("en-IN","INR",e,2))}})]})]},function(e){return"chart-".concat(e)}(t))}))}):Object(m.jsx)("div",{className:"py-3 text-center",children:"No Records Generated"})})]})};ae.defaultProps={chartData:[]};var ne=ae,ce=(a(613),a(172)),re=a.n(ce),se=function(e){var t=e.data,a=e.onCcMonthYearSelected,n=Object(s.useState)(0),c=Object(r.a)(n,2),l=c[0],i=c[1],o=Object(s.useState)([]),d=Object(r.a)(o,2),u=d[0],b=d[1],j=Object(s.useState)(!0),p=Object(r.a)(j,2),h=p[0],f=p[1],O=Object(s.useRef)(null),_=getComputedStyle(document.documentElement).getPropertyValue("--bs-danger"),x=getComputedStyle(document.documentElement).getPropertyValue("--bs-success"),g=getComputedStyle(document.documentElement).getPropertyValue("--bs-primary"),v=getComputedStyle(document.documentElement).getPropertyValue("--bs-warning");Object(s.useEffect)((function(){i(O.current.clientWidth)}),[]);var y=function(e){return re.a.flatten(t.map((function(t,a){return t.cData.filter((function(t){return t.label.includes(e)})).map((function(e,a){return{x:Q()(t.month.replace(/-/g," 01, ")).format("YYYY-MM-DD"),y:Number(e.value.toFixed(2)),month:t.month}}))})))},N=function(e){var t=y(e).reduce((function(e,t){return e+Number(t.y.toFixed(2))}),0);return t=G.a.indianLacSeperator(t)};return Object(s.useEffect)((function(){var e=[{color:_,points:y("Taxes & Interest")},{color:x,points:y("Purchases")},{color:g,points:y("Paid")},{color:v,points:y("Opening Balance")}];b(e)}),[t]),Object(m.jsx)("div",{ref:O,children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"row rounded",children:[Object(m.jsxs)("div",{className:"col-md-3 small",children:[Object(m.jsx)("i",{className:"fa fa-".concat(h?"minus":"plus","-circle text-warning cursor-pointer me-1"),onClick:function(){return f(!h)}}),"Opening Balance"]}),Object(m.jsxs)("div",{className:"col-md-3 small",children:[Object(m.jsx)("i",{className:"fa fa-circle text-success"})," ","Purchases ".concat(N("Purchases"))]}),Object(m.jsxs)("div",{className:"col-md-3 small",children:[Object(m.jsx)("i",{className:"fa fa-circle text-primary"})," ","Payments ".concat(N("Paid"))]}),Object(m.jsxs)("div",{className:"col-md-3 small",children:[Object(m.jsx)("i",{className:"fa fa-circle text-danger"})," ","Taxes & Interest ".concat(N("Taxes & Interest"))]})]}),h&&u.length>0&&Object(m.jsx)(te.a,{data:u,id:"credit-card-usage-1",margins:{top:50,right:l>400?80:30,bottom:50,left:80},width:l,isDate:!0,height:250,xLabel:"Month",yLabel:"Transactions",onPointHover:function(e){return G.a.indianLacSeperator(e.y,2)},tooltipClass:"line-chart-tooltip",ticks:t.length,xDisplay:function(e,t){return l>400?Q()(new Date(e)).format("MMM YYYY"):Q()(new Date(e)).format("M")},onPointClick:function(e,t){return a(t.month)}})]})})},le=function(e){var t=e.ccChartData,a=e.onCcMonthYearSelected,n=e.ccDetails,c=e.ccYearSelected,l=Object(s.useState)([]),i=Object(r.a)(l,2),o=i[0],d=i[1];return Object(s.useEffect)((function(){if(t.length>0){var e=Array.from({length:12},(function(e,t){return++t})).map((function(e){var a=G.a.addMonths(new Date("".concat(c-1,"-11-").concat(n.credit_card_start_date)),e),r=G.a.addMonths(new Date("".concat(c-1,"-12-").concat(n.credit_card_end_date)),e);return t.filter((function(e){var t=new Date(e.month);return t>=a&&t<=r})).reduce((function(t,a){var n=new Date(c,e-1,1);return{month:G.a.dateToMonthYear(n),cData:[{label:"Opening Balance",value:t.cData[0].value+Number(a.ob)},{label:"Paid",value:t.cData[1].value+Number(a.paid)},{label:"Purchases",value:t.cData[2].value+Number(a.purchases)},{label:"Taxes & Interest",value:t.cData[3].value+Number(a.taxesInterest)},{label:"Balance",value:t.cData[4].value+Number(a.balance)}]}}),{cData:[{label:"Opening Balance",value:0},{label:"Paid",value:0},{label:"Purchases",value:0},{label:"Taxes & Interest",value:0},{label:"Balance",value:0}]})})).filter((function(e){return e.month})).reverse();d(e)}}),[t,n,c,a]),Object(m.jsx)("div",{children:Object(m.jsx)(se,{data:o,onCcMonthYearSelected:a})})};le.defaultProps={property:"String name"};var ie=le,oe=[{id:22,Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_ifsc_code","bank_card_no","bank_card_validity","isPrimaryAccount"],TableAliasRows:["","Name","Account Number","IFSC Code","Card Number","Validity","Primary Account"],rowElements:["checkbox","textbox","textbox","textbox","textbox","textbox",{radio:{radioList:[{label:"Yes",value:"1",checked:!1},{label:"No",value:"0",checked:!0}]}}],defaultValues:[{isPrimaryAccount:"0"}]},{id:23,Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date"],TableAliasRows:["","Name","Number","Start Date","End Date","Payment Date"],rowElements:["checkbox","textbox","textbox","number","number","number"]},{id:25,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name"],TableAliasRows:["","Name"],rowElements:["checkbox","textbox"]},{id:"24A",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type","temp_inc_exp_date"],TableAliasRows:["","Name","Amount","Type","Date"],defaultValues:[{temp_inc_exp_date:"1"},{temp_inc_exp_type:"Dr"}],showTotal:[{whichKey:"temp_amount",forKey:"temp_inc_exp_type",forCondition:"equals",forValue:["Cr","Dr"],showDifference:{indexes:[0,1],showStability:!1}}],rowElements:["checkbox","textbox","number",{radio:{radioList:[{label:"Credit",value:"Cr",checked:!1},{label:"Debit",value:"Dr",checked:!0}]}},{fetch:{dropDownList:new Array(25).fill("_").map((function(e,t){return{checked:"1"===String(t+1),id:String(t+1),value:String(t+1)}}))}}]}],de=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:["id","Transaction","Amount","Plan","Type","Date","Category","Bank","Comments"],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:G.a.dateToYYYYMMDD(new Date)}],showTotal:[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:["Cr","Dr"],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:["Cr","Dr"],showDifference:{indexes:[0,1],showStability:!0}}],rowKeyUp:"",rowElements:["checkbox","textbox","number","number",{radio:{radioList:[{label:"Credit",value:"Cr",checked:!1},{label:"Debit",value:"Dr",checked:!0}]}},"date",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],ue=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_transaction_status","cc_comments"],TableAliasRows:["","Transaction","Date","Opening","Credits","Purchases","Interest","Balance","Card","Category","Status","Comments"],showTotal:["cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance"],rowKeyUp:"cc_expected_balance=((Number(row.cc_opening_balance) - Number(row.cc_payment_credits)) + (Number(row.cc_purchases) + Number(row.cc_taxes_interest))).toFixed(2)",rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},{fetch:{dropDownList:[{checked:!1,id:"1",value:"Settled"},{checked:!1,id:"0",value:"Pending"},{checked:!1,id:"2",value:"Part payment"}]}},"textbox"],defaultValues:[{cc_date:Q()().format("YYYY-MM-DD")},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0},{cc_transaction_status:"0"}],showTooltipFor:["cc_transaction","cc_comments"]}],be=[{id:"config_id",index:"config_id",elementType:"hidden",value:"",className:""},{id:"web",index:"web",label:"Website",elementType:"text",value:"",placeHolder:"JohnDoe.com",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Enter a valid website",help:["Your web domain","This value will be set to your global variables, which can be accessed accross application"]}},{id:"email",index:"email",label:"Email",elementType:"text",value:"",placeHolder:"support@JohnDoe.com",className:"col-md-4 col-sm-6",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:"Enter a valid email",help:["Your personal or company mail id, which will be exposed to public.","This value will be set to your global variables, which can be accessed accross application"]}},{id:"google_map_api_key",index:"google_map_api_key",label:"Google Map API Key",elementType:"textArea",value:"",placeHolder:"xxYYzz",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"API key required",help:["How to get them?","Go to https://console.cloud.google.com/","Scroll and click Google Maps Platform","Click Credentials","Click +Create Credentials at the top center","Click API Key","Copy the generated key","Paste here and save","You are done. This helps to integrate google maps in your website"]}},{id:"google_login_auth_token",index:"google_login_auth_token",label:"Google Login Auth Token",elementType:"textArea",value:"",placeHolder:"xxYYzz",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:"Auth token required",help:["How to get them?","Go to https://console.cloud.google.com/","Click API Services","Click Credentials","Click +Create Credentials at the top center","Click Oauth Client Id","Select Web Application, give a suitable name","Click Add URI and type your domain URL.","Click Create","Copy Client ID","Paste here.","You're done.","Now you allow public to login via google login"]}},{id:"bgSong",index:"bgSong",label:"Theme Background Music",elementType:"textArea",value:"",placeHolder:"https://mysong.mp3",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:"Audio file name required",help:["Choose your theme song playable for people","If not required, leave a slash(/)","If required, Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."]}},{id:"bgSongDefaultPlay",index:"bgSongDefaultPlay",label:"Theme Music Default Play",elementType:"dropDown",value:"",placeHolder:"Select",list:[{label:"True",value:1},{label:"False",value:0}],className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Theme Background Music will be played or not played during start up","If required, Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."]}},{id:"switchSongFeatureRequired",index:"switchSongFeatureRequired",label:"Require background song switch?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide audio control switch to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}},{id:"bgVideo",index:"bgVideo",label:"Theme Background Video",elementType:"textArea",value:"",placeHolder:"https://my-video.mp4",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:"Video file name required",help:["Choose your theme video which plays in background","Dont worry.. It will be muted","Keep a small video. Check file size not exceeds 5MB","Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."]}},{id:"bgVideoDefaultPlay",index:"bgVideoDefaultPlay",label:"Theme Video Default Play",elementType:"dropDown",value:"",placeHolder:"Select",list:[{label:"True",value:1},{label:"False",value:0}],className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Theme Background Video will be played or not played on start up"]}},{id:"switchVideoFeatureRequired",index:"switchVideoFeatureRequired",label:"Require background video switch?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide video control switch to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}},{id:"bannerImg",index:"bannerImg",label:"Logo Image",elementType:"textArea",value:"",placeHolder:"https://my-banner-img.svg",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:"Image name required",help:["Set your logo image","PNG or SVG type is recommended","200 X 40 dimension required","Paste it from AWS gallery (copy to clipboard button), where your media files are located","This will be available in top global header","Note: Supports only AWS objects. Other sources not allowed."]}},{id:"logoImg",index:"logoImg",label:"Logo Icon",elementType:"textArea",value:"",placeHolder:"https://my-logo.svg",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:"File name required",help:["Set your logo icon","PNG or SVG type is recommended","Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."]}},{id:"favIconImg",index:"favIconImg",label:"favicon Image",elementType:"textArea",value:"",placeHolder:"https://my-favicon.icon",className:"col-md-4 col-sm-6",options:{required:!0,validation:/$/,rowLength:100,errorMsg:"File name required",help:["Set your favicon. Usually it shud be your logo","32X32 or 64X64 size is sufficient","Paste it from AWS gallery (copy to clipboard button), where your media files are located","Note: Supports only AWS objects. Other sources not allowed."]}},{id:"webLayoutType",index:"webLayoutType",label:"Web Layout Type",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Default",value:"default"},{label:"Classic",value:"classic"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["This setup is only for large displays","Default: Occupies entire width of screen","Classic: Occupiess 70% width in screen middle"]}},{id:"webMenuType",index:"webMenuType",label:"Web Menu Type",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Top",value:"topMenu"},{label:"Left",value:"sideMenuLeft"},{label:"Right",value:"sideMenuRight"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Where you want to place your menu?","Top, Left or Right"]}},{id:"webTheme",index:"webTheme",label:"Web Theme",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Dark",value:"dark"},{label:"Light",value:"light"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["How does your website look on start up?","Dark or Light"]}},{id:"switchThemeFeatureRequired",index:"switchThemeFeatureRequired",label:"Require Theme Switch?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide theme buttons to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}},{id:"webThemeColor",index:"webThemeColor",label:"Web Theme Color",elementType:"text",value:"",placeHolder:"#000000",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"A valid color is required",help:["Your application text color","Usualy its #000000 (black)","This decides the look and feel of your application, unless you use these color variables"]}},{id:"webThemeBackground",index:"webThemeBackground",label:"Web Theme Background Color",elementType:"text",value:"",placeHolder:"#c2d82e",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"A valid color is required",help:["Your application back ground color","It should be a light color, say #ffffff (white)","This decides the look and feel of your application, unless you use these color variables"]}},{id:"aws_s3_access_key_id",index:"aws_s3_access_key_id",label:"AWS S3 Access Key ID",elementType:"textArea",value:"",placeHolder:"XXXyyyZZZ",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:"Access key id is required",help:["How to get them?","Hope you have created an AWS S3 account","Follow these steps in https://s3.console.aws.amazon.com/","You'll see this key while adding user in create user section","You need to copy, paste it in your backup during user credentials. Else you cant retrieve","This configuration is important to maintain your images and other files",'Important: You should set "AdministratorAccess" in permissions (Attach existing policies directly), else the AWS gallery module wont work']}},{id:"aws_s3_secret_access_key",index:"aws_s3_secret_access_key",label:"AWS S3 Secret Access Key",elementType:"textArea",value:"",placeHolder:"XXXyyyZZZ",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,rowLength:100,errorMsg:"Secret Access key is required",help:["Follow the same steps described in AWS S3 Access Key ID"]}},{id:"aws_s3_bucket",index:"aws_s3_bucket",label:"AWS S3 Bucket Name",elementType:"text",value:"",placeHolder:"My-S3-Bucket",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Bucket name is required",help:["How to get them?","Hope you have created an AWS S3 account","Follow these steps in https://s3.console.aws.amazon.com/","Create bucket name in Buckets section","Once created, click the bucket name","Go to Permissions tab",'Check "Block public access" is On','Goto "Bucket policy", Edit and replace the below code with your credentials','{\n\t\t\t\t\t"Version": "2012-10-17",\n\t\t\t\t\t"Statement": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"Sid": "Statement1",\n\t\t\t\t\t\t\t"Effect": "Allow",\n\t\t\t\t\t\t\t"Principal": {\n\t\t\t\t\t\t\t\t"AWS": "arn:aws:iam::12345678:user/xxxyyyzzz"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t"Action": [\n\t\t\t\t\t\t\t\t"s3:PutObject",\n\t\t\t\t\t\t\t\t"s3:PutObjectAcl",\n\t\t\t\t\t\t\t\t"s3:DeleteObject"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t"Resource": "arn:aws:s3:::yourbucketname/*"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}',"Go to Cross-origin resource sharing (CORS)","Edit and replace the below code with your credentials",'[\n\t\t\t\t\t{\n\t\t\t\t\t\t"AllowedHeaders": [\n\t\t\t\t\t\t\t"*"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t"AllowedMethods": [\n\t\t\t\t\t\t\t"GET",\n\t\t\t\t\t\t\t"PUT",\n\t\t\t\t\t\t\t"POST",\n\t\t\t\t\t\t\t"DELETE"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t"AllowedOrigins": [\n\t\t\t\t\t\t\t"https://yourwebsite.com"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t"ExposeHeaders": [\n\t\t\t\t\t\t\t"ETag"\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]',"You are done. Enjoy AWS S3."]}},{id:"aws_s3_region",index:"aws_s3_region",label:"AWS S3 Region Name",elementType:"text",value:"",placeHolder:"xx-south-yy",className:"col-md-4 col-sm-6",options:{required:!0,validation:/([^\s])/,errorMsg:"Region name is required",help:["How to get them?","Hope you have created an AWS S3 account","The region name that you've selected in creating bucket section","This helps to fetch files from your nearest AWS sever region","This configuration is important to maintain your images and other files"]}},{id:"social_media_facebook",index:"social_media_facebook",label:"Facebook",elementType:"textArea",value:"",placeHolder:"https://facebook.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:"Facebook profile name is required",help:["Individual or company facebook profile"]}},{id:"social_media_twitter",index:"social_media_twitter",label:"Twitter",elementType:"textArea",value:"",placeHolder:"https://twitter.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:"Twitter profile name is required",help:["Individual or company twitter profile"]}},{id:"social_media_linkedIn",index:"social_media_linkedIn",label:"LinkedIn",elementType:"textArea",value:"",placeHolder:"https://linkedIn.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:"LinkedIn profile name is required",help:["Individual or company LinkedId profile"]}},{id:"social_media_instagram",index:"social_media_instagram",label:"Instagram",elementType:"textArea",value:"",placeHolder:"https://instagram.com/xyz",className:"col-md-4 col-sm-6",options:{validation:/$/,rowLength:100,errorMsg:"Instagram profile name is required",help:["Individual or company Instagram profile"]}},{id:"switchSocialMediaFeatureRequired",index:"switchSocialMediaFeatureRequired",label:"Require Social Media Links?",elementType:"dropDown",value:"",placeHolder:"Select",className:"col-md-4 col-sm-6",list:[{label:"Yes",value:"1"},{label:"No",value:"0"}],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["You can show or hide social media icon links to users from the global menu","This feature can be enabled or disabled basesd on your selection"]}}],je=[{id:0,label:"Google & Geo",icon:"fa fa-google",filterArray:["google_map_api_key","google_login_auth_token"]},{id:1,label:"Web Defaults",icon:"fa fa-globe",filterArray:["web","email","bgSong","bgSongDefaultPlay","switchSongFeatureRequired","bgVideo","bgVideoDefaultPlay","switchVideoFeatureRequired","bannerImg","logoImg","favIconImg","webLayoutType","webMenuType","webTheme","switchThemeFeatureRequired","webThemeColor","webThemeBackground"]},{id:2,label:"AWS",icon:"fa fa-amazon",filterArray:["aws_s3_access_key_id","aws_s3_secret_access_key","aws_s3_bucket","aws_s3_region"]},{id:3,label:"Social Media",icon:"fa fa-share-square",filterArray:["social_media_facebook","social_media_twitter","social_media_linkedIn","social_media_instagram","switchSocialMediaFeatureRequired"]}],me=[{id:"user_id",index:"user_id",elementType:"hidden",value:"",className:""},{id:"user_name",index:"user_name",label:"User name",elementType:"text",value:"",placeHolder:"User name",className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:"User name required",help:["Set unique user name.","This should not conflict other user names.","Min 4 letters","Max 20 letters","No special characters allowed"]}},{id:"user_display_name",index:"user_display_name",label:"User display name",elementType:"text",value:"",placeHolder:"User display name",className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,20}$/g,errorMsg:"Input does not match criteria",help:["Min 4 letters","Max 20 letters","No special characters allowed"]}},{id:"user_profile_name",index:"user_profile_name",label:"User profile name",elementType:"text",value:"",placeHolder:"User profile name",className:"",options:{required:!0,validation:/^[a-zA-Z0-9 ]{4,50}$/g,errorMsg:"Input does not match criteria",help:["Min 4 letters","Max 50 letters","No special characters allowed"]}},{id:"user_password",index:"user_password",label:"Password",elementType:"text",value:"",placeHolder:"Password",className:"",options:{required:!0,validation:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_])(?=.{8,})/,errorMsg:"Password does not meet criteria",help:["Min 8 letters long","Atleast 1 Capital letter","Atleast 1 Special (!@#$%^&*_) character","Atleast 1 Number","All the above are required"]}},{id:"user_email",index:"user_email",label:"Email",elementType:"text",value:"",placeHolder:"Email",className:"",options:{required:!0,validation:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/,errorMsg:"Enter a valid email",help:["A valid email is required","Ex: abc@xyz.com"]}},{id:"user_type",index:"user_type",label:"User Type",elementType:"dropDown",value:"",placeHolder:"Select",className:"",list:[],options:{required:!0,validation:/([^\s])/,errorMsg:"This field is required",help:["Super-admin: Has access to setings and build in applications","Admin: Has access only to maintain and design pages (CRUD operations)"]}},{id:"user_mobile",index:"user_mobile",label:"Mobile",elementType:"number",value:"",placeHolder:"Mobile number",className:"",options:{required:!0,validation:/^[0-9]{10}$/,errorMsg:"Enter a valid 10 digit mobile number",help:["A Valid 10 digit mobile number"]}},{id:"user_image_url",index:"user_image_url",label:"User image location",elementType:"text",value:"",placeHolder:"Image location",className:"",options:{help:["User image file location from your AWS S3 bucket","Copy this from AWS gallery grid (Copy to clip board) button","This image will be shown while user logs in"]}}],pe=a(173),he=a(50),fe=a(869),Oe=a(879),_e=a(354),xe=(a(660),a(881)),ge=["monthYearSelected","bankSelected","selectedPlan"],ve=function(e){var t=e.monthYearSelected,a=e.bankSelected,n=e.selectedPlan,c=Object(d.a)(e,ge),l=Object(s.useContext)(p),i=Object(s.useState)([]),u=Object(r.a)(i,2),b=u[0],j=u[1],h=Object(s.useState)(!0),f=Object(r.a)(h,2),O=f[0],_=f[1];Object(s.useEffect)((function(){_(!0);var e=x();Promise.all([e]).then((function(e){var t=e[0];j(t),_(!1)}))}),[t,a,n]);var x=function(){var e=new FormData;return e.append("startDate",n.startDate),e.append("endDate",n.endDate),e.append("bankSelected",a),e.append("criteria",n.criteria),he.a.post("/account_planner/getPlanDetails",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))},g=function(e){var t=e.reduce((function(e,t){return e+t}),0);return G.a.countryCurrencyLacSeperator("en-IN","INR",t,2)},v=[],y=[],N=[];return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},c),{},{style:{zIndex:9999},children:[Object(m.jsx)(xe.a.Header,{closeButton:!0,children:Object(m.jsxs)(xe.a.Title,{children:[t," ",Object(m.jsx)("i",{className:"fa fa-angle-double-right"})," ",n.label]})}),Object(m.jsx)(xe.a.Body,{className:"rounded-bottom ".concat("dark"===l.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(m.jsx)("div",{className:"table-responsive p-10",children:O?Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsx)("table",{className:"table ".concat("dark"===l.userData.theme?"text-light":"text-dark"),children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"Expenditure"}),Object(m.jsx)("th",{children:"Committed"}),Object(m.jsx)("th",{children:"Planned"}),Object(m.jsx)("th",{children:"Difference"})]}),b&&b.length>0?b.map((function(e,t){var a,n,c=(a=e.inc_exp_plan_amount,n=e.inc_exp_amount,Number(a)-Number(n));return v.push(Number(e.inc_exp_amount)),y.push(Number(e.inc_exp_plan_amount)),N.push(Number(e.inc_exp_plan_amount)-Number(e.inc_exp_amount)),Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{children:[t+1,"."]}),Object(m.jsx)("td",{children:e.inc_exp_name}),Object(m.jsx)("td",{children:e.inc_exp_amount}),Object(m.jsx)("td",{children:e.inc_exp_plan_amount}),Object(m.jsx)("td",{className:"text-".concat(c>=0?"success":"danger"),children:c>=0?"+".concat(G.a.countryCurrencyLacSeperator("en-IN","INR",c,2)):"(".concat(G.a.countryCurrencyLacSeperator("en-IN","INR",c,2),")")})]},t)})):Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:"text-center py-3",colSpan:"5",children:"No records"})}),b&&b.length>0&&Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Total"}),Object(m.jsx)("td",{}),Object(m.jsx)("td",{children:g(v)}),Object(m.jsx)("td",{children:g(y)}),Object(m.jsx)("td",{children:g(N)})]})]})})})})]}))};ve.defaultProps={property:"String name"};var ye=ve,Ne=["totals"],De=function(e){var t=Object(s.useContext)(p),a=e.totals,n=Object(d.a)(e,Ne),c=Object(s.useState)(0),l=Object(r.a)(c,2),i=l[0],u=l[1],b=Object(s.useState)(0),j=Object(r.a)(b,2),h=j[0],f=j[1],O=Object(s.useState)(0),_=Object(r.a)(O,2),x=_[0],g=_[1],v=Object(s.useState)(0),y=Object(r.a)(v,2),N=y[0],D=y[1],w=Object(s.useState)(0),S=Object(r.a)(w,2),T=S[0],P=S[1],M=Object(s.useState)(0),k=Object(r.a)(M,2),C=k[0],E=k[1];Object(s.useEffect)((function(){if(a.length>0){var e=a.length>0&&a.filter((function(e){return"Balance"===e.label&&e.amount>0}));e=(e=e.length>0?e[0].amount:0).toFixed(2),e=Number(e),u(e)}}),[JSON.stringify(a)]),Object(s.useEffect)((function(){var e=i-h-x-N;e=Math.round(100*e)/100,P(e=-0===e?0:e);var t=(Number(i)-e)/i;t=(t*=100)>100?100:t,t=isNaN(t)?100:t,E(t)}),[i,h,x,N]);var A=function(e){return{label:0===e?"Settled":e>0?"Behind":"Ahead",class:0===e?"text-success":e>0?"text-danger":"text-primary"}};return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},n),{},{style:{zIndex:9999},children:[Object(m.jsx)(xe.a.Header,{closeButton:!0,children:Object(m.jsx)(xe.a.Title,{children:"Tally your wallet"})}),Object(m.jsx)(xe.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark":"bg-white"),children:Object(m.jsxs)("div",{className:"tallyModal text-dark",children:[Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"appplicationBalance",value:i,onChange:function(e){return u(Number(e.target.value))},placeholder:"Application balance",type:"number",className:"form-control"}),Object(m.jsx)("label",{htmlFor:"appplicationBalance",children:"Application balance"})]}),Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"bankBalance",value:h,onChange:function(e){return f(Number(e.target.value))},type:"number",className:"form-control",placeholder:"Bank balance"}),Object(m.jsx)("label",{htmlFor:"bankBalance",children:"Bank balance"})]}),Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"unAccounted",value:x,onChange:function(e){return g(Number(e.target.value))},type:"number",className:"form-control",placeholder:"Unaccounted"}),Object(m.jsx)("label",{htmlFor:"unAccounted",children:"Un-Accounted"})]}),Object(m.jsxs)("div",{className:"py-2 form-floating",children:[Object(m.jsx)("input",{id:"walletBalance",value:N,onChange:function(e){return D(Number(e.target.value))},type:"number",className:"form-control",placeholder:"Wallet balance"}),Object(m.jsx)("label",{htmlFor:"walletBalance",children:"Wallet balance"})]}),Object(m.jsxs)("div",{className:"py-2",children:[Object(m.jsx)("div",{className:"text-center p-10",children:Object(m.jsxs)("h5",{className:A(T).class,children:[A(T).label,"\xa0",Object(m.jsx)("i",{className:"fa ".concat(100===C?"fa-check":"fa-times-circle")})]})}),Object(m.jsx)("div",{className:"text-center ".concat(A(T).class),children:G.a.countryCurrencyLacSeperator("en-IN","INR",T,2)})]}),Object(m.jsx)("div",{className:"custom-progress-bar ".concat(C<100?"danger":"success"),style:{width:"".concat(C,"%")}})]})})]}))};De.defaultProps={property:"String name"};var we=De,Se=a(239),Te=["monthYearSelected","bankSelected"],Pe=function(e,t){var a=Object(s.useContext)(Et),l=e.monthYearSelected,i=e.bankSelected,u=Object(d.a)(e,Te),b=Object(s.useState)([]),j=Object(r.a)(b,2),p=j[0],h=j[1],f=Object(s.useState)([]),O=Object(r.a)(f,2),_=O[0],x=O[1],g=Object(s.useState)([]),v=Object(r.a)(g,2),y=v[0],N=v[1],D=Object(s.useState)([]),w=Object(r.a)(D,2),S=w[0],T=w[1],P=Object(s.useState)(!1),M=Object(r.a)(P,2),k=M[0],C=M[1],E=Object(s.useState)(!1),A=Object(r.a)(E,2),I=A[0],R=A[1],L=Object(s.useState)({}),B=Object(r.a)(L,2),Y=B[0],U=B[1],F=G.a.getNow();Object(s.useEffect)((function(){K()}),[l,i]);var K=function(){N([]);var e=l.split("-"),t=Object(r.a)(e,2),a=t[0],s=t[1],o=G.a.strToNumMonth[a],d=new Date(s,o,0).getDate(),u='inc_exp_date between "'.concat(s,"-").concat(o,'-01" and "').concat(s,"-").concat(o,"-").concat(d,'" and inc_exp_bank = ').concat(i),b=V(u),j=q("/account_planner/inc_exp_list"),m=q("/account_planner/bank_list");Promise.all([b,j,m]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h([]),N(t[0].data.response),de[0].rowElements[6]=t[1],de[0].rowElements[7]=t[2];case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},W=function(){K()};Object(s.useEffect)((function(){Z(y)}),[y]);var q=function(e){return he.a.get(e).then((function(e){return{fetch:{dropDownList:Object(J.a)(e.data.response)}}})).catch((function(e){console.log(e)}))},V=function(e){var t=new FormData;return t.append("TableRows",de[0].TableRows),t.append("Table",de[0].Table),e&&t.append("WhereClause",e),he.a.post("/account_planner/getAccountPlanner",t)},H=function(e,t){return Object(m.jsx)(fe.a,Object(o.a)(Object(o.a)({id:"button-tooltip-1",className:"in show"},u),{},{children:t}))},$=function(){var e=he.a.get("/account_planner/getIncExpTemplate").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e]).then((function(e){var t=e[0].map((function(e){var t=e.temp_inc_exp_name,a=e.temp_amount,n=e.temp_inc_exp_type,c=e.temp_inc_exp_date;return{inc_exp_id:"",inc_exp_name:t,inc_exp_amount:0,inc_exp_plan_amount:a,inc_exp_type:n,inc_exp_date:G.a.getNextMonthDate(c),inc_exp_category:"",inc_exp_bank:"",inc_exp_comments:""}}));h(t)}))},Z=function(e){var t=e.map((function(e){return e.inc_exp_plan_amount=Number(e.inc_exp_plan_amount),e.inc_exp_amount=Number(e.inc_exp_amount),e})).reduce((function(e,t){"Cr"===t.inc_exp_type&&(e.incomeTotal+=t.inc_exp_amount),"Dr"===t.inc_exp_type&&(e.expenseTotal+=t.inc_exp_amount,e.planTotal+=t.inc_exp_plan_amount);var a=t.inc_exp_plan_amount/t.inc_exp_amount;a=Number((100*(a===1/0||isNaN(a)?0:a)).toFixed(2)),e.totalPlans.push(a);var n=Object(o.a)({percent:a},t);return 0===a&&e.noPlans.push(n),100===a&&e.achievedPlans.push(n),a>100&&e.goodPlans.push(n),a<100&&a>0&&e.badPlans.push(n),e}),{planTotal:0,expenseTotal:0,incomeTotal:0,totalPlans:[],goodPlans:[],badPlans:[],noPlans:[],achievedPlans:[]}),a=[{amount:t.incomeTotal,label:"Income",flagString:"success"},{amount:t.expenseTotal,label:"Expense",flagString:"info"},{amount:t.incomeTotal-t.expenseTotal,label:"Balance",flagString:"danger"},{amount:t.planTotal,label:"Planning",flagString:"warning"}];T(a);var n=[{key:"goodPlans",flagString:"success",planString:"Good plans",planArray:t.goodPlans},{key:"achievedPlans",flagString:"info",planString:"Achieved plans",planArray:t.achievedPlans},{key:"badPlans",flagString:"danger",planString:"Bad plans",planArray:t.badPlans},{key:"noPlans",flagString:"warning",planString:"No plans",planArray:t.noPlans}];x(n)},X=function(e){return e.reduce((function(e,t){return e+(t.inc_exp_plan_amount-t.inc_exp_amount)}),0)},Q=de.map((function(e){return e.config={footer:{total:{locale:"en-IN",currency:"INR",maxDecimal:2,doubleEntryBalanceStrings:{zero:"Settled",plus:"Ahead",minus:"Bal"}},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},e}));return Object(m.jsxs)("div",{className:"settings",children:[k&&Object(m.jsx)(ye,{className:"planInfoModal",show:k,onHide:function(){return C(!1)},size:"lg",animation:!1,monthYearSelected:l,bankSelected:i,selectedPlan:Y}),I&&Object(m.jsx)(we,{className:"planInfoModal",show:I,onHide:function(){return R(!1)},size:"sm",totals:S,animation:!1}),Object(m.jsx)("div",{className:"",children:l&&i&&y.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"buttonGrid",children:l&&y&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h6",{children:l}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)(Oe.a,{placement:"left",delay:{show:250,hide:400},overlay:H(0,"Clone from template"),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return $()},className:"fa fa-copy roundedButton pull-right"})})}),Object(m.jsx)("div",{children:Object(m.jsx)(Oe.a,{placement:"top",delay:{show:250,hide:400},overlay:H(0,"Export PDF"),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return function(){var e=y.map((function(e,t){return[t+1,e.inc_exp_name,e.inc_exp_amount,e.inc_exp_plan_amount,e.inc_exp_type,e.inc_exp_date,e.inc_exp_comments]})),t=new _e.default;t.text("".concat(G.a.stringToCapitalize(de[0].Table)," (").concat(l,")"),15,10),t.autoTable({styles:{overflow:"linebreak"},theme:"grid",head:[["#","Transaction","Amount","Planned","Type","Date","Comments"]],body:Object(J.a)(e)});var a=S.map((function(e){return G.a.lacSeperator(e.amount)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Income","Expense","Balance","Planning"]],body:[a]});var n=_.map((function(e){return G.a.lacSeperator(X(e.planArray))}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Good Plans","Achieved Plans","Bad Plans","No Plans"]],body:[n]}),t.save("".concat(de[0].Table,"-").concat(F))}()},className:"fa fa-file-pdf-o roundedButton pull-right"})})}),Object(m.jsx)(Se.a,{datas:G.a.stripCommasInCSV(y),filename:"Income-Expense-".concat(F,".csv"),columns:[{displayName:"Transaction",id:"inc_exp_name"},{displayName:"Date",id:"inc_exp_date"},{displayName:"Type",id:"inc_exp_type"},{displayName:"Amount",id:"inc_exp_amount"}],children:Object(m.jsx)(Oe.a,{placement:"top",delay:{show:250,hide:400},overlay:H(0,"Export CSV"),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-file-excel-o roundedButton pull-right"})})}),Object(m.jsx)("div",{children:Object(m.jsx)(Oe.a,{placement:"top",delay:{show:250,hide:400},overlay:H(0,"Tally"),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return R(!0)},className:"fa fa-text-width roundedButton pull-right"})})})]})]})}),Q.sort((function(e,t){return e.id>t.id})).map((function(e,t){return Object(m.jsx)(pe.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,dbData:y,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,n=e.data;t?e&&n&&n.response?a.renderToast({message:"Transaction saved successfully"}):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"})}(e)},insertCloneData:p,showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onTableUpdate:function(e){Z(e)},onReFetchData:W,cellWidth:"12rem"},t)})),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"row",children:S.map((function(e){return Object(m.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"p-6 text-center",children:Object(m.jsx)("h5",{children:e.label})})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"text-center text-".concat(e.flagString),children:G.a.countryCurrencyLacSeperator("en-IN","INR",e.amount,2)})})]})},e.label)}))}),Object(m.jsx)("div",{className:"row",children:_.map((function(e){return Object(m.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"p-6 text-center",children:Object(m.jsxs)("h5",{children:[e.planString,Object(m.jsx)("sup",{className:"superScript text-".concat(e.flagString),children:e.planArray.length})]})})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"text-center text-".concat(e.flagString),children:Object(m.jsx)("button",{onClick:function(){return function(e){var t=l.split("-"),a=Object(r.a)(t,2),n=a[0],c=a[1],s=G.a.strToNumMonth[n],d=new Date(c,s,0).getDate(),u={startDate:"".concat(c,"-").concat(s,"-01"),endDate:"".concat(c,"-").concat(s,"-").concat(d),bankSelected:i};switch(e){case"goodPlans":u=Object(o.a)(Object(o.a)({},u),{},{label:"Good plans",criteria:"G100"});break;case"achievedPlans":u=Object(o.a)(Object(o.a)({},u),{},{label:"Achieved plans",criteria:"E100"});break;case"badPlans":u=Object(o.a)(Object(o.a)({},u),{},{label:"Bad plans",criteria:"0TO100"});break;case"noPlans":u=Object(o.a)(Object(o.a)({},u),{},{label:"No plans",criteria:"E0"})}C(!0),U(u)}(e.key)},className:"btn btn-sm btn-".concat(e.flagString),children:G.a.countryCurrencyLacSeperator("en-IN","INR",X(e.planArray),2)})})})]})},e.key)}))})]})]}):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})})]})};Pe.defaultProps={property:"String name"};var Me=Pe,ke=a(877),Ce=function(e){var t=e.bankList,a=e.onSelectBank,n=e.title,c=Object(s.useState)(""),l=Object(r.a)(c,2),i=l[0],o=l[1];return Object(s.useEffect)((function(){t.length>0&&o(t[0].value)}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ke.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(ke.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(ke.a.Menu,{children:t.map((function(e,t){return Object(m.jsx)(ke.a.Item,{onClick:function(t){o(e.value),a(e.id)},children:e.value},t)}))})]})})};Ce.defaultProps={property:"String name"};var Ee=Ce,Ae=function(e){var t=e.yearList,a=e.onSelectYear,n=e.title,c=Object(s.useState)(""),l=Object(r.a)(c,2),i=l[0],o=l[1];return Object(s.useEffect)((function(){t.length>0&&o(t[0].value)}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ke.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(ke.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(ke.a.Menu,{children:t.map((function(e,t){return Object(m.jsx)(ke.a.Item,{onClick:function(){o(e.id),a(e.id)},children:e.value},t)}))})]})})};Ae.defaultProps={property:"String name"};var Ie=Ae,Re=function(e){var t=e.ccYearList,a=e.onSelectCcYear,n=e.title,c=Object(s.useState)(""),l=Object(r.a)(c,2),i=l[0],o=l[1];return Object(s.useEffect)((function(){t.length>0&&o(t[0].value)}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ke.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(ke.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(ke.a.Menu,{children:t&&t.length>0&&t.map((function(e,t){return Object(m.jsx)(ke.a.Item,{onClick:function(){o(e.id),a(e.id)},children:e.value},t)}))})]})})};Re.defaultProps={property:"String name"};var Le=Re,Be=function(e){var t=e.ccBankList,a=e.onSelectCcBank,n=e.title,c=Object(s.useState)(""),l=Object(r.a)(c,2),i=l[0],o=l[1];return Object(s.useEffect)((function(){t.length>0&&o(t[0].value)}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ke.a,{title:n,className:"d-grid",children:[Object(m.jsxs)(ke.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(ke.a.Menu,{children:t.map((function(e,t){return Object(m.jsx)(ke.a.Item,{onClick:function(t){o(e.value),a(e.id)},children:e.value},t)}))})]})})};Be.defaultProps={property:"String name"};var Ye=Be,Ue=a(359),Fe=a(883),Ke=a(885),We=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),a=t[0],l=t[1],i=Object(s.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],b=Object(s.useContext)(p),j={banks:[{bank_id:"",bank_name:"",bank_account_number:"",bank_ifsc_code:"",bank_card_no:"",bank_card_validity:"",isPrimaryAccount:"0"}],credit_cards:[{credit_card_id:"",credit_card_name:"",credit_card_number:"",credit_card_start_date:"",credit_card_end_date:"",credit_card_payment_date:""}],income_expense_category:[{inc_exp_cat_id:"",inc_exp_cat_name:""}],income_expense_template:[{template_id:"",temp_inc_exp_name:"",temp_amount:"",temp_inc_exp_type:"Dr",temp_inc_exp_date:"1"}]},h=function(e,t){var a=new FormData;return a.append("TableRows",t),a.append("Table",e),he.a.post("/account_planner/getAccountPlanner",a)},f=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u([]),a=h(t.Table,t.TableRows),Promise.all([a]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a[0].data.response.length>0?u(a[0].data.response):u(j[t.Table]),l(t.label);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=oe.map((function(e){return e.config={footer:{total:{locale:"en-IN",currency:"INR",maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},e}));function _(e){var t=e.children,a=e.eventKey,n=e.object,c=Object(Ue.b)(a,(function(){return f(n)}));return Object(m.jsx)("button",{type:"button",className:"col-12 text-start btn ".concat("dark"===b.userData.theme?"btn-dark":"btn-white"),onClick:c,children:t})}return Object(m.jsx)("div",{className:"settings",children:Object(m.jsx)(Fe.a,{bsPrefix:"util",defaultActiveKey:1,className:"",children:O.sort((function(e,t){return e.id-t.id})).map((function(e,t){return Object(m.jsxs)(Ke.a,{className:"my-2 ".concat("dark"===b.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:[Object(m.jsx)(Ke.a.Header,{className:"row m-0",children:Object(m.jsx)(_,{eventKey:e.id,object:e,children:e.label})}),Object(m.jsx)(Fe.a.Collapse,{eventKey:e.id,children:Object(m.jsx)(Ke.a.Body,{children:e.label===a?Object(m.jsx)("div",{className:"pt-10",children:Object(m.jsx)(pe.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,showTotal:e.showTotal,rowElements:e.rowElements,defaultValues:e.defaultValues,dbData:d,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,a=e.data;t?e&&a&&a.response?b.renderToast({message:"Transaction saved successfully"}):b.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}):b.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"})}(e)},onReFetchData:function(){return f(e)},cellWidth:"12rem"},t)}):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})})})]},e.id)}))})})};We.defaultProps={property:"String name"};var qe=We,Ve=function(e){var t=e.onImport,a=Object(s.useContext)(p),n=Object(s.useState)([]),c=Object(r.a)(n,2),i=c[0],d=c[1],u=Object(s.useState)([]),b=Object(r.a)(u,2),j=b[0],h=b[1],f=Object(s.useState)(-1),O=Object(r.a)(f,2),_=O[0],x=O[1],g=Object(s.useState)(-1),v=Object(r.a)(g,2),y=v[0],N=v[1],D=Object(s.useState)(-1),w=Object(r.a)(D,2),S=w[0],T=w[1],P=Object(s.useState)(" "),M=Object(r.a)(P,2),k=M[0],C=M[1],E=[{label:"Transaction",type:"text",key:"cc_transaction"},{label:"Date",type:"dated",key:"cc_date"},{label:"Opening",type:"number",key:"cc_opening_balance"},{label:"Credits",type:"number",key:"cc_payment_credits"},{label:"Purchases",type:"number",key:"cc_purchases"},{label:"Interest",type:"number",key:"cc_taxes_interest"}],A=Object(s.useRef)(null),I="{--#newLine#--}";Object(s.useEffect)((function(){if(_>-1&&y>-1&&S>-1&&_!==y){var e=Object(J.a)(i);e=e.map((function(e,t){return t===S&&e.length>1&&(e[_]=e[_]&&e[y]&&[].concat(Object(J.a)(e[_]),Object(J.a)(e[y])).join(""),e[y]=e[y]&&null),e})).map((function(e){return e.filter((function(e){return null!==e}))})),d(e),N(-1),T(-1),x(-1)}}),[_,y,S]);var R=function(e){e.preventDefault()},L=function(e,t,a){var n,c=JSON.parse(e.dataTransfer.getData("drag-item")),r=c.cell,s=c.i,l="";"dated"===t?(n=r,l=[Q()(n,"YYYY/MMM/DD",!0).isValid()&&Q()(n,"YYYY/MMM/DD").format("YYYY-MM-DD"),Q()(n,"YYYY.MMM.DD",!0).isValid()&&Q()(n,"YYYY.MMM.DD").format("YYYY-MM-DD"),Q()(n,"YYYY-MMM-DD",!0).isValid()&&Q()(n,"YYYY-MMM-DD").format("YYYY-MM-DD"),Q()(n,"YYYY MMM DD",!0).isValid()&&Q()(n,"YYYY MMM DD").format("YYYY-MM-DD"),Q()(n,"YYYY/MM/DD",!0).isValid()&&Q()(n,"YYYY/MM/DD").format("YYYY-MM-DD"),Q()(n,"YYYY.MM.DD",!0).isValid()&&Q()(n,"YYYY.MM.DD").format("YYYY-MM-DD"),Q()(n,"YYYY-MM-DD",!0).isValid()&&Q()(n,"YYYY-MM-DD").format("YYYY-MM-DD"),Q()(n,"YYYY MM DD",!0).isValid()&&Q()(n,"YYYY MM DD").format("YYYY-MM-DD"),Q()(n,"DD/MM/YYYY",!0).isValid()&&Q()(n,"DD/MM/YYYY").format("YYYY-MM-DD"),Q()(n,"DD-MM-YYYY",!0).isValid()&&Q()(n,"DD-MM-YYYY").format("YYYY-MM-DD"),Q()(n,"DD.MM.YYYY",!0).isValid()&&Q()(n,"DD.MM.YYYY").format("YYYY-MM-DD"),Q()(n,"DD MM YYYY",!0).isValid()&&Q()(n,"DD MM YYYY").format("YYYY-MM-DD"),Q()(n,"DD/MMM/YYYY",!0).isValid()&&Q()(n,"DD/MMM/YYYY").format("YYYY-MM-DD"),Q()(n,"DD-MMM-YYYY",!0).isValid()&&Q()(n,"DD-MMM-YYYY").format("YYYY-MM-DD"),Q()(n,"DD.MMM.YYYY",!0).isValid()&&Q()(n,"DD.MMM.YYYY").format("YYYY-MM-DD"),Q()(n,"DD MMM YYYY",!0).isValid()&&Q()(n,"DD MMM YYYY").format("YYYY-MM-DD"),Q()(n,"DD/MMMM/YYYY",!0).isValid()&&Q()(n,"DD/MMMM/YYYY").format("YYYY-MM-DD"),Q()(n,"DD-MMMM-YYYY",!0).isValid()&&Q()(n,"DD-MMMM-YYYY").format("YYYY-MM-DD"),Q()(n,"DD.MMMM.YYYY",!0).isValid()&&Q()(n,"DD.MMMM.YYYY").format("YYYY-MM-DD"),Q()(n,"DD MMMM YYYY",!0).isValid()&&Q()(n,"DD MMMM YYYY").format("YYYY-MM-DD")].filter((function(e){return!1!==e}))[0]||"Invalid Date"):"text"===t?l=r:"number"===t&&(r=r.replace(",",""),l=Number(r)||0),e.target.value=l,B(s,a,l)},B=function(e,t,a){var n=Object(J.a)(j);n=n.map((function(n,c){return e===c&&(n[t]=a),n})),h(n)};return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(xe.a.Header,{closeButton:!0,children:Object(m.jsx)(xe.a.Title,{children:"Import your credit card statement"})}),Object(m.jsx)(xe.a.Body,{className:"rounded-bottom ".concat("dark"===a.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(m.jsxs)("div",{className:"creditCardModal",children:[i.length?Object(m.jsx)("div",{className:"table-responsive pb-3",children:Object(m.jsxs)("div",{className:"tableGrid",children:[E.map((function(e,t){return Object(m.jsx)("div",{className:"heading",children:e.label},t)})),i.map((function(e,t){return Object(m.jsxs)(l.a.Fragment,{children:[e.length>0&&Object(m.jsxs)("div",{className:"singleLines",children:[e.map((function(e,a){return Object(m.jsxs)("span",{id:a,draggable:"true",onDragStart:function(n){return function(e,t){x(Number(e.target.id)),e.dataTransfer.setData("drag-item",t)}(n,JSON.stringify({cell:e,i:t,j:a}))},onDrop:function(e){return function(e,t){var a=t.i;T(Number(a)),N(Number(e.target.id))}(e,{i:t,j:a})},onDragOver:function(e){return R(e)},className:"cell",children:[e,Object(m.jsx)("i",{onClick:function(){return function(e,t){var a=Object(J.a)(i);a=a.map((function(a,n){return n===e?a.filter((function(e,a){return a!==t})):a})),d(a)}(t,a)},className:"fa fa-times-circle"})]},a)})),e.length>0&&Object(m.jsx)("span",{onClick:function(){return function(e){var t=Object(J.a)(i);t=t.map((function(t,a){return a===e&&(t=[]),t})),d(t)}(t)},className:"cell danger",title:"Delete all?",children:Object(m.jsx)("i",{className:"fa fa-times"})})]}),E.map((function(e,a){return Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:e.type,onChange:function(a){return B(t,e.key,a.target.value)},onDragOver:function(e){return R(e)},onDrop:function(t){return L(t,e.type,e.key)},className:"input"})},a)}))]},t)}))]})}):Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"row separatorWrapper py-2",children:[Object(m.jsx)("div",{className:"col-md-9 col-7 pl-0",children:Object(m.jsxs)("label",{htmlFor:"paste",children:["Paste your statement here ",Object(m.jsx)("i",{className:"fa fa-level-down"})]})}),Object(m.jsx)("div",{className:"col-md-3 col-5 pr-0",children:Object(m.jsxs)("div",{className:"input-group input-group-sm",children:[Object(m.jsx)("span",{className:"input-group-text",children:"Seperator"}),Object(m.jsx)("input",{type:"text",defaultValue:k,onChange:function(e){return C(e.target.value)},className:"form-control"})]})})]}),Object(m.jsx)("textarea",{id:"paste",ref:A,className:"textArea"})]}),Object(m.jsxs)("div",{className:"text-end py-2",children:[i.length>0&&Object(m.jsxs)("button",{onClick:function(){return d([])},className:"btn btn-bni me-3",children:[Object(m.jsx)("i",{className:"fa fa-angle-double-left"})," Back"]}),i.length?Object(m.jsx)("button",{onClick:function(){return t(j)},className:"btn btn-bni",children:"Import"}):Object(m.jsx)("button",{onClick:function(){return function(){var e=A.current.value,t=(e=e.replace(/(\r\n|\n|\r)/gm,I).split(I).filter((function(e){return e})).map((function(e){return e.split(k)}))).map((function(){return{cc_comments:"",cc_date:"",cc_expected_balance:"",cc_for_card:"",cc_id:"",cc_opening_balance:"",cc_payment_credits:"",cc_purchases:"",cc_taxes_interest:"",cc_transaction:""}}));h(t),d(e)}()},className:"btn btn-bni",children:"Process"})]})]})})]}))};Ve.defaultProps={property:"String name"};var He=Ve,ze=function(e){var t=Object(s.useContext)(Et),a=e.ccMonthYearSelected,l=e.ccBankSelected,i=e.ccDetails,d=Object(s.useState)({}),u=Object(r.a)(d,2),b=u[0],j=u[1],p=Object(s.useState)(!1),h=Object(r.a)(p,2),f=h[0],O=h[1],_=Object(s.useState)([]),x=Object(r.a)(_,2),g=x[0],v=x[1],y=Object(s.useState)([]),N=Object(r.a)(y,2),D=N[0],w=N[1];Object(s.useEffect)((function(){S()}),[a,l,i]);var S=function(){var e=a.split("-"),t=Object(r.a)(e,2),s=t[0],o=t[1],d=G.a.strToNumMonth[s],u=Number(i.credit_card_start_date),b=Number(i.credit_card_end_date),m=new Date("".concat(Number(o),"-").concat(Number(d),"-").concat(b).replace(/-/g,"/")),p="".concat(m.getFullYear(),"-").concat(G.a.leadingZeros(m.getMonth()+1),"-").concat(G.a.leadingZeros(m.getDate())),h=m.setTime(m.getTime()-2592e6);h=new Date(h),h=new Date(h.setDate(u));var f="".concat(h.getFullYear(),"-").concat(G.a.leadingZeros(h.getMonth()+1),"-").concat(G.a.leadingZeros(h.getDate())),O='cc_date between "'.concat(f,'" and "').concat(p,'" and cc_for_card = ').concat(l);j({sDateStr:f,eDateStr:p}),v([]);var _=M(O),x=P("/account_planner/credit_card_list"),g=P("/account_planner/inc_exp_list");Promise.all([_,x,g]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w([]),v(t[0].data.response),ue[0].rowElements[8]=t[1],ue[0].rowElements[9]=t[2],ue[0].rowElements[8].searchable=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},T=function(){S()},P=function(e){return he.a.get(e).then((function(e){return{fetch:{dropDownList:Object(J.a)(e.data.response)}}})).catch((function(e){console.log(e)}))},M=function(e){var t=new FormData;return t.append("TableRows",ue[0].TableRows),t.append("Table",ue[0].Table),e&&t.append("WhereClause",e),he.a.post("/account_planner/getAccountPlanner",t)},k=Number(i.credit_card_payment_date);k=k<10?"0".concat(k):k,k=new Date("".concat(k,"-").concat(a));var C=[(k=G.a.addMonths(k,1)).getFullYear(),k.getMonth()+1,k.getDate()],E=C[0],A=C[1],I=C[2];A=A<10?"0".concat(A):A,I=I<10?"0".concat(I):I,k="".concat(E,"-").concat(A,"-").concat(I);var R=ue.map((function(e){return e.config={footer:{total:{locale:"en-IN",currency:"INR",maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},e}));return Object(m.jsxs)("div",{className:"settings",children:[f&&Object(m.jsx)(He,{className:"creditCardModal",show:f,onHide:function(){return O(!1)},size:"xl",animation:!1,onImport:function(e){w(e),O(!1)}}),Object(m.jsxs)("div",{className:"",children:[a&&b&&i&&k&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"row mt-10",children:[Object(m.jsxs)("div",{className:"col-md-3 small",children:["For Month: ",a]}),Object(m.jsxs)("div",{className:"col-md-3 small",children:["For Card: ",i.credit_card_number]}),Object(m.jsxs)("div",{className:"col-md-3 small",children:["Cycle: ",b.sDateStr," to ",b.eDateStr]}),Object(m.jsxs)("div",{className:"col-md-3 small",children:["PayDate: ",k]})]}),Object(m.jsx)("div",{className:"row py-2",children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(Oe.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e,t){return Object(m.jsx)(fe.a,Object(o.a)(Object(o.a)({id:"button-tooltip-1",className:"in show"},e),{},{children:t}))}(e,"Import Statement"),triggerType:"hover",children:Object(m.jsx)("i",{onClick:function(){return O(!f)},className:"fa fa-upload roundedButton pull-right"})})})})]}),a&&l&&g.length>0?R.sort((function(e,t){return e.id>t.id})).map((function(e,a){return Object(m.jsx)(pe.a,{Table:e.Table,config:e.config,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,dbData:g,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var a=e.status,n=e.data;a?e&&n&&n.response?t.renderToast({message:"Transaction saved successfully"}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:T,insertCloneData:D,cellWidth:"12rem"},a)})):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})]})};ze.defaultProps={property:"String name"};var Ge=ze,Je=a(349),$e=a.n(Je),Ze=a(360),Xe=a.n(Ze),Qe=function(e){var t=Object(s.useContext)(Et),a=Object(s.useState)(new Date),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)(""),d=Object(r.a)(i,2),u=d[0],b=d[1],j=Object(s.useState)(""),p=Object(r.a)(j,2),h=p[0],f=p[1],O=Object(s.useState)("0"),_=Object(r.a)(O,2),x=_[0],g=_[1],v=Object(s.useState)(!0),y=Object(r.a)(v,2),N=y[0],D=y[1],w=Object(s.useState)(!0),S=Object(r.a)(w,2),T=S[0],P=S[1],M=Object(s.useState)([]),k=Object(r.a)(M,2),C=k[0],E=k[1],A=Object(s.useState)([]),I=Object(r.a)(A,2),R=I[0],L=I[1],B=Object(s.useState)(""),Y=Object(r.a)(B,2),U=Y[0],F=Y[1],K=Object(s.useState)([]),W=Object(r.a)(K,2),q=W[0],V=W[1],H=Object(s.useState)(""),J=Object(r.a)(H,2),$=J[0],Z=J[1],X=Object(s.useState)(""),Q=Object(r.a)(X,2),ee=Q[0],te=Q[1],ae=Object(s.useState)(""),ne=Object(r.a)(ae,2),ce=ne[0],re=ne[1],se=Object(s.useState)(""),le=Object(r.a)(se,2),ie=le[0],oe=le[1],de=Object(s.useState)(!1),ue=Object(r.a)(de,2),be=ue[0],je=ue[1],me="&Lang;",pe=[1,2,3,4,5,6,7,8,9,me,0,".","C"];Object(s.useEffect)((function(){var e=he.a.get("/account_planner/bank_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),t=he.a.get("/account_planner/inc_exp_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),a=he.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e,t,a]).then((function(e){e[0].length>0?E(e[0]):E([{id:null,value:"NULL"}]),e[0].length>0&&e[0][0].id?F(e[0][0].id):F(""),e[1].length>0?V(e[1]):V([{id:null,value:"NULL"}]),e[1].length>0&&e[1][0].id?Z(e[1][0].id):Z(""),e[1].length>0&&e[1][0].value?te(e[1][0].value):te("NULL"),e[2].length>0?L(e[2]):L([{id:null,value:"NULL"}]),e[2].length>0&&e[2][0].id?re(e[2][0].id):re(""),e[2].length>0&&e[2][0].value?oe(e[2][0].value):oe("NULL")}))}),[]);var fe=function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)};return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(xe.a.Header,{closeButton:!0,children:Object(m.jsx)(xe.a.Title,{children:"Fast Shopping"})}),Object(m.jsx)(xe.a.Body,{className:"rounded-bottom bg-dark text-light",children:Object(m.jsxs)("form",{id:"transactForm",onSubmit:function(e){return e.preventDefault()},children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Transaction",onChange:function(e){return b(e.target.value)}})}),Object(m.jsx)("div",{className:"overflow text-end",children:x}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"numPads pb-2",children:pe.map((function(e,t){return Object(m.jsx)("div",{className:"text-center buttonContainer",children:Object(m.jsx)("button",{disabled:x.toString().includes(".")&&"."===e,onClick:function(){return function(e){var t=x;"number"===typeof e&&(t=be?"".concat(t,".").concat(e):"".concat(x).concat(e),je(!1)),"."===e&&(je(!0),"0"===t.substring(0,1)&&(t="0"+t)),t.length>0&&"0"===t.substring(0,1)&&!t.includes(".")&&(t=t.substring(1,t.length)),t.length>0&&"."===t.substring(0,1)&&(t="0".concat(t)),"C"===e&&(t="0",je(!1)),e===me&&(t=t.length>1?t.slice(0,-1):"0").length>0&&"."===t.slice(t.length-1)&&(t=t.slice(0,-1),je(!1)),g(t)}(e)},dangerouslySetInnerHTML:{__html:e}})},t)}))})}),Object(m.jsxs)("div",{className:"row py-2",children:[Object(m.jsx)("div",{className:"col-6 py-2 react-responsive-ajax-data-table",children:Object(m.jsx)($e.a,{onChange:function(e){l(e)},value:c,format:"y-MM-dd",required:!0,clearIcon:null,className:"fastShoppingDatePicker"})}),Object(m.jsx)("div",{className:"col-6 py-2",children:Object(m.jsxs)("div",{className:"d-flex align-items-center",children:[Object(m.jsxs)("div",{onClick:function(){return P(!T)},className:"",children:[T?"Debit":"Credit"," Card"]}),Object(m.jsx)("i",{onClick:function(){return P(!T)},className:"fa fa-circle ps-2 ".concat(T?"debit":"credit")})]})})]}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Comments",onChange:function(e){return f(e.target.value)}})}),Object(m.jsx)("div",{children:C.length>0&&q.length>0&&R.length>0?Object(m.jsxs)(m.Fragment,{children:[T?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[Object(m.jsx)("div",{onClick:function(){return D(!0)},className:"",children:"Expense"}),Object(m.jsx)(Xe.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return D(!N)},checked:!0===N}),Object(m.jsx)("div",{onClick:function(){return D(!1)},className:"",children:"Income"}),Object(m.jsx)(Xe.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return D(!N)},checked:!1===N})]})}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsx)(Ee,{bankList:C,onSelectBank:function(e){return F(e)}})})]}):Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)(ke.a,{className:"d-grid",children:[Object(m.jsxs)(ke.a.Toggle,{className:"btn btn-bni",children:[ie," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(ke.a.Menu,{children:R.map((function(e,t){return Object(m.jsx)(ke.a.Item,{onClick:function(t){re(e.id),oe(e.value)},children:e.value},t)}))})]})}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)(ke.a,{className:"d-grid",children:[Object(m.jsxs)(ke.a.Toggle,{className:"btn btn-bni",children:[ee," ",Object(m.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(m.jsx)(ke.a.Menu,{children:q.map((function(e,t){return Object(m.jsx)(ke.a.Item,{onClick:function(t){Z(e.id),te(e.value)},children:e.value},t)}))})]})})]}):Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}),Object(m.jsx)("div",{className:"py-2",children:Object(m.jsx)("button",{disabled:!(Number(x)>0&&u),onClick:function(){return function(){var e={Table:T?"income_expense":"credit_card_transactions",insertData:T?[{inc_exp_id:null,inc_exp_name:u,inc_exp_amount:x,inc_exp_plan_amount:x,inc_exp_type:N?"Dr":"Cr",inc_exp_date:fe(c),inc_exp_category:$,inc_exp_bank:U,inc_exp_comments:h}]:[{cc_id:null,cc_transaction:u,cc_date:fe(c),cc_opening_balance:0,cc_payment_credits:0,cc_purchases:x,cc_taxes_interest:0,cc_expected_balance:x,cc_for_card:ce,cc_inc_exp_cat:$,cc_comments:h,cc_transaction_status:0}]},a=new FormData;document.getElementById("transactForm").reset(),a.append("postData",JSON.stringify(e)),he.a.post("/account_planner/postAccountPlanner",a).then((function(e){e.data.response?t.renderToast({message:"Transaction saved successfully"}):t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. No form change found"}),g("0"),b(""),f(""),document.getElementById("transactForm").reset()})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to reach server. Please try again later"}),console.log(e)}))}()},className:"btn btn-bni",children:"Submit"})})]})})]}))};Qe.defaultProps={property:"String name"};var et=Qe,tt=function(e){var t=e.ccDetails,a=Object(s.useState)(0),n=Object(r.a)(a,2),c=n[0],l=n[1],i=24*Number(t.remDays)*3600;Object(s.useEffect)((function(){Number(t.remDays)>0&&o()}),[t.remDays]);var o=function e(){var t=Math.floor(i/24/60/60),a=Math.floor(i-86400*t),n=Math.floor(a/3600),c=Math.floor(a-3600*n),r=Math.floor(c/60),s=i%60,o=u(t)+":"+u(n)+":"+u(r)+":"+u(s);0===i?d(e):i--,l(o),setTimeout(e,1e3)},d=function(){clearTimeout(o)},u=function(e){return e<10?"0"+e:e};return Object(m.jsx)("span",{children:c})};tt.defaultProps={property:"String name"};var at=tt,nt=function(e){var t=Object(s.useContext)(p),a=Object(s.useState)(!1),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)(!1),d=Object(r.a)(i,2),u=d[0],b=d[1],j=Object(s.useState)(!1),h=Object(r.a)(j,2),f=h[0],O=h[1],_=Object(s.useState)({}),x=Object(r.a)(_,2),g=x[0],v=x[1],y=Object(s.useState)([]),N=Object(r.a)(y,2),D=N[0],w=N[1],S=new Date;Object(s.useEffect)((function(){l(!0);var e=P();Promise.all([e]).then((function(e){var t=e[0];w(t),l(!1)}))}),[]);var T=function(){return Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},P=function(){return he.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}))};return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(xe.a.Header,{closeButton:!0,children:Object(m.jsx)(xe.a.Title,{children:"Check credit card cycle date"})}),Object(m.jsxs)(xe.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:[c?T():Object(m.jsx)("div",{className:"row",children:D&&D.length>0&&D.map((function(e,t){return Object(m.jsxs)("div",{onClick:function(){return function(e){var t=new FormData;return t.append("bank",e),v({}),b(!0),O(e),he.a.post("/account_planner/credit_card_details",t).then((function(e){var t=e.data.response[0],a=t.credit_card_start_date,n=[(a=G.a.addMonths(new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(a).replace(/-/g,"/")),-1)).getFullYear(),a.getMonth()+1,a.getDate()],c=n[0],r=n[1],s=n[2],l=[r<10?"0".concat(r):r,s<10?"0".concat(s):s];r=l[0],s=l[1],a="".concat(c,"-").concat(r,"-").concat(s);var i=t.credit_card_end_date,o=[(i=new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(i).replace(/-/g,"/"))).getFullYear(),i.getMonth()+1,i.getDate()],d=o[0],u=o[1],j=o[2],m=[u<10?"0".concat(u):u,j<10?"0".concat(j):j];u=m[0],j=m[1],i="".concat(d,"-").concat(u,"-").concat(j);var p=t.credit_card_payment_date,h=[(p=G.a.addMonths(new Date("".concat(S.getFullYear(),"-").concat(S.getMonth()+1,"-").concat(p).replace(/-/g,"/")),1)).getFullYear(),p.getMonth()+1,p.getDate()],f=h[0],O=h[1],_=h[2],x=[O<10?"0".concat(O):O,_<10?"0".concat(_):_];O=x[0],_=x[1],p="".concat(f,"-").concat(O,"-").concat(_);var g=new Date(p)-new Date;g=Math.abs(g),g=Math.ceil(g/864e5);var y={cardNumber:t.credit_card_number,cardName:t.credit_card_name,startDate:a,endDate:i,payDate:p,remDays:g};v(y),b(!1)})).catch((function(e){console.log(e)}))}(e.id)},className:"col-6 text-center cardWrapper ".concat(f===e.id?"active":""),children:[Object(m.jsx)("i",{className:"fa fa-credit-card-alt"}),e.value]},t)}))}),u?T():Object.keys(g).length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"py-3 text-center",children:g.cardName}),Object(m.jsxs)("div",{className:"container mt-10 text-center",children:[Object(m.jsx)("div",{className:"contactLabel",children:"Card number"}),Object(m.jsx)("div",{children:g.cardNumber}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:"Start Date"}),Object(m.jsx)("div",{children:g.startDate})]}),Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:"End Date"}),Object(m.jsx)("div",{children:g.endDate})]})]}),Object(m.jsxs)("div",{className:"row text-center",children:[Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:"Pay Date"}),Object(m.jsx)("div",{children:g.payDate})]}),Object(m.jsxs)("div",{className:"col-6",children:[Object(m.jsx)("label",{children:"Remaining days"}),Object(m.jsx)("div",{children:Object(m.jsx)(at,{ccDetails:g})})]})]})]})]})]})]}))};nt.defaultProps={property:"String name"};var ct=nt,rt=function(e){var t=e.onHide,a=e.onYes,n=Object(s.useContext)(p);return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},e),{},{style:{zIndex:9999},children:[Object(m.jsx)(xe.a.Header,{closeButton:!0,children:Object(m.jsx)(xe.a.Title,{children:"I am sure.. I am familiar about SQL queries.."})}),Object(m.jsx)(xe.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return a()},className:"btn btn-bni",children:"Allow"})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return t()},className:"btn btn-secondary",children:"Restrict"})})]})})]}))};rt.defaultProps={};var st=rt,lt=function(e){var t=Object(s.useContext)(Et),a=Object(s.useState)({}),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)(!1),o=Object(r.a)(i,2),d=o[0],u=o[1];Object(s.useEffect)((function(){console.log("bbb",c)}),[c]),Object(s.useEffect)((function(){u(!0),he.a.get("/account_planner/getTotalHoldings").then((function(e){l(e.data.response.result)})).catch((function(){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to fetch total holdings. Please try again later"})})).finally((function(){return u(!1)}))}),[]);var b=function(e,t){return Object.keys(c).length>0?c[e].reduce((function(e,a){return Number(e)+Number(a[t])||0}),0):0};return d?Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"totalHoldings",children:[Object(m.jsx)("div",{className:"h5 bni-border bottom pb-1",children:"Bank"}),Object(m.jsx)("div",{className:"h5 text-end bni-border bottom pb-1",children:"Balance"}),Object.keys(c).length>0?c.bankBalance.map((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:e.Bank}),Object(m.jsx)("div",{className:"text-end",children:G.a.countryCurrencyLacSeperator("en-IN","INR",Number(e.Balance),2)})]})})).concat(c.bankBalance.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"total h5 py-2 pb-2",children:"Total"}),Object(m.jsx)("div",{className:"text-end total h5 py-2 pb-2 btn-bni pe-1",children:G.a.countryCurrencyLacSeperator("en-IN","INR",b("bankBalance","Balance"),2)})]}):null).concat(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"h5 bni-border bottom pb-1 mt-5",children:"Credit Card"}),Object(m.jsx)("div",{className:"h5 text-end bni-border bottom pb-1 mt-5",children:"Balance"}),c.creditBalance.length>0?c.creditBalance.map((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:e.cardName}),Object(m.jsx)("div",{className:"text-end",children:G.a.countryCurrencyLacSeperator("en-IN","INR",Number(e.total),2)})]})})):Object(m.jsx)("div",{className:"noData",children:"No credit card balance"})]})).concat(c.creditBalance.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"total h5 py-2",children:"Total"}),Object(m.jsx)("div",{className:"text-end total h5 py-2 btn-bni pe-1",children:G.a.countryCurrencyLacSeperator("en-IN","INR",b("creditBalance","total"),2)})]}):null):Object(m.jsx)("div",{className:"noData",children:"No Data"})]})};lt.defaultProps={property:"String name"};var it=lt,ot=a(103),dt=a(236),ut=function(e){var t=e.onSelect,a=e.master,n=Object(s.useState)(""),c=Object(r.a)(n,2),l=c[0],i=c[1],o=Object(s.useState)([]),d=Object(r.a)(o,2),u=d[0],b=d[1],j=Object(s.useState)(!1),p=Object(r.a)(j,2),h=p[0],f=p[1],O=Object(s.useState)([]),_=Object(r.a)(O,2),x=_[0],g=_[1],v=Object(s.useState)([]),y=Object(r.a)(v,2),N=y[0],D=y[1],w=Object(s.useState)(""),S=Object(r.a)(w,2),T=S[0],P=S[1];Object(s.useEffect)((function(){M(N)}),[N,h,x]),Object(s.useEffect)((function(){var e=[],t=function(t){e.push(a.fields[t].map((function(e){return{id:"".concat(t,".").concat(e.field),value:"".concat(t,".").concat(e.field),marker:e.marker}})))};for(var n in a.fields)t(n);var c=[].concat.apply([],e);b(c),D([])}),[]);var M=function(e){var a;a="*"===l?e.join(", "):e[0];var n=x.map((function(e){return e.split(" AS ")[1]})).join(", ");t({fields:a||"*",fieldArray:e,hasAlias:h,aliases:x.join(", ")||"",aliasArray:x,aliasStrings:n})},k=function(){g([]),f(!1)};return Object(m.jsxs)("div",{className:"select pt-2",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Select"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return i(""),f(!1),g([]),D([]),void P("")}})})]}),Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ot.a,{placeholder:"Select Type",onChange:function(e,t,a){i(t),M("*"===l?[]:""),D([]),f(!1),g([])},element:{fetch:{dropDownList:["*","SUM","COUNT","MIN","MAX","AVG","DISTINCT"].map((function(e){return{id:e,value:e}}))}},value:l,type:"single",searchable:!1},1)})}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ot.a,{placeholder:"Select Field(s)",onChange:function(e,t,a){return function(e){Array.isArray(e)?D(e):D(["".concat(l,"(").concat(e,")")]),Array.isArray(e)?P(e):P("".concat(e)),k()}(t)},element:{fetch:{dropDownList:u.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:T,type:"*"===l?"multiple":"single",searchable:!0},2)})}),N.length>0&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(dt.a,{index:{i:0,j:"radioNull"},onChange:function(e,t,a){if(f("1"===t),"1"===t){var n=N.map((function(e,t){return"".concat(e," AS F").concat(t+1)}));g(n)}else g([])},element:{radio:{radioList:[{label:"Has Alias",value:"1"},{label:"No Alias",value:"0"}]}},value:h?"1":"0"})})})]}),Object(m.jsx)("div",{className:"row",children:h&&N.length>0&&N.map((function(e,t){return Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"text",placeholder:"".concat(e," (Alias)"),className:"form-control",defaultValue:"F".concat(t+1),onBlur:function(e){e.target.value||(e.target.value="F".concat(t+1))},onChange:function(e){return function(e,t){var a=Object(J.a)(x);a[t]&&(a=a.map((function(a,n){return t===n&&(a=e?"".concat(N[n]," AS ").concat(e):"".concat(N[n]," AS F").concat(n+1)),a})),g(a))}(e.target.value,t)}})})},t)}))})]})]})};ut.defaultProps={property:"String name"};var bt=ut,jt=function(e){var t=e.master,a=e.onFrom,n=Object(s.useState)(""),c=Object(r.a)(n,2),l=c[0],i=c[1],o=Object(s.useState)([]),d=Object(r.a)(o,2),u=d[0],b=d[1];Object(s.useEffect)((function(){var e=Object.entries(t.tables).map((function(e){return"".concat(e[1]," AS ").concat(e[0])}));b(e),i(e[0]),a(e[0])}),[]);var j=function(e){i(e),a(e)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"pt-2",children:[Object(m.jsx)("div",{className:"h6",children:"From"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){j(u[0])}})})]}),Object(m.jsx)("div",{className:"react-responsive-ajax-data-table",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ot.a,{placeholder:"Select Table",onChange:function(e,t,a){return j(t)},element:{fetch:{dropDownList:u.map((function(e){return{id:e,value:e}}))}},value:l,type:"single",searchable:!0},1)})})})})]})};jt.defaultProps={};var mt=jt,pt=function(e){var t=e.master,a=e.onJoin,n=Object(s.useContext)(p),c=["INNER","LEFT","RIGHT","OUTER"],i=Object(s.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],b=c.map((function(e){return{type:e,joins:[{tableDropDown:{fetch:{dropDownList:Object.keys(t.tables).map((function(e){return{id:e,value:e}}))}},selectedSource:"",selectedTarget:"",sourceFields:{},targetFields:{}}]}})),j=Object(s.useState)(b),h=Object(r.a)(j,2),f=h[0],O=h[1];Object(s.useEffect)((function(){_()}),[f]);var _=function(){var e=Object(J.a)(f).filter((function(e){return e.joins.some((function(e){return e.selectedSource&&e.selectedTarget}))})),n=[];e.forEach((function(e){return e.joins.forEach((function(a){t.tables[a.sourceFields.table]&&a.sourceFields.table&&a.sourceFields.table&&a.selectedSource&&n.push("".concat(e.type," JOIN ").concat(t.tables[a.sourceFields.table]," AS ").concat(a.sourceFields.table," ON ").concat(a.sourceFields.table,".").concat(a.selectedSource," = ").concat(a.targetFields.table,".").concat(a.selectedTarget))}))})),a(n)},x=function(e,t,a,n){var c=Object(r.a)(d,2),s=c[0],l=c[1];if(s&&l){var i="source"===a?"selectedSource":"selectedTarget",o=Object(J.a)(f);o=o.map((function(a){if(a.type===e){var c=a.joins.map((function(e,a){return a===n&&(e[i]=t),e}));a.joins=c}return a})),O(o)}};return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Join"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){O(b)}})})]}),Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsxs)("table",{className:"table table-borderless ".concat("dark"===n.userData.theme?"text-light":"text-dark"),children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:c.map((function(e,t){return Object(m.jsx)("td",{className:"text-center",children:e},t)}))})}),Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:f.map((function(e,a){return Object(m.jsx)("td",{children:e.joins.map((function(n,c){return Object(m.jsxs)(l.a.Fragment,{children:[Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(ot.a,{index:{i:a,j:-1},placeholder:"Select Tables",onChange:function(e,n,s){!function(e,a,n){var c=Object(r.a)(e,2),s=c[0],l=c[1];s&&l&&u([s,l]);var i=Object(J.a)(f);i=i.map((function(e,c){return a===c&&e.joins.map((function(e,a){return a===n&&(e.sourceFields=t.fields[s]&&{table:s,fetch:{dropDownList:t.fields[s].map((function(e){var t=e.field;return{id:t,value:t,marker:e.marker}}))}}||{},e.targetFields=t.fields[l]&&{table:l,fetch:{dropDownList:t.fields[l].map((function(e){var t=e.field;return{id:t,value:t,marker:e.marker}}))}}||{}),e})),e})),O(i)}(n,a,c)},element:n.tableDropDown,value:"",type:"multiple",searchable:!0})}),Object.keys(n.sourceFields).length>0&&Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(ot.a,{index:{i:a,j:c},placeholder:"Set Source Relation",onChange:function(t,a,n){x(e.type,a,"source",c)},element:n.sourceFields,value:"",type:"single",searchable:!1})}),Object.keys(n.targetFields).length>0&&Object(m.jsx)("div",{className:"mb-2",children:Object(m.jsx)(ot.a,{index:{i:a,j:c},placeholder:"Set Target Relation",onChange:function(t,a,n){x(e.type,a,"target",c)},element:n.targetFields,value:"",type:"single",searchable:!1})}),Object(m.jsxs)("div",{className:"mb-2",children:[c>0?Object(m.jsx)("i",{onClick:function(){return function(e,t){var a=Object(J.a)(f);a=a.map((function(a){if(a.type===e){var n=a.joins.filter((function(e,a){return a!==t}));a.joins=n}return a})),O(a)}(e.type,c)},className:"fa fa-times-circle danger"}):Object(m.jsx)("i",{}),Object(m.jsx)("i",{onClick:function(){return function(e){var a=Object(J.a)(f),n={tableDropDown:{fetch:{dropDownList:Object.keys(t.tables).map((function(e){return{id:e,value:e}}))}},selectedSource:"",selectedTarget:"",sourceFields:{},targetFields:{}};a=a.map((function(t){return t.type===e&&t.joins.push(n),t})),O(a)}(e.type)},className:"pull-right fa fa-plus-circle success"})]})]},c)}))},a)}))})})]})})]})})};pt.defaultProps={property:"String name"};var ht=pt,ft=function(e){var t=e.master,a=e.onGroupBy,n=function(){var e=[],a=function(a){e.push(t.fields[a].map((function(e){return"".concat(a,".").concat(e.field)})))};for(var n in t.fields)a(n);return e.join().split(",")},c=n()||[];c=c.map((function(e){return{id:e,value:e}}));var l=Object(s.useState)(c),i=Object(r.a)(l,2),o=i[0],d=i[1],u=Object(s.useState)([]),b=Object(r.a)(u,2),j=b[0],p=b[1];Object(s.useEffect)((function(){var e=n()||[];e=e.map((function(e){return{id:e,value:e}})),d(e)}),[JSON.stringify(e.selectData)]);return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Group By"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return p([]),void a([])}})})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:o&&o.length>0&&Object(m.jsx)(ot.a,{placeholder:"Select Type",onChange:function(e,t,n){p(t),a(t)},element:{fetch:{dropDownList:o}},value:j,type:"multiple",searchable:!0},"Group-1")})})})]})})};ft.defaultProps={};var Ot=ft,_t=function(e){var t=e.master,a=e.onOrderBy,n=function(){var e=[],a=function(a){e.push(t.fields[a].map((function(e){return"".concat(a,".").concat(e.field)})))};for(var n in t.fields)a(n);return e.join().split(",")},c=n();c=c.map((function(e){return{id:e,value:e}}));var l=Object(s.useState)(c),i=Object(r.a)(l,2),o=i[0],d=i[1],u=Object(s.useState)(""),b=Object(r.a)(u,2),j=b[0],p=b[1],h=Object(s.useState)(""),f=Object(r.a)(h,2),O=f[0],_=f[1];Object(s.useEffect)((function(){var e=n()||[];e=e.map((function(e){return{id:e,value:e}})),d(e)}),[JSON.stringify(e.selectData)]),Object(s.useEffect)((function(){var e=[O&&"".concat(O," DESC"),j&&"".concat(j," ASC")].filter((function(e){return""!==e}));a(e)}),[j,O]);return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Order By"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return p(""),void _("")}})})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:o&&o.length>0&&Object(m.jsx)(ot.a,{placeholder:"ASC",onChange:function(e,t,a){p(t)},element:{fetch:{dropDownList:o}},value:j,type:"single",searchable:!1},1)})}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:o&&o.length>0&&Object(m.jsx)(ot.a,{placeholder:"DESC",onChange:function(e,t,a){_(t)},element:{fetch:{dropDownList:o}},value:O,type:"single",searchable:!1},1)})})]})]})})};_t.defaultProps={};var xt=_t,gt=function(e){var t=e.onLimit,a=Object(s.useState)(0),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)(100),o=Object(r.a)(i,2),d=o[0],u=o[1];Object(s.useEffect)((function(){t({offset:c,rowCount:d})}),[c,d]);return Object(m.jsx)("div",{className:"join pt-2",children:Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Limit"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){return l(0),u(100),void t({offset:0,rowCount:100})}})})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"number",onChange:function(e){return l(+e.target.value)},value:c,placeholder:"Offset",className:"form-control"})})}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"number",value:d,onChange:function(e){return u(+e.target.value)},placeholder:"Row Count",className:"form-control"})})})]})]})})};gt.defaultProps={property:"String name"};var vt=gt,yt=function(e){var t=e.onWhere,a=e.master,n=Object(s.useState)([]),c=Object(r.a)(n,2),l=c[0],i=c[1],d={SEP:"AND",AND:[{field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"AND"}],OR:[{field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"OR"}]},u=Object(s.useState)(d),b=Object(r.a)(u,2),j=b[0],p=b[1],h=[{label:"Between",value:"BETWEEN {a} AND {b}",placeholder:"Double comma sepearated values",valueType:"DOUBLE"},{label:"Equal To",value:"= '{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Not Equal To",value:"!= '{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Lesser Than",value:"< '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Greater Than",value:"> '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Lesser Than Equal To",value:"<= '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"Greater Than Equal To",value:">= '{a}'",placeholder:"Number",valueType:"SINGLE"},{label:"contains",value:"LIKE '%{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Starts With",value:"LIKE '{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Ends With",value:"LIKE '%{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not Contain",value:"NOT LIKE '%{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not Begin With",value:"NOT LIKE '{a}%'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Does Not End With",value:"NOT LIKE '%{a}'",placeholder:"String / Number",valueType:"SINGLE"},{label:"Is Null",value:"IS NULL",placeholder:"String / Number",valueType:"NULL"},{label:"Is Not Null",value:"IS NOT NULL",placeholder:"String / Number",valueType:"NULL"},{label:"In",value:"IN {n}",placeholder:"comma seperated values",valueType:"MULTIPLE"},{label:"Not In",value:"NOT IN {n}",placeholder:"comma seperated values",valueType:"MULTIPLE"}];Object(s.useEffect)((function(){var e=[],t=function(t){e.push(a.fields[t].map((function(e){return{id:"".concat(t,".").concat(e.field),value:"".concat(t,".").concat(e.field),marker:e.marker}})))};for(var n in a.fields)t(n);var c=[].concat.apply([],e);i(c)}),[]),Object(s.useEffect)((function(){var e=j.AND.filter((function(e){return e.clause})),a=j.OR.filter((function(e){return e.clause})),n=e.map((function(t,a){return"".concat(t.field," ").concat(t.clause).concat(a!==e.length-1?" ".concat(t.condition):"")})),c=a.map((function(e,t){return"".concat(e.field," ").concat(e.clause).concat(t!==a.length-1?" ".concat(e.condition):"")})),r=[].concat(Object(J.a)(n.length>0?["(".concat(n.join(" "),")")]:[]),Object(J.a)(n.length>0&&c.length>0?[j.SEP]:[]),Object(J.a)(c.length>0?["(".concat(c.join(" "),")")]:[]));t(r)}),[j]);var f=function(e){var t={field:"",criteria:"",clause:"",placeholder:"",valueType:"",value:"",condition:"AND"===e?"AND":"OR"},a=Object(o.a)({},j);a[e]=[].concat(Object(J.a)(a[e]),[t]),p(a)},O=function(e,t){var a=Object(o.a)({},j),n=a[e].filter((function(e,a){return a!==t}));a[e]=n,p(a)},_=function(e,t,a,n){var c=Object(o.a)({},j),r=c[n].map((function(n,c){if(t===c&&(n[a]=e,"criteria"===a)){var r=h.filter((function(t){return t.value===e}))[0];n.placeholder=r.placeholder,n.valueType=r.valueType,n.clause="NULL"===n.valueType?n.criteria:"",n.value=""}return n}));c[n]=r,p(c)},x=function(e,t,a){var n=Object(o.a)({},j),c=n[a].filter((function(e,a){return a===t}))[0].valueType,r=n[a].map((function(a,n){if(t===n){var r="";switch(c){case"SINGLE":r=e?a.criteria.replace("{a}","".concat(e)):"";break;case"DOUBLE":var s=e.split(",");r=s.length>=2&&s[0]&&s[1]?(r=a.criteria.replace("{a}","'".concat(s[0],"'"))).replace("{b}","'".concat(s[1],"'")):"";break;case"MULTIPLE":var l=e.split(",");r=l.some((function(e){return e}))?a.criteria.replace("{n}","(".concat(l,")")):"";break;case"NULL":r=a.criteria;break;default:r=e}a.clause=r,a.value=e}return a}));n[a]=r,p(n)};return Object(m.jsxs)("div",{className:"where pt-2",children:[Object(m.jsxs)("div",{className:"h6",children:[Object(m.jsx)("div",{children:"Where"}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fa fa-undo pull-right",onClick:function(){p(d)}})})]}),Object(m.jsxs)("div",{className:"react-responsive-ajax-data-table",children:[j.AND.map((function(e,t){return Object(m.jsxs)("div",{className:"row pt-2",children:[Object(m.jsxs)("div",{className:"col-md-1 actionIcons",children:[t>0?Object(m.jsx)("i",{onClick:function(){return O("AND",t)},className:"fa fa-times-circle danger"}):Object(m.jsx)("i",{}),Object(m.jsx)("i",{onClick:function(){return f("AND")},className:"fa fa-plus-circle success"})]}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:l.length>0&&Object(m.jsx)(ot.a,{placeholder:"Select field",onChange:function(e,a,n){_(a,t,"field","AND")},element:{fetch:{dropDownList:l.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:e.field,type:"single",searchable:!1},"field-".concat(t))})}),e.field&&h.length>0&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ot.a,{placeholder:"Select Criteria",onChange:function(e,a,n){_(a,t,"criteria","AND")},element:{fetch:{dropDownList:h.map((function(e){return{id:e.value,value:e.label}}))}},value:e.criteria,type:"single",searchable:!1},"criteria-".concat(t))})}),e.criteria&&"NULL"!==e.valueType&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"text",title:e.placeholder,placeholder:e.placeholder,className:"form-control",onChange:function(e){return x(e.target.value,t,"AND")},value:e.value},"AndKey-".concat(t))})}),Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("div",{className:"pb-2",children:(e.clause||"NULL"===e.valueType)&&Object(m.jsx)(dt.a,{index:{i:t,j:"AND"},onChange:function(e,a,n){return _(a,t,"condition","AND")},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!0},{label:"OR",value:"OR",checked:!1}]}},value:"AND"})})})]},t)})),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(m.jsx)("div",{className:"andOrWrapper",children:Object(m.jsx)(dt.a,{index:{i:0,j:"sepCond"},onChange:function(e,t,a){return function(e){var t=Object(o.a)({},j);t.SEP=e,p(t)}(t)},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!0},{label:"OR",value:"OR",checked:!1}]}},value:j.SEP})})})}),j.OR.map((function(e,t){return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-1 actionIcons",children:[t>0?Object(m.jsx)("i",{onClick:function(){return O("OR",t)},className:"fa fa-times-circle danger"}):Object(m.jsx)("i",{}),Object(m.jsx)("i",{onClick:function(){return f("OR")},className:"fa fa-plus-circle success"})]}),Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:l.length>0&&Object(m.jsx)(ot.a,{placeholder:"Select field",onChange:function(e,a,n){_(a,t,"field","OR")},element:{fetch:{dropDownList:l.map((function(e){return{id:e.id,value:e.value,marker:e.marker}}))}},value:e.field,type:"single",searchable:!1},"field-".concat(t))})}),e.field&&h.length>0&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(ot.a,{placeholder:"Select Criteria",onChange:function(e,a,n){_(a,t,"criteria","OR")},element:{fetch:{dropDownList:h.map((function(e){return{id:e.value,value:e.label}}))}},value:e.criteria,type:"single",searchable:!1},"criteria-".concat(t))})}),e.criteria&&"NULL"!==e.valueType&&Object(m.jsx)("div",{className:"col-md-3",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("input",{type:"text",title:e.placeholder,placeholder:e.placeholder,className:"form-control",onChange:function(e){return x(e.target.value,t,"OR")},value:e.value},"ORKey-".concat(t))})}),(e.clause||"NULL"===e.valueType)&&Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)(dt.a,{index:{i:t,j:"OR"},onChange:function(e,a,n){return _(a,t,"condition","OR")},element:{radio:{radioList:[{label:"AND",value:"AND",checked:!1},{label:"OR",value:"OR",checked:!0}]}},value:"OR"})})})]},t)}))]})]})};yt.defaultProps={property:"String name"};var Nt=yt,Dt=function(e){var t=e.master,a=Object(s.useState)([]),n=Object(r.a)(a,2),c=n[0],l=n[1];return Object(s.useEffect)((function(){var e=Object.keys(t.fields).map((function(e){return{table:t.tables[e],fields:t.fields[e]}}));l(e)}),[]),Object(m.jsx)("div",{className:"Erd",children:Object(m.jsx)("div",{className:"erdGrid",children:c.map((function(e,t){return Object(m.jsxs)("div",{className:"tableBox",children:[Object(m.jsx)("div",{className:"tableName",children:e.table}),Object(m.jsx)("ul",{children:e.fields.map((function(e,t){return Object(m.jsxs)("li",{children:[e.field," ",e.marker&&Object(m.jsx)("i",{className:"fa fa-key green"})," ",e.type&&Object(m.jsx)("em",{children:e.type.toUpperCase()})," ",e.relationId&&Object(m.jsx)("i",{className:"fa fa-link ".concat(e.relationId)})," "]},t)}))})]},t)}))})})};Dt.defaultProps={property:"String name"};var wt=Dt,St=(a(664),function(e){var t=e.schema,a=e.onUpdateSchema,n=e.onUpdateObject,c=Object(s.useState)(""),l=Object(r.a)(c,2),i=l[0],d=l[1],u=Object(s.useState)({select:{},from:function(){var e=Object.entries(t.tables)[0];return e="".concat(e[1]," AS ").concat(e[0])}(),join:{},where:[],groupBy:[],orderBy:[],limit:{}}),b=Object(r.a)(u,2),j=b[0],p=b[1],h=function(e,t){var a=Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({},j),"select"===e&&{select:t}),"from"===e&&{from:t}),"join"===e&&{join:t}),"where"===e&&{where:t}),"groupBy"===e&&{groupBy:t}),"orderBy"===e&&{orderBy:t}),"limit"===e&&{limit:t});p(a)};Object(s.useEffect)((function(){var e=["SELECT",j.select.aliasArray&&j.select.aliasArray.length>0?"\t"+j.select.aliasArray.join(", "):j.select.fieldArray&&j.select.fieldArray.length>0?"\t"+j.select.fieldArray.join(" ,"):"\t*","FROM",j.from&&"\t"+j.from].concat(Object(J.a)(j.join.length>0?[j.join.join("\n")]:[]),Object(J.a)(j.where.length>0?["WHERE \r\n\t".concat(j.where.join("\n\t"))]:[]),Object(J.a)(j.groupBy.length>0?["GROUP BY \r\n\t".concat(j.groupBy.join(", "))]:[]),Object(J.a)(j.orderBy.length>0?["ORDER BY \r\n\t".concat(j.orderBy.join(", "))]:[]),Object(J.a)(j.limit.offset>0?["LIMIT ".concat(j.limit.offset,", ").concat(j.limit.rowCount)]:["LIMIT ".concat(j.limit.rowCount)]));e=e.join("\r\n"),d(e)}),[j]);return Object(m.jsxs)("div",{className:"queryBuilder",children:[Object(m.jsx)(wt,{master:t}),Object(m.jsx)(bt,{master:t,onSelect:function(e){return h("select",e)}}),Object(m.jsx)(mt,{master:t,onFrom:function(e){return h("from",e)}}),Object(m.jsx)(ht,{master:t,onJoin:function(e){return h("join",e)}}),Object(m.jsx)(Nt,{master:t,onWhere:function(e){return h("where",e)}}),Object(m.jsx)(Ot,{master:t,onGroupBy:function(e){return h("groupBy",e)}}),Object(m.jsx)(xt,{master:t,onOrderBy:function(e){return h("orderBy",e)}}),Object(m.jsx)(vt,{onLimit:function(e){return h("limit",e)}}),Object(m.jsxs)("div",{className:"queryWrapper mt-2",children:[Object(m.jsxs)("div",{className:"heading",children:[Object(m.jsx)("div",{children:"Query"}),localStorage.getItem("query")&&Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){return function(){var e=localStorage.getItem("query");d(e)}()},className:"btn-red pull-right",children:"Get auto-saved query"})})]}),Object(m.jsx)("textarea",{className:"form-control query-list",value:i,onChange:function(e){d(e.target.value)}})]}),Object(m.jsx)("div",{className:"pb-2 text-end",children:Object(m.jsx)("button",{className:"btn btn-bni sm",onClick:function(){a(i),n(j),localStorage.setItem("query",i)},children:"Generate"})})]})});St.defaultProps={schema:{fields:{T1:[{field:"sampleFieldId1"}],T2:[{field:"sampleFieldId2"}]},tables:{T1:"sampleTable1",T2:"sampleTable2"}},onUpdateSchema:function(){},onUpdateObject:function(){}};var Tt=St,Pt={fields:{T1:[{field:"inc_exp_cat_id",marker:!0,relationId:"blue",type:"int(11)"},{field:"inc_exp_cat_name",type:"varchar(40)"}],T2:[{field:"credit_card_id",marker:!0,relationId:"red",type:"int(11)"},{field:"credit_card_name",type:"varchar(40)"},{field:"credit_card_number",type:"varchar(20)"},{field:"credit_card_start_date",type:"char(2)"},{field:"credit_card_end_date",type:"char(2)"},{field:"credit_card_payment_date",type:"char(2)"}],T3:[{field:"cc_id",marker:!0,type:"int(11)"},{field:"cc_transaction",type:"varchar(100)"},{field:"cc_date",type:"date"},{field:"cc_opening_balance",type:"decimal(10,2)"},{field:"cc_payment_credits",type:"decimal(10,2)"},{field:"cc_purchases",type:"decimal(10,2)"},{field:"cc_taxes_interest",type:"decimal(10,2)"},{field:"cc_expected_balance",type:"decimal(10,2)"},{field:"cc_for_card",relationId:"red",type:"int(11)"},{field:"cc_inc_exp_cat",relationId:"blue",type:"int(11)"},{field:"cc_comments",type:"varchar(100)"}]},tables:{T1:"income_expense_category",T2:"credit_cards",T3:"credit_card_transactions"}},Mt={fields:{T1:[{field:"inc_exp_cat_id",marker:!0,relationId:"red",type:"int(11)"},{field:"inc_exp_cat_name",type:"varchar(40)"}],T2:[{field:"bank_id",marker:!0,relationId:"blue",type:"int(11)"},{field:"bank_name",type:"varchar(40)"},{field:"bank_account_number",type:"varchar(20)"},{field:"bank_ifsc_code",type:"varchar(15)"},{field:"bank_card_no",type:"varchar(20)"},{field:"bank_card_validity",type:"varchar(7)"},{field:"isPrimaryAccount",type:"tinyint(1)"}],T3:[{field:"inc_exp_id",marker:!0,type:"int(11)"},{field:"inc_exp_name",type:"varchar(100)"},{field:"inc_exp_amount",type:"decimal(10,2)"},{field:"inc_exp_plan_amount",type:"decimal(10,2)"},{field:"inc_exp_type",type:"char(2)"},{field:"inc_exp_date",type:"date"},{field:"inc_exp_category",relationId:"red",type:"int(11)"},{field:"inc_exp_bank",relationId:"blue",type:"int(11)"},{field:"inc_exp_comments",type:"varchar(100)"}]},tables:{T1:"income_expense_category",T2:"banks",T3:"income_expense"}},kt=function(e){var t=Object(s.useContext)(Et),a=G.a.getNow(),l=Object.assign({},e),i=Object(s.useState)("Credit Cards"),d=Object(r.a)(i,2),u=d[0],b=d[1],j=Object(s.useState)([]),p=Object(r.a)(j,2),h=p[0],f=p[1],O=Object(s.useState)(!1),_=Object(r.a)(O,2),x=_[0],g=_[1],v=Object(s.useState)(!1),y=Object(r.a)(v,2),N=y[0],D=y[1],w=Object(s.useState)({TableAliasRows:[],TableRows:[]}),S=Object(r.a)(w,2),T=S[0],P=S[1],M=Object(s.useState)([]),k=Object(r.a)(M,2),C=k[0],E=k[1],A=[{id:2,label:"Bank Accounts",component:Object(m.jsx)(Tt,{schema:Mt,onUpdateSchema:function(e){return I(e)}})},{id:1,label:"Credit Cards",component:Object(m.jsx)(Tt,{schema:Pt,onUpdateSchema:function(e){return I(e)}})}];Object(s.useEffect)((function(){if(h.length>0){var e=Object.keys(h[0]);P({TableAliasRows:e,TableRows:e,rowElements:Array(e.length).fill("label")});var t=e.map((function(e){return{displayName:e.replace(/,/g,""),id:e}}));E(t)}}),[h]);var I=function(e){f([]),g(!0),D(!0),function(e){var t=new FormData,a=e.replace(/%/g,"{%}"),n=encodeURIComponent(a);return t.append("postData",n),he.a.post("/account_planner/runQuery",t)}(e).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!1),f(t.data.response.result);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){g(!1),t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Some thing went wrong. Please check your query."})}))};function R(e){var t=e.children,a=e.eventKey,n=e.object,c=Object(Ue.b)(a,(function(){b(n.label),f([]),D(!1)}));return Object(m.jsx)("button",{type:"button",className:"col-12 text-start btn btn-dark",onClick:c,children:t})}return Object(m.jsx)("div",{className:"mt-15",children:Object(m.jsx)(Fe.a,{bsPrefix:"util",defaultActiveKey:0,children:A.map((function(e,t){return Object(m.jsxs)(Ke.a,{className:"my-2 bg-dark text-light",children:[Object(m.jsx)(Ke.a.Header,{className:"m-0 row",children:Object(m.jsx)(R,{eventKey:e.id,object:e,children:e.label})}),Object(m.jsx)(Fe.a.Collapse,{eventKey:e.id,children:Object(m.jsxs)(Ke.a.Body,{className:"p-2",children:[e.label===u&&e.component,h.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"buttonGrid",children:[Object(m.jsx)("div",{}),Object(m.jsx)(Se.a,{datas:G.a.stripCommasInCSV(h),filename:"Query-result-".concat(a,".csv"),columns:C,children:Object(m.jsx)(Oe.a,{placement:"left",delay:{show:250,hide:400},overlay:(n="Export CSV",Object(m.jsx)(fe.a,Object(o.a)(Object(o.a)({id:"button-tooltip-1",className:"in show"},l),{},{children:n}))),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-file-excel-o roundedButton pull-right"})})})]}),Object(m.jsx)(pe.a,{dbData:h,cellWidth:"20rem",TableAliasRows:T.TableAliasRows,TableRows:T.TableRows,rowElements:T.rowElements})]}),!x&&!h.length&&N&&Object(m.jsx)("div",{className:"py-3 text-center",children:"No Records Generated"}),x&&Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})})]},e.id);var n}))})})},Ct=a(886),Et=l.a.createContext(),At=function(e){var t=Object(s.useContext)(p);document.title="Money planner";var a=Object(s.useState)([]),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],b=Object(s.useState)([]),h=Object(r.a)(b,2),f=h[0],O=h[1],_=Object(s.useState)([]),x=Object(r.a)(_,2),g=x[0],v=x[1],y=Object(s.useState)([]),N=Object(r.a)(y,2),D=N[0],w=N[1],S=Object(s.useState)(""),T=Object(r.a)(S,2),P=T[0],M=T[1],k=Object(s.useState)([]),C=Object(r.a)(k,2),E=C[0],A=C[1],I=Object(s.useState)(""),R=Object(r.a)(I,2),L=R[0],B=R[1],Y=Object(s.useState)(""),U=Object(r.a)(Y,2),F=U[0],K=U[1],W=Object(s.useState)(""),q=Object(r.a)(W,2),V=q[0],H=q[1],J=Object(s.useState)(""),$=Object(r.a)(J,2),Z=$[0],X=$[1],Q=Object(s.useState)(""),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1],ce=Object(s.useState)({}),re=Object(r.a)(ce,2),se=re[0],le=re[1],oe=Object(s.useState)(!1),de=Object(r.a)(oe,2),ue=de[0],be=de[1],je=Object(s.useState)(!1),me=Object(r.a)(je,2),pe=me[0],fe=me[1],Oe=Object(s.useState)(!1),_e=Object(r.a)(Oe,2),xe=_e[0],ge=_e[1],ve=Object(s.useState)(!1),ye=Object(r.a)(ve,2),Ne=ye[0],De=ye[1],we=Object(s.useState)(!1),Se=Object(r.a)(we,2),Te=Se[0],Pe=Se[1],ke=Object(s.useState)(!1),Ce=Object(r.a)(ke,2),Ae=Ce[0],Re=Ce[1],Be=Object(s.useState)(!1),Ue=Object(r.a)(Be,2),Fe=Ue[0],Ke=Ue[1],We=Object(s.useState)(!1),Ve=Object(r.a)(We,2),He=Ve[0],ze=Ve[1];Object(s.useEffect)((function(){var e=he.a.get("/account_planner/year_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),t=he.a.get("/account_planner/bank_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),a=he.a.get("/account_planner/cc_year_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)})),n=he.a.get("/account_planner/credit_card_list").then((function(e){return e.data.response})).catch((function(e){console.log(e)}));Promise.all([e,t,a,n]).then((function(e){e[0].length>0?l(e[0]):l([{id:null,value:"NULL"}]),e[0].length>0&&e[0][0].id?K(e[0][0].id):K(""),e[1].length>0?O(e[1]):O([{id:null,value:"NULL"}]),e[1].length>0&&e[1][0].id?H(e[1][0].id):H(""),e[2].length>0?u(e[2]):u([{id:null,value:"NULL"}]),e[2].length>0&&e[2][0].id?M(e[2][0].id):M(""),e[3].length>0?A(e[3]):A([{id:null,value:"NULL"}]),e[3].length>0&&e[3][0].id?B(e[3][0].id):B("")}))}),[]);var Je=function(){be(!0),v([]),function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),he.a.post("/account_planner/getIncExpChartData",n)}("".concat(F,"-01-01"),"".concat(F,"-12-31"),V).then((function(e){v(e.data.response)})).catch((function(e){v([]),console.log(e)})).finally((function(){be(!1)}))},$e=function(){fe(!0),w([]),le([]),ae(null),function(e){var t=new FormData;return t.append("bank",e),he.a.post("/account_planner/credit_card_details",t)}(L).then((function(e){var t=e.data.response[0];le(t);var a="undefined"!==typeof t?"".concat(P-1,"-12-").concat(t.credit_card_start_date):"".concat(P-1,"-12-1"),n="undefined"!==typeof t?"".concat(P,"-12-").concat(t.credit_card_end_date):"".concat(P,"-12-31");(function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),he.a.post("/account_planner/getCreditCardChartData",n)})(a,n,L).then((function(e){var t=e.data.response,a=t.length>0?new Date(t[0].month):new Date,c=a.getDate()>new Date(n).getDate()?G.a.addMonths(a,1):G.a.addMonths(a,0);w(t),ae(G.a.dateToMonthYear(c))})).catch((function(e){console.log(e)})).finally((function(){fe(!1)}))})).catch((function(e){console.log(e)}))},Ze=function(){return Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})};return Object(m.jsxs)(Et.Provider,{value:{renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,r=e.icon,s=void 0===r?"fa fa-check-circle":r,l=e.message;return j.b[c](Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:[Object(m.jsx)("i",{className:s})," ",Object(m.jsx)("span",{dangerouslySetInnerHTML:{__html:l}})]})}),{autoClose:a})}},children:[Object(m.jsx)(j.a,{className:"bniToaster"}),Object(m.jsxs)("section",{className:"",children:[Te&&Object(m.jsx)(ct,{show:Te,onHide:function(){return Pe(!1)},size:"sm",animation:!1}),Ae&&Object(m.jsx)(et,{className:"accountPlanner fastShopping",show:Ae,onHide:function(){return Re(!1)},size:"sm",animation:!1}),Fe&&Object(m.jsx)(st,{className:"confirmQBModal",show:Fe,onHide:function(){Ke(!1),ze(!1)},onYes:function(){Ke(!1),ze(!0)},size:"md",animation:!1}),Object(m.jsxs)("div",{className:"pt-5",children:[Object(m.jsx)("div",{className:"pt-4",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h2",{className:"",children:Object(m.jsx)(Ct.a,{id:"moneyPlanner"})}),Object(m.jsx)("hr",{className:"hr"}),Object(m.jsx)("i",{className:"fa fa-usd fa-5x py-3"}),Object(m.jsx)("p",{className:"p-10",children:Object(m.jsx)(Ct.a,{id:"moneyPlannerSubtitle"})})]})}),Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"accountPlanner ".concat(t.userData.theme),children:f.length>0&&c.length&&d.length>0&&E.length>0>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"row py-2",children:[Object(m.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(m.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between",onClick:function(){return ge(!xe)},children:["Core Settings",Object(m.jsx)("i",{className:"fa fa-cog ps-2"})]})}),Object(m.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(m.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between ps-2",onClick:function(){return De(!Ne)},children:["Total Holdings",Object(m.jsx)("i",{className:"fa fa-cubes ps-2"})]})}),Object(m.jsx)("div",{className:"col-md-4 d-grid gap-2 py-2",children:Object(m.jsxs)("button",{className:"btn btn-bni d-flex align-items-center justify-content-between",onClick:function(){localStorage.getItem("query")?ze(!He):Ke(!0)},children:["Query Builder",Object(m.jsx)("i",{className:"fa fa-database ps-2"})]})}),xe&&Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(qe,{})}),Ne&&Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(it,{})}),He&&Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("div",{children:Object(m.jsx)(kt,{})})})]}),Object(m.jsx)("div",{className:"h5",children:"Bank Transactions"}),Object(m.jsxs)("div",{className:"row mt-10",children:[Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(Ee,{bankList:f,onSelectBank:function(e){return function(e){v([]),H(e)}(e)},title:"Select Bank"})}),Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(Ie,{yearList:c,onSelectYear:function(e){return function(e){v([]),K(e),X("")}(e)},title:"Select Year"})}),Object(m.jsx)("div",{className:"col-md-3 py-2",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:function(){return Je()},className:"btn btn-bni",children:"Generate"})})}),Object(m.jsx)("div",{className:"col-md-1 py-2 mb-2",children:Object(m.jsx)("button",{onClick:function(){return Re(!0)},className:"btn btn-bni",children:Object(m.jsx)("i",{className:"fa fa-cart-plus"})})})]}),ue?Ze():Object(m.jsx)(ne,{chartData:g,onMonthYearSelected:function(e){X(""),setTimeout((function(){X(e)}),1)}}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12 b-0 mb-10 pr-0 pl-0",children:g.length>0&&V&&Z&&Object(m.jsx)(Me,{bankSelected:V,monthYearSelected:Z})})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("div",{className:"h5",children:"Credit Card Transactions"})})}),Object(m.jsxs)("div",{className:"row py-2",children:[Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(Ye,{ccBankList:E,onSelectCcBank:function(e){return function(e){w([]),B(e)}(e)},title:"Select Card"})}),Object(m.jsx)("div",{className:"col-md-4 py-2",children:Object(m.jsx)(Le,{ccYearList:d,onSelectCcYear:function(e){return function(e){w([]),M(e)}(e)},title:"Select Year"})}),Object(m.jsx)("div",{className:"col-md-3 py-2",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:function(){return $e()},className:"btn btn-bni",children:"Generate"})})}),Object(m.jsx)("div",{className:"col-md-1 py-2",children:Object(m.jsx)("button",{onClick:function(){return Pe(!0)},className:"btn btn-bni",children:Object(m.jsx)("i",{className:"fa fa-calendar-o mt-20"})})})]}),pe?Ze():D&&D.length>0?Object(m.jsx)(ie,{ccChartData:D,onCcMonthYearSelected:function(e){ae(e)},ccDetails:se,ccYearSelected:P,ccMonthYearSelected:te}):Object(m.jsx)("div",{className:"py-3 text-center",children:"No Records Generated"}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12 pt-2",children:D.length>0&&L&&te&&Object(m.jsx)(Ge,{ccMonthYearSelected:te,ccBankSelected:L,ccDetails:se})})})]}):Ze()})})]})]})]})};At.defaultProps={property:"String name"};var It=At,Rt=a(667),Lt=a.n(Rt),Bt=a(662),Yt=a(858),Ut=["btnValue","btnClassName","label","children"];var Ft=function(e){var t=e.btnValue,a=e.btnClassName,n=e.label,c=e.children,l=Object(d.a)(e,Ut),i=Object(s.useState)(!1),u=Object(r.a)(i,2),b=u[0],j=u[1],h=Object(s.useContext)(p);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Bt.a,{tabIndex:"-1",variant:null,dangerouslySetInnerHTML:{__html:t},className:a,onClick:function(){return j(!0)}}),Object(m.jsxs)(Yt.a,Object(o.a)(Object(o.a)({show:b,onHide:function(){return j(!1)}},l),{},{className:"".concat("dark"===h.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:[Object(m.jsx)(Yt.a.Header,{closeButton:!0,children:Object(m.jsx)(Yt.a.Title,{children:n})}),Object(m.jsx)(Yt.a.Body,{className:"".concat("dark"===h.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:c})]}))]})},Kt=["structure","showSubmit","parentClassName","onChange","onSubmit","submitBtnLabel","submitBtnClassName"];function Wt(e){var t=e.structure,a=e.showSubmit,n=e.parentClassName,c=e.onChange,l=e.onSubmit,i=e.submitBtnLabel,u=e.submitBtnClassName,b=Object(d.a)(e,Kt),j=Object(s.useContext)(p),h=Object(s.useState)(t),f=Object(r.a)(h,2),O=f[0],_=f[1],x=Object(s.useState)(!1),g=Object(r.a)(x,2),v=g[0],y=g[1],N=Object(s.useState)([]),D=Object(r.a)(N,2),w=D[0],S=D[1];Object(s.useEffect)((function(){_(O)}),[JSON.stringify(O)]);var T=function(e,t,a,n){c(t,a,n)},P=function(e){var t=e.label;return Object(m.jsx)("div",{className:"text-danger pt-2",children:t})},M=function(e,t){if(e.options&&e.options.validation){var a=Object(J.a)(w);if(new RegExp(e.options.validation).test(t)){var n=a.indexOf(e.index);-1!==n&&a.splice(n,1)}else a.push(e.index);a=Object(J.a)(new Set(a)),S(a)}},k=Object(s.useCallback)(Lt()((function(e,t){T(0,t.index,e.target.value),M(t,e.target.value)}),300),[]),C=function(e,t){switch(e.elementType){case"hidden":return Object(m.jsx)("div",{children:Object(m.jsx)("input",Object(o.a)({id:e.id,className:"d-none",type:"hidden",defaultValue:e.value},b))},t);case"text":return Object(m.jsxs)("div",{className:"py-2 text-dark",children:[Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",Object(o.a)({id:e.id,type:"text",placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(w.includes(e.index)?"is-invalid":""),defaultValue:e.value},b)),e.options&&e.options.help&&Object(m.jsx)(Ft,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]}),w.includes(e.index)&&Object(m.jsx)(P,{label:e.options.errorMsg})]},t);case"number":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(m.jsx)(Ft,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(m.jsx)("input",Object(o.a)({id:e.id,type:"number",placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(w.includes(e.index)?"is-invalid":""),defaultValue:e.value},b)),w.includes(e.index)&&Object(m.jsx)(P,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"textArea":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(m.jsx)(Ft,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(m.jsx)("textarea",Object(o.a)(Object(o.a)({id:e.id,style:{height:"".concat(e.options.rowLength,"px")},placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(w.includes(e.index)?"is-invalid":"")},b),{},{defaultValue:e.value})),w.includes(e.index)&&Object(m.jsx)(P,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"password":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating password",children:[e.options&&e.options.help&&Object(m.jsx)(Ft,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(m.jsx)("input",Object(o.a)({id:e.id,type:"".concat(v?"text":"password"),placeholder:e.placeHolder,onChange:function(t){t.persist(),k(t,e)},className:"form-control ".concat(w.includes(e.index)?"is-invalid":""),defaultValue:e.value},b)),Object(m.jsx)("i",{onClick:function(){return y(!v)},className:"eye fa fa-".concat(v?"eye":"eye-slash")}),w.includes(e.index)&&Object(m.jsx)(P,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"dropDown":return Object(m.jsx)("div",{className:"py-2 text-dark",children:Object(m.jsxs)("div",{className:"form-floating",children:[e.options&&e.options.help&&Object(m.jsx)(Ft,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),Object(m.jsxs)("select",Object(o.a)(Object(o.a)({id:e.id,onChange:function(t){M(e,t.target.value),T(0,e.index,t.target.value)},className:"form-select ".concat(w.includes(e.index)?"is-invalid":""),value:e.value},b),{},{children:[Object(m.jsx)("option",{value:"",children:e.placeHolder}),e.list&&e.list.length>0&&e.list.map((function(e,t){return Object(m.jsx)("option",{value:e.value,children:e.label},t)}))]})),w.includes(e.index)&&Object(m.jsx)(P,{label:e.options.errorMsg}),Object(m.jsxs)("label",{htmlFor:e.id,children:[e.options&&e.options.required&&Object(m.jsx)("sup",{className:"text-danger",children:"*"}),e.label]})]})},t);case"checkBox":return Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)("div",{className:"position-relative",children:[Object(m.jsx)("div",{children:e.label}),Object(m.jsxs)("div",{children:[e.options&&e.options.help&&Object(m.jsx)(Ft,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),e.list.map((function(t,a){var n=re.a.uniqueId("checkbox-".concat(t.id,"-"));return Object(m.jsxs)("div",{className:"form-check ".concat(e.isInline?"d-inline-block":"d-block"),children:[Object(m.jsx)("input",Object(o.a)({className:"form-check-input",onChange:function(a){T(0,e.index,"",{id:t.id,checked:a.target.checked}),M(e,e.value)},type:"checkbox",defaultValue:t.value,id:n,disabled:t.disabled,defaultChecked:t.checked,name:e.index},b)),Object(m.jsx)("label",{className:"form-check-label pe-2",htmlFor:n,children:t.label})]},a)}))]}),w.includes(e.index)&&Object(m.jsx)(P,{label:e.options.errorMsg})]})},t);case"radio":return Object(m.jsx)("div",{className:"py-2",children:Object(m.jsxs)("div",{className:"position-relative",children:[Object(m.jsx)("div",{children:e.label}),Object(m.jsxs)("div",{children:[e.options&&e.options.help&&Object(m.jsx)(Ft,{btnValue:"<i class='fa fa-question-circle text-secondary' />",btnClassName:"btn-light rounded-circle help",placement:"end",label:e.label,children:Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.options.help.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===j.userData.theme?"bg-dark text-white-50":"bg-light text-dark"),children:e},t)}))})},1),e.list.map((function(t,a){var n=re.a.uniqueId("radio-".concat(t.id,"-"));return Object(m.jsxs)("div",{className:"form-check ".concat(e.options.isInline?"d-inline-block":"d-block"),children:[Object(m.jsx)("input",Object(o.a)({className:"form-check-input",onChange:function(t){M(e,t.target.value),T(0,e.index,t.target.value)},type:"radio",defaultValue:t.value,id:n,disabled:t.disabled,defaultChecked:t.checked,name:e.index},b)),Object(m.jsx)("label",{className:"form-check-label pe-2",htmlFor:n,children:t.label})]},a)}))]}),w.includes(e.index)&&Object(m.jsx)(P,{label:e.options.errorMsg})]})},t);default:return Object(m.jsx)("div",{children:"Unknown Element"})}};return Object(m.jsx)("div",{className:n,children:Object(m.jsxs)("div",{className:"row",children:[O.length>0&&O.map((function(e,t){return Object(m.jsx)("div",{className:e.className,children:C(e,t)},t)})),O.length>0&&O.filter((function(e){return"hidden"===e.elementType})).length>0&&O.filter((function(e){return"hidden"===e.elementType})).map((function(e,t){return C(e,t)})),a&&Object(m.jsx)("div",{className:"col-md-12 py-2",children:Object(m.jsx)("button",{onClick:function(){return function(){var e=O.map((function(e){return!!e.options&&!!e.options.validation&&!new RegExp(e.options.validation).test(e.value)&&e.index})).filter((function(e){return e}));e.length>0?S(e):l()}()},className:u,children:i})})]})})}Wt.defaultProps={structure:{options:{rowLength:3}},submitBtnLabel:"Submit",submitBtnClassName:"btn btn-sm btn-success",showSubmit:!0,parentClassName:"my-reactive-form"};var qt=Wt;var Vt=function(e){var t=e.data,a=e.menu,n=e.onMassagePayload,c=e.onReactiveFormSubmit,l=Object(s.useState)(0),i=Object(r.a)(l,2),d=i[0],u=i[1],b=Object(s.useState)([]),j=Object(r.a)(b,2),p=j[0],h=j[1];Object(s.useEffect)((function(){f(a[0].filterArray)}),[]),Object(s.useEffect)((function(){f(a[d].filterArray)}),[d]);var f=function(e){var a=Object(J.a)(t);a=a.map((function(t){return t.className=t.className.replaceAll(" d-none",""),e.includes(t.id)||(t.className="".concat(t.className," d-none")),t})),h(a)};return Object(m.jsx)("section",{children:Object(m.jsxs)("div",{className:"wizard",children:[Object(m.jsx)("div",{className:"py-3",children:Object(m.jsx)("ul",{className:"d-flex justify-content-between",role:"tablist",children:a.map((function(t,a){return Object(m.jsx)(Oe.a,{placement:"top",overlay:(n=t.label,Object(m.jsx)(fe.a,Object(o.a)(Object(o.a)({id:"wizard-tooltip",className:"in show"},e),{},{children:n}))),triggerType:"hover",children:Object(m.jsx)("li",{className:"btn rounded-circle ".concat(t.id===d?"btn-bni":"btn-secondary"),onClick:function(){return u(t.id)},children:Object(m.jsx)("span",{className:"round-tab",children:Object(m.jsx)("i",{className:t.icon})})})},a);var n}))})}),Object(m.jsxs)("div",{className:"tab-content",children:[Object(m.jsxs)("div",{className:"row pb-2",children:[Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)("button",{disabled:0===d,onClick:function(){u(d-1)},className:"btn btn-bni pull-left",children:Object(m.jsx)("i",{className:"fa fa-angle-double-left"})})}),Object(m.jsx)("div",{className:"col-6",children:Object(m.jsx)("button",{disabled:d===a.length-1,onClick:function(){u(d+1)},className:"btn btn-bni pull-right",children:Object(m.jsx)("i",{className:"fa fa-angle-double-right"})})})]}),p.length>0&&Object(m.jsx)(qt,{parentClassName:"reactive-form text-dark",structure:p,onChange:function(e,t){return n(e,t)},onSubmit:function(){return c()},submitBtnClassName:"btn btn-bni pull-right"}),Object(m.jsx)("div",{className:"clearfix"})]})]})})};var Ht=function(e){var t=Object(s.useContext)(p),a=Object(s.useContext)(u),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)(be),o=Object(r.a)(i,2),d=o[0],j=o[1],h=Object(s.useState)(!0),f=Object(r.a)(h,2),O=f[0],_=f[1];return Object(s.useEffect)((function(){_(!0),function(e,t){var a=new FormData;return a.append("TableRows",t),a.append("Table",e),he.a.post("getBackend",a)}("config",d.map((function(e){return e.index}))).then((function(e){var t=e.data.response[0],a=Object.keys(t),n=Object(J.a)(d);n=n.map((function(e){return a.includes(e.index)&&(e.value=C.includes(e.index)?k.a.AES.decrypt(t[e.index],c.web).toString(k.a.enc.Utf8):t[e.index]),e})),j(n)})).catch((function(e){console.log(e)})).finally((function(){_(!1)}))}),[JSON.stringify(c)]),Object(m.jsx)("div",{className:"",children:O?Object(m.jsx)("div",{className:"text-center mt-100",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsx)("div",{className:"",children:Object(m.jsx)(Vt,{data:d,menu:je,onMassagePayload:function(e,t){var a=Object(J.a)(d);a=a.map((function(a){return a.id===e&&(a.value=t),a})),j(a)},onReactiveFormSubmit:function(){_(!0);var e=Object(J.a)(d).filter((function(e){return e.id===E}))[0].value,a=Object(J.a)(d).map((function(t){return Object(b.a)({},t.id,C.includes(t.id)?k.a.AES.encrypt(t.value,e).toString():t.value)})),n={Table:"config",updateData:[a=Object.assign.apply(Object,[{}].concat(Object(J.a)(a)))]},c=new FormData;c.append("postData",JSON.stringify(n)),he.a.post("/postBackend",c).then((function(e){if(e.data.response){var n=Object(J.a)(d),c=Object.keys(a);n=n.map((function(e){return c.includes(e.index)&&(e.value=a[e.index]),e})),j(n),t.renderToast({message:"Configurations saved successfully"});var r=n.map((function(e){return[e.id,e.value]}));r=Object.fromEntries(r),l(r)}})).catch((function(e){return t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again."})})).finally((function(){return _(!1)}))}},1)})})},zt=a(240),Gt=a(860);var Jt=function(e){var t=e.isDirectory,a=e.handleupload,n=e.progress,c=Object(s.useState)([]),l=Object(r.a)(c,2),i=l[0],d=l[1],u=function(e){return Math.ceil(e.loaded/e.total*100)};return Object(s.useEffect)((function(){if(Object.keys(n).length>0){var e=Object(J.a)(i);e.push(n);var t=e.reverse().filter((function(e,t,a){return a.findIndex((function(t){return t.Key===e.Key}))===t&&e.total!==e.loaded}));t=re.a.sortBy(t,(function(e){return e.Key})),d(t)}}),[n]),Object(m.jsx)("div",{className:"dropZone text-center m-5",children:Object(m.jsx)(Gt.a,{accept:"image/*,application/*,video/*,audio/*",maxSize:5368709120,onDrop:function(e,t,n){e.length>0&&a(e)},disabled:!t,children:function(e){var a=e.getRootProps,n=e.getInputProps,c=e.isDragAccept,r=e.isDragReject,s="dropZoneWrapper btn-bni rounded-3",l=Object(m.jsx)("div",{children:"Drag files here"});return c&&(s="".concat(s," bg-success rounded-3"),l=Object(m.jsx)("div",{className:"upload-success",children:"Drop file(s) now"})),r&&(s="".concat(s," bg-danger rounded-3"),l=Object(m.jsx)("div",{className:"upload-error",children:"File type not allowed"})),t||(s="".concat(s," disabled rounded-3"),l=Object(m.jsxs)("div",{children:[Object(m.jsx)("i",{className:"fa fa-folder-open"})," Select a folder to upload files"]})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",Object(o.a)(Object(o.a)({},a()),{},{className:"".concat(s," title"),children:[Object(m.jsx)("input",Object(o.a)({},n())),l]})),i.length>0&&Object(m.jsx)("div",{className:"progressWrapper",children:i.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"text-center title gridLabels pb-2",children:[Object(m.jsx)("div",{className:"text-left pl-5",children:e.Key.split("/").slice(-1)}),Object(m.jsxs)("div",{className:"text-end pr-5",children:[u(e),"%"]})]}),Object(m.jsx)("div",{className:"progress",children:Object(m.jsx)("div",{className:"progress-bar",style:{width:"".concat(u(e),"%")},children:"\xa0"})})]},t)}))})]})}})})};var $t=function(e){var t=e.breadCrumbs,a=e.onBreadClick;return Object(m.jsx)("div",{className:"header",children:Object(m.jsx)("div",{className:"breadCrumb",children:t.length>0?t.map((function(e,t){return Object(m.jsxs)(l.a.Fragment,{children:[Object(m.jsx)("i",{className:"fa fa-angle-right breadIcon"}),Object(m.jsx)("button",{onClick:function(){return a(e)},className:"breadButton",children:e.title})]},t)})):Object(m.jsx)("i",{className:"fa fa-angle-left breadIcon"})})})};var Zt=function(e){var t=e.object,a=e.bucket,n=Object(s.useContext)(u),c=Object(r.a)(n,1)[0];Object(s.useEffect)((function(){l(t)}),[JSON.stringify(t)]);var l=function(e){var t=/[.]/.exec(e.url)?/[^.]+$/.exec(e.url)[0].toLowerCase():void 0;return["jpg","jpeg","tiff","bmp","png","gif","svg"].includes(t)?Object(m.jsx)(Y,{className:"img-fluid img-thumbnail",type:"image",appData:c,unsignedUrl:"".concat(a,"/").concat(e.url),optionalAttr:{alt:e.tag}}):["mp4","mov","webm"].includes(t)?Object(m.jsx)(Y,{className:"img-fluid",type:"video",optionalAttr:{controls:!0,autoPlay:!1},appData:c,unsignedUrl:"".concat(a,"/").concat(e.url)}):["mp3","ogg","wav"].includes(t)?Object(m.jsx)(Y,{className:"audioThumb",type:"audio",optionalAttr:{controls:!0,autoPlay:!1},appData:c,unsignedUrl:"".concat(a,"/").concat(e.url)}):["pdf"].includes(t)?Object(m.jsx)(Y,{appData:c,unsignedUrl:"".concat(a,"/").concat(e.url),children:Object(m.jsx)("i",{className:"fa fa-file-pdf-o noPreview"})}):Object(m.jsx)(Y,{className:"img-fluid",appData:c,unsignedUrl:"".concat(a,"/").concat(e.url),children:Object(m.jsx)("i",{className:"fa fa-picture-o noPreview"})})};return Object(m.jsx)("div",{className:"thumbnail-height",children:l(t)})},Xt=["bucket","data","directory","selectedId","onCreateFolder","onDeleteFolder","onRename","onDownload","isDirectory"];var Qt=function(e){var t=e.bucket,a=e.data,i=e.directory,u=e.selectedId,b=e.onCreateFolder,j=e.onDeleteFolder,h=e.onRename,f=e.onDownload,O=e.isDirectory,_=Object(d.a)(e,Xt),x=Object(s.useState)("table"),g=Object(r.a)(x,2),v=g[0],y=g[1],N=Object(s.useState)(""),D=Object(r.a)(N,2),w=D[0],S=D[1],T=Object(s.useState)(!1),P=Object(r.a)(T,2),M=P[0],k=P[1],C=Object(s.useState)(!1),E=Object(r.a)(C,2),A=E[0],I=E[1],R=Object(s.useState)({}),L=Object(r.a)(R,2),B=L[0],Y=L[1],U=Object(s.useContext)(p),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return"".concat(parseFloat((e/Math.pow(a,r)).toFixed(n))," ").concat(c[r])},K=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("clipboard"in navigator)){e.next=6;break}return e.next=3,navigator.clipboard.writeText(t);case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",document.execCommand("copy",!0,t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){k(!1),I(!1)};Object(s.useEffect)((function(){W();var e=i,t=(e=e.split("/")).filter((function(t,a){return a<(O?e.length-2:e.length-1)})).join("/"),a=O?e[e.length-2]:e[e.length-1];Y({path:t,value:a})}),[i,O]);var q,V=function(){return M?i:B.path};return Object(m.jsxs)("div",{className:"tableGrid",children:[Object(m.jsxs)("div",{className:"headerGrid",children:[!M&&!A&&Object(m.jsx)("div",{className:"dirLabel",children:i&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("i",{className:"fa fa-folder-open px-2"}),Object(m.jsx)("span",{children:i})]})}),(M||A)&&Object(m.jsxs)("div",{className:"input-group input-group-sm",children:[Object(m.jsx)(Oe.a,{placement:"top",overlay:(q=V(),Object(m.jsx)(fe.a,Object(o.a)(Object(o.a)({id:"button-tooltip-1",className:"in show"},_),{},{children:q}))),triggerType:"hover",children:Object(m.jsxs)("span",{className:"input-group-text",children:[Object(m.jsx)("i",{className:"fa fa-folder-open px-2"})," ",V()]})}),Object(m.jsx)("input",{type:"text",autoFocus:!0,onFocus:function(e){return S(e.target.value)},placeholder:M?"New folder":"Rename file or folder",defaultValue:A?B.value:"",onChange:function(e){return S(e.target.value)},className:"form-control"}),Object(m.jsxs)(m.Fragment,{children:[M&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){w?(b(u,w),k(!1),S("")):U.renderToast({type:"error",icon:"fa fa-times-circle",message:"Folder name can`t be empty!"})},type:"button",children:Object(m.jsx)("i",{className:"fa fa-upload"})}),Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){return W()},type:"button",children:Object(m.jsx)("i",{className:"fa fa-undo"})})]}),A&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){return function(){var e=B.path?"".concat(B.path,"/"):"";if(w){var t={oldKey:"".concat(e).concat(B.value),newKey:"".concat(e).concat(w)};h(t,u,O)}else U.renderToast({type:"error",icon:"fa fa-times-circle",message:"field can`t be empty!"})}()},type:"button",children:Object(m.jsx)("i",{className:"fa fa-font"})}),Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){return W()},type:"button",children:Object(m.jsx)("i",{className:"fa fa-undo"})})]})]})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"text-end",children:[O&&!M&&Object(m.jsx)("i",{className:"fa fa-plus viewButtons",onClick:function(){I(!1),k(!0)}}),a.length>0&&!A&&Object(m.jsx)("i",{className:"fa fa-font viewButtons",onClick:function(){k(!1),I(!0)}}),a.length>0&&Object(m.jsx)("i",{className:"fa fa-trash viewButtons",onClick:function(){return j(u)}}),Object(m.jsx)("i",{className:"fa fa-list viewButtons",onClick:function(){return y("list")}}),Object(m.jsx)("i",{className:"fa fa-table viewButtons",onClick:function(){return y("table")}})]})})]}),Object(m.jsxs)("div",{className:"gridWrapper",children:[Object(m.jsxs)("div",{className:"responsive-gallery-grid ".concat(v,"-grid"),children:["list"===v&&a.length>0&&Object(m.jsxs)("div",{className:"child ".concat(v,"-child"),children:[Object(m.jsx)("div",{className:"title ps-2",children:"File"}),Object(m.jsx)("div",{className:"title ps-2",children:"Size"}),Object(m.jsx)("div",{className:"title ps-2",children:"Last modified"})]}),a.length>0&&a.map((function(e,a){return Object(m.jsx)(l.a.Fragment,{children:e.size>0&&Object(m.jsxs)("div",{className:"child ".concat(v,"-child"),children:[Object(m.jsx)("div",{className:"".concat("table"===v?"text-center":""),children:Object(m.jsxs)("div",{className:"copyable",children:[Object(m.jsx)("i",{onClick:function(){return a="".concat(t,"/").concat(e.label),void K(a).then((function(){U.renderToast({message:"".concat(a," copied to clipboard..")})})).catch((function(e){console.log(e)}));var a},title:"Copy to clipboard",className:"fa fa-copy btn btn-sm btn-secondary"}),Object(m.jsx)("span",{className:"ellipsis ".concat("table"===v?"text-center":""),children:e.label.split("/").slice(-1)}),Object(m.jsx)("i",{onClick:function(){return f("".concat(t,"/").concat(e.label))},className:"fa fa-download btn btn-sm btn-secondary"})]})}),"table"===v&&Object(m.jsx)(Zt,{bucket:t,object:e}),"table"===v?Object(m.jsxs)("div",{className:"copyable info",children:[Object(m.jsx)("div",{className:"text-center",children:"".concat(F(e.size))}),Object(m.jsx)("div",{className:"text-center",children:Q()(e.lastModified).format("MMM Do YYYY, h:mm:ss a")})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"ps-2",children:"".concat(F(e.size))}),Object(m.jsx)("div",{className:"ps-2",children:Q()(e.lastModified).format("MMM Do YYYY, h:mm:ss a")})]})]})},a)}))]}),""===i&&Object(m.jsxs)("div",{className:"p-5 text-center",children:[Object(m.jsx)("i",{className:"fa fa-file fa-3x py-3"}),Object(m.jsx)("div",{children:"Select a file or folder to view them.."})]})]})]})},ea=["confirmationstring","handleHide","handleYes"];var ta=function(e){var t=Object(s.useContext)(p),a=e.confirmationstring,n=e.handleHide,c=e.handleYes,r=Object(d.a)(e,ea);return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},r),{},{style:{zIndex:9999},children:[Object(m.jsx)(xe.a.Header,{children:Object(m.jsx)(xe.a.Title,{children:a})}),Object(m.jsxs)(xe.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:[Object(m.jsx)("p",{className:"text-center",children:"This action cannot be undone!"}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-6 text-center",children:Object(m.jsx)("button",{onClick:function(){return c()},className:"btn btn-bni",children:Object(m.jsx)("i",{className:"fa fa-thumbs-o-up"})})}),Object(m.jsx)("div",{className:"col-6 text-center",children:Object(m.jsx)("button",{onClick:function(){return n()},className:"btn btn-bni dark",children:Object(m.jsx)("i",{className:"fa fa-thumbs-o-down"})})})]})]})]}))},aa=a(854),na=a(30),ca=a.n(na),ra=(a(679),a(884));var sa=function(e){var t=Object(s.useContext)(u),a=Object(r.a)(t,1)[0],n=Object(s.useContext)(p),c=Object(s.useState)([]),l=Object(r.a)(c,2),i=l[0],d=l[1],b=Object(s.useState)([]),j=Object(r.a)(b,2),h=j[0],f=j[1],O=Object(s.useState)(""),_=Object(r.a)(O,2),x=_[0],g=_[1],v=Object(s.useState)(!1),y=Object(r.a)(v,2),N=y[0],D=y[1],w=Object(s.useState)(""),S=Object(r.a)(w,2),T=S[0],P=S[1],M=Object(s.useState)(""),k=Object(r.a)(M,2),C=k[0],E=k[1],I=Object(s.useState)([]),R=Object(r.a)(I,2),L=R[0],B=R[1],Y=Object(s.useState)(!1),U=Object(r.a)(Y,2),F=U[0],K=U[1],W=Object(s.useState)({}),q=Object(r.a)(W,2),V=q[0],H=q[1],$=Object(s.useState)(!1),Z=Object(r.a)($,2),X=Z[0],Q=Z[1],ee=Object(s.useState)(!0),te=Object(r.a)(ee,2),ae=te[0],ne=te[1];Object(s.useEffect)((function(){ce()}),[]);var ce=function(){new A(a).fetchFileFolder({Prefix:""}).then((function(e){if(ne(!0),e.Contents){var t=e.Contents.filter((function(e){return"/"!==e.Key.slice(-1)})),a=se(t);d(a)}else{var n=Object(ra.a)(),c=[{Key:"SampleFolder/Samplefile.txt",LastModified:new Date,ETag:n,Size:0}],r=se(c);d(r)}Q(!0)})).catch((function(e){Q(!1)})).finally((function(){return ne(!1)}))},re=function(e){return e.split("/").pop().indexOf(".")>-1};Object(s.useEffect)((function(){var e=Object(J.a)(h.map((function(e){return e.title})));if(e.length>0){var t=re(e.join("/"))?e.join("/"):"".concat(e.join("/"),"/");g(t);var c=!re(e.join("/"));D(c),B([]),new A(a).fetchFileFolder({Prefix:t}).then((function(e){var t=e.Contents&&e.Contents.length?e.Contents.map((function(e){return{label:e.Key,url:e.Key,lastModified:e.LastModified,size:e.Size,tag:e.ETag}})):[];B(t)})).catch((function(){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to fetch file folders"})}))}}),[JSON.stringify(h)]);var se=function(e){var t=[],a={z:t};return e.forEach((function(e,t){var n=e.Key.split("/");n.reduce((function(e,t){return e[t]||(e[t]={z:[]},e.z.push(Object(o.a)({key:Object(ra.a)(),title:t},n[n.length-1]!==t&&{children:e[t].z}))),e[t]}),a)})),t},le=function e(t,a){if(t.key===a)return[];if(Array.isArray(t.children)){var n,c=Object(zt.a)(t.children);try{for(c.s();!(n=c.n()).done;){var r=n.value,s=e(r,a);if(Array.isArray(s))return[r].concat(s)}}catch(l){c.e(l)}finally{c.f()}}},ie=function(e){e[0]&&(f(le({children:Object(J.a)(i)},e[0])),P(e[0]))},oe=function e(t,a,n,c){return Array.isArray(n)&&n.forEach((function(n){n.key===t?n.children&&"folder"===c?n.children=[].concat(Object(J.a)(n.children),[a]):"file"===c&&n.children.push(a):e(t,a,n.children,c)})),n},de=function e(t,a,n){return Array.isArray(n)&&n.forEach((function(n){n.key===t?n.title=a:e(t,a,n.children)})),n},ue=function(e,t,a){var n=Object(ra.a)(),c=Object(o.a)({key:n,title:t},a&&{children:[]}),r=Object(J.a)(i),s=oe(e,c,r,a);d(s),ie([n])},be=function e(t,a){return Array.isArray(a)&&a.forEach((function(n,c){n.key===t?a.splice(c,1):e(t,n.children)})),a},je=function(){new A(a).deleteFolder(x,(function(e){"success"===e.status?n.renderToast({message:"".concat(N?"Folder":"File"," successfully deleted")}):n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to delete folder"})}));var e=Object(J.a)(i),t=be(C,e);d(t),K(!1),pe()},me=function(e,t,c){var r=N?"Folder":"File";(c?new A(a).renameFolder(e):new A(a).renameFile(e)).then((function(){n.renderToast({message:"".concat(r," renamed successfully..")})})).catch((function(){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to rename ".concat(r,". Please try again..")})})).finally((function(){return setTimeout((function(){var a=Object(J.a)(i),n=de(t,e.newKey.split("/").slice(-1),a);d(n),ie([t])}),1e3)}))},pe=function(){f([]),g(""),P(""),E(""),B([]),D(!1)},he=function(){return new A(a).getBuckeName()};return ae?Object(m.jsx)("div",{className:"relativeSpinner",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"galleryContainer",children:[F&&Object(m.jsx)(ta,{show:F,confirmationstring:"Are you sure to delete ".concat(N?"folder":"file"," ?"),handleHide:function(){K(!1),E("")},handleYes:function(){return je()},size:"md",animation:!1}),X?Object(m.jsxs)("div",{className:"row ms-0 me-0",children:[Object(m.jsxs)("div",{className:"col-lg-3 col-md-4 leftPane",children:[Object(m.jsx)("div",{className:"bucketName btn-bni m-2",children:he()}),Object(m.jsx)("div",{className:"listContainer",children:i.length>0&&Object(m.jsx)(aa.a,{treeData:i,icon:function(e){var t=e.data;return Object(m.jsx)("i",{className:ca()("fa fa-folder icon",!t.children&&"fa fa-file icon")})},showLine:!0,checkable:!1,selectable:!0,onSelect:ie,selectedKeys:[T],defaultExpandAll:!0},T)})]}),Object(m.jsxs)("div",{className:"col-lg-9 col-md-8 rightPane",children:[Object(m.jsx)($t,{breadCrumbs:h,onBreadClick:function(e){ie([e.key])}}),Object(m.jsx)(Jt,{isDirectory:N,handleupload:function(e){return function(e){try{e.forEach((function(e){var t={Key:"".concat(x).concat(e.name),Body:e,ContentType:e.type},c=new A(a).uploadFile(t);c.on("httpUploadProgress",(function(e){H(e),e.loaded===e.total&&ue(T,e.Key.split("/").slice(-1),"file")})),c.done().then((function(t){n.renderToast({message:"".concat(e.name," uploaded successfully..")})})).catch((function(t){console.error("bbb",t),n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to upload ".concat(e.name,". Please try again..")})}))}))}catch(t){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to start upload. Please try again.."})}}(e)},progress:V}),Object(m.jsx)(Qt,{bucket:he(),data:L,directory:x,selectedId:T,onCreateFolder:function(e,t){return ue(e,t,"folder")},isDirectory:N,onDeleteFolder:function(e){K(!0),E(e)},onRename:function(e,t,a){return me(e,t,a)},onDownload:function(e){return t=e,void new A(a).downloadToBrowser(t);var t}},1)]})]}):Object(m.jsxs)("div",{className:"mt-5 p-5 text-center rounded-3",children:[Object(m.jsx)("i",{className:"fa fa-times-circle fa-3x text-danger"}),Object(m.jsx)("h4",{children:"AWS S3 configuration is invalid"}),Object(m.jsx)("h5",{children:"Please check you have correctly configured connection parameters!"})]})]})},la=a(680),ia=a.n(la),oa=a(872),da=a(768),ua=a(683),ba=a.n(ua);var ja=function(e){var t=Object(s.useContext)(p),a=Object(s.useState)([]),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)(!1),d=Object(r.a)(i,2),u=d[0],j=d[1],h=Object(s.useState)([]),f=Object(r.a)(h,2),O=f[0],_=f[1],x=Object(s.useState)([]),g=Object(r.a)(x,2),v=g[0],y=g[1],N=Object(s.useState)("Create"),D=Object(r.a)(N,2),w=D[0],S=D[1],T=Object(s.useState)(!1),P=Object(r.a)(T,2),M=P[0],k=P[1],C=Object(s.useState)({}),E=Object(r.a)(C,2),A=E[0],I=E[1],R=Object(s.useState)({}),L=Object(r.a)(R,2),B=L[0],Y=L[1],U=Object(s.useState)({mode:"Create",icon:"fa fa-plus"}),F=Object(r.a)(U,2),K=F[0],W=F[1],q=Object(s.useState)(!1),V=Object(r.a)(q,2),H=V[0],$=V[1],Z=Object(s.useState)(!0),X=Object(r.a)(Z,2),Q=X[0],ee=X[1],te=/([A-Z])/g,ae=/([a-z])/g,ne=/([\d])/g,ce=/([\!\@\#\$\%\^\&\*])/g,re=/([\w\d\!\@\#\$\%\^\&\*])\1{2,}/g,se=function(e){var t=e.match(te),a=e.match(ae),n=e.match(ne),c=e.match(ce),r=e.match(re);return e.length>=8&&!r&&t&&t.length>=2&&a&&a.length>=2&&n&&n.length>=2&&c&&c.length>=2};Object(s.useEffect)((function(){return ie(),le(),function(){ue()}}),[]);var le=function(){he.a.post("fetchAccessLevels").then((function(e){var t=e.data.response;y(t);var a=me.map((function(e){return"user_type"===e.id&&(e.list=t.map((function(e){return{value:e.access_id,label:e.access_label}}))),e}));l(a)})).catch((function(){return t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Unable to fetch levels. Please try again."})})).finally((function(){return j(!1)}))},ie=function(){j(!0),he.a.post("fetchUsers").then((function(e){_(e.data.response)})).catch((function(){return t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Unable to fetch users. Please try again."})})).finally((function(){return j(!1)}))},oe=function(){var e=Object(J.a)(c),a=e.map((function(e){return Object(b.a)({},e.id,"user_password"===e.id?ia()(e.value):e.value)}));a=Object.assign.apply(Object,[{}].concat(Object(J.a)(a)));var n={Create:{key:"insertData",responseString:"User successfully created.."},Update:{key:"updateData",responseString:"User successfully updated.."}},r=Object(b.a)({Table:"users"},n[w].key,[a]);"insertData"===n[w].key?function(e,t){var a=new FormData;return a.append("username",e),a.append("email",t),he.a.post("checkUserExists",a)}(a.user_name,a.user_email).then((function(a){a.data.response?t.renderToast({type:"error",icon:"fa fa-times-circle",message:"This user already exist. Please try another user name or email.."}):de(r,n[w].responseString,e)})).catch((function(e){console.log("bbb",e),t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Unable to validate user. Please try again.."})})):de(r,n[w].responseString,e)},de=function(e,a,n){j(!0);var c=new FormData;c.append("postData",JSON.stringify(e));var r=he.a.post("/postBackend",c),s=Q&&n.length>0?function(e){var t=new FormData;return t.append("email",e.filter((function(e){return"user_email"===e.id}))[0].value),t.append("userName",e.filter((function(e){return"user_name"===e.id}))[0].value),t.append("password",e.filter((function(e){return"user_password"===e.id}))[0].value),he.a.post("sendUserInfo",t)}(n):1,l=[r,s];Promise.all(l).then((function(e){e[0].data.response&&t.renderToast({message:a})})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again."})})).finally((function(){ue(),ie(),j(!1),k(!1)}))},ue=function(){var e=Object(J.a)(c);e=e.map((function(e){return e.value="",e})),j(!0),l([]),setTimeout((function(){l(e),j(!1),S("Create")}),1e3)},be=function(){W({id:"",label:"",value:"",mode:"Create",icon:"fa fa-plus"})};return Object(m.jsxs)("div",{className:"container-fluid mt-3",children:[Object(m.jsx)(ta,{show:M,confirmationstring:"Are you sure to delete user ".concat(A.user_display_name,"?"),handleHide:function(){k(!1),I({})},handleYes:function(){return function(){var e={Table:"users",deleteData:[A.user_id]};de(e,"User successfully deleted",[])}()},size:"md"}),Object(m.jsx)(ta,{show:H,confirmationstring:"Are you sure to delete access ".concat(B.access_label,"?"),handleHide:function(){$(!1),Y({})},handleYes:function(){return function(){j(!0);var e=new FormData;e.append("accessId",B.access_id),he.a.post("/deleteAccessLevel",e).then((function(e){e.data.response&&(ue(),le(),t.renderToast({message:"Access level deleted"}))})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Hope ".concat(B.access_label," access has some associations with page and user level. Delete them first.")})})).finally((function(){j(!1),$(!1),be(),ue()}))}()},size:"md"}),u?Object(m.jsx)("div",{className:"text-center mt-100",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-lg-3",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(m.jsxs)("p",{className:"",children:[w," User"]}),"Create"!==w&&Object(m.jsx)("button",{title:"Reset",onClick:function(){return ue()},className:"btn btn-sm btn-secondary rounded-circle",children:Object(m.jsx)("i",{className:"fa fa-undo"})})]}),Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsxs)(Bt.a,{onClick:function(){var e=Object(J.a)(c),t=function(){for(var e="",t=Math.floor(12*Math.random())+8;!se(e);)e=ba()(t,!1,/[\w\d\!\@\#\$\%\^\&\*]/);return e}();e=e.map((function(e){return"user_password"===e.id&&(e.value=t),e})),l([]),j(!0),setTimeout((function(){l(e),j(!1)}),1e3)},size:"sm",children:[Object(m.jsx)("i",{className:"fa fa-key"})," Generate Password"]})}),Object(m.jsxs)("div",{className:"position-relative",children:[c.length&&Object(m.jsx)(qt,{parentClassName:"reactive-form text-dark",structure:c,onChange:function(e,t){return function(e,t){var a=Object(J.a)(c);a=a.map((function(a){return a.id===e&&(a.value=t),a})),l(a)}(e,t)},onSubmit:function(){return oe()},submitBtnLabel:w,submitBtnClassName:"btn btn-bni pull-right"}),Object(m.jsxs)("div",{className:"form-check position-absolute",style:{bottom:"15px"},children:[Object(m.jsx)("input",{className:"form-check-input",type:"checkbox",defaultChecked:Q,onChange:function(e){return ee(e.target.checked)},id:"sendMailCheck"}),Object(m.jsx)("label",{className:"form-check-label small",htmlFor:"sendMailCheck",children:Object(m.jsx)("em",{children:"Notify user on mail"})})]})]})]}),Object(m.jsxs)("div",{className:"col-lg-6",children:[Object(m.jsx)("p",{className:"",children:"Users List"}),O.length>0&&Object(m.jsx)("div",{className:"table-responsive pb-2 mb-3",children:Object(m.jsxs)("table",{className:"table table-striped table-light table-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"text-truncate",children:"Action"}),Object(m.jsx)("th",{className:"text-truncate",children:"User Name"}),Object(m.jsx)("th",{className:"text-truncate",children:"Display Name"}),Object(m.jsx)("th",{className:"text-truncate",children:"Profile Name"}),Object(m.jsx)("th",{className:"text-truncate",children:"Email"}),Object(m.jsx)("th",{className:"text-truncate",children:"Mobile"}),Object(m.jsx)("th",{className:"text-truncate",children:"Image"}),Object(m.jsx)("th",{className:"text-truncate",children:"Type"})]})}),Object(m.jsx)("tbody",{children:O.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:"p-2 text-center",children:[Object(m.jsx)("i",{onClick:function(){return function(e){l([]);var t=Object(J.a)(c);t=t.map((function(t){return e.hasOwnProperty(t.id)?(t.value=e[t.id],"user_type"===t.id&&(t.value=v.filter((function(t){return t.access_label===String(e.user_type)}))[0].access_id||"")):t.value="",t})),l([]),j(!0),setTimeout((function(){l(t),j(!1),S("Update")}),1e3)}(e)},className:"fa fa-pencil text-success cursor-pointer ".concat("0"===e.user_is_founder?"me-2":"")}),"0"===e.user_is_founder&&Object(m.jsx)("i",{onClick:function(){return I(e),void k(!0)},className:"fa fa-times text-danger cursor-pointer"})]}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_name}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_display_name}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_profile_name}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_email}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_mobile}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_image_url}),Object(m.jsx)("td",{className:"text-truncate",children:e.user_type})]},t)}))})]})})]}),Object(m.jsxs)("div",{className:"col-lg-3",children:[Object(m.jsx)("p",{className:"",children:"Create Access Level"}),Object(m.jsxs)(oa.a,{size:"sm",className:"pb-2",children:[Object(m.jsx)(da.a,{placeholder:"Access Label",value:K.label,onChange:function(e){return W((function(t){return Object(o.a)(Object(o.a)(Object(o.a)({},t),"Create"===K.mode&&{id:""}),{},{label:e.target.value})}))}}),Object(m.jsx)(da.a,{placeholder:"Access Value",value:K.value,onChange:function(e){return W((function(t){return Object(o.a)(Object(o.a)(Object(o.a)({},t),"Create"===K.mode&&{id:""}),{},{value:e.target.value})}))}}),Object(m.jsxs)(Bt.a,{variant:"primary",disabled:!(K.label&&K.value),onClick:function(){return function(){j(!0);var e=""===K.id?"added":"updated",a=new FormData;a.append("accessId",K.id),a.append("accessLabel",K.label),a.append("accessValue",K.value),he.a.post("/saveOrUpdateAccessLevel",a).then((function(a){a.data.response&&(le(),t.renderToast({message:"Access level successfully ".concat(e)}))})).catch((function(e){t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Some thing went wrong. Please try again.."})})).finally((function(){j(!1),ue(),be()}))}()},children:[Object(m.jsx)("i",{className:K.icon})," ",K.mode]}),K.label&&K.value&&Object(m.jsx)(Bt.a,{variant:"danger",onClick:function(){return be()},children:Object(m.jsx)("i",{className:"fa fa-undo",title:"Reset?"})})]}),Object(m.jsx)("p",{className:"",children:"Access List"}),Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsxs)("table",{className:"table table-striped table-light table-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"text-truncate",children:"Action"}),Object(m.jsx)("th",{className:"text-truncate",children:"Label"}),Object(m.jsx)("th",{className:"text-truncate",children:"Value"})]})}),Object(m.jsx)("tbody",{children:v.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:"p-2",children:[["superAdmin","admin"].includes(e.access_value)?Object(m.jsx)("i",{className:"fa fa-ban text-danger pe-2"}):Object(m.jsx)("i",{onClick:function(){return function(e){W({id:e.access_id,label:e.access_label,value:e.access_value,mode:"Update",icon:"fa fa-pencil"})}(e)},className:"fa fa-pencil text-success cursor-pointer me-2"}),!["superAdmin","admin"].includes(e.access_value)&&Object(m.jsx)("i",{onClick:function(){return Y(e),void $(!0)},className:"fa fa-times text-danger cursor-pointer"})]}),Object(m.jsx)("td",{children:e.access_label}),Object(m.jsx)("td",{children:e.access_value})]},t)}))})]})})]})]})]})},ma=function(e){var t=Object(s.useContext)(p),a=Object(s.useState)(""),n=Object(r.a)(a,2),c=n[0],i=n[1],o=[{id:0,label:"Config",component:Ht,help:{heading:"Config help",points:["Google API: To integrate google maps and google based apps in your application.","Web defauts: This is the core crux which decides how your application looks. You can leave text boxes with a slash(/) if not required or to disable that feature.","AWS: Here you can declare your AWS S3 bucket credentials, to load images and videos in your application. AWS is lightning fast. Note: Stay safe that all your declared credentials are end to end encrypted.","Social media: Allow your users to view your walls and blogs like facebook, Twitter, LinkedIn and Instagram."]}},{id:1,label:"Users",component:ja,help:{heading:"Users help",points:["Set users to handle and maintain your application","Super Admin is added by default. Create access levels that fits your organization","Super Admin has access to control entire application (settings & layout design). Confirm before giving access to a user.","CRUD operations are available (create, update and delete users) for Super Admin only","Edit user requires new password to be set for security purpose. Please inform the updated user on his/her new password.","Once users created, they can login on clicking the top right dropdown menu in global header"]}},{id:2,label:"AWS S3 Gallery",component:sa,help:{heading:"Gallery help",points:["AWS S3 bucket is used to access media files in your application.","These files can be maintained in your Gallery module with CRUD operations","Plese follow the steps, clearly defined in the help content in config form","Please take a backup of your credentials and keep them safe. Once forgotten or lost, it can never be brought back.","You can maintain multiple buckets in your application, but can be viewed 1 at a time in AWS S3 module","We use signed URL's, to load your media files for security purpose","You can copy the location of your file (from AWS s3 module) which can be placed in your config area for loading media files.",'For more details about AWS S3 visit <a target="_blank" href="https://aws.amazon.com/s3/" class="btn-link">https://aws.amazon.com/s3/</a>']}}];function d(e){var a=e.children,n=e.eventKey,c=e.eventLabel,r=Object(Ue.b)(n,(function(){return i(c)}));return Object(m.jsx)("button",{type:"button",className:"col-11 text-start btn ".concat("dark"===t.userData.theme?"btn-dark":"btn-white"),onClick:r,children:a})}return Object(m.jsxs)("section",{className:"",children:[Object(m.jsx)("div",{className:"",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h2",{className:"",children:"Settings"}),Object(m.jsx)("hr",{className:"my-3"}),Object(m.jsx)("i",{className:"fa fa-gears fa-2x py-2"}),Object(m.jsx)("p",{className:"",children:"Configure your appliation settings"})]})}),Object(m.jsx)("div",{className:"settings",children:Object(m.jsx)("div",{className:"",children:Object(m.jsx)(Fe.a,{bsPrefix:"util",defaultActiveKey:-1,className:"",children:o.map((function(e,a){return Object(m.jsxs)(Ke.a,{className:"my-2 ".concat("dark"===t.userData.theme?"bg-dark text-light":"bg-light text-dark"),children:[Object(m.jsxs)(Ke.a.Header,{className:"row m-0",children:[Object(m.jsx)(d,{eventLabel:e.label,eventKey:e.id,children:e.label}),Object(m.jsx)(Ft,{className:"text-center ".concat("dark"===t.userData.theme?"bg-dark text-white-50":"bg-light text-black"),btnValue:"<i class='fa fa-question-circle' />",btnClassName:"col-1 btn btn-sm ".concat("dark"===t.userData.theme?"text-light":"text-dark"),placement:"end",label:e.help.heading,children:e.help.points.length>0&&Object(m.jsx)("ul",{className:"list-group list-group-flush",children:e.help.points.map((function(e,a){return Object(m.jsx)("li",{className:"list-group-item ".concat("dark"===t.userData.theme?"bg-dark text-white-50":"bg-light text-black"),dangerouslySetInnerHTML:{__html:e}},a)}))})},e.id)]}),Object(m.jsx)(Fe.a.Collapse,{eventKey:e.id,children:Object(m.jsx)(Ke.a.Body,{className:"p-2",children:e.label===c&&l.a.createElement(e.component)})})]},e.id)}))})})})]})};ma.defaultProps={property:"String name"};var pa=ma,ha=a(339),fa=a.n(ha),Oa=a(348),_a=function(e){var t=Object(s.useContext)(u),a=Object(r.a)(t,1)[0],n=Object(s.useState)(""),c=Object(r.a)(n,2),l=c[0],i=c[1],o=Object(s.useState)({}),d=Object(r.a)(o,2),b=d[0],j=d[1],p=Object(s.useState)(!1),h=Object(r.a)(p,2),f=h[0],O=h[1];Object(s.useEffect)((function(){l&&x()}),[]);var _=function(e,t){var a=encodeURIComponent(e);j({}),i(a),"function"===typeof t&&t()},x=function(){j({}),O(!0);var e="https://seo-api.p.rapidapi.com/v1/search/q=".concat(l),t={headers:{"X-User-Agent":"desktop","X-Proxy-Location":"IN","X-RapidAPI-Key":Oa.b,"X-RapidAPI-Host":"seo-api.p.rapidapi.com"}};fa.a.get(e,t).then((function(e){j(e.data)})).finally((function(){return O(!1)}))};return Object(m.jsxs)("div",{className:"mt-3 container-fluid",children:[Object(m.jsxs)("div",{className:"text-center my-2",style:{fontSize:"5rem"},children:[Object(m.jsx)("span",{className:"text-primary",children:Object(m.jsx)(Y,{type:"image",appData:a,unsignedUrl:a.logoImg,className:"img-fluid",optionalAttr:{width:"70",height:"70"}})}),Object(m.jsx)("span",{className:"text-danger",children:"o"}),Object(m.jsx)("span",{className:"text-danger",children:"o"}),Object(m.jsx)("span",{className:"text-success",children:"g"}),Object(m.jsx)("span",{className:"text-info",children:"l"}),Object(m.jsx)("span",{className:"text-warning",children:"e"})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-8 offset-sm-2",children:[Object(m.jsxs)("div",{className:"input-group input-group-lg mb-2",children:[Object(m.jsx)("input",{type:"text",spellCheck:"false",value:decodeURIComponent(l),onKeyPress:function(e){return"Enter"===e.key&&x()},onChange:function(e){return _(e.target.value)},className:"form-control",placeholder:"Search here..","aria-label":"Search here","aria-describedby":"boogle-sizing-lg",id:"boogle-sizing-lg"}),Object(m.jsx)("button",{disabled:f,onClick:function(){return x()},className:"btn btn-primary",type:"button",children:f?Object(m.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):Object(m.jsx)("i",{className:"fa fa-search"})})]}),b.results&&l&&Object(m.jsxs)("div",{className:"text-muted my-2 small",children:["About  ",b.results.filter((function(e){return e.link&&e.description&&e.title})).length," results for ",decodeURIComponent(l)]})]})}),b.results&&b.results.length>0&&Object(m.jsxs)("div",{className:"resultGrid mt-3",children:[b.results.filter((function(e){return e.link&&e.description&&e.title})).map((function(e,t){return Object(m.jsx)("div",{className:"mb-3 row",children:Object(m.jsxs)("div",{className:"col-sm-12",children:[Object(m.jsx)("a",{className:"link-primary h5 d-block",href:e.link,rel:"noreferrer",target:"_blank",children:e.title}),Object(m.jsx)("p",{dangerouslySetInnerHTML:{__html:e.description}})]})},t)})),b.answers&&b.answers.length>0&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{children:Object(m.jsx)("em",{className:"badge bg-primary rounded-pill",children:"Relevant Search"})}),Object(m.jsx)("ul",{className:"",style:{listStyle:"none",paddingLeft:0},children:b.answers.map((function(e,t){return Object(m.jsx)("li",{className:"py-1",children:Object(m.jsx)("a",{href:!0,onClick:function(){_(e,(function(){x()}))},className:"link-primary cursor-pointer",children:e})},t)}))})]})]})]})},xa=a(873),ga=a(773),va=a(878),ya=a(874),Na=a(769),Da=a.n(Na),wa=(a(772),function(e){var t=Object(s.useContext)(p),a=G.a.getNow(),n=Object.assign({},e),c={USD:"en-US",INR:"en-IN"},l=Object(s.useState)({decimalPoint:0,locale:"INR",minAmount:1e5,maxAmount:1e7,amount:1e6,minTenure:.08,maxTenure:100,tenure:1,minRoi:1,maxRoi:100,roi:8.5}),i=Object(r.a)(l,2),d=i[0],u=i[1],j=d.decimalPoint>-1&&d.decimalPoint<5?d.decimalPoint:0,h=Object(s.useState)(0),f=Object(r.a)(h,2),O=f[0],_=f[1],x=Object(s.useState)([]),g=Object(r.a)(x,2),v=g[0],y=g[1],N=Object(s.useState)([]),D=Object(r.a)(N,2),w=D[0],S=D[1],T=Object(s.useState)([]),P=Object(r.a)(T,2),M=P[0],k=P[1];Object(s.useEffect)((function(){var e=d.roi/100/12,t=Math.ceil(12*d.tenure),a=d.amount,n=Number(A(e,t,a).toFixed(j));_(n)}),[d]);var C=function(e,t){var a=t;["tenure"].includes(e)&&(a=t>=d.minTenure&&t<=100?t:0),["roi"].includes(e)&&(a=t>=1&&t<=100?t:1),["decimalPoint"].includes(e)&&(a=t>0&&t<5?t:0),u((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(b.a)({},e,a))}))};Object(s.useEffect)((function(){var e=d.roi/100/12,t=Number(d.tenure)>0?Math.ceil(12*d.tenure):1,a=d.amount,n=Number(Math.abs(A(e,t,a)).toFixed(j)),c=0,r=0,s=a,l=new Array(t).fill(1).map((function(e,t){return s=Number(0===t?s:s-c),r=Number(s*(d.roi/100)/12),c=Number(n-r),{index:t+1,emi:n,int:r,princ:c,bal:s}}));y(l),k(l.map((function(e){return e.int=e.int.toFixed(j),e.bal=e.bal.toFixed(j),e.princ=e.princ.toFixed(j),e.emi=e.emi.toFixed(j),e})));var i=[{label:"Principle",value:l.reduce((function(e,t){return Number(e)+Number(t.princ)}),0)/l.reduce((function(e,t){return Number(e)+Number(t.emi)}),0)*100},{label:"Interest",value:l.reduce((function(e,t){return Number(e)+Number(t.int)}),0)/l.reduce((function(e,t){return Number(e)+Number(t.emi)}),0)*100}];S(i)}),[d]);var E,A=function(e,t,a,n,c){var r,s=0;return n||(n=0),c||(c=0),0===e?-(a+n)/t:(s=-e*(a*(r=Math.pow(1+e,t))+n)/(r-1),1===c&&(s/=1+e),s)},I=function(e){var t=v.reduce((function(t,a){return Number(t)+Number(a[e])}),0);return t=G.a.countryCurrencyLacSeperator(c[d.locale],d.locale,t,j)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)(xa.a,{className:"align-items-center",children:[Object(m.jsx)(ga.a,{md:"2",className:"p-3",children:"Loan amount"}),Object(m.jsx)(ga.a,{md:"8",children:Object(m.jsx)(Da.a,{value:d.amount,step:d.minAmount,min:d.minAmount,max:d.maxAmount,onChange:function(e){return C("amount",e)},tooltip:!1})}),Object(m.jsx)(ga.a,{md:"2",children:Object(m.jsx)(va.a.Control,{type:"number",className:"form-control-sm",value:d.amount,onChange:function(e){return C("amount",Number(e.target.value))},placeholder:"Loan amount"})}),Object(m.jsx)(ga.a,{md:"2",className:"p-3",children:"Years"}),Object(m.jsx)(ga.a,{md:"8",children:Object(m.jsx)(Da.a,{value:d.tenure,min:d.minTenure,max:d.maxTenure,onChange:function(e){return C("tenure",e)},tooltip:!1})}),Object(m.jsx)(ga.a,{md:"2",children:Object(m.jsx)(va.a.Control,{type:"number",className:"form-control-sm",min:"1",max:"100",defaultValue:d.tenure,onChange:function(e){return C("tenure",Number(e.target.value))},placeholder:"Tenure years"})}),Object(m.jsx)(ga.a,{md:"2",className:"p-3",children:"Interest"}),Object(m.jsx)(ga.a,{md:"8",children:Object(m.jsx)(Da.a,{value:d.roi,min:d.minRoi,max:d.maxRoi,onChange:function(e){return C("roi",e)},tooltip:!1})}),Object(m.jsx)(ga.a,{md:"2",children:Object(m.jsx)(va.a.Control,{type:"number",className:"form-control-sm",value:d.roi,onChange:function(e){return C("roi",Number(e.target.value))},placeholder:"Interest"})}),Object(m.jsx)(ga.a,{md:"2",className:"p-3",children:"Decimals"}),Object(m.jsx)(ga.a,{md:"8",children:Object(m.jsx)(Da.a,{value:d.decimalPoint,min:0,max:4,onChange:function(e){return C("decimalPoint",e)},tooltip:!1})}),Object(m.jsx)(ga.a,{md:"2",children:Object(m.jsx)(va.a.Control,{type:"number",className:"form-control-sm",value:d.decimalPoint,onChange:function(e){return C("decimalPoint",Number(e.target.value))},placeholder:"Decimals"})}),Object(m.jsx)(ga.a,{md:"2",className:"p-3",children:"Currency"}),Object(m.jsx)(ga.a,{md:"10",children:["INR","USD"].map((function(e,t){return Object(m.jsx)(va.a.Check,{inline:!0,name:"locale",type:"radio",id:"default-".concat(t),label:e,checked:e===d.locale,onChange:function(t){return C("locale",e)}},t)}))})]}),Object(m.jsxs)(xa.a,{children:[Object(m.jsxs)(ga.a,{md:4,className:"p-3 accountPlanner ".concat("dark"===t.userData.theme?"dark":"light"),children:[M.length>0&&Object(m.jsx)("div",{className:"py-2 pe-1 d-inline-block",children:Object(m.jsx)(Se.a,{datas:G.a.stripCommasInCSV(M),filename:"Amortization-table-".concat(a,".csv"),columns:[{displayName:"Month",id:"index"},{displayName:"EMI",id:"emi"},{displayName:"Diminishing",id:"bal"},{displayName:"Interest",id:"int"},{displayName:"Principle",id:"princ"}],children:Object(m.jsx)(Oe.a,{placement:"top",delay:{show:250,hide:400},overlay:(E="Export CSV",Object(m.jsx)(fe.a,Object(o.a)(Object(o.a)({id:"button-tooltip-1",className:"in show"},n),{},{children:E}))),triggerType:"hover",children:Object(m.jsx)("i",{className:"fa fa-file-excel-o roundedButton"})})})}),w.length>0&&Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(Z.a,{innerRadius:1,outerRadius:.9,strokeColor:"".concat("dark"===t.userData.theme?"#555555":"#ffffff"),colors:["#c2d82e","#bf3d3d"],height:250,width:250,legend:!1,data:w})})]}),Object(m.jsx)(ga.a,{md:8,children:v.length>0&&Object(m.jsxs)(ya.a,{striped:!0,bordered:!0,variant:"".concat("dark"===t.userData.theme?"dark":"light"),children:[Object(m.jsxs)("thead",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"EMI"}),Object(m.jsx)("th",{children:"Interest"}),Object(m.jsx)("th",{children:"Principle"}),Object(m.jsx)("th",{children:"Diminishing"})]}),Object(m.jsxs)("tr",{className:"border-bottom",children:[Object(m.jsxs)("th",{children:["Total ",Object(m.jsx)("span",{className:"pull-right",children:I("emi")})]}),Object(m.jsx)("th",{className:"text-danger",children:I("int")}),Object(m.jsx)("th",{colSpan:2,className:"text-success",children:I("princ")})]})]}),Object(m.jsx)("tbody",{children:v.length>0&&v.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{children:[t+1,". ",Object(m.jsx)("span",{className:"pull-right",children:Math.abs(O).toLocaleString(c[d.locale])})]}),Object(m.jsx)("td",{children:parseFloat(Number(e.int).toFixed(j)).toLocaleString(c[d.locale])}),Object(m.jsx)("td",{children:parseFloat(Number(e.princ).toFixed(j)).toLocaleString(c[d.locale])}),Object(m.jsx)("td",{children:parseFloat(Number(e.bal).toFixed(j)).toLocaleString(c[d.locale])})]},t)}))})]})})]})]})}),Sa=function(e){var t=Object(s.useContext)(p),a=Object(s.useState)(""),n=Object(r.a)(a,2),c=n[0],l=n[1],i=Object(s.useState)({}),o=Object(r.a)(i,2),d=o[0],u=o[1],b=function(){var e={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:0,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26},t=c.split("").map((function(t){return{name:t,number:e[t]}})),a=t.map((function(e){return e.number})).join("");a=j(a),u({nameArray:t,sum:a})},j=function e(t){return t<10?t:e(t%10+e(Math.floor(t/10)))};return Object(m.jsxs)("div",{className:"mt-3",children:[Object(m.jsx)(xa.a,{children:Object(m.jsx)(ga.a,{className:"col-md-6 offset-md-3",children:Object(m.jsxs)("div",{className:"input-group mb-3",children:[Object(m.jsx)("input",{type:"text",onChange:function(e){return t=e.target.value.toLowerCase(),u({}),void l(t);var t},onKeyPress:function(e){return"Enter"===e.key&&b()},className:"form-control",placeholder:"Enter Name"}),Object(m.jsx)("button",{onClick:function(){return b()},className:"btn btn-bni",type:"button",children:"Get"})]})})}),Object.keys(d).length>0&&c&&Object(m.jsxs)(ya.a,{striped:!0,bordered:!0,variant:"".concat("dark"===t.userData.theme?"dark":"light"),children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Letter"}),Object(m.jsx)("th",{children:"Number"})]})}),Object(m.jsx)("tbody",{children:d.nameArray&&d.nameArray.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:e.number})]},t)}))}),Object(m.jsx)("tfoot",{children:Object(m.jsxs)("tr",{className:"table-active border-top",children:[Object(m.jsx)("td",{children:"Single Digit Total"}),Object(m.jsx)("td",{children:Object(m.jsx)("span",{className:"btn btn-sm rounded-circle btn-bni",children:d.sum})})]})})]})]})},Ta=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),a=t[0],n=t[1],c=function(){var e={AMORT:wa,NAMENUMBER:Sa}[a];return Object(m.jsx)(e,{})};return Object(s.useEffect)((function(){a&&(n(""),n(a))}),[a]),Object(m.jsxs)("div",{className:"mt-3 container-fluid",children:[Object(m.jsx)("div",{className:"row",children:[{page_id:"1",constant:"AMORT",label:"Amortization Calculator",description:"Calculate EMI on your loan amount, ROI and tenure input",icon:"fa fa-line-chart"},{page_id:"2",constant:"NAMENUMBER",label:"Name Number",description:"Find numerological total of name or number, to get single digit sum",icon:"fa fa-sort-numeric-asc"}].map((function(e){return Object(m.jsx)("div",{className:"col-md-3 text-black mb-1",children:Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title text-center",children:e.label}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("i",{className:"fa-5x p-2 ".concat(e.icon)})}),Object(m.jsx)("p",{className:"card-text",children:e.description}),Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{className:"btn btn-bni",onClick:function(){return n(e.constant)},children:"Click here"})})]})})},e.page_id)}))}),Object(m.jsx)("div",{children:a&&Object(m.jsx)(c,{})})]})};var Pa=function(e){var t=e.appData,a=Object(s.useContext)(p),n=Object(s.useState)(!1),c=Object(r.a)(n,2),o=c[0],d=c[1];return Object(s.useEffect)((function(){if(a.userData.type){var e=[{page_id:"0",hasAccessTo:["public","admin","superAdmin"],href:"/",label:"Home",description:"Your landing page to access menu options with todays relevant information",icon:"fa fa-home",component:_a},{page_id:"1",hasAccessTo:["superAdmin"],href:"/moneyPlanner",label:"Money Planner",description:"Handle your credit & debit card transactions with visualizations and query builder",icon:"fa fa-inr",component:It},{page_id:"2",hasAccessTo:["superAdmin"],href:"/settings",label:"Settings",description:"Maintain application configuration, web settings, google & AWS settings",icon:"fa fa-cogs",component:pa},{page_id:"3",hasAccessTo:["public","admin","superAdmin"],href:"/apps",label:"Apps",description:"Some common usefull apps",icon:"fa fa-code",component:Ta}].filter((function(e){return e.hasAccessTo.includes(a.userData.type)}));a.updateUserData("menu",e)}}),[a.userData.type]),Object(m.jsx)(l.a.Fragment,{children:Object.keys(t).length>0&&a.userData.menu&&a.userData.menu.length>0&&Object(m.jsx)(i.c,{history:V,children:Object(m.jsxs)("div",{className:"application-wrapper ".concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark":"bg-light"),children:[Object(m.jsx)("div",{className:""}),Object(m.jsxs)("div",{className:"application-content ".concat(t.webMenuType),children:[Object(m.jsxs)("div",{className:"menu-wrapper d-print-none p-0 ".concat(["sideMenuRight","sideMenuLeft"].includes(t.webMenuType)?"col-sm-2":""),children:[Object(m.jsx)("div",{className:"fixed-content",children:Object(m.jsx)(W,{appData:t})}),Object(m.jsx)(F,{onNavBarToggle:function(){d(!o)},navBarExpanded:o,onNavBarClose:function(){d(!1)},appData:t})]}),Object(m.jsx)("div",{style:{opacity:a.userData.videoShown?.9:1},className:"wrapper ".concat(t.webLayoutType," ").concat("dark"===a.userData.theme?"bg-dark text-light":"bg-light text-dark"," p-0 ").concat(t.webMenuType," ").concat(["sideMenuRight","sideMenuLeft"].includes(t.webMenuType)?"col-sm-10":"col-sm-12"),children:Object(m.jsx)(g,{})})]}),Object(m.jsx)("div",{className:""})]})})})},Ma=a(774),ka=a.n(Ma);var Ca=function(e){var t=Object(s.useContext)(p),a=e.onToggle,n=e.onClose,c=e.onSuccess,l=Object(s.useState)(""),i=Object(r.a)(l,2),o=i[0],d=i[1],u=Object(s.useState)(""),b=Object(r.a)(u,2),j=b[0],h=b[1],f=Object(s.useState)(!1),O=Object(r.a)(f,2),_=O[0],x=O[1],g=Object(s.useState)(!1),v=Object(r.a)(g,2),y=v[0],N=v[1],D=function(e){13!==e.which&&13!==e.keyCode||w()},w=function(){N(!0);var e=new FormData;e.append("username",o),e.append("password",j),he.a.post("/validateUser",e).then((function(e){var a=e.data.response;if(a){var r={userId:a.user_id,type:a.user_type,email:a.user_email,name:a.user_display_name,imageUrl:a.user_image_url};c(r),n()}else t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Invalid user or password"})})).catch((function(e){console.log("bbb",e),t.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){return N(!1)}))};return Object(m.jsx)("div",{children:y?Object(m.jsx)("div",{className:"login-loader text-center",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"text",id:"username",className:"form-control",onKeyDown:function(e){return D(e)},placeholder:"User name"}),Object(m.jsx)("label",{htmlFor:"username",children:"User name"})]})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){return h(e.target.value)},type:_?"text":"password",id:"userPassword",className:"form-control",onKeyDown:function(e){return D(e)},placeholder:"Password"}),Object(m.jsx)("i",{onClick:function(){return x(!_)},className:"fa fa-".concat(_?"eye-slash":"eye")}),Object(m.jsx)("label",{htmlFor:"userPassword",children:"Password"})]})}),Object(m.jsx)("div",{className:"pt-3 col-lg-12 text-center",children:Object(m.jsxs)("div",{className:"d-grid",children:[Object(m.jsx)("button",{onClick:function(){return a("Change password")},className:"btn btn-sm btn-primary mb-2",children:"Change Password"}),Object(m.jsx)("button",{onClick:function(){return a("Reset password")},className:"btn btn-sm btn-danger",children:"Reset Password"})]})}),Object(m.jsx)("div",{className:"pt-3 col-lg-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-6 pb-3",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:function(){return w()},className:"btn btn-bni",children:"Submit"})})}),Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)("button",{onClick:n,className:"btn btn-secondary",children:"Cancel"})})})]})})]})})};var Ea=function(e){var t=e.onClose,a=Object(s.useContext)(p),n=Object(s.useState)(""),c=Object(r.a)(n,2),l=c[0],i=c[1],o=Object(s.useState)(""),d=Object(r.a)(o,2),u=d[0],b=d[1],j=Object(s.useState)(!1),h=Object(r.a)(j,2),f=h[0],O=h[1],_=Object(s.useState)(!0),x=Object(r.a)(_,2),g=x[0],v=x[1],y=Object(s.useState)(!1),N=Object(r.a)(y,2),D=N[0],w=N[1],S=Object(s.useState)(null),T=Object(r.a)(S,2),P=T[0],M=T[1],k=Object(s.useState)(300),C=Object(r.a)(k,2),E=C[0],A=C[1];Object(s.useEffect)((function(){v(!new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/).test(l))}),[l]);var I=function e(){0===E?R(e):E--,A(E),setTimeout(e,1e3)},R=function(){clearTimeout(I)};Object(s.useEffect)((function(){D&&I()}),[D]);var L=function(){O(!0);var e=new FormData;e.append("email",l),he.a.post("/sendOtp",e).then((function(e){var t=e.data.response;t?(a.renderToast({message:"OTP successfully mailed to you.."}),M(t),w(!0)):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Error. Your mail is in-valid.."})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){O(!1)}))};return Object(m.jsx)("div",{children:f?Object(m.jsx)("div",{className:"login-loader text-center py-3",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{children:[D?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"form-floating mb-3",children:[Object(m.jsx)("input",{onChange:function(e){b(e.target.value)},type:"number",className:"form-control",placeholder:"Type OTP",id:"otp"}),Object(m.jsx)("label",{htmlFor:"otp",children:"Type OTP"})]}),Object(m.jsx)("div",{className:"pb-2",children:Object(m.jsx)("button",{disabled:E>0,onClick:function(){return L()},className:"btn btn-sm btn-primary",children:"Resend OTP"})}),E>0&&Object(m.jsxs)("div",{className:"pb-2 text-danger fst-italic",children:["OTP expires in ",E," seconds"]})]}):Object(m.jsxs)("div",{className:"form-floating mb-3",children:[Object(m.jsx)("input",{onChange:function(e){i(e.target.value)},type:"email",className:"form-control",placeholder:"Your email..",id:"email"}),Object(m.jsx)("label",{htmlFor:"email",children:"Your email please"})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-6 py-2",children:Object(m.jsx)("div",{className:"d-grid",children:D?Object(m.jsx)("button",{onClick:function(){return function(){O(!0);var e=new FormData;e.append("otp",u),e.append("id",P),e.append("email",l),he.a.post("/resetPassword",e).then((function(e){e.data.response?(a.renderToast({message:"Reset password successfully mailed to you.."}),t()):a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Failed. OTP is in-valid or expired. Please try again.."})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){O(!1)}))}()},className:"btn btn-bni",children:"Send"}):Object(m.jsx)("button",{disabled:g,onClick:function(){return L()},className:"btn btn-bni",children:"Reset"})})}),Object(m.jsx)("div",{className:"col-lg-6 py-2",children:Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"})})})]})]})})},Aa=["onClose"];var Ia=function(e){var t=e.onClose,a=Object(d.a)(e,Aa),n=Object(s.useContext)(p),c=Object(s.useState)(""),l=Object(r.a)(c,2),i=l[0],u=l[1],b=Object(s.useState)(""),j=Object(r.a)(b,2),h=j[0],f=j[1],O=Object(s.useState)(""),_=Object(r.a)(O,2),x=_[0],g=_[1],v=Object(s.useState)(""),y=Object(r.a)(v,2),N=y[0],D=y[1],w=Object(s.useState)(!1),S=Object(r.a)(w,2),T=S[0],P=S[1],M=Object(s.useState)(!0),k=Object(r.a)(M,2),C=k[0],E=k[1],A=Object(s.useState)(!1),I=Object(r.a)(A,2),R=I[0],L=I[1],B=Object(s.useState)(!1),Y=Object(r.a)(B,2),U=Y[0],F=Y[1],K=Object(s.useState)(!1),W=Object(r.a)(K,2),q=W[0],V=W[1];Object(s.useEffect)((function(){var e=[0===i.length,0===x.length,0===N.length,x!==N,!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/).test(x),!new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/).test(N)];E(e.some((function(e){return!0===e})))}),[x,N,i]);var H=function(e,t,n){var c=function(){return t.length>1?Object(m.jsx)("ul",{style:{listStyle:"decimal",padding:"10px",textAlign:"left",margin:"5px"},children:t.map((function(e,t){return Object(m.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},t)}))}):Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:t[0]}})};return Object(m.jsx)(fe.a,Object(o.a)(Object(o.a)({style:{zIndex:1e4},id:"tooltip-".concat(n),className:"in show"},a),{},{children:Object(m.jsx)(c,{},"html-1")}))},J=function(e){var t=e.label,a=e.id;return Object(m.jsx)(Oe.a,{placement:"right",overlay:H(0,t,a),trigger:"click",children:Object(m.jsx)("i",{className:"fa fa-question-circle help text-secondary"})})};return Object(m.jsx)("div",{children:T?Object(m.jsx)("div",{className:"login-loader text-center",children:Object(m.jsx)(z.a,{type:G.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"text",id:"username",className:"form-control"}),Object(m.jsx)("label",{htmlFor:"username",children:"User name"})]})}),Object(m.jsx)("div",{className:"col-12",children:Object(m.jsx)(J,{label:["Min 8 letters long","Atleast 1 Capital letter","Atleast 1 Special (!@#$%^&*_) character","Atleast 1 Number","All the above criteria are required"],id:1})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){f(e.target.value),L(!0)},type:"password",className:"form-control",placeholder:"Current Password",onBlur:function(e){return L(!0)},id:"currentPassword"}),R&&Object(m.jsx)("i",{className:"fa fa-".concat(h.length>0?"check good":"times bad")}),Object(m.jsx)("label",{htmlFor:"currentPassword",children:"Current Password"})]})}),Object(m.jsx)("div",{className:"col-lg-12  py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){g(e.target.value),F(!0)},type:"password",className:"form-control",placeholder:"New Password",onBlur:function(e){return F(!0)},id:"newPassword"}),U&&Object(m.jsx)("i",{className:"fa fa-".concat(x.length>0?"check good":"times bad")}),Object(m.jsx)("label",{htmlFor:"newPassword",children:"New Password"})]})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"form-floating passwordArea",children:[Object(m.jsx)("input",{onChange:function(e){D(e.target.value),V(!0)},type:"password",className:"form-control",placeholder:"Repeat Password",onBlur:function(e){return V(!0)},id:"repeatPassword"}),q&&Object(m.jsx)("i",{className:"fa fa-".concat(N.length>0&&N===x?"check good":"times bad")}),Object(m.jsx)("label",{htmlFor:"repeatPassword",children:"Re-type Password"})]})}),Object(m.jsx)("div",{className:"col-lg-12 py-2",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-6 pb-3",children:Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)("button",{disabled:C,onClick:function(){return function(){P(!0);var e=new FormData;e.append("userName",i),e.append("currentPass",h),e.append("newPass",x),e.append("repeatPass",N),he.a.post("/changePassword",e).then((function(e){e.data.response.status?(n.renderToast({message:"Password successfully changed.."}),t()):n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Password change failed. In-valid credentials.."})})).catch((function(){n.renderToast({type:"error",icon:"fa fa-times-circle",message:"Oops.. Something went wrong. Please try again.."})})).finally((function(){P(!1),g(""),D("")}))}()},className:"btn btn-bni",children:"Submit"})})}),Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"})})})]})})]})})};var Ra=function(e){var t=e.onClose,a=e.onSuccess,n=Object(s.useContext)(p),c=Object(s.useState)("Admin login"),l=Object(r.a)(c,2),i=l[0],d=l[1];return Object(m.jsxs)(xe.a,Object(o.a)(Object(o.a)({},e),{},{className:"",size:"sm",centered:!0,children:[Object(m.jsx)(xe.a.Header,{children:Object(m.jsxs)(xe.a.Title,{children:["Admin login"!==i&&Object(m.jsx)("button",{onClick:function(){return d("Admin login")},className:"btn btn-sm btn-default me-2",children:Object(m.jsx)("i",{className:"fa fa-chevron-left"})}),Object(m.jsx)("span",{className:"pl-5",children:i})]})}),Object(m.jsx)(xe.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-light":"bg-white text-dark"),children:Object(m.jsxs)("div",{className:"text-dark",children:["Admin login"===i&&Object(m.jsx)(Ca,{onToggle:function(e){return d(e)},onClose:t,onSuccess:a}),"Reset password"===i&&Object(m.jsx)(Ea,{onClose:t}),"Change password"===i&&Object(m.jsx)(Ia,{onClose:t})]})})]}))},La=function(e){var t=e.onLogAction,n=Object(s.useContext)(p),c=Object(s.useContext)(u),i=Object(r.a)(c,1)[0],o=Object(s.useState)(""),d=Object(r.a)(o,2),b=d[0],j=d[1],h=Object(s.useState)(!1),f=Object(r.a)(h,2),O=f[0],_=f[1],x=Object(s.useState)(!1),g=Object(r.a)(x,2),v=g[0],y=g[1],N=function(e){var a=JSON.stringify(e);localStorage.setItem("userData",a),n.addUserData(JSON.parse(a)),n.updateUserData("type",e.type),t(e),j("slideInRight")};return Object(m.jsxs)(l.a.Fragment,{children:[v&&Object(m.jsx)(Ra,{show:v,size:"sm",animation:!1,style:{zIndex:9999},onClose:function(){return y(!1)},onSuccess:function(e){var t={userId:e.userId,source:"self",type:e.type,email:e.email,name:e.name,imageUrl:e.imageUrl,rest:{}};N(t)}}),Object(m.jsx)(ta,{show:O,confirmationstring:"Are you sure to logout this session?",handleHide:function(){_(!1)},handleYes:function(){return n.removeUserData(["email","imageUrl","name","rest","source","userId"]),n.updateUserData("type","public"),localStorage.removeItem("userData"),t({}),void _(!1)},size:"md",animation:!1}),n.userData.userId?Object(m.jsxs)("div",{className:"d-print-none animate__animated animate__".concat(b),children:[Object(m.jsx)("div",{className:"options welcomeText",children:"Welcome"}),Object(m.jsx)("div",{className:"options",children:Object(m.jsx)("div",{className:"welcomeText pb-10",children:n.userData.name})}),Object(m.jsxs)("div",{className:"options pt-3",children:["google"===n.userData.source&&n.userData.imageUrl&&Object(m.jsx)("img",{className:"userImage",alt:"userImage",src:n.userData.imageUrl||a(318)}),"self"===n.userData.source&&n.userData.imageUrl&&Object(m.jsx)(Y,{type:"image",appData:i,unsignedUrl:n.userData.imageUrl,className:"userImage"}),Object(m.jsx)("i",{onClick:function(e){_(!0)},title:"Logout",className:"fa fa-sign-out text-secondary cursor-pointer fs-4"})]})]}):Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("div",{className:"google",children:Object(m.jsx)(ka.a,{clientId:k.a.AES.decrypt(i.google_login_auth_token,i.web).toString(k.a.enc.Utf8),buttonText:"",render:function(e){return Object(m.jsx)("i",{onClick:e.onClick,disabled:e.disabled,className:"fa fa-google text-secondary cursor-pointer fs-4"})},onSuccess:function(e){var t={userId:e.profileObj.googleId,type:"public",source:"google",email:e.profileObj.email,name:e.profileObj.name,imageUrl:e.profileObj.imageUrl,rest:e};N(t)},cookiePolicy:"single_host_origin"})}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{onClick:function(){return y(!0)},className:"fa fa-user text-secondary cursor-pointer fs-4"})})]})]})};La.defaultProps={};var Ba=La,Ya=a(880),Ua=Object(s.createContext)([{},function(){}]),Fa=function(e){var t=Object(s.useState)(""),a=Object(r.a)(t,2),n=a[0],c=a[1],l=Object(s.useState)(""),i=Object(r.a)(l,2),o=i[0],d=i[1],u=Object(s.useState)({}),j=Object(r.a)(u,2),h=j[0],f=j[1],O=Object(s.useContext)(p);return Object(s.useEffect)((function(){he.a.get("/getLocale").then((function(e){var t=e.data.response,a=Object.entries(re.a.groupBy(t,"locale_string")).map((function(e){return Object(b.a)({},e[0],Object.assign.apply(Object,[{}].concat(Object(J.a)(e[1].map((function(e){return Object(b.a)({},e.locale_key,e.locale_value)}))))))}));a=Object.assign.apply(Object,[{}].concat(Object(J.a)(a))),f(a);var n=t.filter((function(e){return"1"===e.locale_default}))[0].locale_string;c(n);var r=re.a.uniqBy(t,"locale_string").map((function(e){return Object(b.a)({},e.locale_label,e.locale_string)}));r=Object.assign.apply(Object,[{}].concat(Object(J.a)(r))),d(r)})).catch((function(e){O.renderToast({type:"error",icon:"fa fa-times-circle",message:"Unable to load locale objects. Please try again later"})})).finally((function(e){return!1}))}),[]),Object(s.useEffect)((function(){c(n)}),[n]),Object(m.jsx)(Ua.Provider,{value:{setLocale:c,localeList:o,locale:n},children:Object.keys(h).length>0&&n&&Object(m.jsx)(Ya.a,{messages:h[n],locale:n,defaultLocale:n,children:e.children})})},Ka=[{name:"Facebook",icon:"fa fa-facebook",id:"social_media_facebook"},{name:"LinkedIn",icon:"fa fa-linkedin",id:"social_media_linkedIn"},{name:"Twitter",icon:"fa fa-twitter",id:"social_media_twitter"},{name:"Instagram",icon:"fa fa-instagram",id:"social_media_instagram"}];var Wa=function(e){var t=e.onLogAction,a=l.a.createRef(),n=Object(s.useContext)(u),c=Object(r.a)(n,1)[0],i=Object(s.useContext)(p),o=Object(s.useContext)(Ua),d=Object(s.useState)(!1),b=Object(r.a)(d,2),j=b[0],h=b[1],f=Object(s.useState)(!1),O=Object(r.a)(f,2),_=O[0],x=O[1],g=Object(s.useState)(!1),v=Object(r.a)(g,2),y=v[0],N=v[1],D=Object(s.useState)(!1),w=Object(r.a)(D,2),S=w[0],T=w[1],P=Object(s.useState)([]),M=Object(r.a)(P,2),k=M[0],C=M[1],E=Object(s.useState)(i.userData.theme),A=Object(r.a)(E,2),I=A[0],R=A[1];return Object(s.useEffect)((function(){null!==a.current&&(_?a.current.play():a.current.pause())}),[_]),Object(s.useEffect)((function(){i.updateUserData("theme",I),i.updateUserData("videoShown",y)}),[I,y]),Object(s.useEffect)((function(){if(Object.keys(c).length>0){"1"===c.bgSongDefaultPlay&&(T(!0),setTimeout((function(){x(!0)}),5e3)),N("1"===c.bgVideoDefaultPlay);var e=Object.keys(c),t=[].concat(Ka).map((function(t){return e.includes(t.id)&&(t.href=c[t.id]),t}));C(t)}}),[c]),Object(m.jsxs)("div",{children:[S&&Object(m.jsx)(Y,{customRef:a,className:"audio",optionalAttr:{autoPlay:"1"===c.bgSongDefaultPlay,loop:!0,preload:"auto",width:"100",height:"50"},type:"audio",appData:c,unsignedUrl:c.bgSong}),Object(m.jsx)(Y,{className:"videoTag d-print-none",optionalAttr:{autoPlay:!0,loop:!0,muted:!0},style:{display:y?"block":"none"},type:"video",appData:c,unsignedUrl:c.bgVideo}),Object(m.jsxs)("div",{className:"globalHeader d-print-none d-flex justify-content-between ".concat("dark"===i.userData.theme?"bg-dark":"bg-white"," fixed-top"),children:[Object(m.jsx)("div",{children:Object(m.jsx)(Y,{type:"image",appData:c,unsignedUrl:c.bannerImg,className:"brand global img-fluid",optionalAttr:{width:"150",height:"40"}})}),Object(m.jsx)("div",{className:"text-end",children:Object(m.jsxs)(ke.a,{show:j,onToggle:function(e,t){"select"!==t.source&&h(e),T(!0)},children:[Object(m.jsx)(ke.a.Toggle,{as:"i",children:Object(m.jsx)("i",{className:"fa fa-th-large gIcon icon-bni"})}),Object(m.jsxs)(ke.a.Menu,{align:"start",className:"dark"===i.userData.theme?"bg-dark text-white-50":"bg-light text-black",children:[Object(m.jsx)(ke.a.Item,{as:"div",children:Object(m.jsx)(Ba,{onLogAction:function(e){t(e),h(!0)}})}),Boolean(Number(c.switchSongFeatureRequired))&&Object(m.jsx)(ke.a.Item,{as:"div",onClick:function(){x(!_)},children:Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("div",{className:"labelText",children:"Music"}),Object(m.jsx)(Xe.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===i.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===i.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){x(!_)},checked:!0===_})]})}),Boolean(Number(c.switchVideoFeatureRequired))&&Object(m.jsx)(ke.a.Item,{as:"div",onClick:function(){return N(!y)},children:Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("div",{className:"labelText",children:"Video"}),Object(m.jsx)(Xe.a,{onColor:"#aaa",offColor:"#aaa",offHandleColor:"dark"===i.userData.theme?"#ffffff":"#000000",onHandleColor:"dark"===i.userData.theme?"#ffffff":"#000000",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,onChange:function(){return N(!y)},checked:!0===y})]})}),Boolean(Number(c.switchThemeFeatureRequired))&&Object(m.jsx)(ke.a.Item,{as:"div",children:Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("button",{className:"btn border-2 btn-sm btn-secondary",onClick:function(){return R("dark")},children:Object(m.jsx)("small",{children:"Dark"})}),Object(m.jsx)("button",{className:"btn border-2 btn-sm btn-secondary",onClick:function(){return R("light")},children:Object(m.jsx)("small",{children:"Light"})})]})}),Object(m.jsx)(ke.a.Item,{as:"div",children:Object(m.jsxs)(oa.a,{className:"m-1",children:[Object(m.jsx)(oa.a.Text,{children:Object(m.jsx)("i",{className:"fa fa-globe"})}),Object(m.jsx)(va.a.Select,{value:o.locale,size:"sm",onChange:function(e){return o.setLocale(e.target.value)},children:Object.entries(o.localeList).map((function(e,t){return Object(m.jsx)("option",{value:e[1],children:e[0]},t)}))})]})}),Boolean(Number(c.switchSocialMediaFeatureRequired))&&k.length>0&&Object(m.jsx)(ke.a.Item,{as:"div",children:Object(m.jsx)("div",{className:"options text-center",children:k.map((function(e,t){return Object(m.jsx)("a",{className:"dark"===i.userData.theme?"text-white-50":"text-black-50",href:e.href,onClick:function(){return t=e.href,void window.open(t,"_blank").focus();var t},children:Object(m.jsx)("i",{className:"".concat(e.icon," social-icons")})},t)}))})})]})]})})]}),e.children]})};a(775);t.default=function(e){var t=Object(s.useState)({}),a=Object(r.a)(t,2),l=a[0],i=a[1],o=Object(s.useState)(!0),d=Object(r.a)(o,2),b=d[0],j=d[1],p=Object(s.useState)(JSON.parse(localStorage.getItem("userData"))||{}),f=Object(r.a)(p,2)[1],O=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),e.next=3,he.a.get("/").then((function(e){var t=e.data.response[0];i(t),j(!0),_(t),document.documentElement.style.setProperty("--app-theme-color",t.webThemeColor),document.documentElement.style.setProperty("--app-theme-bg-color",t.webThemeBackground)})).catch((function(e){return j(!1)})).finally((function(e){return!1}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=document.querySelector("#favIcon"),a=e.favIconImg.split("/")[0],n=e.favIconImg.split("/").slice(1,e.favIconImg.split("/").length).join("/");new A(e).getSignedUrl(n,86400,a).then((function(e){t.href=e||""}))};return Object(s.useEffect)((function(){O()}),[]),Object(m.jsx)(m.Fragment,{children:b&&Object(m.jsx)(u.Provider,{value:[l,i],children:Object(m.jsx)(h,{config:l,children:Object(m.jsx)(Fa,{children:Object(m.jsx)(Wa,{onLogAction:function(e){f(e)},children:Object(m.jsx)(Pa,{appData:l})})})})})})}}}]);
//# sourceMappingURL=4.7f154ae6.chunk.js.map