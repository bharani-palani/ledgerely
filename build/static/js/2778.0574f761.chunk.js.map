{"version":3,"file":"static/js/2778.0574f761.chunk.js","mappings":"mMAEA,MAAMA,EAAkB,UAClBC,EAAgB,UAKhBC,EAAUC,EAAAA,OACN,QACPC,OAAO,OACPC,KAAK,QAAS,WACdA,KAAK,OAAQ,WACbC,MAAM,WAAY,YAClBA,MAAM,aAAc,WACpBA,MAAM,gBAAiB,OACvBA,MAAM,QAAS,WAEZC,EAAgB,CACpB,CAAEC,GAAI,oCAAqCC,MAAO,UAClD,CAAED,GAAI,mCAAoCC,MAAO,SACjD,CAAED,GAAI,mCAAoCC,MAAO,SACjD,CACED,GAAI,wCACJC,MAAO,cAET,CACED,GAAI,oCACJC,MAAO,oBAET,CACED,GAAI,oCACJC,MAAO,kBAET,CACED,GAAI,uCACJC,MAAO,aAET,CAAED,GAAI,mCAAoCC,MAAO,SACjD,CAAED,GAAI,kCAAmCC,MAAO,QAChD,CAAED,GAAI,oCAAqCC,MAAO,UAClD,CAAED,GAAI,mCAAoCC,MAAO,SACjD,CACED,GAAI,uCACJC,MAAO,cAET,CACED,GAAI,wCACJC,MAAO,gBAET,CACED,GAAI,wCACJC,MAAO,gBAET,CACED,GAAI,yCACJC,MAAO,iBAET,CACED,GAAI,sCACJC,MAAO,cAET,CAAED,GAAI,sCAAuCC,MAAO,aACpD,CACED,GAAI,0CACJC,MAAO,kBAET,CACED,GAAI,0CACJC,MAAO,kBAET,CACED,GAAI,2CACJC,MAAO,mBAET,CACED,GAAI,wCACJC,MAAO,gBAET,CAAED,GAAI,oCAAqCC,MAAO,WAClD,CACED,GAAI,wCACJC,MAAO,gBAET,CACED,GAAI,2CACJC,MAAO,oBAET,CACED,GAAI,wCACJC,MAAO,gBAET,CACED,GAAI,2CACJC,MAAO,iBAET,CACED,GAAI,yCACJC,MAAO,iBAET,CACED,GAAI,4CACJC,MAAO,qBAET,CACED,GAAI,sCACJC,MAAO,cAET,CACED,GAAI,yCACJC,MAAO,kBAET,CACED,GAAI,2CACJC,MAAO,oBAET,CACED,GAAI,4CACJC,MAAO,qBAET,CACED,GAAI,8CACJC,MAAO,uBAET,CACED,GAAI,+CACJC,MAAO,wBAET,CAAED,GAAI,kCAAmCC,MAAO,Q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","sources":["components/shared/D3/constants.js","components/workbook/WorkbookContext.js","components/workbook/wokbookIndex.js"],"sourcesContent":["import * as d3 from \"d3\";\n\nconst appThemeBgColor = \"#c2d82e\";\nconst appThemeColor = \"#000000\";\nconst successColor = \"#198754\";\nconst dangerColor = \"#dc3545\";\nconst warningColor = \"#ffc107\";\nconst infoColor = \"#0dcaf0\";\nconst tooltip = d3\n  .select(\"body\")\n  .append(\"div\")\n  .attr(\"class\", \"tooltip\")\n  .attr(\"role\", \"tooltip\")\n  .style(\"position\", \"absolute\")\n  .style(\"background\", \"#222222\")\n  .style(\"border-radius\", \"5px\")\n  .style(\"color\", \"#ffffff\");\n\nconst animationList = [\n  { id: \"animate__animated animate__bounce\", value: \"Bounce\" },\n  { id: \"animate__animated animate__flash\", value: \"Flash\" },\n  { id: \"animate__animated animate__pulse\", value: \"Pulse\" },\n  {\n    id: \"animate__animated animate__rubberBand\",\n    value: \"Rubberband\",\n  },\n  {\n    id: \"animate__animated animate__shakeX\",\n    value: \"Shake horizontal\",\n  },\n  {\n    id: \"animate__animated animate__shakeY\",\n    value: \"Shake vertical\",\n  },\n  {\n    id: \"animate__animated animate__headShake\",\n    value: \"Headshake\",\n  },\n  { id: \"animate__animated animate__swing\", value: \"Swing\" },\n  { id: \"animate__animated animate__tada\", value: \"Tada\" },\n  { id: \"animate__animated animate__wobble\", value: \"Wobble\" },\n  { id: \"animate__animated animate__jello\", value: \"Jello\" },\n  {\n    id: \"animate__animated animate__heartBeat\",\n    value: \"Heart beat\",\n  },\n  {\n    id: \"animate__animated animate__backInDown\",\n    value: \"Back in down\",\n  },\n  {\n    id: \"animate__animated animate__backInLeft\",\n    value: \"Back in left\",\n  },\n  {\n    id: \"animate__animated animate__backInRight\",\n    value: \"Back in right\",\n  },\n  {\n    id: \"animate__animated animate__backInUp\",\n    value: \"Back in up\",\n  },\n  { id: \"animate__animated animate__bounceIn\", value: \"Bounce in\" },\n  {\n    id: \"animate__animated animate__bounceInDown\",\n    value: \"Bounce in down\",\n  },\n  {\n    id: \"animate__animated animate__bounceInLeft\",\n    value: \"Bounce in left\",\n  },\n  {\n    id: \"animate__animated animate__bounceInRight\",\n    value: \"Bounce in right\",\n  },\n  {\n    id: \"animate__animated animate__bounceInUp\",\n    value: \"Bounce in up\",\n  },\n  { id: \"animate__animated animate__fadeIn\", value: \"Fade in\" },\n  {\n    id: \"animate__animated animate__fadeInDown\",\n    value: \"Fade in down\",\n  },\n  {\n    id: \"animate__animated animate__fadeInDownBig\",\n    value: \"Fade in down big\",\n  },\n  {\n    id: \"animate__animated animate__fadeInLeft\",\n    value: \"Fade in left\",\n  },\n  {\n    id: \"animate__animated animate__fadeInLeftBig\",\n    value: \"Fadeinleftbig\",\n  },\n  {\n    id: \"animate__animated animate__fadeInRight\",\n    value: \"Fade in right\",\n  },\n  {\n    id: \"animate__animated animate__fadeInRightBig\",\n    value: \"Fade in right big\",\n  },\n  {\n    id: \"animate__animated animate__fadeInUp\",\n    value: \"Fade in up\",\n  },\n  {\n    id: \"animate__animated animate__fadeInUpBig\",\n    value: \"Fade in up big\",\n  },\n  {\n    id: \"animate__animated animate__fadeInTopLeft\",\n    value: \"Fade in top left\",\n  },\n  {\n    id: \"animate__animated animate__fadeInTopRight\",\n    value: \"Fade in top right\",\n  },\n  {\n    id: \"animate__animated animate__fadeInBottomLeft\",\n    value: \"Fade in bottom left\",\n  },\n  {\n    id: \"animate__animated animate__fadeInBottomRight\",\n    value: \"Fade in bottom right\",\n  },\n  { id: \"animate__animated animate__flip\", value: \"Flip\" },\n  {\n    id: \"animate__animated animate__flipInX\",\n    value: \"Flipin horizontal\",\n  },\n  {\n    id: \"animate__animated animate__flipInY\",\n    value: \"Flipin vertical\",\n  },\n  {\n    id: \"animate__animated animate__lightSpeedInRight\",\n    value: \"Light speed in right\",\n  },\n  {\n    id: \"animate__animated animate__lightSpeedInLeft\",\n    value: \"Light speed in left\",\n  },\n  { id: \"animate__animated animate__rotateIn\", value: \"Rotate in\" },\n  {\n    id: \"animate__animated animate__rotateInDownLeft\",\n    value: \"Rotate in down left\",\n  },\n  {\n    id: \"animate__animated animate__rotateInDownRight\",\n    value: \"Rotate in down right\",\n  },\n  {\n    id: \"animate__animated animate__rotateInUpLeft\",\n    value: \"Rotate in up left\",\n  },\n  {\n    id: \"animate__animated animate__rotateInUpLeft\",\n    value: \"Rotate in up left\",\n  },\n  {\n    id: \"animate__animated animate__jackInTheBox\",\n    value: \"Jack in the box\",\n  },\n  { id: \"animate__animated animate__rollIn\", value: \"Roll in\" },\n  { id: \"animate__animated animate__zoomIn\", value: \"Zoom in\" },\n  {\n    id: \"animate__animated animate__zoomInDown\",\n    value: \"Zoom in down\",\n  },\n  {\n    id: \"animate__animated animate__zoomInLeft\",\n    value: \"Zoom in left\",\n  },\n  {\n    id: \"animate__animated animate__zoomInRight\",\n    value: \"Zoom in right\",\n  },\n  {\n    id: \"animate__animated animate__zoomInUp\",\n    value: \"Zoom in up\",\n  },\n  {\n    id: \"animate__animated animate__slideInDown\",\n    value: \"Slide in down\",\n  },\n  {\n    id: \"animate__animated animate__slideInLeft\",\n    value: \"Slide in left\",\n  },\n  {\n    id: \"animate__animated animate__slideInRight\",\n    value: \"Slide in right\",\n  },\n  {\n    id: \"animate__animated animate__slideInUp\",\n    value: \"Slide in up\",\n  },\n];\n\nconst CHART_TYPES = {\n  0: \"CIRCULAR\",\n  1: \"BAR\",\n  2: \"DISTRIBUTION\",\n  3: \"CORRELATION\",\n  4: \"SHAPES\",\n  5: \"EMOJI\",\n};\n\nconst CHART_SIZE = {\n  minWidth: 100,\n  maxWidth: 1000,\n  minHeight: 100,\n  maxHeight: 1000,\n};\n\nconst WORKBOOK_CONFIG = {\n  chartLimit: Math.pow(2, 5),\n  sheetLimit: Math.pow(2, 4),\n};\n\nexport {\n  tooltip,\n  appThemeBgColor,\n  appThemeColor,\n  successColor,\n  dangerColor,\n  warningColor,\n  infoColor,\n  animationList,\n  CHART_TYPES,\n  CHART_SIZE,\n  WORKBOOK_CONFIG,\n};\n","import React from \"react\";\n\nconst WorkbookContext = React.createContext({});\nexport default WorkbookContext;\n","import React, {\n  useContext,\n  useEffect,\n  useState,\n  useRef,\n  Suspense,\n  lazy,\n} from \"react\";\nimport Loader from \"../resuable/Loader\";\nimport helpers from \"../../helpers\";\nimport { useIntl } from \"react-intl\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport apiInstance from \"../../services/apiServices\";\nimport { WORKBOOK_CONFIG } from \"../shared/D3/constants\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport WorkbookContext from \"./WorkbookContext\";\nimport { GlobalContext } from \"../../contexts/GlobalContext\";\n\nconst VerticalPanes = lazy(() =>\n  import(\"./VerticalPane\").then(module => ({\n    default: module[\"VerticalPanes\"],\n  })),\n);\nconst Pane = lazy(() =>\n  import(\"./VerticalPane\").then(module => ({\n    default: module[\"Pane\"],\n  })),\n);\n\nconst SheetPane = lazy(() => import(\"./SheetPane\"));\nconst FeatureNotAvailable = lazy(() => import(\"./FeatureNotAvailable\"));\nconst GraphList = lazy(() => import(\"./GraphList\"));\nconst ChartContainer = lazy(() => import(\"./ChartContainer\"));\nconst ChartOptions = lazy(() => import(\"./ChartOptions\"));\n\nconst Workbook = props => {\n  const intl = useIntl();\n  const globalContext = useContext(GlobalContext);\n  document.title = `${globalContext.appName} - ${intl.formatMessage({\n    id: \"workbook\",\n    defaultMessage: \"workbook\",\n  })}`;\n  const workbookRef = useRef(null);\n  const userContext = useContext(UserContext);\n  const defaultSheet = [\n    {\n      id: uuidv4(),\n      order: 0,\n      label: `${intl.formatMessage({\n        id: \"sheet\",\n        defaultMessage: \"sheet\",\n      })} 1`,\n      charts: [],\n      zoom: 100,\n    },\n  ];\n  const [sheets, setSheets] = useState(defaultSheet);\n  const [activeSheet, setActiveSheet] = useState(\"\");\n  const [activeChart, setActiveChart] = useState(\"\");\n  const [savedQueryList, setSavedQueryList] = useState(false);\n  const [widthConfig, setWidthConfig] = useState({\n    start: \"10%\",\n    middle: \"75%\",\n    end: \"20%\",\n    expanded: true,\n  });\n  const [file, setFile] = useState({\n    id: null,\n    name: \"\",\n    appId: userContext.userConfig.appId,\n    isSaved: true,\n  });\n  const [saveLoading, setSaveLoading] = useState(false);\n  const [savedWorkbooks, setSavedWorkbooks] = useState([]);\n\n  const toggleEndPane = () => {\n    setWidthConfig(prev => ({\n      ...prev,\n      middle: widthConfig.expanded ? \"95%\" : \"75%\",\n      end: widthConfig.expanded ? \"0%\" : \"25%\",\n      expanded: !widthConfig.expanded,\n    }));\n  };\n\n  const fetchSavedQueryList = () => {\n    const formdata = new FormData();\n    formdata.append(\"appId\", userContext.userConfig.appId);\n    apiInstance\n      .post(\"workbook/getSavedQueryLists\", formdata)\n      .then(({ data }) => {\n        setSavedQueryList(data.response);\n      })\n      .catch(e =>\n        userContext.renderToast({\n          type: \"error\",\n          icon: \"fa fa-times-circle\",\n          position: \"bottom-center\",\n          message: intl.formatMessage({\n            id: \"unableToReachServer\",\n            defaultMessage: \"unableToReachServer\",\n          }),\n        }),\n      );\n  };\n\n  const deleteChart = id => {\n    const newSheet = sheets.map(sheet => {\n      if (sheet.id === activeSheet) {\n        sheet.charts = sheet.charts.filter(f => f.id !== id);\n      }\n      return sheet;\n    });\n    setSheets(newSheet);\n    setFile(prev => ({ ...prev, isSaved: false }));\n  };\n\n  const cloneChart = async cObj => {\n    const selectedSheetCharts = sheets.filter(f => f.id === activeSheet)[0]\n      ?.charts;\n    if (selectedSheetCharts.length < WORKBOOK_CONFIG.chartLimit) {\n      const chartId = uuidv4();\n      const updatedSheet = sheets.map(sheet => {\n        if (sheet.id === activeSheet) {\n          sheet.charts = [\n            ...sheet.charts,\n            {\n              ...cObj,\n              id: chartId,\n              x: 0,\n              y: 0,\n              z: 0,\n            },\n          ];\n        }\n        return sheet;\n      });\n      setSheets(updatedSheet);\n      setTimeout(() => {\n        setActiveChart(chartId);\n        setFile(prev => ({ ...prev, isSaved: false }));\n      }, 100);\n    } else {\n      userContext.renderToast({\n        type: \"warn\",\n        icon: \"fa fa-exclamation-triangle\",\n        position: \"bottom-center\",\n        message: intl.formatMessage({\n          id: \"chartLimitExceeded\",\n          defaultMessage: \"chartLimitExceeded\",\n        }),\n      });\n    }\n  };\n\n  const onUnload = e => {\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    const confirmationMessage = \"\";\n    e.returnValue = confirmationMessage;\n    return e.returnValue;\n  };\n\n  const handleDelete = event => {\n    if (\n      (event.key === \"Delete\" || event.key === \"Backspace\") &&\n      document.activeElement.type !== \"text\"\n    ) {\n      const classList = [...document.body.classList];\n      if (workbookRef.current && !classList.includes(\"modal-open\")) {\n        deleteChart(activeChart);\n      }\n    }\n  };\n\n  useEffect(() => {\n    fetchSavedQueryList();\n  }, []);\n\n  useEffect(() => {\n    if (!file.isSaved) {\n      window.addEventListener(\"beforeunload\", onUnload, { capture: true });\n    }\n    return () => {\n      window.removeEventListener(\"beforeunload\", onUnload, { capture: true });\n    };\n  }, [file]);\n\n  useEffect(() => {\n    const newSheet = [...sheets].map(sheet => {\n      return sheet.charts.filter(f => f.id === activeChart).length > 0;\n    });\n    if (newSheet.every(f => f === false)) {\n      setActiveChart(\"\");\n    }\n    document.body.addEventListener(\"keydown\", handleDelete);\n    return () => {\n      document.body.removeEventListener(\"keydown\", handleDelete);\n    };\n  }, [sheets, activeChart]);\n\n  const loaderComp = () => {\n    return (\n      <div className='relativeSpinner middle'>\n        <Loader />\n      </div>\n    );\n  };\n\n  return (\n    <Suspense fallback={loaderComp()}>\n      <WorkbookContext.Provider\n        value={{\n          defaultSheet,\n          sheets,\n          setSheets,\n          theme: userContext.userData.theme,\n          activeSheet,\n          setActiveSheet,\n          activeChart,\n          setActiveChart,\n          deleteChart,\n          cloneChart,\n          workbookRef,\n          file,\n          setFile,\n          saveLoading,\n          setSaveLoading,\n          savedWorkbooks,\n          setSavedWorkbooks,\n          savedQueryList,\n          setSavedQueryList,\n          fetchSavedQueryList,\n        }}\n      >\n        <FeatureNotAvailable />\n        <div\n          className={`workbook container-fluid small d-none d-sm-block`}\n          ref={workbookRef}\n        >\n          <VerticalPanes\n            theme={userContext.userData.theme}\n            className={`border border-1 ${\n              userContext?.userConfig?.webMenuType\n            } ${\n              userContext.userData.theme === \"dark\" ? \"border-secondary\" : \"\"\n            } rounded-top`}\n          >\n            <Pane\n              width={widthConfig.start}\n              className='text-center overflow-auto'\n            >\n              <GraphList />\n            </Pane>\n            <Pane\n              width={activeChart ? widthConfig.middle : \"100%\"}\n              className={`border border-1 ${\n                userContext.userData.theme === \"dark\" ? \"border-secondary\" : \"\"\n              } border-top-0 border-bottom-0`}\n            >\n              <ChartContainer />\n            </Pane>\n            {activeChart && (\n              <Pane width={widthConfig.end} className='position-relative'>\n                <button\n                  className='btn btn-sm btn-bni position-absolute'\n                  style={{\n                    left: \"-30px\",\n                    paddingBottom: \"2px\",\n                    ...(widthConfig.expanded\n                      ? { borderRadius: \"0\" }\n                      : { borderRadius: \"0 0.25rem 0 0\" }),\n                  }}\n                  onClick={() => toggleEndPane()}\n                >\n                  <i\n                    className={`fa fa-arrow-${\n                      widthConfig.expanded ? \"right\" : \"left\"\n                    }`}\n                  />\n                </button>\n                <div\n                  className=''\n                  style={{\n                    ...(widthConfig.expanded\n                      ? { display: \"block\" }\n                      : { display: \"none\" }),\n                  }}\n                >\n                  <ChartOptions />\n                </div>\n              </Pane>\n            )}\n          </VerticalPanes>\n          <SheetPane />\n        </div>\n      </WorkbookContext.Provider>\n    </Suspense>\n  );\n};\n\nexport default Workbook;\n"],"names":["appThemeBgColor","appThemeColor","tooltip","d3","append","attr","style","animationList","id","value","CHART_TYPES","CHART_SIZE","minWidth","maxWidth","minHeight","maxHeight","WORKBOOK_CONFIG","chartLimit","Math","pow","sheetLimit","React","VerticalPanes","lazy","then","module","default","Pane","SheetPane","FeatureNotAvailable","GraphList","ChartContainer","ChartOptions","props","_userContext$userConf","intl","useIntl","globalContext","useContext","GlobalContext","document","title","appName","formatMessage","defaultMessage","workbookRef","useRef","userContext","UserContext","defaultSheet","uuidv4","order","label","charts","zoom","sheets","setSheets","useState","activeSheet","setActiveSheet","activeChart","setActiveChart","savedQueryList","setSavedQueryList","widthConfig","setWidthConfig","start","middle","end","expanded","file","setFile","name","appId","userConfig","isSaved","saveLoading","setSaveLoading","savedWorkbooks","setSavedWorkbooks","fetchSavedQueryList","formdata","FormData","apiInstance","post","_ref","data","response","catch","e","renderToast","type","icon","position","message","deleteChart","newSheet","map","sheet","filter","f","prev","onUnload","preventDefault","stopImmediatePropagation","returnValue","handleDelete","event","key","activeElement","classList","body","current","includes","useEffect","window","addEventListener","capture","removeEventListener","length","every","_jsx","Suspense","fallback","className","children","Loader","_jsxs","WorkbookContext","Provider","theme","userData","cloneChart","async","_sheets$filter$","chartId","updatedSheet","cObj","x","y","z","setTimeout","ref","webMenuType","width","left","paddingBottom","borderRadius","onClick","display"],"sourceRoot":""}