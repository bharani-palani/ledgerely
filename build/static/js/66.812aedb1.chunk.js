(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[66],{1256:function(e,s,t){"use strict";t.r(s);var a=t(25),c=t(1),n=t(1289),i=t(249),d=t(46),l=t(39),j=t(60),r=t(1268),b=t(0),o=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("i",{className:"fa fa-check fa-2x pt-2 text-success"}),Object(b.jsxs)("div",{className:"ps-2",children:[Object(b.jsx)("div",{className:"fs-3",children:Object(b.jsx)(r.a,{id:"success",defaultMessage:"success"})}),Object(b.jsx)("div",{className:"fs-6",children:Object(b.jsx)(r.a,{id:"paymentReceived",defaultMessage:"paymentReceived"})})]})]})})},x=function(){return Object(b.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(b.jsx)("div",{children:Object(b.jsx)("span",{className:"fs-6",children:Object(b.jsx)(r.a,{id:"paymentSuccessMessage",defaultMessage:"paymentSuccessMessage"})})})})},f=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("i",{className:"fa fa-times-circle fa-2x pt-2 text-danger"}),Object(b.jsxs)("div",{className:"ps-2",children:[Object(b.jsx)("div",{className:"fs-3",children:Object(b.jsx)(r.a,{id:"failed",defaultMessage:"failed"})}),Object(b.jsx)("div",{className:"fs-6",children:Object(b.jsx)(r.a,{id:"paymentNotReceived",defaultMessage:"paymentNotReceived"})})]})]})})},u=function(e){var s=e.sessionId;return Object(b.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(b.jsx)("div",{children:Object(b.jsx)("span",{className:"fs-6",children:Object(b.jsx)(r.a,{id:"paymentFailMessage",defaultMessage:"paymentFailMessage"})})}),Object(b.jsx)("a",{href:"?session_id=".concat(s),className:"btn btn-sm btn-primary rounded-pill",children:Object(b.jsx)(r.a,{id:"retry",defaultMessage:"retry"})})]})},p=t(224);s.default=function(e){var s=Object(c.useContext)(l.a),t=Object(c.useContext)(i.BillingContext),h=Object(c.useContext)(j.a),O=t.sessionId,m=t.showSessionPopup,g=t.setShowSessionPopup;return Object(c.useEffect)((function(){if(O){var e=new FormData;e.append("sessionId",O),e.append("appId",s.userConfig.appId),d.a.post("/payments/checkoutSession",e).then((function(e){var t=e.data.response,c=t.status,n=t.newExpiry,i=t.sessionId;c&&n?(s.setUserConfig(Object(a.a)(Object(a.a)({},s.userConfig),{expiryDateTime:n})),h.setConfig({show:!0,className:"alert-success border-0 text-dark",type:"success",dismissible:!0,heading:Object(b.jsx)(o,{}),content:Object(b.jsx)(x,{})}),p.a.push("/billing")):h.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!1,heading:Object(b.jsx)(f,{}),content:Object(b.jsx)(u,{sessionId:i})})})).catch((function(e){return console.log("bbb",e)})).finally((function(){return g(!1)}))}}),[O]),Object(b.jsxs)(n.a,{show:m,onHide:function(){return g(!1)},style:{zIndex:9999},children:[Object(b.jsx)(n.a.Header,{closeButton:!0,children:Object(b.jsxs)(n.a.Title,{className:"d-flex align-items-center",children:[Object(b.jsx)("i",{className:"px-2 fa-1x fa fa-thumbs-up"}),Object(b.jsx)("span",{children:Object(b.jsx)(r.a,{id:"pleaseWait",defaultMessage:"pleaseWait"})})]})}),Object(b.jsx)(n.a.Body,{className:"rounded-bottom ".concat("dark"===s.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("div",{children:Object(b.jsx)(r.a,{id:"doNotRefresh",defaultMessage:"doNotRefresh"})}),Object(b.jsx)("div",{className:"p-5",children:Object(b.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-5x fa-fw"})})]})})]})}}}]);