(this["webpackJsonpbni-apps"]=this["webpackJsonpbni-apps"]||[]).push([[21,4,23],{105:function(e,t,a){"use strict";var n=a(28),c=a(25),r=a(42),s=a(30),o=a(35),i=a(27),l=a(1),d=a(92),u=a(0),b=["info","checked","marker"],p=function(e){var t=e.info,a=e.checked,r=e.marker,s=Object(n.a)(e,b);return Object(u.jsxs)("label",{className:"checkBoxComponent",children:[Object(u.jsx)("span",{children:t.value}),r&&Object(u.jsx)("span",{className:"sup",children:"*"}),Object(u.jsx)("input",Object(c.a)({checked:a,type:"checkbox"},s)),Object(u.jsx)("span",{className:"checkmark"})]})};p.defaultProps={checked:!1};var f=p,m=a(1269),j=a(435),_=a(1251),h=a(1287),O=["placement","arrowProps","show","popper","hasDoneInitialMeasure"],g=function(e){var t=e.index,a=e.type,b=e.primaryKey,p=e.searchable,j=e.element,g=e.value,x=e.placeholder,v=e.onChange,y=e.intl,M=e.theme,D=Object(l.useRef)(null),w=Object(l.useState)(!1),P=Object(i.a)(w,2),C=P[0],N=P[1],S=Object(l.useRef)(),E=function(){return y.formatMessage({id:x,defaultMessage:x})},T=function(){var e=g,t=j.fetch.dropDownList;return e="single"===a?(e=t.length>0&&t.filter((function(e){return e.id===g}))).length>0?e[0].value:E():"object"===typeof e&&e.length>0?e.map((function(e){return e.toString()})):[],[t,e]},k=T(),I=Object(i.a)(k,2),A=I[0],Y=I[1],R=A.map((function(e){return e.checked=e.id&&(Array.isArray(Y)?Y.filter((function(t){return t.toString()===e.id.toString()})).length>0:Y===e.value),e})),L="single"===a?A:R,B=Object(l.useState)(L),K=Object(i.a)(B,2),W=K[0],U=K[1],F=Object(l.useState)(Y),V=Object(i.a)(F,2),H=V[0],z=V[1],G=Object(l.useState)(""),q=Object(i.a)(G,2),X=q[0],J=q[1],Z=Object(l.useState)(Y),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1];Object(l.useEffect)((function(){var e=T(),t=Object(i.a)(e,2),n=t[0],c=t[1],r=n.map((function(e){return e.checked=e.id&&(Array.isArray(c)?c.filter((function(t){return t.toString()===e.id.toString()})).length>0:c===e.value),e}));U("single"===a?n:r),z(c),ee(c)}),[j]),Object(l.useEffect)((function(){"multiple"===a&&z(ne(Y))}),[Y]);var te=function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(t),a=A.filter((function(e){return e.value.toString().toLowerCase().includes(t.toString().toLowerCase())})),e.next=4,U(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){J(""),te("")},ne=function(e){var t=e.length>0&&A.filter((function(t){return t.id===e[0]}));return 1===t.length?(t=t[0].value,e.length>1?"".concat(t," + ").concat(e.length-1," more..."):t):E()},ce=function(e,a){var n=e.target.checked,s=a.id&&n?[].concat(Object(r.a)($),[a.id]):$.filter((function(e){return e!==a.id}));s=Object(r.a)(new Set(s));var o=W.map((function(e){return s.includes(e.id)?Object(c.a)(Object(c.a)({},e),{},{checked:!0}):Object(c.a)(Object(c.a)({},e),{},{checked:!1})}));U(o),ee(s),z(ne(s)),v(t,s,b)};return Object(l.useEffect)((function(){C&&S.current&&S.current.focus()}),[C]),Object(u.jsxs)("div",{ref:D,className:"filterSelectComponent ".concat(M),children:[Object(u.jsxs)("div",{onClick:function(){return N(!C)},className:"selected ".concat(C?"yes":"no"),children:[Object(u.jsx)("div",{className:"string",title:H,children:H||y.formatMessage({id:x,defaultMessage:x})}),Object(u.jsx)("div",{children:Object(u.jsx)(d.a,{className:"caretIcon ".concat(C?"down":"up"),entity:"&#9662;"})})]}),Object(u.jsx)(_.a,{target:D.current,show:C,placement:"bottom",rootClose:!0,rootCloseEvent:"click",onHide:function(e){return N(!1)},children:function(e){e.placement,e.arrowProps,e.show,e.popper,e.hasDoneInitialMeasure;var r=Object(n.a)(e,O);return Object(u.jsxs)("div",Object(c.a)(Object(c.a)({},r),{},{className:"wrapperFS ".concat(M),style:Object(c.a)({width:"".concat(null===D||void 0===D?void 0:D.current.clientWidth,"px")},r.style),children:[p&&Object(u.jsxs)("div",{className:"searchContent d-flex align-items-center",children:[Object(u.jsx)(h.a.Control,{className:"inputText",onChange:function(e){e.preventDefault(),te(e.target.value)},placeholder:y.formatMessage({id:"searchHere",defaultMessage:"searchHere"}),type:"text",value:X,autoFocus:!0}),X&&Object(u.jsx)(d.a,{onClick:ae,className:"icon",entity:"&#10006;"})]}),Object(u.jsx)("div",{className:"listWrapper",style:{maxHeight:"20rem"},children:Object(u.jsx)("ul",{children:W.length>0?W.map((function(e,n){return Object(u.jsx)("li",{className:e.checked?"selectedSingle":"",children:"multiple"===a?Object(u.jsx)(f,{onChange:function(t){return ce(t,e)},checked:e.checked,marker:e.marker,info:e},n):Object(u.jsxs)("div",{onClick:function(){return v(t,(n=e).id,b),z(n.value),void("single"===a&&N(!1));var n},children:[e.value,e.marker&&Object(u.jsx)("span",{className:"sup",children:"*"})]})},n)})):Object(u.jsx)("li",{className:"textCenter",children:Object(u.jsx)(m.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})})})]}))}})]})};g.defaultProps={type:"single",searchable:!0,placeholder:"select",theme:""};t.a=Object(j.c)(g)},1242:function(e,t,a){"use strict";a.r(t),a.d(t,"NoContent",(function(){return B})),a.d(t,"DraggerText",(function(){return K}));var n=a(25),c=a(42),r=a(27),s=a(1),o=a(46),i=a(368),l=a(39),d=a(1269),u=a(779),b=a(50),p=a.n(b),f=a(48),m=a(52),j=a.n(m),h=a(202),O=a(0),g=function(e){var t=e.width,a=e.recentData,n=e.intlHeader;return Object(O.jsx)("div",{className:"pb-2",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"fs-6 py-2",children:Object(O.jsx)(K,{children:Object(O.jsx)(d.a,{id:n,defaultMessage:n})})}),(null===a||void 0===a?void 0:a.length)>0&&Object(O.jsx)(h.VerticalBarChart,{width:t,height:150,data:a,marginLeft:50,marginBottom:0,marginTop:20,showXaxis:!1,showYaxis:!0,showYaxisLabel:!1,padding:.75,yTicks:4,style:{maxWidth:"100%",boxShadow:"none"},showAnimation:!1,fontSize:10}),0===(null===a||void 0===a?void 0:a.length)&&Object(O.jsx)(B,{})]})})},x=a(1272),v=a(937),y=a(372),M=function(e){var t=e.totalHoldings,a=Object(s.useState)(!1),n=Object(r.a)(a,2),c=n[0],o=n[1];return Object(O.jsxs)(y.a,{className:"bni-border bni-border-all dashboardCard",children:[Object(O.jsx)(y.a.Body,{className:"bni-bg rounded-top text-center p-4",children:Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100 p-3",children:Object(O.jsx)("div",{className:"fs-6 py-1",children:Object(O.jsx)("i",{className:"fa fa-3x fa-cubes d-block"})})})}),Object(O.jsx)(y.a.Body,{className:"text-center",children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("span",{style:c?{}:{filter:"blur(5px)"},children:f.a.countryCurrencyLacSeperator(t[0].locale,t[0].currency,P(t[0].data,"Balance"))}),Object(O.jsx)("i",{className:"fa fa-eye".concat(c?"":"-slash"," cursor-pointer"),onClick:function(){return o(!c)}})]})})]})},D=function(e){var t=e.bank,a=Object(s.useState)(!1),n=Object(r.a)(a,2),c=n[0],o=n[1];return Object(O.jsxs)(y.a,{className:"bni-border bni-border-all dashboardCard",children:[Object(O.jsxs)(y.a.Body,{className:"bni-bg rounded-top text-center",children:[Object(O.jsx)("i",{className:"fa fa-3x fa-bank"}),Object(O.jsx)("div",{className:"fs-6 py-1",children:Object(O.jsx)("span",{className:"badge bg-dark",children:t.Bank})}),Object(O.jsx)("div",{className:"small",children:t.BankAccountNumber})]}),Object(O.jsx)(y.a.Body,{children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("span",{style:c?{}:{filter:"blur(5px)"},children:f.a.countryCurrencyLacSeperator(t.Locale,t.Currency,Number(t.Balance,2))}),Object(O.jsx)("i",{className:"fa fa-eye".concat(c?"":"-slash"," cursor-pointer"),onClick:function(){return o(!c)}})]})})]})},w=function(e){var t=e.ccOut,a=Object(s.useState)(!1),n=Object(r.a)(a,2),c=n[0],o=n[1];return Object(O.jsxs)(y.a,{className:"bni-border bni-border-all bni-border-all-1 mb-2",children:[Object(O.jsx)(y.a.Body,{className:"bni-bg rounded-top p-2",children:t.cardName}),Object(O.jsx)(y.a.Body,{className:"p-2 rounded-bottom",children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("span",{style:c?{}:{filter:"blur(5px)"},children:f.a.countryCurrencyLacSeperator(t.Locale,t.Currency,t.total)}),Object(O.jsx)("i",{className:"fa fa-eye".concat(c?"":"-slash"," cursor-pointer"),onClick:function(){return o(!c)}})]})})]})},P=function(e,t){return e.length>0?e.reduce((function(e,a){return Number(e)+Number(a[t])||0}),0):0},C=function(e){var t=e.bankList,a=e.totalHoldings,n=e.ccOutstandingList,c=e.intlHeader;return Object(O.jsxs)(x.a,{className:"pb-2",children:[Object(O.jsxs)(v.a,{lg:8,md:6,children:[Object(O.jsx)("div",{className:"fs-6 py-2",children:Object(O.jsx)(K,{children:Object(O.jsx)(d.a,{id:c,defaultMessage:c})})}),t.length>0?Object(O.jsx)("div",{className:"x-scroll pb-2",children:Object(O.jsx)("div",{className:"",style:{display:"grid",gridTemplateColumns:"repeat(".concat(t.length,", 250px)"),columnGap:"15px"},children:t.map((function(e,t){return Object(O.jsx)(D,{bank:e},t)}))})}):Object(O.jsx)(B,{})]}),Object(O.jsxs)(v.a,{lg:2,md:3,children:[Object(O.jsx)("div",{className:"py-2",children:Object(O.jsx)(K,{children:Object(O.jsx)(d.a,{id:"totalHoldings",defaultMessage:"totalHoldings"})})}),a.length>0?Object(O.jsx)("div",{children:a.length>1?Object(O.jsx)("div",{className:"y-scroll max-h-12 pe-2 py-1",children:a.map((function(e,t){return Object(O.jsxs)(y.a,{className:"bni-border bni-border-all bni-border-all-1 mb-2",children:[Object(O.jsxs)(y.a.Body,{className:"bni-bg rounded-top p-2",children:[Object(O.jsx)("i",{className:"fa fa-1x fa-cubes pe-2"}),e.currency]}),Object(O.jsx)(y.a.Body,{className:"p-2 rounded-bottom",children:f.a.lacSeperator(P(e.data,"Balance"),e.locale)})]},t)}))}):Object(O.jsx)(M,{totalHoldings:a})}):Object(O.jsx)(B,{})]}),Object(O.jsxs)(v.a,{lg:2,md:3,children:[Object(O.jsx)("div",{className:"fs-6 py-2",children:Object(O.jsx)(K,{children:Object(O.jsx)(d.a,{id:"creditCardPayable",defaultMessage:"creditCardPayable"})})}),n.length>0?Object(O.jsx)("div",{className:"y-scroll max-h-12 pe-2 py-1",children:n.map((function(e,t){return Object(O.jsx)(w,{ccOut:e},t)}))}):Object(O.jsx)(B,{})]})]})},N=function(e){var t=e.chartData,a=e.intlHeader;return Object(O.jsxs)(x.a,{children:[Object(O.jsx)(v.a,{lg:12,className:"fs-6 py-3",children:Object(O.jsx)(K,{children:Object(O.jsx)(d.a,{id:a,defaultMessage:a})})}),t&&t.length>0&&t.map((function(e,t){return Object(O.jsx)(v.a,{lg:3,md:6,className:"text-center pb-3",children:Object(O.jsx)(h.DonutChart,{width:200,height:200,outerRadius:100,innerRadius:80,xAxisLabel:e.key,showLegend:!1,showTooltip:!0,fillColor:[document.documentElement.style.getPropertyValue("--app-theme-bg-color"),document.documentElement.style.getPropertyValue("--app-theme-color")],data:e.data,showAnimation:!1})},t)}))]})},S=function(e){var t=e.chartData,a=e.intlHeader;return Object(O.jsxs)(x.a,{className:"pb-2",children:[Object(O.jsx)(v.a,{lg:12,className:"fs-6 py-3",children:Object(O.jsx)(K,{children:Object(O.jsx)(d.a,{id:a,defaultMessage:a})})}),t&&t.length>0&&t.map((function(e,t){return Object(O.jsxs)(v.a,{lg:3,md:6,className:"text-center",children:[Object(O.jsx)(h.PieChart,{width:200,height:200,outerRadius:100,innerRadius:80,xAxisLabel:e.key,showXaxisLabel:!1,showYaxisLabel:!1,fillColor:[document.documentElement.style.getPropertyValue("--app-theme-bg-color"),document.documentElement.style.getPropertyValue("--app-theme-color")],data:e.data,showAnimation:!1}),Object(O.jsx)("div",{className:"py-2",children:Object(O.jsx)("small",{children:Object(O.jsx)(d.a,{id:e.key,defaultMessage:e.key})})})]},t)}))]})},E=a(376),T=a(1245),k="BANK_HOLD",I="REC_TRX",A="TOP_BANKINGS",Y="TOP_CREDIT_CARDS",R=a(187),L=a.n(R),B=function(){return Object(O.jsx)("div",{className:"dashboardCard bni-bg d-flex align-items-center rounded",children:Object(O.jsx)("div",{className:"text-center w-100",children:Object(O.jsx)(d.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})})},K=function(e){var t=e.children,a=Object(s.useContext)(l.a);return Object(O.jsxs)("div",{className:"badge ".concat("dark"===a.userData.theme?"bg-secondary text-white":"bg-light text-dark"),style:{cursor:"grabbing"},children:[Object(O.jsx)("span",{className:"pe-1",children:":::"}),t]})};t.default=function(e){var t=Object(s.useRef)(null),a=Object(u.a)(),b=Object(s.useContext)(i.AccountContext),m=Object(s.useContext)(l.a),h=Object(s.useState)([]),x=Object(r.a)(h,2),v=x[0],y=x[1],M=Object(s.useState)([]),D=Object(r.a)(M,2),w=D[0],P=D[1],R=Object(s.useState)([]),B=Object(r.a)(R,2),K=B[0],W=B[1],U=Object(s.useState)([]),F=Object(r.a)(U,2),V=F[0],H=F[1],z=Object(s.useState)([]),G=Object(r.a)(z,2),q=G[0],X=G[1],J=Object(s.useState)({}),Z=Object(r.a)(J,2),Q=Z[0],$=Z[1],ee=Object(s.useState)([]),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce=Object(s.useState)(!0),re=Object(r.a)(ce,2),se=re[0],oe=re[1],ie=Object(s.useState)(!1),le=Object(r.a)(ie,2),de=le[0],ue=le[1],be=Object(s.useState)([{id:k,intlHeader:"bankHoldings",isActive:!0},{id:I,intlHeader:"recentTransactions",isActive:!0},{id:A,intlHeader:"topBankingTrends",isActive:!0},{id:Y,intlHeader:"topCreditCardTrends",isActive:!0}]),pe=Object(r.a)(be,2),fe=pe[0],me=pe[1],je=Object(s.useState)([]),_e=Object(r.a)(je,2),he=_e[0],Oe=_e[1],ge=Object(s.useState)([]),xe=Object(r.a)(ge,2),ve=xe[0],ye=xe[1],Me=function(){return Object(O.jsx)("div",{className:"relativeSpinner middle",children:Object(O.jsx)(j.a,{type:f.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})};Object(s.useEffect)((function(){if(m.userConfig.appId){oe(!0);var e=new FormData;e.append("appId",m.userConfig.appId);var t=o.a.post("/account_planner/getTotalHoldings",e),n=new FormData;n.append("appId",m.userConfig.appId),n.append("month",p()().format("M")),n.append("year",p()().format("YYYY"));var c=o.a.post("/dashboard/topTrends",n),r=o.a.post("/dashboard/recentTransactions",e),s=o.a.post("/dashboard/topCcTrends",n);Promise.all([t,c,r,s]).then((function(e){y(e[0].data.response.result.bankBalance),P(e[0].data.response.result.creditBalance),H(e[1].data.response),ne(e[2].data.response),X(e[3].data.response)})).catch((function(){b.renderToast({type:"error",icon:"fa fa-times-circle",message:a.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})})).finally((function(){return oe(!1)}))}}),[m.userConfig.appId]),Object(s.useEffect)((function(){var e=_.chain(v).groupBy((function(e){return"".concat(e.Currency,"{-}").concat(e.Locale)})).map((function(e,t){return{currency:t.split("{-}")[0],locale:t.split("{-}")[1],data:e}})).value();W(e)}),[v]),Object(s.useEffect)((function(){var e=Object.entries(V).map((function(e){return{key:a.formatMessage({id:e[0],defaultMessage:e[0]}),data:e[1].map((function(e){return{label:e.name,value:Number(e.total)}}))}})),t=Object.entries(q).map((function(e){return{key:a.formatMessage({id:e[0],defaultMessage:e[0]}),data:e[1].map((function(e){return{label:e.name,value:Number(e.total)}}))}}));$({donutChartData:e,pieChartData:t})}),[V,q,a]),Object(s.useEffect)((function(){if(!se){var e=[{id:k,component:C,props:{bankList:v,totalHoldings:K,ccOutstandingList:w,intlHeader:"bankHoldings"},order:0},{id:I,component:g,props:{recentData:ae,width:t.current.offsetWidth,intlHeader:"recentTransactions"},order:1},{id:A,component:N,props:{chartData:Q.donutChartData,intlHeader:"topBankingTrends"},order:2},{id:Y,component:S,props:{chartData:Q.pieChartData,intlHeader:"topCreditCardTrends"},order:3}];Oe(e),ye(e)}}),[se,ae,v,K,w,Q,a]);var De=Object(E.b)((function(e){var t=e.children;return Object(O.jsx)("div",{className:"",children:t})})),we=function(e){var t=fe.map((function(t){return t.id===e&&(t.isActive=!t.isActive),t}));me(t)};return Object(s.useEffect)((function(){var e=fe.filter((function(e){return e.isActive})).map((function(e){return e.id})),t=Object(c.a)(he).filter((function(t){return e.includes(t.id)})).map((function(e,t){return Object(n.a)(Object(n.a)({},e),{},{order:t})}));ye(t)}),[he,fe]),se?Object(O.jsx)(Me,{}):Object(O.jsxs)("div",{className:"mb-2 container-fluid",ref:t,children:[Object(O.jsx)("div",{className:"bg-gradient ".concat("dark"===m.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill mb-2"),children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("i",{className:"fa fa-pie-chart fa-1x"}),Object(O.jsx)("div",{className:"ps-2 mb-0",children:Object(O.jsx)(d.a,{id:"dashboard",defaultMessage:"dashboard"})})]}),Object(O.jsx)("div",{className:"globalHeader",children:Object(O.jsxs)(T.a,{show:de,drop:"end",onToggle:function(e,t){"select"!==t.source&&ue(e)},children:[Object(O.jsx)(T.a.Toggle,{as:"div",className:"pe-2",children:Object(O.jsx)("i",{className:"fa fa-cog icon-bni cursor-pointer"})}),Object(O.jsx)(T.a.Menu,{className:"mt-3 pe-3 ".concat("dark"===m.userData.theme?"bg-dark text-white-50":"bg-white text-black"),children:fe.map((function(e,t){return Object(O.jsxs)(T.a.Item,{as:"div",className:"".concat("dark"===m.userData.theme?"bg-dark text-white-50":"bg-white text-black"),children:[Object(O.jsx)(L.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:document.documentElement.style.getPropertyValue("--app-theme-color"),offHandleColor:"dark"===m.userData.theme?"#555":"#ddd",onHandleColor:"dark"===m.userData.theme?"#555":"#ddd",handleDiameter:15,checkedIcon:!1,uncheckedIcon:!1,height:10,width:30,onChange:function(t){we(e.id)},checked:e.isActive,disabled:1===ve.length&&e.isActive}),Object(O.jsx)("span",{className:"ps-2",style:1===ve.length&&e.isActive?{opacity:"0.25",cursor:"not-allowed"}:{cursor:"pointer"},onClick:function(t){(1!==ve.length||!e.isActive)&&we(e.id)},children:a.formatMessage({id:e.intlHeader,defaultMessage:e.intlHeader})})]},t)}))})]})})]})}),Object(O.jsx)(s.Suspense,{fallback:Object(O.jsx)(Me,{}),children:document.body.clientWidth>450?Object(O.jsx)(De,{onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex,n=Object(E.a)(ve,t,a);ye(n)},lockAxis:"y",pressDelay:200,children:ve.map((function(e,t){var a=Object(E.c)(e.component);return Object(O.jsx)(a,Object(n.a)({index:t},e.props),t)}))}):ve.map((function(e,t){var a=e.component;return Object(O.jsx)(a,Object(n.a)({index:t},e.props),t)}))})]})}},193:function(e,t,a){"use strict";var n=a(25),c=a(42),r=a(27),s=a(1),o=a(0),i=function(e){var t=e.totalPages,a=e.maxPagesToShow,i=e.selectedPageString,l=e.onSetPage,d=Object(s.useState)(e.currentPage),u=Object(r.a)(d,2),b=u[0],p=u[1],f=function(e){return Array.from({length:e},(function(e,t){return++t}))},m=Object(s.useState)(f(t)),j=Object(r.a)(m,2),_=j[0],h=j[1];Object(s.useEffect)((function(){h(f(t));var e="first"===i?1:t;p(e),l(e)}),[t]),Object(s.useEffect)((function(){var e=[];a<t&&b>0&&(b<t-a?(e=[].concat(Object(c.a)(g(a,b)),["...",t]),h(e)):(e=Object(c.a)(g(a+1,t-a)),h(e)))}),[b]);var O=function(e){p(e),l(e)},g=function(e,t){return Array(e).fill().map((function(e,a){return t+a}))};return _.length>0&&Object(o.jsxs)("ul",{className:"page",children:[Object(o.jsx)("li",{onClick:function(){return b>1?O(1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<<"}),Object(o.jsx)("li",{onClick:function(){return b>1?O(b-1):null},className:"lt ".concat(b>1?"":"disabled"),children:"<"}),_.map((function(e,a){return Object(o.jsx)("li",Object(n.a)(Object(n.a)({onClick:function(){return!isNaN(e)&&e<=t?O(e):null}},e===b&&{className:"active"}),{},{children:e}),function(e){return"page-".concat(e)}(a))})),Object(o.jsx)("li",{onClick:function(){return b<t?O(b+1):null},className:"gt ".concat(b===t?"disabled":""),children:">"}),Object(o.jsx)("li",{onClick:function(){return b<t?O(t):null},className:"gt ".concat(b===t?"disabled":""),children:">>"})]})};i.defaultProps={},t.a=i},194:function(e,t,a){"use strict";var n=a(27),c=a(1),r=a(92),s=a(779),o=a(0),i=function(e){var t=Object(s.a)(),a=e.defaultRecordsPerPage,i=e.config,l=e.onSearchChange,d=e.onDropDownChange,u=e.onDismissSearch,b=e.theme,p=Object(c.useState)(!1),f=Object(n.a)(p,2),m=f[0],j=f[1],_=Object(c.useState)(""),h=Object(n.a)(_,2),O=h[0],g=h[1],x=Object(c.useState)(a),v=Object(n.a)(x,2),y=v[0],M=v[1],D=Object(c.useRef)(null),w=Array.from({length:10},(function(e,t){return++t})).map((function(e,t){return t>=0&&t<=2?e*a:t>=3&&t<=5?e*a*5:t>=6&&t<=9?e*a*10:null})),P=function(e){D.current&&!D.current.contains(e.target)&&j(!1)};Object(c.useEffect)((function(){return document.addEventListener("click",P,!0),function(){document.removeEventListener("click",P,!0)}}),[]);return Object(o.jsxs)("div",{className:"group-input",children:[Object(o.jsxs)("div",{className:"inputWrapper",children:[Object(o.jsx)("input",{onChange:function(e){return function(e){var t=e.target.value;l(t),g(t)}(e)},placeholder:i.header.searchPlaceholder,type:"text",value:O,className:"join-input ".concat(b)}),O&&Object(o.jsx)(r.a,{onClick:function(){u(),g("")},className:"dismiss",entity:"&#215;"})]}),Object(o.jsxs)("div",{ref:D,onClick:function(){return j(!m)},title:t.formatMessage({id:"showNRecordsPerPage",defaultMessage:"showNRecordsPerPage"},{n:y}),className:"join-select",children:[Object(o.jsx)("div",{style:m?{borderBottomRightRadius:0}:{borderBottomRightRadius:"5px"},className:"selected",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:y}),Object(o.jsx)(r.a,{className:"icon up",entity:"&#9662;"})]})}),m&&Object(o.jsx)("ul",{children:w.map((function(e,t){return Object(o.jsx)("li",{onClick:function(){return M(t=e),void d(t);var t},children:e},t)}))})]})]})};i.defaultProps={property:"String name"},t.a=i},202:function(e,t,a){"use strict";a.r(t),a.d(t,"VerticalBarChart",(function(){return c})),a.d(t,"PannableChart",(function(){return r})),a.d(t,"DivergingBarChart",(function(){return s})),a.d(t,"ZoomableCirclePackingChart",(function(){return o})),a.d(t,"HorizontalBarChart",(function(){return i})),a.d(t,"StackedVerticalBarChart",(function(){return l})),a.d(t,"PieChart",(function(){return d})),a.d(t,"DonutChart",(function(){return u})),a.d(t,"ScatterPlotChart",(function(){return b})),a.d(t,"DensityChart",(function(){return p})),a.d(t,"BoxPlotChart",(function(){return f})),a.d(t,"LineChart",(function(){return m})),a.d(t,"VoronoiChart",(function(){return j})),a.d(t,"CircularBarChart",(function(){return _})),a.d(t,"WordCloudChart",(function(){return h})),a.d(t,"CircleShape",(function(){return O})),a.d(t,"TriangleShape",(function(){return g})),a.d(t,"SquareShape",(function(){return x})),a.d(t,"DiamondShape",(function(){return v})),a.d(t,"Tshape",(function(){return y})),a.d(t,"HorizontalArrowShape",(function(){return M})),a.d(t,"DoubleArrowShape",(function(){return D})),a.d(t,"ParllelogramShape",(function(){return w})),a.d(t,"CylinderShape",(function(){return P})),a.d(t,"DirectionArrowShape",(function(){return C})),a.d(t,"SmileyEmoji",(function(){return N})),a.d(t,"LineShape",(function(){return S}));var n=a(1),c=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(54)]).then(a.bind(null,591))})),r=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(46)]).then(a.bind(null,592))})),s=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(39)]).then(a.bind(null,593))})),o=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(57)]).then(a.bind(null,594))})),i=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(43)]).then(a.bind(null,595))})),l=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(51)]).then(a.bind(null,596))})),d=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(48)]).then(a.bind(null,597))})),u=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(40)]).then(a.bind(null,598))})),b=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(30)]).then(a.bind(null,627))})),p=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(69)]).then(a.bind(null,634))})),f=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(33)]).then(a.bind(null,622))})),m=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(44)]).then(a.bind(null,599))})),j=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(55)]).then(a.bind(null,600))})),_=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(35)]).then(a.bind(null,601))})),h=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(17),a.e(56)]).then(a.bind(null,624))})),O=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(34)]).then(a.bind(null,606))})),g=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(52)]).then(a.bind(null,607))})),x=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(50)]).then(a.bind(null,608))})),v=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(37)]).then(a.bind(null,635))})),y=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(53)]).then(a.bind(null,609))})),M=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(42)]).then(a.bind(null,610))})),D=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(41)]).then(a.bind(null,611))})),w=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(47)]).then(a.bind(null,612))})),P=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(36)]).then(a.bind(null,613))})),C=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(38)]).then(a.bind(null,614))})),N=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(49)]).then(a.bind(null,615))})),S=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(45)]).then(a.bind(null,616))}))},215:function(e,t,a){"use strict";var n=a(25),c=a(34),r=a(27),s=a(28),o=a(1),i=a(0),l=function(e){var t=e.index,a=e.primaryKey,n=e.onChange,c=e.element,s=e.value,l=t.i,d=t.j,u=Object(o.useState)(c.radio.radioList),b=Object(r.a)(u,1)[0],p=e.value||b.filter((function(e){return e.checked}))[0].value,f=Object(o.useState)(p),m=Object(r.a)(f,2),j=m[0],_=m[1];return Object(o.useEffect)((function(){_(s)}),[s]),Object(i.jsx)("div",{className:"radioComponent",children:b.length&&b.map((function(e,c){return Object(i.jsxs)("div",{className:"radioWrapper",children:[Object(i.jsx)("input",{type:"radio",onChange:function(c){_(c.target.value),n(t,e.value,a)},value:e.value,checked:e.value===j,name:"".concat(d,"-").concat(l),id:"".concat(d,"-").concat(c,"-").concat(l)})," ",Object(i.jsx)("span",{className:"checkmark"}),Object(i.jsx)("label",{htmlFor:"".concat(d,"-").concat(c,"-").concat(l),children:e.label})]},c)}))})};l.defaultProps={property:"String name"};var d=l,u=a(105),b=a(109),p=a.n(b),f=a(50),m=a.n(f),j=a(70),_=(a(235),a(321),["isPostable","config","index","value","element","primaryKey","onChange","placeholder","showDecrement","showIncrement","onDelete","onAddRow","theme"]);t.a=function(e){var t=Object(o.useContext)(j.a),a=e.isPostable,l=e.config,b=e.index,f=e.value,h=e.element,O=e.primaryKey,g=e.onChange,x=e.placeholder,v=e.showDecrement,y=e.showIncrement,M=e.onDelete,D=e.onAddRow,w=e.theme,P=Object(s.a)(e,_),C=Object(o.useRef)([]);C.current=[];var N=Object(o.useState)(f?new Date(f):new Date),S=Object(r.a)(N,2),E=S[0],T=S[1],k=Object(o.useState)(f?new Date(f):new Date),I=Object(r.a)(k,2),A=I[0],Y=I[1],R=function(e,t,a,n){g(t,a,n)};return Object(i.jsx)("div",{children:function(e,r,s,o){if("string"===typeof r)switch(r){case"textbox":return Object(i.jsx)("input",Object(n.a)({type:"text",placeholder:x,onBlur:function(t){return R(0,e,t.target.value,o)},className:"inputText ".concat(w),defaultValue:s},P));case"number":return Object(i.jsx)("input",Object(n.a)({type:"number",min:"0",step:".01",placeholder:x,ref:function(t){return function(e,t){t&&!C.current.includes(t)&&C.current.push(Object(c.a)({},e.i,t))}(e,t)},onBlur:function(t){return R(0,e,t.target.value,o)},className:"inputText ".concat(w),defaultValue:Number(s).toFixed(l.footer.total.maxDecimal)},P));case"textarea":return Object(i.jsx)("textarea",Object(n.a)({placeholder:x,onBlur:function(t){return R(0,e,t.target.value,o)},rows:"3",className:"inputText ".concat(w),defaultValue:s},P));case"label":default:return Object(i.jsx)("div",Object(n.a)(Object(n.a)({},P),{},{children:s}));case"boolean":return Object(i.jsxs)("div",Object(n.a)(Object(n.a)({},P),{},{className:"text-center",children:[("1"===s||"True"===s||"true"===s||!0===s)&&Object(i.jsx)("i",{className:"fa fa-check"}),("0"===s||"False"===s||"false"===s||!1===s)&&Object(i.jsx)("i",{className:"fa fa-times"})]}));case"relativeTime":return Object(i.jsx)("div",{children:m()(s||new Date).locale(t.localeLanguage).tz(m.a.tz.guess()).fromNow()});case"checkbox":return a?Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[v&&Object(i.jsx)("i",{onClick:function(){return M(e)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-times-circle text-danger cursor-pointer"}),y&&Object(i.jsx)("i",{onClick:function(){return D(!0)},style:{fontSize:"1.5rem",fontWeight:"700"},className:"fa fa-plus-circle text-success cursor-pointer"})]}):Object(i.jsx)("div",Object(n.a)(Object(n.a)({},P),{},{children:s}));case"date":return Object(i.jsx)(p.a,{value:E||new Date,format:"y-MM-dd",clearIcon:null,onChange:function(t){T(t),g(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)}(t),o)}});case"dateTime":return Object(i.jsx)(p.a,{value:A,format:"y-MM-dd H:mm:ss",clearIcon:null,onChange:function(t){Y(t),g(e,function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate()),e.getHours(),e.getMinutes(),e.getSeconds()],a=t[1],n=t[2],c=t[3],r=t[4],s=t[5];return c=c<10?"0"+c:c,r=r<10?"0"+r:r,s=s<10?"0"+s:s,"".concat(t[0],"-").concat(a,"-").concat(n," ").concat(c,":").concat(r,":").concat(s)}(t),o)}})}else if("object"===typeof r&&null!==r){switch(Object.keys(r)[0]){case"fetch":return Object(i.jsx)(u.a,{index:e,primaryKey:o,onChange:function(e,t,a){return g(e,t,a)},element:r,value:s,type:Array.isArray(s)?"multiple":"single",searchable:r.searchable,theme:w});case"radio":return Object(i.jsx)(d,{index:e,primaryKey:o,onChange:function(e,t,a){return g(e,t,a)},element:r,value:s},"".concat(e.i,"-").concat(e.j));default:return Object(i.jsx)("div",{children:"Unknown Element"})}}}(b,h,f,O)})}},368:function(e,t,a){"use strict";a.r(t),a.d(t,"AccountContext",(function(){return Se}));var n=a(30),c=a(35),r=a(27),s=a(1),o=a.n(s),i=a(52),l=a.n(i),d=a(48),u=a(42),b=a(495),p=a.n(b),f=a(50),m=a.n(f),j=a(240),_=a.n(j),h=a(1269),O=a(435),g=a(70),x=a(1272),v=a(937),y=a(0),M=Object(O.c)((function(e){var t=e.intl,a=Object(s.useContext)(Se),n=a.chartData,c=a.bankDetails,o=a.onMonthYearSelected,i=a.monthYearSelected,l=Object(s.useContext)(g.a),b=Object(s.useRef)(null),f=Object(s.useState)([]),j=Object(r.a)(f,2),O=j[0],M=j[1],D=Object(s.useState)([]),w=Object(r.a)(D,2),P=w[0],C=w[1],N=Object(s.useState)(0),S=Object(r.a)(N,2),E=S[0],T=S[1],k=Object(s.useState)({}),I=Object(r.a)(k,2),A=I[0],Y=I[1],R=getComputedStyle(document.documentElement).getPropertyValue("--bs-indigo"),L=getComputedStyle(document.documentElement).getPropertyValue("--bs-pink"),B="debit-card-income";Object(s.useEffect)((function(){T(b.current.clientWidth)}),[]),Object(s.useEffect)((function(){var e,t,r=n.map((function(e){return String(e.dated)}));r=Object(u.a)(new Set(r));var s=function(e){var t=e.category,a=e.total;return{month:e.dated,label:d.a.shorten(t,15),value:Number(a),isEmpty:Number(a)<=0}},o=r.map((function(e){var t=n.filter((function(t){return String(t.dated)===String(e)&&"Dr"===t.type})).map((function(e){return s(e)}));t=0===t.length?[s({category:"No Data",total:0,dated:null})]:t;var a=n.filter((function(t){return String(t.dated)===String(e)&&"Cr"===t.type})).map((function(e){return s(e)}));return a=0===a.length?[s({category:"No Data",total:0,dated:null})]:a,{month:e,cData:t,creditData:a}}));M(o);var i=function(e,t){var a=m()().isSame(e,"month"),n=0!==t?1:m()(e).daysInMonth(),c=m()("".concat(e.split("/")[0],"/").concat(e.split("/")[1],"/").concat(n)).toDate();return a?new Date:c},l=a.yearSelected,p=[{color:R,points:new Array(12).fill().map((function(e,t){return t>8?String(t+1):"0".concat(t+1)})).map((function(e){var t=d.a.monthToStr[e],a=n.filter((function(e){return"Cr"===e.type&&e.dated.split("-")[0].includes(t)})),c=m()("".concat(l,"/").concat(e,"/").concat(m()("".concat(l,"/").concat(e)).daysInMonth())).isBefore();return{month:m()("".concat(l,"/").concat(e,"/01")).format("MMM-YYYY"),x:m()("".concat(l,"/").concat(e,"/01")).format("YYYY-MM-DD"),z:m()(c?"".concat(l,"/").concat(e,"/").concat(m()("".concat(l,"/").concat(e)).daysInMonth()):m()()).format("YYYY-MM-DD"),y:a.length>0?a.reduce((function(e,t){return Number((Number(e)+Number(t.total)).toFixed(2))}),0):0,metricTotal:a.filter((function(e){return"1"===e.isIncomeMetric})).reduce((function(e,t){return Number(e)+Number(t.total)}),0),measureDate:i("".concat(l,"/").concat(e,"/01"),1)}}))},{color:L,points:new Array(12).fill().map((function(e,t){return t>8?String(t+1):"0".concat(t+1)})).map((function(e){var t=d.a.monthToStr[e],a=n.filter((function(e){return"Cr"===e.type&&e.dated.split("-")[0].includes(t)&&"1"===e.isIncomeMetric}));return{month:m()("".concat(l,"/").concat(e,"/01")).format("MMM-YYYY"),x:m()("".concat(l,"/").concat(e,"/01")).format("YYYY-MM-DD"),y:a.length>0?a.reduce((function(e,t){return Number((Number(e)+Number(t.total)).toFixed(2))}),0):0}}))}];C([]);var f=p[0].points.filter((function(e){return 0!==e.y})),j=new Date(null===(e=f[f.length-1])||void 0===e?void 0:e.z),_=new Date(null===(t=f[0])||void 0===t?void 0:t.x),h=K(_,j);setTimeout((function(){var e,t;C(p);var a=p[0].points.reduce((function(e,t){return e+t.metricTotal}),0),n=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/(40*h)||0,2),r=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/(5*h)||0,2),s=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a/h||0,2);Y({hourly:n,daily:r,weekly:s}),null!==(e=b.current)&&void 0!==e&&null!==(t=e.childNodes[2])&&void 0!==t&&t.childNodes[0]&&(b.current.childNodes[2].childNodes[0].style.height=260)}),1)}),[n,t,l]),Object(s.useEffect)((function(){if(P.length>0&&O.length>0){for(var e,t,a,n=function(e){var t=e.target.id;o(t)},c=null===(e=b.current)||void 0===e||null===(t=e.querySelector("#".concat(B," svg")))||void 0===t?void 0:t.getElementsByClassName("axis")[0].children,r=c&&(null===(a=Array.from(c))||void 0===a?void 0:a.filter((function(e){return e.classList.contains("tick")}))),s=0;s<r.length;s++)r[s].children[1].classList.remove("colored"),r[s].children[1].setAttribute("id",P[0].points[s].month),r[s].children[1].addEventListener("click",n);if(i){var l,d=r&&(null===(l=Array.from(r))||void 0===l?void 0:l.filter((function(e){return e.children[1].id===i}))[0]);d&&d.getElementsByTagName("text")[0].classList.add("colored")}return function(){for(var e=0;e<r.length;e++)r[e].children[1].removeEventListener("click",n)}}}),[i,P,O]);var K=function(e,t){var a=Math.floor((t-e)/864e5);return Math.ceil(a/7)||1},W=d.a.donutChartColors,U=function(e,t){var a=isFinite(Math[t].apply(Math,Object(u.a)(e)))?Math[t].apply(Math,Object(u.a)(e)):0;return a=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,a,2)},F=function(e){var a=e.i18Key,n=e.value;return Object(y.jsxs)("div",{className:"position-relative small py-4",children:[t.formatMessage({id:a,defaultMessage:a}),Object(y.jsx)("span",{title:n,className:"position-absolute top-0 start-50 translate-middle rounded-pill bni-bg bni-text w-100 py-2 text-break",children:n})]})};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{ref:b,children:P.length>0&&O.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"badge bni-bg bni-text",children:Object(y.jsx)(h.a,{id:"incomeMetrics",defaultMessage:"incomeMetrics"})}),Object(y.jsxs)(x.a,{className:"mt-3",children:[Object(y.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(y.jsx)(F,{i18Key:"total",value:function(e){var t=e.reduce((function(e,t){return e+t.metricTotal}),0);return t=d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,t,2)}(P[0].points)})}),Object(y.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(y.jsx)(F,{i18Key:"highest",value:U(P[0].points.filter((function(e){return 0!==e.metricTotal})).map((function(e){return e.metricTotal})),"max")})}),Object(y.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(y.jsx)(F,{i18Key:"lowest",value:U(P[0].points.filter((function(e){return 0!==e.metricTotal})).map((function(e){return e.metricTotal})),"min")})}),Object(y.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(y.jsx)(F,{i18Key:"weekly",value:A.weekly})}),Object(y.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(y.jsx)(F,{i18Key:"daily",value:A.daily})}),Object(y.jsx)(v.a,{lg:2,sm:4,xs:6,className:"py-2 text-center",children:Object(y.jsx)(F,{i18Key:"hourly",value:A.hourly})})]}),Object(y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(y.jsx)("div",{children:Object(y.jsxs)("span",{children:[Object(y.jsx)("i",{style:{color:R},className:"fa fa-circle me-2",title:t.formatMessage({id:"credit",defaultMessage:"credit"})}),t.formatMessage({id:"credit",defaultMessage:"credit"})]})}),Object(y.jsxs)("div",{className:"fst-italic text-wrap",children:[Object(y.jsx)("sup",{className:"text-danger",children:"*"}),t.formatMessage({id:"CreditInclusiveIncome",defaultMessage:"CreditInclusiveIncome"})]}),Object(y.jsx)("div",{children:Object(y.jsxs)("span",{children:[Object(y.jsx)("i",{style:{color:L},className:"fa fa-circle me-2",title:t.formatMessage({id:"income",defaultMessage:"income"})}),t.formatMessage({id:"income",defaultMessage:"income"})]})})]}),Object(y.jsx)(_.a,{data:P,id:B,margins:{top:50,right:E>450?80:30,bottom:50,left:135},width:E,isDate:!0,height:250,xLabel:t.formatMessage({id:"month",defaultMessage:"month"}),yLabel:"".concat(t.formatMessage({id:"credit",defaultMessage:"credit"})," & ").concat(t.formatMessage({id:"income",defaultMessage:"income"})),onPointHover:function(e){return d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:12,xDisplay:function(e,a){return function(e){var a="";if(E>450){var n=(a=m()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase(),c=e.getFullYear();a="".concat(t.formatMessage({id:n,defaultMessage:n})," ").concat(c)}else a=m()(e).format("M");return a}(e)},onPointClick:function(e,t){o(t.month)}})]})}),Object(y.jsx)("div",{className:"x-scroll",children:O.length>0&&Object(y.jsx)("div",{className:"d-flex align-items-center pt-2 ps-3",children:O.map((function(e,a){return Object(y.jsxs)("div",{className:"chartWrapper",children:[Object(y.jsx)("div",{className:"text-center pt-10 pb-10",children:Object(y.jsx)("button",{className:"btn btn-sm btn-bni ".concat(String(i)===String(e.month)?"active":""),onClick:function(){o(e.month)},children:"".concat(t.formatMessage({id:e.month.split("-")[0].toLowerCase(),defaultMessage:e.month.split("-")[0].toLowerCase()})," ").concat(e.month.split("-")[1])})}),Object(y.jsxs)("div",{className:"floatingChartWrapper",children:[a<1&&Object(y.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(y.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(y.jsx)(p.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:W,height:220,width:220,legend:!1,data:e.cData,formatValues:function(e,t){return"".concat(d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e,2))}})]}),Object(y.jsxs)("div",{className:"floatingChartWrapper",children:[a<1&&Object(y.jsx)("div",{className:"floatingChartHeader btn btn-sm btn-bni",children:Object(y.jsx)(h.a,{id:"income",defaultMessage:"income"})}),Object(y.jsx)(p.a,{strokeColor:"#000",innerRadius:.7,outerRadius:.9,clickToggle:!0,colors:W,height:220,width:220,legend:!1,data:e.creditData,formatValues:function(e,t){return"".concat(d.a.countryCurrencyLacSeperator(c[0].bank_locale,c[0].bank_currency,e,2))}})]})]},function(e){return"chart-".concat(e)}(a))}))})})]})})),D=a(25),w=(a(509),a(155)),P=a.n(w),C=Object(O.c)((function(e){var t,a=Object(s.useContext)(Se),n=Object(s.useContext)(g.a),c=e.data,o=e.intl,i=a.ccMonthYearSelected,l=a.ccDetails,u=a.setCcDetails,b=a.onCcMonthYearSelected,p=Object(s.useState)(0),f=Object(r.a)(p,2),j=f[0],O=f[1],x=Object(s.useState)([]),v=Object(r.a)(x,2),M=v[0],w=v[1],C=Object(s.useState)(!0),N=Object(r.a)(C,2),S=N[0],E=N[1],T=Object(s.useRef)(null),k=getComputedStyle(document.documentElement).getPropertyValue("--bs-danger"),I=getComputedStyle(document.documentElement).getPropertyValue("--bs-primary"),A=getComputedStyle(document.documentElement).getPropertyValue("--bs-success"),Y=getComputedStyle(document.documentElement).getPropertyValue("--bs-warning"),R=Object(s.useState)({}),L=Object(r.a)(R,2),B=L[0],K=L[1],W="credit-card-usage";Object(s.useEffect)((function(){var e=i.split("-"),t=Object(r.a)(e,2),a=t[0],n=t[1],c=d.a.strToNumMonth[a],s=Number(l.credit_card_start_date),o=Number(l.credit_card_end_date),b=new Date("".concat(Number(n),"-").concat(Number(c),"-").concat(o).replace(/-/g,"/")),p="".concat(b.getFullYear(),"-").concat(d.a.leadingZeros(b.getMonth()+1),"-").concat(d.a.leadingZeros(b.getDate())),f=b.setTime(b.getTime()-2592e6);f=new Date(f),f=new Date(f.setDate(s));var m="".concat(f.getFullYear(),"-").concat(d.a.leadingZeros(f.getMonth()+1),"-").concat(d.a.leadingZeros(f.getDate())),j=Number(l.credit_card_payment_date);j=j<10?"0".concat(j):j,j=new Date("".concat(j,"-").concat(i));var _=[(j=d.a.addMonths(j,1)).getFullYear(),j.getMonth()+1,j.getDate()],h=_[0],g=_[1],x=_[2];g=g<10?"0".concat(g):g,x=x<10?"0".concat(x):x,j="".concat(h,"-").concat(g,"-").concat(x),K({sDateStr:m,eDateStr:p,payDate:j}),u((function(e){return Object(D.a)(Object(D.a)({},e),{},{creditCardCycleStartDate:m,creditCardCycleEndDate:p})})),O(T.current.clientWidth)}),[i]),Object(s.useEffect)((function(){if(S&&M.length>0){for(var e,t,a,n=function(e){var t=e.target.id;b(t)},c=null===(e=T.current)||void 0===e||null===(t=e.querySelector("#".concat(W," svg")))||void 0===t?void 0:t.getElementsByClassName("axis")[0].children,r=c&&(null===(a=Array.from(c))||void 0===a?void 0:a.filter((function(e){return e.classList.contains("tick")}))),s=0;s<r.length;s++)r[s].children[1].classList.remove("colored"),r[s].children[1].setAttribute("id",M[0].points[s].month),r[s].children[1].addEventListener("click",n);if(i){var o,l=r&&(null===(o=Array.from(r))||void 0===o?void 0:o.filter((function(e){return e.children[1].id===i}))[0]);l&&l.getElementsByTagName("text")[0].classList.add("colored")}return function(){for(var e=0;e<r.length;e++)r[e].children[1].removeEventListener("click",n)}}}),[i,S,M]);var U=function(e){var t=i.split("-")[1],a=new Array(12).fill().map((function(e,t){return t>8?String(t+1):"0".concat(t+1)})).map((function(a){var n=d.a.monthToStr[a],r=c.filter((function(e){return e.month.split("-")[0].includes(n)})),s=r.length?r[0].cData.filter((function(t){return t.label===e}))[0].value:0;return{x:m()("".concat(t,"/").concat(a,"/01")).format("YYYY-MM-DD"),y:s,month:"".concat(n,"-").concat(t)}}));return a=P.a.flatten(a)},F=function(e){var t=U(e).reduce((function(e,t){return e+Number(t.y.toFixed(2))}),0);return t=d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,t,2)};Object(s.useEffect)((function(){if(c.length>0){var e,t,a=[{color:k,points:U("Taxes & Interest")},{color:I,points:U("Purchases")},{color:A,points:U("Paid")},{color:Y,points:U("Opening Balance")}];w([]),setTimeout((function(){w(a)}),100),null!==(e=T.current)&&void 0!==e&&null!==(t=e.childNodes[2])&&void 0!==t&&t.childNodes[0]&&(T.current.childNodes[2].childNodes[0].style.height=260)}}),[c]);var V=function(e){if(null!==o&&void 0!==o&&o.formatMessage){var t="";if(j>450){var a=(t=m()(e).format("MMM")).toLocaleString("default",{month:"short"}).toLowerCase(),n=e.getFullYear();t="".concat(o.formatMessage({id:a,defaultMessage:a})," ").concat(n)}else t=m()(e).format("M");return t}};return Object(y.jsxs)("div",{ref:T,className:"position-relative",children:[Object(y.jsx)("i",{className:"fa fa-".concat(S?"minus":"plus","-circle roundedButton"),onClick:function(){return E(!S)},style:S?{}:{position:"absolute",top:"15px"}}),S&&M.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"row rounded pt-2",children:[Object(y.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("i",{className:"fa fa-circle text-warning me-2",title:o.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"})}),Object(y.jsx)(h.a,{id:"openingBalance",defaultMessage:"openingBalance"})]}),Object(y.jsxs)("span",{children:[Object(y.jsx)("span",{className:"pe-2",children:Object(y.jsx)(h.a,{id:"year",defaultMessage:"year"})}),null===(t=c[0])||void 0===t?void 0:t.month.split("-")[1]]})]}),Object(y.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("i",{className:"fa fa-circle text-primary me-2",title:o.formatMessage({id:"purchases",defaultMessage:"purchases"})}),Object(y.jsx)(h.a,{id:"purchases",defaultMessage:"purchases"})]}),Object(y.jsx)("span",{children:"".concat(F("Purchases"))})]}),Object(y.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("i",{className:"fa fa-circle text-success me-2",title:o.formatMessage({id:"payments",defaultMessage:"payments"})}),Object(y.jsx)(h.a,{id:"payments",defaultMessage:"payments"})]}),Object(y.jsx)("span",{children:"".concat(F("Paid"))})]}),Object(y.jsxs)("div",{className:"col-md-3 small d-flex flex-nowrap justify-content-between align-items-center",children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("i",{className:"fa fa-circle text-danger me-2",title:o.formatMessage({id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})}),Object(y.jsx)(h.a,{id:"taxesAndInterest",defaultMessage:"taxesAndInterest"})]}),Object(y.jsx)("span",{children:"".concat(F("Taxes & Interest"))})]})]}),Object(y.jsx)(_.a,{data:M,id:W,margins:{top:50,right:j>450?80:30,bottom:50,left:135},width:j,isDate:!0,height:250,xLabel:o.formatMessage({id:"month",defaultMessage:"month"}),yLabel:o.formatMessage({id:"amount",defaultMessage:"amount"}),onPointHover:function(e){return d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,e.y,2)},tooltipClass:"line-chart-tooltip",ticks:12,xDisplay:function(e,t){return V(e)},onPointClick:function(e,t){return b(t.month)}}),i&&B&&l&&B.payDate&&Object(y.jsx)("div",{className:"pt-4",children:Object(y.jsxs)("div",{className:"row mt-10",children:[Object(y.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[Object(y.jsx)("span",{children:Object(y.jsx)(h.a,{id:"month",defaultMessage:"month"})}),Object(y.jsx)("span",{children:V(new Date("\n                        ".concat(i.split("-")[1],"/").concat(d.a.strToNumMonth[i.split("-")[0]],"/01")))})]}),Object(y.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(y.jsx)("i",{className:"fa fa-credit-card-alt"}),Object(y.jsx)("span",{children:l.credit_card_number})]}),Object(y.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between align-items-center",children:[Object(y.jsx)("span",{children:Object(y.jsx)(h.a,{id:"cycle",defaultMessage:"cycle"})}),Object(y.jsxs)("span",{children:[B.sDateStr," ",Object(y.jsx)(h.a,{id:"to",defaultMessage:"to"})," ",B.eDateStr]})]}),Object(y.jsxs)("div",{className:"col-md-3 small d-flex justify-content-between",children:[Object(y.jsx)("span",{children:Object(y.jsx)(h.a,{id:"payDate",defaultMessage:"payDate"})}),Object(y.jsx)("span",{children:B.payDate})]})]})})]})]})})),N=function(e){var t=Object(s.useContext)(Se),a=t.ccChartData,n=t.ccYearSelected,c=t.ccDetails,o=t.onCcMonthYearSelected,i=Object(s.useState)([]),l=Object(r.a)(i,2),u=l[0],b=l[1];return Object(s.useEffect)((function(){if(a.length>0){var e=Array.from({length:12},(function(e,t){return++t})).map((function(e){var t=d.a.addMonths(new Date("".concat(n-1,"-11-").concat(c.credit_card_start_date)),e),r=d.a.addMonths(new Date("".concat(n-1,"-12-").concat(c.credit_card_end_date)),e);return a.filter((function(e){var a=new Date(e.month);return a>=t&&a<=r})).reduce((function(t,a){var c=new Date(n,e-1,1);return{month:d.a.dateToMonthYear(c),cData:[{label:"Opening Balance",value:t.cData[0].value+Number(a.ob)},{label:"Paid",value:t.cData[1].value+Number(a.paid)},{label:"Purchases",value:t.cData[2].value+Number(a.purchases)},{label:"Taxes & Interest",value:t.cData[3].value+Number(a.taxesInterest)},{label:"Balance",value:t.cData[4].value+Number(a.balance)}]}}),{cData:[{label:"Opening Balance",value:0},{label:"Paid",value:0},{label:"Purchases",value:0},{label:"Taxes & Interest",value:0},{label:"Balance",value:0}]})})).filter((function(e){return e.month})).reverse();b(e)}}),[a,c,n,o]),Object(y.jsx)("div",{children:Object(y.jsx)(C,{data:u})})};N.defaultProps={property:"String name"};var S=N,E=a(28),T=a(82),k=a(46),I=a(934),A=a(1293),Y=a(322),R=(a(514),a(1290)),L=a(39),B=a(779),K=["monthYearSelected","bankSelected","selectedPlan"],W=function(e){var t=Object(B.a)(),a=e.monthYearSelected,n=e.bankSelected,c=e.selectedPlan,o=Object(E.a)(e,K),i=Object(s.useContext)(L.a),u=Object(s.useContext)(g.a),b=Object(s.useState)([]),p=Object(r.a)(b,2),f=p[0],m=p[1],j=Object(s.useState)(!0),_=Object(r.a)(j,2),O=_[0],x=_[1];Object(s.useEffect)((function(){x(!0);var e=v();Promise.all([e]).then((function(e){var t=e[0];m(t),x(!1)}))}),[a,n,c]);var v=function(){var e=new FormData;return e.append("startDate",c.startDate),e.append("endDate",c.endDate),e.append("bankSelected",n),e.append("criteria",c.criteria),e.append("appId",i.userConfig.appId),k.a.post("/account_planner/getPlanDetails",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))},M=function(e,t){return"E0"===c.criteria?Number(e):"0TO100"===c.criteria||"E100"===c.criteria||"G100"===c.criteria?Number(e)-Number(t):0},w=function(e){var t=e.reduce((function(e,t){return e+t}),0);return d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,t,2)},P=[],C=[],N=[];return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},o),{},{style:{zIndex:9999},children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsxs)(R.a.Title,{children:[t.formatMessage({id:a.split("-")[0].toLowerCase(),defaultMessage:a.split("-")[0].toLowerCase()})," ",a.split("-")[1]," ",Object(y.jsx)("i",{className:"fa fa-angle-double-right"})," ",c.label]})}),Object(y.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===i.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(y.jsx)("div",{className:"table-responsive p-10",children:O?Object(y.jsx)("div",{className:"relativeSpinner",children:Object(y.jsx)(l.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):Object(y.jsx)("table",{className:"table ".concat("dark"===i.userData.theme?"table-dark":"table-white"),children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"#"}),Object(y.jsx)("th",{children:Object(y.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(y.jsx)("th",{children:Object(y.jsx)(h.a,{id:"committed",defaultMessage:"committed"})}),Object(y.jsx)("th",{children:Object(y.jsx)(h.a,{id:"plan",defaultMessage:"plan"})}),Object(y.jsx)("th",{children:Object(y.jsx)(h.a,{id:"difference",defaultMessage:"difference"})})]}),f&&f.length>0?f.map((function(e,t){var a=M(e.inc_exp_plan_amount,e.inc_exp_amount);P.push(Number(e.inc_exp_amount)),C.push(Number(e.inc_exp_plan_amount));var n=M(e.inc_exp_plan_amount,e.inc_exp_amount);return N.push(n),Object(y.jsxs)("tr",{children:[Object(y.jsxs)("td",{children:[t+1,"."]}),Object(y.jsx)("td",{children:e.inc_exp_name}),Object(y.jsx)("td",{children:e.inc_exp_amount}),Object(y.jsx)("td",{children:e.inc_exp_plan_amount}),Object(y.jsx)("td",{className:"text-".concat(a>=0?"success":"danger"),children:a>=0?"+".concat(d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,a,2)):"(".concat(d.a.countryCurrencyLacSeperator(u.localeLanguage,u.localeCurrency,a,2),")")})]},t)})):Object(y.jsx)("tr",{children:Object(y.jsx)("td",{className:"text-center py-3",colSpan:"5",children:Object(y.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})}),f&&f.length>0&&Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)(h.a,{id:"total",defaultMessage:"total"})}),Object(y.jsx)("td",{}),Object(y.jsx)("td",{children:w(P)}),Object(y.jsx)("td",{children:w(C)}),Object(y.jsx)("td",{children:w(N)})]})]})})})})]}))};W.defaultProps={property:"String name"};var U=W,F=["totals"],V=function(e){var t=Object(B.a)(),a=Object(s.useContext)(L.a),n=Object(s.useContext)(g.a),c=e.totals,o=Object(E.a)(e,F),i=Object(s.useState)(0),l=Object(r.a)(i,2),u=l[0],b=l[1],p=Object(s.useState)(0),f=Object(r.a)(p,2),m=f[0],j=f[1],_=Object(s.useState)(0),O=Object(r.a)(_,2),x=O[0],v=O[1],M=Object(s.useState)(0),w=Object(r.a)(M,2),P=w[0],C=w[1],N=Object(s.useState)(0),S=Object(r.a)(N,2),T=S[0],k=S[1],I=Object(s.useState)(0),A=Object(r.a)(I,2),Y=A[0],K=A[1];Object(s.useEffect)((function(){if(c.length>0){var e=c.length>0&&c.filter((function(e){return"danger"===e.flagString&&e.amount>0}));e=(e=e.length>0?e[0].amount:0).toFixed(2),e=Number(e),b(e)}}),[c]),Object(s.useEffect)((function(){var e=u-m-x-P;e=Math.round(100*e)/100,k(e=-0===e?0:e);var t=(Number(u)-e)/u;t=(t*=100)>100?100:t,t=isNaN(t)?100:t,K(t)}),[u,m,x,P]);var W=function(e){return{label:0===e?t.formatMessage({id:"solved",defaultMessage:"solved"}):e>0?t.formatMessage({id:"behind",defaultMessage:"behind"}):t.formatMessage({id:"ahead",defaultMessage:"ahead"}),class:0===e?"text-success":e>0?"text-danger":"text-primary"}};return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},o),{},{style:{zIndex:9999},children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsx)(R.a.Title,{children:Object(y.jsx)(h.a,{id:"tally",defaultMessage:"tally"})})}),Object(y.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===a.userData.theme?"bg-dark":"bg-white"),children:Object(y.jsxs)("div",{className:"tallyModal text-dark",children:[Object(y.jsxs)("div",{className:"py-2 form-floating",children:[Object(y.jsx)("input",{id:"appplicationBalance",value:u,onChange:function(e){return b(Number(e.target.value))},placeholder:t.formatMessage({id:"balance",defaultMessage:"balance"}),type:"number",className:"form-control"}),Object(y.jsx)("label",{htmlFor:"appplicationBalance",children:Object(y.jsx)(h.a,{id:"balance",defaultMessage:"balance"})})]}),Object(y.jsxs)("div",{className:"py-2 form-floating",children:[Object(y.jsx)("input",{id:"bankBalance",onChange:function(e){return j(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"bank",defaultMessage:"bank"})," ").concat(t.formatMessage({id:"balance",defaultMessage:"balance"}))}),Object(y.jsxs)("label",{htmlFor:"bankBalance",children:[Object(y.jsx)(h.a,{id:"bank",defaultMessage:"bank"})," ",Object(y.jsx)(h.a,{id:"balance",defaultMessage:"balance"})]})]}),Object(y.jsxs)("div",{className:"py-2 form-floating",children:[Object(y.jsx)("input",{id:"unAccounted",onChange:function(e){return v(Number(e.target.value))},type:"number",className:"form-control",placeholder:t.formatMessage({id:"unaccounted",defaultMessage:"unaccounted"})}),Object(y.jsx)("label",{htmlFor:"unAccounted",children:Object(y.jsx)(h.a,{id:"unaccounted",defaultMessage:"unaccounted"})})]}),Object(y.jsxs)("div",{className:"py-2 form-floating",children:[Object(y.jsx)("input",{id:"walletBalance",onChange:function(e){return C(Number(e.target.value))},type:"number",className:"form-control",placeholder:"".concat(t.formatMessage({id:"wallet",defaultMessage:"wallet"})," ").concat(t.formatMessage({id:"balance",defaultMessage:"balance"}))}),Object(y.jsxs)("label",{htmlFor:"walletBalance",children:[Object(y.jsx)(h.a,{id:"wallet",defaultMessage:"wallet"})," ",Object(y.jsx)(h.a,{id:"balance",defaultMessage:"balance"})]})]}),Object(y.jsxs)("div",{className:"py-2",children:[Object(y.jsx)("div",{className:"text-center p-10",children:Object(y.jsxs)("h5",{className:W(T).class,children:[W(T).label,"\xa0",Object(y.jsx)("i",{className:"fa ".concat(100===Y?"fa-check":"fa-times-circle")})]})}),Object(y.jsx)("div",{className:"text-center ".concat(W(T).class),children:d.a.countryCurrencyLacSeperator(n.localeLanguage,n.localeCurrency,T,2)})]}),Object(y.jsx)("div",{className:"custom-progress-bar ".concat(Y<100?"danger":"success"),style:{width:"".concat(Y,"%")}})]})})]}))},H=["srcArr"],z=function(e){var t=Object(s.useContext)(Se),a=e.srcArr,n=Object(E.a)(e,H),c=t.incExpList,o=Object(s.useState)([]),i=Object(r.a)(o,2),l=i[0],d=i[1],b=Object(s.useState)([]),p=Object(r.a)(b,2),f=p[0],j=p[1],_=Object(B.a)(),O=Object(s.useContext)(L.a),g=Object(s.useState)({amount:"",source:"",dest:"",description:_.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"}),category:"",availableFunds:0}),x=Object(r.a)(g,2),v=x[0],M=x[1];Object(s.useEffect)((function(){a&&a.length>0&&d(a)}),[a]);Object(s.useEffect)((function(){var e=new FormData;e.append("id",v.source),e.append("appId",O.userConfig.appId),k.a.post("/account_planner/getFundDetails",e).then((function(e){M((function(t){return Object(D.a)(Object(D.a)({},t),{},{availableFunds:e.data.response[0].availableFunds})}))})).catch((function(e){console.log(e)}))}),[v.source]);return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},n),{},{style:{zIndex:9999},children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsx)(R.a.Title,{children:Object(y.jsx)(h.a,{id:"fundTransfer",defaultMessage:"fundTransfer"})})}),Object(y.jsx)(R.a.Body,{className:"p-0 rounded-bottom ".concat("dark"===O.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(y.jsxs)("div",{className:"row m-0",children:[Object(y.jsxs)("div",{className:"col-5 pt-3",children:[Object(y.jsxs)("div",{className:"py-3 text-center",children:[Object(y.jsx)("div",{children:Object(y.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(y.jsx)("small",{children:Object(y.jsx)(h.a,{id:"sourceBank",defaultMessage:"sourceBank"})})]}),Object(y.jsxs)("div",{className:"form-floating mt-1",children:[Object(y.jsxs)("select",{id:"source",className:"form-control",value:v.source,onChange:function(e){!function(e){var t=Object(u.a)(l).filter((function(t){return t.id!==e}));j(t),M((function(t){return Object(D.a)(Object(D.a)({},t),{},{source:e,dest:"",amount:"",category:""})}))}(e.target.value)},children:[Object(y.jsx)("option",{value:"",children:"--"}),l.length&&l.map((function(e,t){return Object(y.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(y.jsx)("label",{htmlFor:"source",className:"text-dark",children:Object(y.jsx)(h.a,{id:"selectSourceAccount",defaultMessage:"selectSourceAccount"})}),Number(v.availableFunds)>0&&Object(y.jsxs)("small",{className:"text-danger",children:[Object(y.jsx)(h.a,{id:"balance",defaultMessage:"balance"}),":",Number(v.availableFunds).toLocaleString()]})]})]}),Object(y.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-center",children:Object(y.jsx)("i",{className:"fa fa-arrow-circle-right fa-3x"})}),Object(y.jsxs)("div",{className:"col-5 pt-3",children:[Object(y.jsxs)("div",{className:"py-3 text-center",children:[Object(y.jsx)("div",{children:Object(y.jsx)("i",{className:"fa fa-bank fa-3x"})}),Object(y.jsx)("small",{children:Object(y.jsx)(h.a,{id:"destinationBank",defaultMessage:"destinationBank"})})]}),Object(y.jsxs)("div",{className:"form-floating mt-1",children:[Object(y.jsxs)("select",{id:"dest",className:"form-control",value:v.dest,onChange:function(e){return M((function(t){return Object(D.a)(Object(D.a)({},t),{},{dest:e.target.value})}))},children:[Object(y.jsx)("option",{value:"",children:"--"}),f.length&&f.map((function(e,t){return Object(y.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(y.jsx)("label",{htmlFor:"dest",className:"text-dark",children:Object(y.jsx)(h.a,{id:"selectDestinationAccount",defaultMessage:"selectDestinationAccount"})})]})]}),Object(y.jsx)("div",{className:"col-6 pt-3",children:Object(y.jsxs)("div",{className:"form-floating",children:[Object(y.jsx)("input",{id:"amount",value:v.amount,onChange:function(e){return M((function(t){return Object(D.a)(Object(D.a)({},t),{},{amount:e.target.value})}))},placeholder:_.formatMessage({id:"amount",defaultMessage:"amount"}),type:"number",className:"form-control form-control-sm"}),Object(y.jsx)("label",{htmlFor:"amount",className:"text-dark",children:Object(y.jsx)(h.a,{id:"amount",defaultMessage:"amount"})})]})}),Object(y.jsx)("div",{className:"col-6 pt-3",children:Object(y.jsxs)("div",{className:"form-floating",children:[Object(y.jsxs)("select",{id:"cat",className:"form-control",value:v.category,onChange:function(e){return M((function(t){return Object(D.a)(Object(D.a)({},t),{},{category:e.target.value})}))},children:[Object(y.jsx)("option",{value:"",children:"--"}),c.length&&c.map((function(e,t){return Object(y.jsx)("option",{value:e.id,children:e.value},t)}))]}),Object(y.jsx)("label",{htmlFor:"cat",className:"text-dark",children:Object(y.jsx)(h.a,{id:"category",defaultMessage:"category"})})]})}),Object(y.jsx)("div",{className:"col-12 py-3",children:Object(y.jsx)("button",{disabled:!(v.dest&&v.amount&&v.source&&v.category),className:"btn btn-bni w-100 border-0",onClick:function(){return function(){var e=new FormData;e.append("amount",v.amount),e.append("source",v.source),e.append("dest",v.dest),e.append("description","".concat(v.description,": ").concat(l.filter((function(e){return e.id===v.source}))[0].value," -> ").concat(l.filter((function(e){return e.id===v.dest}))[0].value)),e.append("category",v.category),e.append("date",m()(new Date).format("YYYY-MM-DD")),e.append("dateTime",m()(new Date).format("YYYY-MM-DD HH:mm:ss")),e.append("appId",O.userConfig.appId),k.a.post("/account_planner/postFundTransfer",e).then((function(e){var t=e.data;e&&t&&t.response?(O.renderToast({message:_.formatMessage({id:"fundTransferSuccess",defaultMessage:"fundTransferSuccess"})}),M((function(e){return Object(D.a)(Object(D.a)({},e),{},{source:"",dest:"",amount:"",category:"",description:_.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})})}))):O.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:"fundTransferFail",defaultMessage:"fundTransferFail"})})})).catch((function(e){O.renderToast({type:"error",icon:"fa fa-times-circle",message:_.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}))}()},children:Object(y.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})})]})})]}))};z.defaultProps={property:"String name"};var G=z,q=a(168),X=a(62),J=a(57),Z=["intl"],Q=Object(O.c)((function(e,t){var a=Object(s.useContext)(Se),o=Object(s.useContext)(L.a),i=Object(s.useContext)(X.a),b=e.intl,p=Object(E.a)(e,Z),f=a.incExpList,j=a.bankList,_=a.bankSelected,O=a.bankDetails,g=a.monthYearSelected,x=Object(s.useState)([]),v=Object(r.a)(x,2),M=v[0],w=v[1],P=Object(s.useState)([]),C=Object(r.a)(P,2),N=C[0],S=C[1],R=Object(s.useState)([]),B=Object(r.a)(R,2),K=B[0],W=B[1],F=Object(s.useState)(!1),H=Object(r.a)(F,2),z=H[0],Q=H[1],$=Object(s.useState)(!1),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ne=Object(s.useState)(!1),ce=Object(r.a)(ne,2),re=ce[0],se=ce[1],oe=Object(s.useState)({}),ie=Object(r.a)(oe,2),le=ie[0],de=ie[1],ue=Object(s.useState)(!1),be=Object(r.a)(ue,2),pe=be[0],fe=be[1],me=d.a.getNow(),je=Object(s.useState)({}),_e=Object(r.a)(je,2),he=_e[0],Oe=_e[1];Object(s.useEffect)((function(){Oe({config:{header:{searchPlaceholder:b.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:b.formatMessage({id:"total",defaultMessage:"total"}),locale:O[0].bank_locale,currency:O[0].bank_currency,maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},rowElements:[],Table:"income_expense",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments","inc_exp_added_at","inc_exp_is_planned"],TableAliasRows:["id","transaction","amount","plan","type","date","category","bank","comments","recorded","isPlanned"].map((function(e){return b.formatMessage({id:e,defaultMessage:e})})),defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:m()(new Date).format("YYYY-MM-DD")}],rowKeyUp:"",showTooltipFor:["inc_exp_name","inc_exp_comments"],showTotal:[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}}]})}),[b]);var ge=function(){if(g){S([]),fe(!0);var e=g.split("-"),t=Object(r.a)(e,2),a=t[0],s=t[1],i=d.a.strToNumMonth[a],l=new Date(s,i,0).getDate(),u='inc_exp_date between "'.concat(s,"-").concat(i,'-01" and "').concat(s,"-").concat(i,"-").concat(l,'" and inc_exp_bank = ').concat(_,' and inc_exp_appId = "').concat(o.userConfig.appId,'"'),p={fetch:{dropDownList:f.map((function(e){return{id:e.id,value:e.value}}))}},h={fetch:{dropDownList:j}},O=xe(u);Promise.all([O]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t[0].data.response,S(a),Oe((function(e){var t;return Object(D.a)(Object(D.a)({},e),{rowElements:["checkbox","textbox","number",m()(null===(t=a[0])||void 0===t?void 0:t.inc_exp_date).isAfter()?"number":"label",{radio:{radioList:[{label:b.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:b.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}},"date",p,h,"textbox","relativeTime","boolean"]})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return fe(!1)}))}};Object(s.useEffect)((function(){ge()}),[g,_,f,j,b]);Object(s.useEffect)((function(){N.length&&ye(N)}),[b,N]);var xe=function(e){var t=new FormData;return t.append("appId",o.userConfig.appId),t.append("TableRows",he.TableRows),t.append("Table",he.Table),e&&t.append("WhereClause",e),k.a.post("/account_planner/getAccountPlanner",t)},ve=function(e,t){return Object(y.jsx)(I.a,Object(D.a)(Object(D.a)({id:"button-tooltip-1",className:"in show"},p),{},{children:t}))},ye=function(e){var t=null===e||void 0===e?void 0:e.map((function(e){return e.inc_exp_plan_amount=Number(e.inc_exp_plan_amount),e.inc_exp_amount=Number(e.inc_exp_amount),e})).filter((function(e){return"1"===e.inc_exp_is_planned})).reduce((function(e,t){"Cr"===t.inc_exp_type&&(e.incomeTotal+=t.inc_exp_amount),"Dr"===t.inc_exp_type&&(e.expenseTotal+=t.inc_exp_amount,e.planTotal+=t.inc_exp_plan_amount);var a=t.inc_exp_plan_amount/t.inc_exp_amount;a=Number((100*(a===1/0||isNaN(a)?0:a)).toFixed(2)),e.totalPlans.push(a);var n=Object(D.a)({percent:a},t);return 0===t.inc_exp_plan_amount&&e.noPlans.push(n),100===a&&e.achievedPlans.push(n),a>100&&e.goodPlans.push(n),a<100&&a>0&&e.badPlans.push(n),e}),{expenseTotal:0,incomeTotal:0,planTotal:0,totalPlans:[],goodPlans:[],badPlans:[],noPlans:[],achievedPlans:[]}),a=function(e,t,a){return e.filter((function(e){return e[t]===a})).reduce((function(e,t){return e+t.inc_exp_amount}),0)},n=[{amount:a(e,"inc_exp_type","Cr"),label:b.formatMessage({id:"income",defaultMessage:"income"}),flagString:"success"},{amount:a(e,"inc_exp_type","Dr"),label:b.formatMessage({id:"expense",defaultMessage:"expense"}),flagString:"info"},{amount:a(e,"inc_exp_type","Cr")-a(e,"inc_exp_type","Dr"),label:b.formatMessage({id:"balance",defaultMessage:"balance"}),flagString:"danger"},{amount:t.planTotal,label:b.formatMessage({id:"planning",defaultMessage:"planning"}),flagString:"warning"}];W(n);var c=[{key:"goodPlans",flagString:"success",planString:b.formatMessage({id:"goodPlans",defaultMessage:"goodPlans"}),planArray:t.goodPlans},{key:"achievedPlans",flagString:"info",planString:b.formatMessage({id:"achievedPlans",defaultMessage:"achievedPlans"}),planArray:t.achievedPlans},{key:"badPlans",flagString:"danger",planString:b.formatMessage({id:"badPlans",defaultMessage:"badPlans"}),planArray:t.badPlans},{key:"noPlans",flagString:"warning",planString:b.formatMessage({id:"noPlans",defaultMessage:"noPlans"}),planArray:t.noPlans}];w(c)},Me=function(e,t){return e.reduce((function(e,a){return e+function(){switch(t){case"goodPlans":case"badPlans":return a.inc_exp_plan_amount-a.inc_exp_amount;case"achievedPlans":return a.inc_exp_plan_amount;case"noPlans":return a.inc_exp_plan_amount+a.inc_exp_amount;default:return 0}}()}),0)};return Object(y.jsxs)("div",{className:"settings",children:[z&&Object(y.jsx)(U,{className:"planInfoModal",show:z,onHide:function(){return Q(!1)},size:"lg",animation:!1,monthYearSelected:g,bankSelected:_,selectedPlan:le}),te&&Object(y.jsx)(V,{className:"planInfoModal",show:te,onHide:function(){return ae(!1)},size:"sm",totals:K,animation:!1}),re&&he.rowElements[7].fetch.dropDownList.length>0&&Object(y.jsx)(G,{className:"",show:re,onHide:function(){return se(!1)},size:"lg",animation:!1,srcArr:he.rowElements[7].fetch.dropDownList,incExpList:he.rowElements[6].fetch.dropDownList,centered:!0}),Object(y.jsxs)("div",{className:"",children:[!pe&&N.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"buttonGrid",children:g&&N&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h6",{children:"".concat(b.formatMessage({id:g.split("-")[0].toLowerCase(),defaultMessage:g.split("-")[0].toLowerCase()})," ").concat(g.split("-")[1])}),Object(y.jsxs)("div",{className:"d-flex flex-row-reverse",children:[Object(y.jsx)("div",{children:Object(y.jsx)(A.a,{placement:"left",delay:{show:250,hide:400},overlay:ve(0,b.formatMessage({id:"fundTransfer",defaultMessage:"fundTransfer"})),triggerType:"hover",children:Object(y.jsx)("i",{className:"fa fa-arrows-h roundedButton ".concat(o.userData.theme," pull-right"),onClick:function(){return se(!0)}})})}),Object(y.jsx)("div",{children:Object(y.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:ve(0,b.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"PDF"})),triggerType:"hover",children:Object(y.jsx)("i",{onClick:function(){return function(){var e=null===N||void 0===N?void 0:N.map((function(e,t){return[t+1,e.inc_exp_name,e.inc_exp_amount,e.inc_exp_plan_amount,e.inc_exp_type,e.inc_exp_date,e.inc_exp_comments]})),t=new Y.default;t.text("".concat(d.a.stringToCapitalize(he.Table)," (").concat(g,")"),15,10),t.autoTable({styles:{overflow:"linebreak"},theme:"grid",head:[["#","Transaction","Amount","Planned","Type","Date","Comments"]],body:Object(u.a)(e)});var a=K.map((function(e){return d.a.lacSeperator(e.amount)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Income","Expense","Balance","Planning"]],body:[a]});var n=M.map((function(e){return d.a.lacSeperator(Me(e.planArray,e.key),he.config.footer.total.currency)}));t.autoTable({styles:{overflow:"linebreak",halign:"center"},theme:"striped",head:[["Good Plans","Achieved Plans","Bad Plans","No Plans"]],body:[n]}),t.save("".concat(he.Table,"-").concat(me))}()},className:"fa fa-file-pdf-o roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(y.jsx)(q.a,{datas:d.a.stripCommasInCSV(N),filename:"Income-Expense-".concat(me,".csv"),columns:[{displayName:"Transaction",id:"inc_exp_name"},{displayName:"Date",id:"inc_exp_date"},{displayName:"Type",id:"inc_exp_type"},{displayName:"Amount",id:"inc_exp_amount"}],children:Object(y.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:ve(0,b.formatMessage({id:"exportToValue",defaultMessage:"exportToValue"},{value:"CSV"})),triggerType:"hover",children:Object(y.jsx)("i",{className:"fa fa-file-excel-o roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(y.jsx)("div",{children:Object(y.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:ve(0,b.formatMessage({id:"replan",defaultMessage:"replan"})),triggerType:"hover",children:Object(y.jsx)("i",{onClick:function(){return function(){var e=he.rowElements.map((function(e,t){return 3===t?"number":e}));Oe(Object(D.a)(Object(D.a)({},he),{rowElements:e}))}()},className:"fa fa-repeat roundedButton ".concat(o.userData.theme," pull-right")})})}),Object(y.jsx)("div",{children:Object(y.jsx)(A.a,{placement:"top",delay:{show:250,hide:400},overlay:ve(0,b.formatMessage({id:"tally",defaultMessage:"tally"})),triggerType:"hover",children:Object(y.jsx)("i",{onClick:function(){return ae(!0)},className:"fa fa-text-width roundedButton ".concat(o.userData.theme," pull-right")})})})]})]})}),Object(y.jsx)(T.a,{id:"incExpTable",config:he.config,Table:he.Table,TableRows:he.TableRows,TableAliasRows:he.TableAliasRows,rowElements:he.rowElements,showTotal:he.showTotal,rowKeyUp:he.rowKeyUp,dbData:N,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var t=e.status,n=e.data;if(200===t){if(e&&n&&"boolean"===typeof n.response&&null!==n.response&&n.response&&a.renderToast({message:b.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&n&&"boolean"===typeof n.response&&null!==n.response&&!1===n.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:b.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&n&&null===n.response&&i.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(y.jsx)(J.b,{}),content:Object(y.jsx)(J.a,{})}),e&&n&&"object"===typeof n.response&&null!==n.response){var c;c=1451===n.response.number?"foreignKeyDeleteMessage":"",o.renderToast({type:"error",icon:"fa fa-times-circle",message:b.formatMessage({id:c,defaultMessage:c})})}}else a.renderToast({type:"error",icon:"fa fa-times-circle",message:b.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:he.showTooltipFor,defaultValues:he.defaultValues,onTableUpdate:function(e){ye(e)},onReFetchData:function(){ge()},cellWidth:[4,13,8,8,13,8,13,13,13,10,5],ajaxButtonName:b.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:o.userConfig.appId},theme:o.userData.theme},"incExpTable"),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"row",children:K.map((function(e){return Object(y.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)("div",{className:"p-6 text-center",children:Object(y.jsx)("h5",{children:e.label})})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("div",{className:"text-center text-".concat(e.flagString),children:d.a.countryCurrencyLacSeperator(O[0].bank_locale,O[0].bank_currency,e.amount,2)})})]})},e.label)}))}),Object(y.jsx)("div",{className:"row",children:M.map((function(e){return Object(y.jsx)("div",{className:"col-md-3 col-6 py-4",children:Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)("div",{className:"p-6 text-center",children:Object(y.jsxs)("h5",{children:[e.planString,Object(y.jsx)("sup",{className:"superScript text-".concat(e.flagString," border-").concat(e.flagString),children:e.planArray.length})]})})}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("div",{className:"text-center text-".concat(e.flagString),children:Object(y.jsx)("button",{onClick:function(){return function(e){var t=g.split("-"),a=Object(r.a)(t,2),n=a[0],c=a[1],s=d.a.strToNumMonth[n],o=new Date(c,s,0).getDate(),i={startDate:"".concat(c,"-").concat(s,"-01"),endDate:"".concat(c,"-").concat(s,"-").concat(o),bankSelected:_};switch(e){case"goodPlans":i=Object(D.a)(Object(D.a)({},i),{},{label:b.formatMessage({id:"goodPlans",defaultMessage:"goodPlans"}),criteria:"G100"});break;case"achievedPlans":i=Object(D.a)(Object(D.a)({},i),{},{label:b.formatMessage({id:"achievedPlans",defaultMessage:"achievedPlans"}),criteria:"E100"});break;case"badPlans":i=Object(D.a)(Object(D.a)({},i),{},{label:b.formatMessage({id:"badPlans",defaultMessage:"badPlans"}),criteria:"0TO100"});break;case"noPlans":i=Object(D.a)(Object(D.a)({},i),{},{label:b.formatMessage({id:"noPlans",defaultMessage:"noPlans"}),criteria:"E0"})}Q(!0),de(i)}(e.key)},className:"btn btn-sm btn-".concat(e.flagString),children:d.a.countryCurrencyLacSeperator(O[0].bank_locale,O[0].bank_currency,Me(e.planArray,e.key),2)})})})]})},e.key)}))})]})]}),!pe&&!N.length&&Object(y.jsx)("div",{className:"py-3 text-center",children:Object(y.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),pe&&Object(y.jsx)("div",{className:"relativeSpinner",children:Object(y.jsx)(l.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})]})})),$=a(1245),ee=Object(O.c)((function(e){var t,a=Object(s.useContext)(Se),n=e.intl,c=a.bankList,r=a.bankSelected,o=a.setBankSelected,i=null===(t=c.filter((function(e){return e.id===r}))[0])||void 0===t?void 0:t.value;return Object(y.jsxs)($.a,{title:n.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(y.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(y.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(y.jsx)($.a.Menu,{children:c.map((function(e,t){return Object(y.jsx)($.a.Item,{onClick:function(){o(e.id)},children:Object(y.jsxs)("div",{title:e.value,children:[Object(y.jsx)("i",{className:"fa fa-bank"})," ",e.value]})},t)}))})]})})),te=Object(O.c)((function(e){var t=Object(s.useContext)(Se),a=e.intl,n=t.yearList,c=t.yearSelected,r=t.setYearSelected;return Object(y.jsxs)($.a,{title:a.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(y.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[c," ",Object(y.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(y.jsx)($.a.Menu,{children:n.map((function(e,t){return Object(y.jsx)($.a.Item,{onClick:function(){r(e.id)},children:Object(y.jsxs)("div",{title:e.value,children:[Object(y.jsx)("i",{className:"fa fa-calendar"})," ",e.value]})},t)}))})]})})),ae=Object(O.c)((function(e){var t=Object(s.useContext)(Se),a=e.intl,n=t.ccYearList,c=t.ccYearSelected,r=t.setCcYearSelected;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)($.a,{title:a.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(y.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[c," ",Object(y.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(y.jsx)($.a.Menu,{children:n&&n.length>0&&n.map((function(e,t){return Object(y.jsx)($.a.Item,{onClick:function(){r(e.id)},children:Object(y.jsxs)("div",{title:e.value,children:[Object(y.jsx)("i",{className:"fa fa-calendar"})," ",e.value]})},t)}))})]})})})),ne=Object(O.c)((function(e){var t,a=Object(s.useContext)(Se),n=e.intl,c=a.ccBankList,r=a.ccBankSelected,o=a.setCcBankSelected,i=null===(t=c.filter((function(e){return e.id===r}))[0])||void 0===t?void 0:t.value;return Object(y.jsxs)($.a,{title:n.formatMessage({id:"select",defaultMessage:"select"}),className:"d-grid",children:[Object(y.jsxs)($.a.Toggle,{className:"btn btn-bni",children:[i," ",Object(y.jsx)("i",{className:"fa fa-chevron-down"})]}),Object(y.jsx)($.a.Menu,{children:c.map((function(e,t){return Object(y.jsx)($.a.Item,{onClick:function(t){o(e.id)},children:Object(y.jsxs)("div",{title:e.value,children:[Object(y.jsx)("i",{className:"fa fa-credit-card"})," ",e.value]})},t)}))})]})})),ce=a(83),re=function(e){var t=Object(B.a)(),a=e.onImport,n=Object(s.useContext)(L.a),c=Object(s.useState)([]),i=Object(r.a)(c,2),l=i[0],d=i[1],b=Object(s.useState)([]),p=Object(r.a)(b,2),f=p[0],j=p[1],_=Object(s.useState)(-1),O=Object(r.a)(_,2),g=O[0],x=O[1],v=Object(s.useState)(-1),M=Object(r.a)(v,2),w=M[0],P=M[1],C=Object(s.useState)(-1),N=Object(r.a)(C,2),S=N[0],E=N[1],T=Object(s.useState)(" "),k=Object(r.a)(T,2),I=k[0],A=k[1],Y=[{label:t.formatMessage({id:"transaction",defaultMessage:"transaction"}),type:"text",key:"cc_transaction"},{label:t.formatMessage({id:"date",defaultMessage:"date"}),type:"dated",key:"cc_date"},{label:t.formatMessage({id:"openingBalance",defaultMessage:"openingBalance"}),type:"number",key:"cc_opening_balance"},{label:t.formatMessage({id:"credits",defaultMessage:"credits"}),type:"number",key:"cc_payment_credits"},{label:t.formatMessage({id:"purchases",defaultMessage:"purchases"}),type:"number",key:"cc_purchases"},{label:t.formatMessage({id:"interest",defaultMessage:"interest"}),type:"number",key:"cc_taxes_interest"}],K=Object(s.useRef)(null),W="{--#newLine#--}";Object(s.useEffect)((function(){if(g>-1&&w>-1&&S>-1&&g!==w){var e=Object(u.a)(l);e=e.map((function(e,t){return t===S&&e.length>1&&(e[g]=e[g]&&e[w]&&[].concat(Object(u.a)(e[g]),Object(u.a)(e[w])).join(""),e[w]=e[w]&&null),e})).map((function(e){return e.filter((function(e){return null!==e}))})),d(e),P(-1),E(-1),x(-1)}}),[g,w,S]);var U=function(e){e.preventDefault()},F=function(e,t,a){var n,c=JSON.parse(e.dataTransfer.getData("drag-item")),r=c.cell,s=c.i,o="";"dated"===t?(n=r,o=[m()(n,"YYYY/MMM/DD",!0).isValid()&&m()(n,"YYYY/MMM/DD").format("YYYY-MM-DD"),m()(n,"YYYY.MMM.DD",!0).isValid()&&m()(n,"YYYY.MMM.DD").format("YYYY-MM-DD"),m()(n,"YYYY-MMM-DD",!0).isValid()&&m()(n,"YYYY-MMM-DD").format("YYYY-MM-DD"),m()(n,"YYYY MMM DD",!0).isValid()&&m()(n,"YYYY MMM DD").format("YYYY-MM-DD"),m()(n,"YYYY/MM/DD",!0).isValid()&&m()(n,"YYYY/MM/DD").format("YYYY-MM-DD"),m()(n,"YYYY.MM.DD",!0).isValid()&&m()(n,"YYYY.MM.DD").format("YYYY-MM-DD"),m()(n,"YYYY-MM-DD",!0).isValid()&&m()(n,"YYYY-MM-DD").format("YYYY-MM-DD"),m()(n,"YYYY MM DD",!0).isValid()&&m()(n,"YYYY MM DD").format("YYYY-MM-DD"),m()(n,"DD/MM/YYYY",!0).isValid()&&m()(n,"DD/MM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MM-YYYY",!0).isValid()&&m()(n,"DD-MM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MM.YYYY",!0).isValid()&&m()(n,"DD.MM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MM YYYY",!0).isValid()&&m()(n,"DD MM YYYY").format("YYYY-MM-DD"),m()(n,"DD/MMM/YYYY",!0).isValid()&&m()(n,"DD/MMM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MMM-YYYY",!0).isValid()&&m()(n,"DD-MMM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MMM.YYYY",!0).isValid()&&m()(n,"DD.MMM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MMM YYYY",!0).isValid()&&m()(n,"DD MMM YYYY").format("YYYY-MM-DD"),m()(n,"DD/MMMM/YYYY",!0).isValid()&&m()(n,"DD/MMMM/YYYY").format("YYYY-MM-DD"),m()(n,"DD-MMMM-YYYY",!0).isValid()&&m()(n,"DD-MMMM-YYYY").format("YYYY-MM-DD"),m()(n,"DD.MMMM.YYYY",!0).isValid()&&m()(n,"DD.MMMM.YYYY").format("YYYY-MM-DD"),m()(n,"DD MMMM YYYY",!0).isValid()&&m()(n,"DD MMMM YYYY").format("YYYY-MM-DD")].filter((function(e){return!1!==e}))[0]||"Invalid Date"):"text"===t?o=r:"number"===t&&(r=r.replace(",",""),o=Number(r)||0),e.target.value=o,V(s,a,o)},V=function(e,t,a){var n=Object(u.a)(f);n=n.map((function(n,c){return e===c&&(n[t]=a),n})),j(n)};return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},e),{},{style:{zIndex:9999},children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsx)(R.a.Title,{children:Object(y.jsx)(h.a,{id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})})}),Object(y.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(y.jsxs)("div",{className:"creditCardModal",children:[l.length?Object(y.jsx)("div",{className:"table-responsive pb-3",children:Object(y.jsxs)("div",{className:"tableGrid",children:[Y.map((function(e,t){return Object(y.jsx)("div",{className:"heading",children:e.label},t)})),l.map((function(e,t){return Object(y.jsxs)(o.a.Fragment,{children:[e.length>0&&Object(y.jsxs)("div",{className:"singleLines",children:[e.map((function(e,a){return Object(y.jsxs)("span",{id:a,draggable:"true",onDragStart:function(n){return function(e,t){x(Number(e.target.id)),e.dataTransfer.setData("drag-item",t)}(n,JSON.stringify({cell:e,i:t,j:a}))},onDrop:function(e){return function(e,t){var a=t.i;E(Number(a)),P(Number(e.target.id))}(e,{i:t,j:a})},onDragOver:function(e){return U(e)},className:"cell",children:[e,Object(y.jsx)("i",{onClick:function(){return function(e,t){var a=Object(u.a)(l);a=a.map((function(a,n){return n===e?a.filter((function(e,a){return a!==t})):a})),d(a)}(t,a)},className:"fa fa-times-circle"})]},a)})),e.length>0&&Object(y.jsx)("span",{onClick:function(){return function(e){var t=Object(u.a)(l);t=t.map((function(t,a){return a===e&&(t=[]),t})),d(t)}(t)},className:"cell danger",title:"Delete all?",children:Object(y.jsx)("i",{className:"fa fa-times"})})]}),Y.map((function(e,a){return Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:e.type,onChange:function(a){return V(t,e.key,a.target.value)},onDragOver:function(e){return U(e)},onDrop:function(t){return F(t,e.type,e.key)},className:"input"})},a)}))]},t)}))]})}):Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"row separatorWrapper py-2",children:[Object(y.jsx)("div",{className:"col-md-9 col-7 pl-0",children:Object(y.jsxs)("label",{htmlFor:"paste",children:[Object(y.jsx)(h.a,{id:"pasteYourCreditCardStatementHere",defaultMessage:"pasteYourCreditCardStatementHere"})," ",Object(y.jsx)("i",{className:"fa fa-level-down"})]})}),Object(y.jsx)("div",{className:"col-md-3 col-5 pr-0",children:Object(y.jsxs)("div",{className:"input-group input-group-sm",children:[Object(y.jsx)("span",{className:"input-group-text bni-bg",children:Object(y.jsx)(h.a,{id:"textSeperated",defaultMessage:"textSeperated"})}),Object(y.jsx)("input",{type:"text",defaultValue:I,onChange:function(e){return A(e.target.value)},className:"form-control"})]})})]}),Object(y.jsx)("textarea",{id:"paste",ref:K,className:"textArea"})]}),Object(y.jsxs)("div",{className:"text-end py-2",children:[l.length>0&&Object(y.jsxs)("button",{onClick:function(){return d([])},className:"btn btn-bni me-3",children:[Object(y.jsx)("i",{className:"fa fa-angle-double-left"})," ",Object(y.jsx)(h.a,{id:"back",defaultMessage:"back"})]}),l.length?Object(y.jsx)("button",{onClick:function(){return a(f)},className:"btn btn-bni",children:Object(y.jsx)(h.a,{id:"generate",defaultMessage:"generate"})}):Object(y.jsx)("button",{onClick:function(){return function(){var e=K.current.value,t=(e=e.replace(/(\r\n|\n|\r)/gm,W).split(W).filter((function(e){return e})).map((function(e){return e.split(I)}))).map((function(){return{cc_comments:"",cc_date:"",cc_expected_balance:"",cc_for_card:"",cc_id:"",cc_opening_balance:"",cc_payment_credits:"",cc_purchases:"",cc_taxes_interest:"",cc_transaction:""}}));j(t),d(e)}()},className:"btn btn-bni",children:Object(y.jsx)(h.a,{id:"process",defaultMessage:"process"})})]})]})})]}))};re.defaultProps={property:"String name"};var se=re,oe=function(e){var t=Object(s.useContext)(Se),a=Object(s.useContext)(L.a),o=Object(s.useContext)(X.a),i=e.intl,u=t.ccMonthYearSelected,b=t.ccBankSelected,p=t.ccDetails,f=t.incExpList,m=t.ccBankList,j=Object(s.useState)(!1),_=Object(r.a)(j,2),O=_[0],g=_[1],x=Object(s.useState)([]),v=Object(r.a)(x,2),M=v[0],w=v[1],P=Object(s.useState)(!1),C=Object(r.a)(P,2),N=C[0],S=C[1],E=Object(s.useState)([]),Y=Object(r.a)(E,2),R=Y[0],B=Y[1];Object(s.useEffect)((function(){K()}),[u,b,p,f,m,i]);var K=function(){var e=u.split("-"),t=Object(r.a)(e,2),a=t[0],s=t[1],o=d.a.strToNumMonth[a],i=Number(p.credit_card_start_date),l=Number(p.credit_card_end_date),j=new Date("".concat(Number(s),"-").concat(Number(o),"-").concat(l).replace(/-/g,"/")),_="".concat(j.getFullYear(),"-").concat(d.a.leadingZeros(j.getMonth()+1),"-").concat(d.a.leadingZeros(j.getDate())),h=j.setTime(j.getTime()-2592e6);h=new Date(h),h=new Date(h.setDate(i));var O="".concat(h.getFullYear(),"-").concat(d.a.leadingZeros(h.getMonth()+1),"-").concat(d.a.leadingZeros(h.getDate())),g='cc_date between "'.concat(O,'" and "').concat(_,'" and cc_for_card = ').concat(b);w([]),S(!0);var x=U(g);Promise.all([x]).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B([]),w(t[0].data.response),S(!1),ce.a[0].rowElements[8]={fetch:{dropDownList:m}},ce.a[0].rowElements[9]={fetch:{dropDownList:f}},ce.a[0].rowElements[8].searchable=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},W=function(){K()},U=function(e){var t=new FormData;return t.append("appId",a.userConfig.appId),t.append("TableRows",ce.a[0].TableRows),t.append("Table",ce.a[0].Table),e&&t.append("WhereClause",e),k.a.post("/account_planner/getAccountPlanner",t)},F=ce.a.map((function(e){var t={header:{searchPlaceholder:i.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:i.formatMessage({id:"total",defaultMessage:"total"}),locale:p.credit_card_locale,currency:p.credit_card_currency,maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}};return e.config=t,e.TableAliasRows=["id","transaction","date","openingBalance","credits","purchases","taxesAndInterest","balance","creditCard","category","status","comments","recorded"].map((function(e){return i.formatMessage({id:e,defaultMessage:e})})),e}));return Object(y.jsxs)("div",{className:"settings",children:[O&&Object(y.jsx)(se,{className:"creditCardModal",show:O,onHide:function(){return g(!1)},size:"xl",animation:!1,onImport:function(e){B(e),g(!1)}}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)("div",{className:"row py-2",children:Object(y.jsx)("div",{className:"col-md-12",children:Object(y.jsx)(A.a,{placement:"left",delay:{show:250,hide:400},overlay:function(e,t){return Object(y.jsx)(I.a,Object(D.a)(Object(D.a)({id:"button-tooltip-1",className:"in show"},e),{},{children:t}))}(e,i.formatMessage({id:"importYourCreditCardStatement",defaultMessage:"importYourCreditCardStatement"})),triggerType:"hover",children:Object(y.jsx)("i",{onClick:function(){return g(!O)},className:"fa fa-upload roundedButton pull-right"})})})}),N?Object(y.jsx)("div",{className:"relativeSpinner",children:Object(y.jsx)(l.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})}):M&&M.length>0?F.sort((function(e,t){return e.id>t.id})).map((function(e,n){return Object(y.jsx)(T.a,{id:"ccTable",Table:e.Table,config:e.config,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,dbData:M,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var n=e.status,c=e.data;if(200===n){if(e&&c&&"boolean"===typeof c.response&&null!==c.response&&c.response&&t.renderToast({message:i.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&c&&"boolean"===typeof c.response&&null!==c.response&&!1===c.response&&t.renderToast({type:"error",icon:"fa fa-times-circle",message:i.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&c&&null===c.response&&o.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(y.jsx)(J.b,{}),content:Object(y.jsx)(J.a,{})}),e&&c&&"object"===typeof c.response&&null!==c.response){var r;r=1451===c.response.number?"foreignKeyDeleteMessage":"",a.renderToast({type:"error",icon:"fa fa-times-circle",message:i.formatMessage({id:r,defaultMessage:r})})}}else t.renderToast({type:"error",icon:"fa fa-times-circle",message:i.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:W,insertCloneData:R,cellWidth:[4,13,8,8,8,8,8,8,13,13,13,13,10],ajaxButtonName:i.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"cc_appId",value:a.userConfig.appId},theme:a.userData.theme},n)})):Object(y.jsx)("div",{className:"py-3 text-center",children:Object(y.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})};oe.defaultProps={property:"String name"};var ie=Object(O.c)(oe),le=a(34),de=a(109),ue=a.n(de),be=a(187),pe=a.n(be),fe=a(105),me=function(e){var t=Object(B.a)(),a=Object(s.useContext)(Se),n=Object(s.useContext)(L.a),c=Object(s.useContext)(X.a),o=Object(s.useState)(new Date),i=Object(r.a)(o,2),u=i[0],b=i[1],p=Object(s.useState)(""),f=Object(r.a)(p,2),m=f[0],j=f[1],_=Object(s.useState)(""),O=Object(r.a)(_,2),g=O[0],x=O[1],v=Object(s.useState)("0"),M=Object(r.a)(v,2),w=M[0],P=M[1],C=Object(s.useState)(!0),N=Object(r.a)(C,2),S=N[0],E=N[1],T=Object(s.useState)(!0),I=Object(r.a)(T,2),A=I[0],Y=I[1],K=Object(s.useState)([]),W=Object(r.a)(K,2),U=W[0],F=W[1],V=Object(s.useState)([]),H=Object(r.a)(V,2),z=H[0],G=H[1],q=Object(s.useState)(""),Z=Object(r.a)(q,2),Q=Z[0],$=Z[1],ee=Object(s.useState)([]),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce=Object(s.useState)(""),re=Object(r.a)(ce,2),se=re[0],oe=re[1],ie=Object(s.useState)(""),de=Object(r.a)(ie,2),be=de[0],me=de[1],je=Object(s.useState)(!1),_e=Object(r.a)(je,2),he=_e[0],Oe=_e[1],ge=Object(s.useState)(!1),xe=Object(r.a)(ge,2),ve=xe[0],ye=xe[1],Me="&Lang;",De=[{1:t.formatMessage(Object(le.a)({id:"1"},"id","1"))},{2:t.formatMessage(Object(le.a)({id:"2"},"id","2"))},{3:t.formatMessage(Object(le.a)({id:"3"},"id","3"))},{4:t.formatMessage(Object(le.a)({id:"4"},"id","4"))},{5:t.formatMessage(Object(le.a)({id:"5"},"id","5"))},{6:t.formatMessage(Object(le.a)({id:"6"},"id","6"))},{7:t.formatMessage(Object(le.a)({id:"7"},"id","7"))},{8:t.formatMessage(Object(le.a)({id:"8"},"id","8"))},{9:t.formatMessage(Object(le.a)({id:"9"},"id","9"))},{"&Lang;":Me},{0:t.formatMessage(Object(le.a)({id:"0"},"id","0"))},{".":"."},{C:"C"}];Object(s.useEffect)((function(){var e=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/bank_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),t=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/inc_exp_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),a=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e,t,a]).then((function(e){e[0].length>0?F(e[0]):F([{id:null,value:"NULL"}]),e[0].length>0&&e[0][0].id?$(e[0][0].id):$(""),e[1].length>0?ne(e[1]):ne([{id:null,value:"NULL"}]),e[1].length>0&&e[1][0].id?oe(e[1][0].id):oe(""),e[2].length>0?G(e[2]):G([{id:null,value:"NULL"}]),e[2].length>0&&e[2][0].id?me(e[2][0].id):me("")}))}),[]);var we=function(e){var t=[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0".concat(e.getMonth()+1),e.getDate()>9?e.getDate():"0".concat(e.getDate())],a=t[1],n=t[2];return"".concat(t[0],"-").concat(a,"-").concat(n)};return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},e),{},{style:{zIndex:9999},enforceFocus:!1,children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsx)(R.a.Title,{children:Object(y.jsx)(h.a,{id:"fastShopping",defaultMessage:"fastShopping"})})}),Object(y.jsx)(R.a.Body,{className:"react-responsive-ajax-data-table rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(y.jsxs)("form",{id:"transactForm",onSubmit:function(e){return e.preventDefault()},children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)("input",{type:"text",className:"form-control",placeholder:t.formatMessage({id:"transaction",defaultMessage:"transaction"}),onChange:function(e){return j(e.target.value)}})}),Object(y.jsx)("div",{className:"overflow text-end",children:w}),Object(y.jsx)("div",{className:"",children:Object(y.jsx)("div",{className:"numPads pb-2",children:De.map((function(e,t){var a=isNaN(Number(Object.keys(e)[0]))?Object.keys(e)[0]:Number(Object.keys(e)[0]),n=Object.values(e)[0];return Object(y.jsx)("div",{className:"text-center buttonContainer",children:Object(y.jsx)("button",{disabled:w.toString().includes(".")&&"."===a,onClick:function(){return function(e){var t=w;"number"===typeof e&&(t=he?"".concat(t,".").concat(e):"".concat(w).concat(e),Oe(!1)),"."===e&&(Oe(!0),"0"===t.substring(0,1)&&(t="0"+t)),t.length>0&&"0"===t.substring(0,1)&&!t.includes(".")&&(t=t.substring(1,t.length)),t.length>0&&"."===t.substring(0,1)&&(t="0".concat(t)),"C"===e&&(t="0",Oe(!1)),e===Me&&(t=t.length>1?t.slice(0,-1):"0").length>0&&"."===t.slice(t.length-1)&&(t=t.slice(0,-1),Oe(!1)),P(t)}(a)},dangerouslySetInnerHTML:{__html:n}})},t)}))})}),Object(y.jsxs)("div",{className:"row py-2",children:[Object(y.jsx)("div",{className:"col-6 py-2 react-responsive-ajax-data-table",children:Object(y.jsx)(ue.a,{onChange:function(e){b(e)},value:u,format:"y-MM-dd",required:!0,clearIcon:null,className:"fastShoppingDatePicker"})}),Object(y.jsx)("div",{className:"col-6 py-2",children:Object(y.jsxs)("div",{className:"d-flex align-items-center",children:[Object(y.jsx)("div",{onClick:function(){return Y(!A)},className:"",children:A?t.formatMessage({id:"debitCard",defaultMessage:"debitCard"}):t.formatMessage({id:"creditCard",defaultMessage:"creditCard"})}),Object(y.jsx)("i",{onClick:function(){return Y(!A)},className:"fa fa-circle ps-2 ".concat(A?"debit":"credit")})]})})]}),Object(y.jsx)("div",{className:"py-2",children:Object(y.jsx)("input",{type:"text",className:"form-control",placeholder:"Comments",onChange:function(e){return x(e.target.value)}})}),Object(y.jsx)("div",{children:U.length>0&&ae.length>0&&z.length>0?Object(y.jsxs)(y.Fragment,{children:[A?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"py-2",children:Object(y.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[Object(y.jsx)("div",{onClick:function(){return E(!0)},className:"",children:Object(y.jsx)(h.a,{id:"expense",defaultMessage:"expense"})}),Object(y.jsx)(pe.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return E(!S)},checked:!0===S}),Object(y.jsx)("div",{onClick:function(){return E(!1)},className:"",children:Object(y.jsx)(h.a,{id:"income",defaultMessage:"income"})}),Object(y.jsx)(pe.a,{onColor:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),offColor:"#333",checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,onChange:function(){return E(!S)},checked:!1===S})]})}),Object(y.jsx)("div",{className:"py-2",children:Object(y.jsx)(fe.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){$(t)},element:{fetch:{dropDownList:U.map((function(e){return{id:e.id,value:e.value}}))}},value:Q,type:"single",searchable:!0,theme:n.userData.theme},1)})]}):Object(y.jsx)("div",{className:"py-2",children:Object(y.jsx)(fe.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){me(t)},element:{fetch:{dropDownList:z.map((function(e){return{id:e.id,value:e.value}}))}},value:be,type:"single",searchable:!0,theme:n.userData.theme},1)}),Object(y.jsx)("div",{className:"py-2",children:Object(y.jsx)(fe.a,{placeholder:t.formatMessage({id:"select",defaultMessage:"select"}),onChange:function(e,t,a){oe(t)},element:{fetch:{dropDownList:ae.map((function(e){return{id:e.id,value:e.value}}))}},value:se,type:"single",searchable:!0,theme:n.userData.theme},1)})]}):Object(y.jsx)("div",{className:"relativeSpinner",children:Object(y.jsx)(l.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}),Object(y.jsx)("div",{className:"py-2",children:Object(y.jsx)("button",{disabled:!(Number(w)>0&&m&&!ve),onClick:function(){return function(){ye(!0);var r={Table:A?"income_expense":"credit_card_transactions",insertData:A?[{inc_exp_id:null,inc_exp_appId:n.userConfig.appId,inc_exp_name:m,inc_exp_amount:w,inc_exp_plan_amount:0,inc_exp_type:S?"Dr":"Cr",inc_exp_date:we(u),inc_exp_category:se,inc_exp_bank:Q,inc_exp_comments:g}]:[{cc_id:null,cc_appId:n.userConfig.appId,cc_transaction:m,cc_date:we(u),cc_opening_balance:0,cc_payment_credits:0,cc_purchases:w,cc_taxes_interest:0,cc_expected_balance:w,cc_for_card:be,cc_inc_exp_cat:se,cc_comments:g,cc_transaction_status:0}]},s=new FormData;document.getElementById("transactForm").reset(),s.append("postData",JSON.stringify(r)),k.a.post("/account_planner/postAccountPlanner",s).then((function(n){var r=n.data;n&&r&&"boolean"===typeof r.response&&null!==r.response&&r.response&&a.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),n&&r&&"boolean"===typeof r.response&&null!==r.response&&!1===r.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),n&&r&&null===r.response&&(c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(y.jsx)(J.b,{}),content:Object(y.jsx)(J.a,{})}),e.onHide(!1)),P("0"),j(""),x(""),null!=document.getElementById("transactForm")&&document.getElementById("transactForm").reset()})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})}),console.log(e)})).finally((function(){return ye(!1)}))}()},className:"btn btn-bni border-0",children:ve?Object(y.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(y.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})})]})})]}))};me.defaultProps={property:"String name"};var je=me,_e=function(e){var t=e.ccDetails,a=Object(s.useState)(0),n=Object(r.a)(a,2),c=n[0],o=n[1],i=24*Number(t.remDays)*3600;Object(s.useEffect)((function(){Number(t.remDays)>0&&l()}),[t.remDays]);var l=function e(){var t=Math.floor(i/24/60/60),a=Math.floor(i-86400*t),n=Math.floor(a/3600),c=Math.floor(a-3600*n),r=Math.floor(c/60),s=i%60,l=u(t)+":"+u(n)+":"+u(r)+":"+u(s);0===i?d(e):i--,o(l),setTimeout(e,1e3)},d=function(){clearTimeout(l)},u=function(e){return e<10?"0"+e:e};return Object(y.jsx)("span",{children:c})};_e.defaultProps={property:"String name"};var he=_e,Oe=function(e){var t=Object(s.useContext)(L.a),a=Object(s.useState)(!1),n=Object(r.a)(a,2),c=n[0],o=n[1],i=Object(s.useState)(!1),u=Object(r.a)(i,2),b=u[0],p=u[1],f=Object(s.useState)(!1),m=Object(r.a)(f,2),j=m[0],_=m[1],O=Object(s.useState)({}),g=Object(r.a)(O,2),x=g[0],v=g[1],M=Object(s.useState)([]),w=Object(r.a)(M,2),P=w[0],C=w[1],N=new Date;Object(s.useEffect)((function(){o(!0);var e=E();Promise.all([e]).then((function(e){var t=e[0];C(t),o(!1)}))}),[]);var S=function(){return Object(y.jsx)("div",{className:"relativeSpinner",children:Object(y.jsx)(l.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},E=function(){var e=new FormData;return e.append("appId",t.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))};return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},e),{},{style:{zIndex:9999},children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsx)(R.a.Title,{children:Object(y.jsx)(h.a,{id:"checkCreditCardCycleDate",defaultMessage:"checkCreditCardCycleDate"})})}),Object(y.jsxs)(R.a.Body,{className:"rounded-bottom ".concat("dark"===t.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:[c?S():Object(y.jsx)("div",{className:"row",children:P&&P.length>0&&P.map((function(e,a){return Object(y.jsxs)("div",{onClick:function(){return function(e){var a=new FormData;return a.append("bank",e),a.append("appId",t.userConfig.appId),v({}),p(!0),_(e),k.a.post("/account_planner/credit_card_details",a).then((function(e){var t=e.data.response[0],a=t.credit_card_start_date,n=[(a=d.a.addMonths(new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(a).replace(/-/g,"/")),-1)).getFullYear(),a.getMonth()+1,a.getDate()],c=n[0],r=n[1],s=n[2],o=[r<10?"0".concat(r):r,s<10?"0".concat(s):s];r=o[0],s=o[1],a="".concat(c,"-").concat(r,"-").concat(s);var i=t.credit_card_end_date,l=[(i=new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(i).replace(/-/g,"/"))).getFullYear(),i.getMonth()+1,i.getDate()],u=l[0],b=l[1],f=l[2],m=[b<10?"0".concat(b):b,f<10?"0".concat(f):f];b=m[0],f=m[1],i="".concat(u,"-").concat(b,"-").concat(f);var j=t.credit_card_payment_date,_=[(j=d.a.addMonths(new Date("".concat(N.getFullYear(),"-").concat(N.getMonth()+1,"-").concat(j).replace(/-/g,"/")),1)).getFullYear(),j.getMonth()+1,j.getDate()],h=_[0],O=_[1],g=_[2],x=[O<10?"0".concat(O):O,g<10?"0".concat(g):g];O=x[0],g=x[1],j="".concat(h,"-").concat(O,"-").concat(g);var y=new Date(j)-new Date;y=Math.abs(y),y=Math.ceil(y/864e5);var M={cardNumber:t.credit_card_number,cardName:t.credit_card_name,startDate:a,endDate:i,payDate:j,remDays:y};v(M),p(!1)})).catch((function(e){console.log(e)}))}(e.id)},className:"col-6 text-center cardWrapper ".concat(j===e.id?"active":""),children:[Object(y.jsx)("i",{className:"fa fa-credit-card-alt"}),e.value]},a)}))}),b?S():Object.keys(x).length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"py-3 text-center",children:x.cardName}),Object(y.jsxs)("div",{className:"container mt-10 text-center",children:[Object(y.jsx)("div",{className:"contactLabel",children:Object(y.jsx)(h.a,{id:"cardNumber",defaultMessage:"cardNumber"})}),Object(y.jsx)("div",{children:x.cardNumber}),Object(y.jsxs)("div",{className:"row pb-3 pt-3",children:[Object(y.jsxs)("div",{className:"col-6",children:[Object(y.jsx)("label",{children:Object(y.jsx)(h.a,{id:"startDate",defaultMessage:"startDate"})}),Object(y.jsx)("div",{children:x.startDate})]}),Object(y.jsxs)("div",{className:"col-6",children:[Object(y.jsx)("label",{children:Object(y.jsx)(h.a,{id:"endDate",defaultMessage:"endDate"})}),Object(y.jsx)("div",{children:x.endDate})]})]}),Object(y.jsxs)("div",{className:"row text-center",children:[Object(y.jsxs)("div",{className:"col-6",children:[Object(y.jsx)("label",{children:Object(y.jsx)(h.a,{id:"payDate",defaultMessage:"payDate"})}),Object(y.jsx)("div",{children:x.payDate})]}),Object(y.jsxs)("div",{className:"col-6",children:[Object(y.jsx)("label",{children:Object(y.jsx)(h.a,{id:"remainingDays",defaultMessage:"remainingDays"})}),Object(y.jsx)("div",{children:Object(y.jsx)(he,{ccDetails:x})})]})]})]})]})]})]}))};Oe.defaultProps={property:"String name"};var ge=Oe,xe=function(e){var t=e.onHide,a=e.onYes,n=Object(s.useContext)(L.a);return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},e),{},{style:{zIndex:9999},children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsx)(R.a.Title,{children:Object(y.jsx)(h.a,{id:"sureAbtSqlQueries",defaultMessage:"sureAbtSqlQueries"})})}),Object(y.jsx)(R.a.Body,{className:"rounded-bottom ".concat("dark"===n.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:function(){return a()},className:"btn btn-bni",children:Object(y.jsx)(h.a,{id:"allow",defaultMessage:"allow"})})}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:function(){return t()},className:"btn btn-secondary",children:Object(y.jsx)(h.a,{id:"restrict",defaultMessage:"restrict"})})})]})})]}))};xe.defaultProps={};var ve=xe,ye=a(373),Me=a(269),De=function(e){var t=Object(B.a)(),a=Object(s.useContext)(L.a),n=5242880,c=1e3,o=Object(s.useState)({}),i=Object(r.a)(o,2),l=i[0],d=i[1],u=Object(s.useState)([]),b=Object(r.a)(u,2),p=b[0],f=b[1],j=[{inc_exp_id:"null",inc_exp_name:"Gross profit",inc_exp_amount:1e6,inc_exp_plan_amount:0,inc_exp_type:"Cr",inc_exp_date:m()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your profit comments"},{inc_exp_id:"null",inc_exp_name:"Gross expense",inc_exp_amount:5e5,inc_exp_plan_amount:0,inc_exp_type:"Dr",inc_exp_date:m()(new Date).format("YYYY-MM-DD").toString(),inc_exp_category:"Category name",inc_exp_bank:"Bank name",inc_exp_comments:"your expense comments"}];return Object(y.jsxs)(R.a,Object(D.a)(Object(D.a)({},e),{},{style:{zIndex:9999},children:[Object(y.jsx)(R.a.Header,{closeButton:!0,children:Object(y.jsxs)(R.a.Title,{children:[Object(y.jsx)(h.a,{id:"bulkImport",defaultMessage:"bulkImport"}),Object(y.jsxs)("em",{className:"ps-1",children:["(",Object(y.jsxs)("small",{className:"pe-1",children:[Object(y.jsx)(h.a,{id:"limit",defaultMessage:"limit"}),":"," ","".concat(5," MB,")]}),Object(y.jsxs)("small",{className:"pe-1",children:[Object(y.jsx)(h.a,{id:"maxRows",defaultMessage:"maxRows"}),":"," ","".concat(c,",")]}),Object(y.jsxs)("small",{children:[Object(y.jsx)(h.a,{id:"type",defaultMessage:"type"}),": CSV"]}),")"]})]})}),Object(y.jsx)(R.a.Body,{className:"rounded-bottom p-0 ".concat("dark"===a.userData.theme?"bg-dark text-white":"bg-white text-dark"),children:Object(y.jsxs)("div",{className:"dropZone",children:[Object(y.jsx)(Me.a,{accept:"text/csv,text/comma-separated-values,application/csv",maxSize:n,onDrop:function(e,r,s){var o;e.length>0&&(d(e[0]),(o=e[0],new Promise((function(e,a){var r=o,s=new FileReader;s.readAsText(r),s.onload=function(s){var o=[],i=s.target.result.split(/\r\n|\n/),l=i[0].split(",");if(r.size<=n)if(i.length-1<=c){for(var d=1;d<i.length;d++){var u=i[d].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(u.length===l.length){for(var b=[],p=0;p<l.length;p++)b.push(Object(le.a)({},l[p],u[p].replace(/\\/g,"").replaceAll('"',"")));var f=Object.assign.apply(Object,[{}].concat(b));o.push(f)}}e(o)}else a(new Error("".concat(t.formatMessage({id:"maxAllowedRowLimitIs",defaultMessage:"maxAllowedRowLimitIs"})," ").concat(c)));else a(new Error("".concat(t.formatMessage({id:"maxFileSizeLimitIs",defaultMessage:"maxFileSizeLimitIs"})," ").concat(n," MB")))},s.onerror=function(e){a(e)}}))).then((function(e){a.renderToast({message:"".concat(e.length," ").concat(t.formatMessage({id:"rowsAddedSuccessfully",defaultMessage:"rowsAddedSuccessfully"})),autoClose:1e4}),f(e)})).catch((function(e){f([]),a.renderToast({type:"error",icon:"fa fa-times-circle",message:e})})))},className:"text-center",children:function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragAccept,c=e.isDragReject,r="dropZoneWrapper",s=Object(y.jsx)("div",{children:Object(y.jsx)(h.a,{id:"dragFilesHere",defaultMessage:"dragFilesHere"})});return n&&(r="".concat(r," bg-success"),s=Object(y.jsx)("div",{className:"upload-success",children:Object(y.jsx)(h.a,{id:"dropFileOrfilesHere",defaultMessage:"dropFileOrfilesHere"})})),c&&(r="".concat(r," bg-danger"),s=Object(y.jsx)("div",{className:"upload-error",children:Object(y.jsx)(h.a,{id:"fileTypeNotAllowed",defaultMessage:"fileTypeNotAllowed"})})),Object(y.jsxs)("div",Object(D.a)(Object(D.a)({},t()),{},{className:"".concat(r," title"),children:[Object(y.jsx)("input",Object(D.a)({},a())),s]}))}}),Object.keys(l).length>0&&Object(y.jsx)("div",{className:"p-1 text-center",children:Object(y.jsxs)("small",{className:"icon-bni",children:[Object(y.jsx)("i",{className:"fa fa-file-excel-o pe-1"}),l.name,Object(y.jsx)("small",{className:"ps-1",children:Object(y.jsxs)("em",{children:["(",function(e){var t=(e/1024/1024).toFixed(2);if(t>0)return"".concat(t," MB");var a=(e/1024).toFixed(2);return"".concat(a," KB")}(l.size),")"]})})]})}),Object(y.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(y.jsx)("button",{className:"btn btn-bni w-50 rounded-0 rounded-start border-end",children:Object(y.jsxs)(q.a,{datas:j,filename:"inc-exp-csv-sample-import.csv",children:[Object(y.jsx)("i",{className:"fa fa-file-downoad pe-1"}),Object(y.jsx)(h.a,{id:"downloadCsvTemplate",defaultMessage:"downloadCsvTemplate"})]})}),Object(y.jsx)("button",{disabled:!p.length,onClick:function(){return function(){var e=new FormData;e.append("data",JSON.stringify(p)),e.append("appId",a.userConfig.appId),k.a.post("/account_planner/bulkImport",e).then((function(e){e.data.response&&a.renderToast({message:t.formatMessage({id:"bulkImportSuccess",defaultMessage:"bulkImportSuccess"})}),e.data.response||a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})}),null===e.data.response&&myAlertContext.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(y.jsx)(J.b,{}),content:Object(y.jsx)(J.a,{})})})).catch((function(e){a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"bulkImportFailed",defaultMessage:"bulkImportFailed"})})})).finally((function(){return f([])}))}()},className:"btn-bni w-50 rounded-0 rounded-end",children:Object(y.jsx)(h.a,{id:"submit",defaultMessage:"submit"})})]})]})})]}))};De.defaultProps={property:"String name"};var we=De,Pe=(a(278),Object(O.c)((function(e){var t=e.intl,a=Object(s.useContext)(Se),n=Object(s.useContext)(L.a),c=Object(s.useContext)(X.a),o=a.incExpList,i=a.bankList,b=a.insertData,p=Object(s.useState)([]),f=Object(r.a)(p,2),j=f[0],_=f[1],O=Object(s.useState)(!1),g=Object(r.a)(O,2),x=g[0],v=g[1],M=function(){v(!0),a.setInsertData([]);var e=function(){var e=new FormData;return e.append("appId",n.userConfig.appId),k.a.post("/account_planner/getIncExpTemplate",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e]).then((function(e){var t=e[0].map((function(e){var t=e.temp_inc_exp_name,a=e.temp_amount,n=e.temp_inc_exp_type,c=e.temp_inc_exp_date,r=e.temp_category,s=e.temp_bank;return{inc_exp_id:"",inc_exp_name:t,inc_exp_amount:0,inc_exp_plan_amount:a,inc_exp_type:n,inc_exp_date:m()().date(c).add(1,"months").format("YYYY-MM-DD"),inc_exp_category:r,inc_exp_bank:s,inc_exp_comments:""}})).sort((function(e,t){return new Date(e.inc_exp_date.replace(/-/g,"/"))-new Date(t.inc_exp_date.replace(/-/g,"/"))}));a.setInsertData(t)})).finally((function(){v(!1)}))};Object(s.useEffect)((function(){M()}),[t]),Object(s.useEffect)((function(){var e={fetch:{dropDownList:o.map((function(e,t){return{id:e.id,value:e.value}}))}},a={fetch:{dropDownList:i}};ce.c[0].rowElements[3]="number",ce.c[0].rowElements[6]=e,ce.c[0].rowElements[7]=a,ce.c[0].rowElements[4]={radio:{radioList:[{label:t.formatMessage({id:"credit",defaultMessage:"credit"}),value:"Cr",checked:!1},{label:t.formatMessage({id:"debit",defaultMessage:"debit"}),value:"Dr",checked:!0}]}};var n=function(e,t){var a=t&&e.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())}));return a.length>0?a[0].id:""},c=Object(u.a)(b).map((function(e){return e.inc_exp_category=n(o,e.inc_exp_category),e.inc_exp_bank=n(i,e.inc_exp_bank),e}));_([]),setTimeout((function(){_(c)}),100)}),[b,t]);var D=ce.c.map((function(e){var a={header:{searchPlaceholder:t.formatMessage({id:"searchHere",defaultMessage:"searchHere"})},footer:{total:{title:t.formatMessage({id:"total",defaultMessage:"total"}),locale:"en",currency:"",maxDecimal:2},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}};return e.config=a,e.TableAliasRows=["id","transaction","amount","plan","type","date","category","bank","comments"].map((function(e){return t.formatMessage({id:e,defaultMessage:e})})),e.showTotal=[{whichKey:"inc_exp_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}},{whichKey:"inc_exp_plan_amount",forKey:"inc_exp_type",forCondition:"equals",forValue:[{key:"+",value:"Cr"},{key:"-",value:"Dr"}],showDifference:{indexes:[0,1],showStability:!0}}],e})),w=function(){_([])};return Object(y.jsxs)("div",{children:[j.length>0&&Object(y.jsxs)("div",{children:[Object(y.jsx)("h6",{children:Object(y.jsx)(h.a,{id:"planFromTemplate",defaultMessage:"planFromTemplate"})}),D.sort((function(e,t){return e.id>t.id})).map((function(e,r){return Object(y.jsx)(T.a,{config:e.config,Table:e.Table,TableRows:e.TableRows,TableAliasRows:e.TableAliasRows,rowElements:e.rowElements,showTotal:e.showTotal,rowKeyUp:e.rowKeyUp,dbData:j,postApiUrl:"/account_planner/postAccountPlanner",onPostApi:function(e){return function(e){var n=e.status,r=e.data;200===n?(e&&r&&"boolean"===typeof r.response&&null!==r.response&&r.response&&a.renderToast({message:t.formatMessage({id:"transactionSavedSuccessfully",defaultMessage:"transactionSavedSuccessfully"})}),e&&r&&"boolean"===typeof r.response&&null!==r.response&&!1===r.response&&a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"noFormChangeFound",defaultMessage:"noFormChangeFound"})}),e&&r&&null===r.response&&c.setConfig({show:!0,className:"alert-danger border-0 text-dark",type:"danger",dismissible:!0,heading:Object(y.jsx)(J.b,{}),content:Object(y.jsx)(J.a,{})})):a.renderToast({type:"error",icon:"fa fa-times-circle",message:t.formatMessage({id:"unableToReachServer",defaultMessage:"unableToReachServer"})})}(e)},showTooltipFor:e.showTooltipFor,defaultValues:e.defaultValues,onReFetchData:w,cellWidth:[4,13,10,10,13,10,13,13,13],ajaxButtonName:t.formatMessage({id:"submit",defaultMessage:"submit"}),appIdKeyValue:{key:"inc_exp_appId",value:n.userConfig.appId},theme:n.userData.theme},r)}))]}),x&&Object(y.jsx)("div",{className:"relativeSpinner",children:Object(y.jsx)(l.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})]})}))),Ce=a(93),Ne=a(94),Se=o.a.createContext(),Ee=function(e){var t,a=Object(B.a)();document.title=a.formatMessage({id:"moneyPlanner",defaultMessage:"moneyPlanner"});var o=Object(s.useContext)(L.a),i=Object(s.useState)([]),u=Object(r.a)(i,2),b=u[0],p=u[1],f=Object(s.useState)([]),j=Object(r.a)(f,2),_=j[0],O=j[1],g=Object(s.useState)([]),x=Object(r.a)(g,2),v=x[0],D=x[1],w=Object(s.useState)([]),P=Object(r.a)(w,2),C=P[0],N=P[1],E=Object(s.useState)([]),T=Object(r.a)(E,2),I=T[0],A=T[1],Y=Object(s.useState)([]),R=Object(r.a)(Y,2),K=R[0],W=R[1],U=Object(s.useState)([]),F=Object(r.a)(U,2),V=F[0],H=F[1],z=Object(s.useState)([]),G=Object(r.a)(z,2),q=G[0],X=G[1],J=Object(s.useState)(""),Z=Object(r.a)(J,2),$=Z[0],ce=Z[1],re=Object(s.useState)([]),se=Object(r.a)(re,2),oe=se[0],le=se[1],de=Object(s.useState)(""),ue=Object(r.a)(de,2),be=ue[0],pe=ue[1],fe=Object(s.useState)(""),me=Object(r.a)(fe,2),_e=me[0],he=me[1],Oe=Object(s.useState)(""),xe=Object(r.a)(Oe,2),Me=xe[0],De=xe[1],Ee=Object(s.useState)(""),Te=Object(r.a)(Ee,2),ke=Te[0],Ie=Te[1],Ae=Object(s.useState)(""),Ye=Object(r.a)(Ae,2),Re=Ye[0],Le=Ye[1],Be=Object(s.useState)({}),Ke=Object(r.a)(Be,2),We=Ke[0],Ue=Ke[1],Fe=Object(s.useState)(!1),Ve=Object(r.a)(Fe,2),He=Ve[0],ze=Ve[1],Ge=Object(s.useState)(!1),qe=Object(r.a)(Ge,2),Xe=qe[0],Je=qe[1],Ze=Object(s.useState)(!1),Qe=Object(r.a)(Ze,2),$e=Qe[0],et=Qe[1],tt=Object(s.useState)(!1),at=Object(r.a)(tt,2),nt=at[0],ct=at[1],rt=Object(s.useState)(!1),st=Object(r.a)(rt,2),ot=st[0],it=st[1],lt=Object(s.useState)(!1),dt=Object(r.a)(lt,2),ut=dt[0],bt=dt[1],pt=Object(s.useState)(!1),ft=Object(r.a)(pt,2),mt=ft[0],jt=ft[1],_t=function(e){var t=new FormData;return t.append("bank",e),t.append("appId",o.userConfig.appId),k.a.post("/account_planner/credit_card_details",t)},ht=function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),n.append("appId",o.userConfig.appId),k.a.post("/account_planner/getIncExpChartData",n)},Ot=function(e,t,a){var n=new FormData;return n.append("startDate",e),n.append("endDate",t),n.append("bank",a),n.append("appId",o.userConfig.appId),k.a.post("/account_planner/getCreditCardChartData",n)},gt=function(e){var t=new FormData;return t.append("bank",e),t.append("appId",o.userConfig.appId),k.a.post("/account_planner/getBankDetails",t)};Object(s.useEffect)((function(){var e=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/year_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),t=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/bank_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),n=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/cc_year_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),c=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/credit_card_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}(),r=function(){var e=new FormData;return e.append("appId",o.userConfig.appId),k.a.post("/account_planner/inc_exp_list",e).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}();Promise.all([e,t,n,c,r]).then((function(e){var t,n,c,r,s,o,i,l,d;(null===(t=e[0])||void 0===t?void 0:t.length)>0?p(e[0]):p([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(n=e[0])||void 0===n?void 0:n.length)>0&&e[0][0].id?he(e[0][0].id):he("Null"),(null===(c=e[1])||void 0===c?void 0:c.length)>0?D(e[1]):D([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(r=e[1])||void 0===r?void 0:r.length)>0&&e[1][0].id?De(e[1][0].id):De("Null"),(null===(s=e[2])||void 0===s?void 0:s.length)>0?O(e[2]):O([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(o=e[2])||void 0===o?void 0:o.length)>0&&e[2][0].id?ce(m()(new Date).format("YYYY").toString()):ce("Null"),(null===(i=e[3])||void 0===i?void 0:i.length)>0?le(e[3]):le([{id:a.formatMessage({id:"null",defaultMessage:"null"}),value:a.formatMessage({id:"null",defaultMessage:"null"})}]),(null===(l=e[3])||void 0===l?void 0:l.length)>0&&e[3][0].id?pe(e[3][0].id):pe("Null"),(null===(d=e[4])||void 0===d?void 0:d.length)>0?W(e[4]):W([{id:null,value:null,isIncomeMetric:null}])})),A([])}),[]);var xt=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){var r,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze(!0),N([]),X([]),r="".concat(_e,"-01-01"),s="".concat(_e,"-12-31"),e.next=7,ht(r,s,Me).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(r){var s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data.response,N(s),e.next=4,gt(Me).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(c){var r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(c.data.response),"function"!==typeof a||!t){e.next=6;break}return e.next=4,a(null===(r=s[0])||void 0===r?void 0:r.dated);case 4:e.next=8;break;case 6:return e.next=8,a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H([])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N([]),console.log(e)})).finally((function(){ze(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),vt=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t,a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Je(!0),A([]),Ue([]),Le(null),e.next=6,_t(be).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(r){var s,o,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data.response[0],Ue(s),o="undefined"!==typeof s?"".concat($-1,"-12-").concat(s.credit_card_start_date):"".concat($-1,"-12-1"),i="undefined"!==typeof s?"".concat($,"-12-").concat(s.credit_card_end_date):"".concat($,"-12-31"),e.next=6,Ot(o,i,be).then(function(){var e=Object(c.a)(Object(n.a)().mark((function e(c){var r,o,l,u,b;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.data.response,o=r.length>0?new Date(r[0].month):new Date,l=o.getDate(),u=new Date(i).getDate(),b=l>u?d.a.addMonths(o,1):d.a.addMonths(o,0),A(r),"function"!==typeof a||!t){e.next=11;break}return e.next=9,a(m()(b).format("MMM-YYYY").toString());case 9:e.next=13;break;case 11:return e.next=13,a(s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){Je(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),yt=function(){return Object(y.jsx)("div",{className:"relativeSpinner middle",children:Object(y.jsx)(l.a,{type:d.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})},Mt=Object(Ce.a)(),Dt={fetch:Mt.get("fetch"),date:Mt.get("date"),bank:Mt.get("bank"),card:Mt.get("card")},wt=Object(s.useState)(!1),Pt=Object(r.a)(wt,2),Ct=Pt[0],Nt=Pt[1],St=Object(s.useState)(!1),Et=Object(r.a)(St,2),Tt=Et[0],kt=Et[1];return Object(s.useEffect)((function(){var e=m()(Dt.date).format("YYYY").toString();b.length>0&&v.length>0&&"bankTransactions"===Dt.fetch&&(he(e),De(Dt.bank),Nt(!0))}),[JSON.stringify(Dt),b,v]),Object(s.useEffect)((function(){if(oe.length>0&&_.length>0&&"ccTransactions"===Dt.fetch){var e=m()(Dt.date).format("YYYY").toString();ce(e),pe(Dt.card),kt(!0)}}),[JSON.stringify(Dt),oe,_]),Object(s.useEffect)((function(){if(_e&&Me&&Ct){var e=m()(Dt.date).format("MMM-YYYY").toString();xt(!1,(function(){Ie(e),Nt(!1),setTimeout((function(){var e;null===(e=document.getElementById("incExpTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}}),[JSON.stringify(Dt),Ct,_e,Me]),Object(s.useEffect)((function(){$&&be&&Tt&&vt(!1,(function(e){var t=Number(e.credit_card_start_date)>Number(m()(Dt.date).format("D").toString())?m()(Dt.date).format("MMM-YYYY").toString():m()(Dt.date).add(1,"M").format("MMM-YYYY").toString();Le(t),kt(!1),setTimeout((function(){var e;null===(e=document.getElementById("ccTable"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}),200)}))}),[JSON.stringify(Dt),Tt,$,be]),Object(y.jsxs)(Se.Provider,{value:{renderToast:function(e){var t=e.autoClose,a=void 0===t?5e3:t,n=e.type,c=void 0===n?"success":n,r=e.icon,s=void 0===r?"fa fa-check-circle":r,o=e.message;return ye.b[c](Object(y.jsx)("div",{children:Object(y.jsxs)("span",{children:[Object(y.jsx)("i",{className:s})," ",Object(y.jsx)("span",{dangerouslySetInnerHTML:{__html:o}})]})}),{autoClose:a})},bankSelected:Me,setBankSelected:De,bankDetails:V,bankList:v,setBankList:D,yearSelected:_e,setYearSelected:he,yearList:b,monthYearSelected:ke,onMonthYearSelected:function(e){Ie(""),setTimeout((function(){Ie(e)}),1)},incExpList:K,setIncExpList:W,ccBankList:oe,ccBankSelected:be,setCcBankSelected:pe,ccYearSelected:$,setCcYearSelected:ce,ccYearList:_,setCcBankList:le,chartData:C,ccChartData:I,ccDetails:We,setCcDetails:Ue,ccMonthYearSelected:Re,onCcMonthYearSelected:function(e){Le(e)},insertData:q,setInsertData:X},children:[Object(y.jsx)(ye.a,{className:"bniToaster"}),Object(y.jsxs)("section",{className:"",children:[$e&&Object(y.jsx)(ge,{show:$e,onHide:function(){return et(!1)},size:"sm",animation:!1}),nt&&Object(y.jsx)(je,{className:"accountPlanner fastShopping",show:nt,onHide:function(){return ct(!1)},size:"sm",animation:!1}),ot&&Object(y.jsx)(we,{className:"accountPlanner",show:ot,onHide:function(){return it(!1)},centered:!0,size:"lg",backdrop:"static"}),ut&&Object(y.jsx)(ve,{className:"confirmQBModal",show:ut,onHide:function(){bt(!1),setToggleQueryBuilder(!1)},onYes:function(){bt(!1),setToggleQueryBuilder(!0)},size:"md",animation:!1}),Object(y.jsxs)("div",{className:"m-2",children:[Object(y.jsx)(Ne.a,{icon:"fa fa-cubes",intlId:"moneyPlanner"}),Object(y.jsx)("div",{className:"pt-2",children:Object(y.jsx)("div",{className:"accountPlanner ".concat(o.userData.theme),children:v.length>0&&b.length&&_.length>0&&oe.length>0>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"badge ".concat("dark"===o.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:Object(y.jsx)(h.a,{id:"bankTransactions",defaultMessage:"bankTransactions"})}),Object(y.jsxs)("div",{className:"row mt-10",children:[Object(y.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(y.jsx)(ee,{})}),Object(y.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(y.jsx)(te,{})}),Object(y.jsx)("div",{className:"col-lg-3 col-sm-4 py-2",children:Object(y.jsx)("div",{className:"d-grid gap-2",children:Object(y.jsx)("button",{onClick:function(){return xt(!0,(function(e){Ie(e)}))},className:"btn btn-bni",children:Object(y.jsx)(h.a,{id:"generate",defaultMessage:"generate"})})})}),Object(y.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(y.jsx)("button",{onClick:function(){return ct(!0)},className:"btn btn-bni w-100",title:a.formatMessage({id:"fastShopping",defaultMessage:"fastShopping"}),children:Object(y.jsx)("i",{className:"fa fa-cart-plus"})})}),Object(y.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(y.jsx)("button",{onClick:function(){return it(!0)},className:"btn btn-bni w-100",title:a.formatMessage({id:"bulkImport",defaultMessage:"bulkImport"}),disabled:"1"!==(null===o||void 0===o||null===(t=o.userConfig)||void 0===t?void 0:t.planIsBulkImport),children:Object(y.jsx)("i",{className:"fa fa-cloud-upload"})})}),Object(y.jsx)("div",{className:"col-lg-1 col-4 py-2 mb-2",children:Object(y.jsx)("button",{onClick:function(){return jt(!mt)},className:"btn btn-bni w-100",title:a.formatMessage({id:"planFromTemplate",defaultMessage:"planFromTemplate"}),children:Object(y.jsx)("i",{className:"fa fa-clone"})})})]}),v.length>0&&mt&&Object(y.jsx)(Pe,{}),He?yt():Object(y.jsx)(y.Fragment,{children:K.length>0&&V.length>0&&Object(y.jsx)(M,{})}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-md-12 b-0 mb-10 pr-0 pl-0",children:V.length>0&&Object(y.jsx)(Q,{})})}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-md-12",children:Object(y.jsx)("div",{className:"badge ".concat("dark"===o.userData.theme?"bg-secondary text-white":"bg-light text-dark"),children:Object(y.jsx)(h.a,{id:"creditCardTransactions",defaultMessage:"creditCardTransactions"})})})}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-md-4 py-2",children:Object(y.jsx)(ne,{})}),Object(y.jsx)("div",{className:"col-md-4 py-2",children:Object(y.jsx)(ae,{})}),Object(y.jsx)("div",{className:"col-md-3 py-2",children:Object(y.jsx)("div",{className:"d-grid gap-2",children:Object(y.jsx)("button",{onClick:function(){return vt(!0,(function(e){Le(e)}))},className:"btn btn-bni",children:Object(y.jsx)(h.a,{id:"generate",defaultMessage:"generate"})})})}),Object(y.jsx)("div",{className:"col-md-1 py-2",children:Object(y.jsx)("button",{onClick:function(){return et(!0)},className:"btn btn-bni w-100",children:Object(y.jsx)("i",{className:"fa fa-calendar-o mt-20"})})})]}),Xe?yt():I&&I.length>0?Object(y.jsx)(S,{}):Object(y.jsx)("div",{className:"py-3 text-center",children:Object(y.jsx)(h.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-md-12 pt-2",children:I.length>0&&be&&Re&&Object(y.jsx)(ie,{})})})]}):yt()})})]})]})]})};Ee.defaultProps={property:"String name"};t.default=Ee},372:function(e,t,a){"use strict";var n=a(25),c=a(28),r=a(36),s=a.n(r),o=a(1),i=a(43),l=a(75),d=a(127),u=a(0),b=["bsPrefix","className","variant","as"],p=o.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,o=e.variant,l=e.as,d=void 0===l?"img":l,p=Object(c.a)(e,b),f=Object(i.c)(a,"card-img");return Object(u.jsx)(d,Object(n.a)({ref:t,className:s()(o?"".concat(f,"-").concat(o):f,r)},p))}));p.displayName="CardImg";var f=p,m=o.createContext(null);m.displayName="CardHeaderContext";var j=m,_=["bsPrefix","className","as"],h=o.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,l=e.as,d=void 0===l?"div":l,b=Object(c.a)(e,_),p=Object(i.c)(a,"card-header"),f=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:p}}),[p]);return Object(u.jsx)(j.Provider,{value:f,children:Object(u.jsx)(d,Object(n.a)(Object(n.a)({ref:t},b),{},{className:s()(r,p)}))})}));h.displayName="CardHeader";var O=h,g=["bsPrefix","className","bg","text","border","body","children","as"],x=Object(d.a)("h5"),v=Object(d.a)("h6"),y=Object(l.a)("card-body"),M=Object(l.a)("card-title",{Component:x}),D=Object(l.a)("card-subtitle",{Component:v}),w=Object(l.a)("card-link",{Component:"a"}),P=Object(l.a)("card-text",{Component:"p"}),C=Object(l.a)("card-footer"),N=Object(l.a)("card-img-overlay"),S=o.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,o=e.bg,l=e.text,d=e.border,b=e.body,p=void 0!==b&&b,f=e.children,m=e.as,j=void 0===m?"div":m,_=Object(c.a)(e,g),h=Object(i.c)(a,"card");return Object(u.jsx)(j,Object(n.a)(Object(n.a)({ref:t},_),{},{className:s()(r,h,o&&"bg-".concat(o),l&&"text-".concat(l),d&&"border-".concat(d)),children:p?Object(u.jsx)(y,{children:f}):f}))}));S.displayName="Card";t.a=Object.assign(S,{Img:f,Title:M,Subtitle:D,Body:y,Link:w,Text:P,Header:O,Footer:C,ImgOverlay:N})},376:function(e,t,a){"use strict";a.d(t,"b",(function(){return Q})),a.d(t,"c",(function(){return te})),a.d(t,"a",(function(){return v}));var n=a(66),c=a(27),r=a(34);function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach((function(t){Object(r.a)(e,t,a[t])}))}return e}var o=a(5),i=a(6),l=a(12),d=a(3),u=a(7),b=a(9),p=a(1),f=a(10),m=a(181),j=a.n(m),_=a(42),h=a(37),O=a.n(h),g=function(){function e(){Object(o.a)(this,e),Object(r.a)(this,"refs",{})}return Object(i.a)(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var a=this.getIndex(e,t);-1!==a&&this.refs[e].splice(a,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(x)}}]),e}();function x(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function v(e,t,a){return(e=e.slice()).splice(a<0?e.length+a:a,0,e.splice(t,1)[0]),e}function y(e,t){return Object.keys(e).reduce((function(a,n){return-1===t.indexOf(n)&&(a[n]=e[n]),a}),{})}var M={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},D=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function w(e,t){Object.keys(t).forEach((function(a){e.style[a]=t[a]}))}function P(e,t){e.style["".concat(D,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function C(e,t){e.style["".concat(D,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function N(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function S(e,t,a){return Math.max(e,Math.min(a,t))}function E(e){return"px"===e.substr(-2)?parseFloat(e):0}function T(e,t){var a=t.displayName||t.name;return a?"".concat(e,"(").concat(a,")"):e}function k(e,t){var a=e.getBoundingClientRect();return{top:a.top+t.top,left:a.left+t.left}}function I(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function A(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var n={left:a.left+e.offsetLeft,top:a.top+e.offsetTop};return e.parentNode===t?n:A(e.parentNode,t,n)}}function Y(e){var t=e.lockOffset,a=e.width,n=e.height,c=t,r=t,s="px";if("string"===typeof t){var o=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);j()(null!==o,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),c=parseFloat(t),r=parseFloat(t),s=o[1]}return j()(isFinite(c)&&isFinite(r),"lockOffset value should be a finite. Given %s",t),"%"===s&&(c=c*a/100,r=r*n/100),{x:c,y:r}}function R(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),a=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return a.test(t[e])}))}(e)?e:R(e.parentNode):null}var L=27,B=32,K=37,W=38,U=39,F=40,V={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function H(e){return null!=e.sortableHandle}var z=function(){function e(t,a){Object(o.a)(this,e),this.container=t,this.onScrollCallback=a}return Object(i.a)(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,a=e.translate,n=e.minTranslate,c=e.maxTranslate,r=e.width,s=e.height,o={x:0,y:0},i={x:1,y:1},l=10,d=10,u=this.container,b=u.scrollTop,p=u.scrollLeft,f=u.scrollHeight,m=u.scrollWidth,j=0===b,_=f-b-u.clientHeight===0,h=0===p,O=m-p-u.clientWidth===0;a.y>=c.y-s/2&&!_?(o.y=1,i.y=d*Math.abs((c.y-s/2-a.y)/s)):a.x>=c.x-r/2&&!O?(o.x=1,i.x=l*Math.abs((c.x-r/2-a.x)/r)):a.y<=n.y+s/2&&!j?(o.y=-1,i.y=d*Math.abs((a.y-s/2-n.y)/s)):a.x<=n.x+r/2&&!h&&(o.x=-1,i.x=l*Math.abs((a.x-r/2-n.x)/r)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===o.x&&0===o.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:i.x*o.x,top:i.y*o.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var G={axis:O.a.oneOf(["x","y","xy"]),contentWindow:O.a.any,disableAutoscroll:O.a.bool,distance:O.a.number,getContainer:O.a.func,getHelperDimensions:O.a.func,helperClass:O.a.string,helperContainer:O.a.oneOfType([O.a.func,"undefined"===typeof HTMLElement?O.a.any:O.a.instanceOf(HTMLElement)]),hideSortableGhost:O.a.bool,keyboardSortingTransitionDuration:O.a.number,lockAxis:O.a.string,lockOffset:O.a.oneOfType([O.a.number,O.a.string,O.a.arrayOf(O.a.oneOfType([O.a.number,O.a.string]))]),lockToContainerEdges:O.a.bool,onSortEnd:O.a.func,onSortMove:O.a.func,onSortOver:O.a.func,onSortStart:O.a.func,pressDelay:O.a.number,pressThreshold:O.a.number,keyCodes:O.a.shape({lift:O.a.arrayOf(O.a.number),drop:O.a.arrayOf(O.a.number),cancel:O.a.arrayOf(O.a.number),up:O.a.arrayOf(O.a.number),down:O.a.arrayOf(O.a.number)}),shouldCancelStart:O.a.func,transitionDuration:O.a.number,updateBeforeSortStart:O.a.func,useDragHandle:O.a.bool,useWindowAsScrollContainer:O.a.bool},q={lift:[B],drop:[B],cancel:[L],up:[W,K],down:[F,U]},X={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:q,shouldCancelStart:function(e){return-1!==[V.Input,V.Textarea,V.Select,V.Option,V.Button].indexOf(e.target.tagName)||!!N(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},J=Object.keys(G);var Z=Object(p.createContext)({manager:{}});function Q(e){var t,a,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return a=t=function(t){function a(e){var t;Object(o.a)(this,a),t=Object(l.a)(this,Object(d.a)(a).call(this,e)),Object(r.a)(Object(b.a)(Object(b.a)(t)),"state",{}),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handleStart",(function(e){var a=t.props,n=a.distance,c=a.shouldCancelStart;if(2!==e.button&&!c(e)){t.touched=!0,t.position=I(e);var r=N(e.target,(function(e){return null!=e.sortableInfo}));if(r&&r.sortableInfo&&t.nodeIsChild(r)&&!t.state.sorting){var s=t.props.useDragHandle,o=r.sortableInfo,i=o.index,l=o.collection;if(o.disabled)return;if(s&&!N(e.target,H))return;t.manager.active={collection:l,index:i},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==V.Anchor||e.preventDefault(),n||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handleMove",(function(e){var a=t.props,n=a.distance,c=a.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var r=I(e),s={x:t.position.x-r.x,y:t.position.y-r.y},o=Math.abs(s.x)+Math.abs(s.y);t.delta=s,n||c&&!(o>=c)?n&&o>=n&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handlePress",(function(e){try{var a=t.manager.getActive(),n=function(){if(a){var n=function(){var a=p.sortableInfo.index,n=function(e){var t=window.getComputedStyle(e);return{bottom:E(t.marginBottom),left:E(t.marginLeft),right:E(t.marginRight),top:E(t.marginTop)}}(p),c=function(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:E(t.gridColumnGap),y:E(t.gridRowGap)}:{x:0,y:0}}(t.container),d=t.scrollContainer.getBoundingClientRect(),j=o({index:a,node:p,collection:f});if(t.node=p,t.margin=n,t.gridGap=c,t.width=j.width,t.height=j.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=d,t.index=a,t.newIndex=a,t.axis={x:r.indexOf("x")>=0,y:r.indexOf("y")>=0},t.offsetEdge=A(p,t.container),t.initialOffset=I(m?s({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(function(e){var t="input, textarea, select, canvas, [contenteditable]",a=e.querySelectorAll(t),n=e.cloneNode(!0);return Object(_.a)(n.querySelectorAll(t)).forEach((function(e,t){"file"!==e.type&&(e.value=a[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===V.Canvas&&a[t].width>0&&a[t].height>0&&e.getContext("2d").drawImage(a[t],0,0)})),n}(p)),w(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-n.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-n.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),l&&(t.sortableGhost=p,w(p,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var h=b?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,O=h.top,g=h.left,x=h.width,v=O+h.height,y=g+x;t.axis.x&&(t.minTranslate.x=g-t.boundingClientRect.left,t.maxTranslate.x=y-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=O-t.boundingClientRect.top,t.maxTranslate.y=v-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(b?0:d.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(b?t.contentWindow.innerWidth:d.left+d.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(b?0:d.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(b?t.contentWindow.innerHeight:d.top+d.height)-t.boundingClientRect.top-t.height/2);i&&i.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(M.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),M.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:a}),u&&u({node:p,index:a,collection:f,isKeySorting:m,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),m&&t.keyMove(0)},c=t.props,r=c.axis,o=c.getHelperDimensions,i=c.helperClass,l=c.hideSortableGhost,d=c.updateBeforeSortStart,u=c.onSortStart,b=c.useWindowAsScrollContainer,p=a.node,f=a.collection,m=t.manager.isKeySorting,j=function(){if("function"===typeof d){t._awaitingUpdateBeforeSortStart=!0;var a=function(e,t){try{var a=e()}catch(n){return t(!0,n)}return a&&a.then?a.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}((function(){var t=p.sortableInfo.index;return Promise.resolve(d({collection:f,index:t,node:p,isKeySorting:m},e)).then((function(){}))}),(function(e,a){if(t._awaitingUpdateBeforeSortStart=!1,e)throw a;return a}));if(a&&a.then)return a.then((function(){}))}}();return j&&j.then?j.then(n):n()}}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(c){return Promise.reject(c)}})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handleSortMove",(function(e){var a=t.props.onSortMove;"function"===typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),a&&a(e)})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handleSortEnd",(function(e){var a=t.props,n=a.hideSortableGhost,c=a.onSortEnd,r=t.manager,s=r.active.collection,o=r.isKeySorting,i=t.manager.getOrderedRefs();t.listenerNode&&(o?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(M.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),M.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),n&&t.sortableGhost&&w(t.sortableGhost,{opacity:"",visibility:""});for(var l=0,d=i.length;l<d;l++){var u=i[l],b=u.node;u.edgeOffset=null,u.boundingClientRect=null,P(b,null),C(b,null),u.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"===typeof c&&c({collection:s,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:o,nodes:i},e),t.touched=!1})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,a=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(a){var n=s({},t.translate),c=0,r=0;return t.axis.x&&(n.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),c=t.translate.x-n.x),t.axis.y&&(n.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),r=t.translate.y-n.y),t.translate=n,P(t.helper,t.translate),t.scrollContainer.scrollLeft+=c,void(t.scrollContainer.scrollTop+=r)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handleKeyDown",(function(e){var a=e.keyCode,n=t.props,c=n.shouldCancelStart,r=n.keyCodes,o=s({},q,void 0===r?{}:r);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||o.lift.includes(a)&&!c(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),o.lift.includes(a)&&!t.manager.active?t.keyLift(e):o.drop.includes(a)&&t.manager.active?t.keyDrop(e):o.cancel.includes(a)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):o.up.includes(a)?t.keyMove(-1):o.down.includes(a)&&t.keyMove(1))})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"keyLift",(function(e){var a=e.target,n=N(a,(function(e){return null!=e.sortableInfo})).sortableInfo,c=n.index,r=n.collection;t.initialFocusedNode=a,t.manager.isKeySorting=!0,t.manager.active={index:c,collection:r},t.handlePress(e)})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"keyMove",(function(e){var a=t.manager.getOrderedRefs(),n=a[a.length-1].node.sortableInfo.index,c=t.newIndex+e,r=t.newIndex;if(!(c<0||c>n)){t.prevIndex=r,t.newIndex=c;var s=function(e,t,a){return e<a&&e>t?e-1:e>a&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),o=a.find((function(e){return e.node.sortableInfo.index===s})),i=o.node,l=t.containerScrollDelta,d=o.boundingClientRect||k(i,l),u=o.translate||{x:0,y:0},b=d.top+u.y-l.top,p=d.left+u.x-l.left,f=r<c,m=f&&t.axis.x?i.offsetWidth-t.width:0,j=f&&t.axis.y?i.offsetHeight-t.height:0;t.handleSortMove({pageX:p+m,pageY:b+j,ignoreTransition:0===e})}})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Object(r.a)(Object(b.a)(Object(b.a)(t)),"isValidSortingTarget",(function(e){var a=t.props.useDragHandle,n=e.target,c=N(n,(function(e){return null!=e.sortableInfo}));return c&&c.sortableInfo&&!c.sortableInfo.disabled&&(a?H(n):n.sortableInfo)}));var n=new g;return function(e){j()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.manager=n,t.wrappedInstance=Object(p.createRef)(),t.sortableContextValue={manager:n},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return Object(u.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,a=this.getContainer();Promise.resolve(a).then((function(a){e.container=a,e.document=e.container.ownerDocument||document;var n=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"===typeof n?n():n,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:R(e.container)||e.container,e.autoScroller=new z(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return M[t].forEach((function(a){return e.container.addEventListener(a,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return M[t].forEach((function(a){return e.container.removeEventListener(a,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,a=t.lockAxis,n=t.lockOffset,r=t.lockToContainerEdges,s=t.transitionDuration,o=t.keyboardSortingTransitionDuration,i=void 0===o?s:o,l=this.manager.isKeySorting,d=e.ignoreTransition,u=I(e),b={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(b.y-=window.pageYOffset-this.initialWindowScroll.top,b.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=b,r){var p=function(e){var t=e.height,a=e.width,n=e.lockOffset,r=Array.isArray(n)?n:[n,n];j()(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var s=Object(c.a)(r,2),o=s[0],i=s[1];return[Y({height:t,lockOffset:o,width:a}),Y({height:t,lockOffset:i,width:a})]}({height:this.height,lockOffset:n,width:this.width}),f=Object(c.a)(p,2),m=f[0],_=f[1],h={x:this.width/2-m.x,y:this.height/2-m.y},O={x:this.width/2-_.x,y:this.height/2-_.y};b.x=S(this.minTranslate.x+h.x,this.maxTranslate.x-O.x,b.x),b.y=S(this.minTranslate.y+h.y,this.maxTranslate.y-O.y,b.y)}"x"===a?b.y=0:"y"===a&&(b.x=0),l&&i&&!d&&C(this.helper,i),P(this.helper,b)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,a=e.hideSortableGhost,n=e.onSortOver,c=this.containerScrollDelta,r=this.windowScrollDelta,s=this.manager.getOrderedRefs(),o=this.offsetEdge.left+this.translate.x+c.left,i=this.offsetEdge.top+this.translate.y+c.top,l=this.manager.isKeySorting,d=this.newIndex;this.newIndex=null;for(var u=0,b=s.length;u<b;u++){var p=s[u].node,f=p.sortableInfo.index,m=p.offsetWidth,j=p.offsetHeight,_={height:this.height>j?j/2:this.height/2,width:this.width>m?m/2:this.width/2},h=l&&f>this.index&&f<=d,O=l&&f<this.index&&f>=d,g={x:0,y:0},x=s[u].edgeOffset;x||(x=A(p,this.container),s[u].edgeOffset=x,l&&(s[u].boundingClientRect=k(p,c)));var v=u<s.length-1&&s[u+1],y=u>0&&s[u-1];v&&!v.edgeOffset&&(v.edgeOffset=A(v.node,this.container),l&&(v.boundingClientRect=k(v.node,c))),f!==this.index?(t&&C(p,t),this.axis.x?this.axis.y?O||f<this.index&&(o+r.left-_.width<=x.left&&i+r.top<=x.top+_.height||i+r.top+_.height<=x.top)?(g.x=this.width+this.marginOffset.x,x.left+g.x>this.containerBoundingRect.width-_.width&&v&&(g.x=v.edgeOffset.left-x.left,g.y=v.edgeOffset.top-x.top),null===this.newIndex&&(this.newIndex=f)):(h||f>this.index&&(o+r.left+_.width>=x.left&&i+r.top+_.height>=x.top||i+r.top+_.height>=x.top+j))&&(g.x=-(this.width+this.marginOffset.x),x.left+g.x<this.containerBoundingRect.left+_.width&&y&&(g.x=y.edgeOffset.left-x.left,g.y=y.edgeOffset.top-x.top),this.newIndex=f):h||f>this.index&&o+r.left+_.width>=x.left?(g.x=-(this.width+this.marginOffset.x),this.newIndex=f):(O||f<this.index&&o+r.left<=x.left+_.width)&&(g.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(h||f>this.index&&i+r.top+_.height>=x.top?(g.y=-(this.height+this.marginOffset.y),this.newIndex=f):(O||f<this.index&&i+r.top<=x.top+_.height)&&(g.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),P(p,g),s[u].translate=g):a&&(this.sortableGhost=p,w(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),l&&(this.newIndex=d);var M=l?this.prevIndex:d;n&&this.newIndex!==M&&n({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:M,isKeySorting:l,nodes:s,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return j()(m.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!==typeof e?Object(f.findDOMNode)(this):e(m.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=m.withRef?this.wrappedInstance:null;return Object(p.createElement)(Z.Provider,{value:this.sortableContextValue},Object(p.createElement)(e,Object(n.a)({ref:t},y(this.props,J))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"===typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),a}(p.Component),Object(r.a)(t,"displayName",T("sortableList",e)),Object(r.a)(t,"defaultProps",X),Object(r.a)(t,"propTypes",G),a}var $={index:O.a.number.isRequired,collection:O.a.oneOfType([O.a.number,O.a.string]),disabled:O.a.bool},ee=Object.keys($);function te(e){var t,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return a=t=function(t){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return t=Object(l.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(c))),Object(r.a)(Object(b.a)(Object(b.a)(t)),"wrappedInstance",Object(p.createRef)()),t}return Object(u.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,a=e.disabled,n=e.index,c=Object(f.findDOMNode)(this);c.sortableInfo={collection:t,disabled:a,index:n,manager:this.context.manager},this.node=c,this.ref={node:c},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return j()(c.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=c.withRef?this.wrappedInstance:null;return Object(p.createElement)(e,Object(n.a)({ref:t},y(this.props,ee)))}}]),a}(p.Component),Object(r.a)(t,"displayName",T("sortableElement",e)),Object(r.a)(t,"contextType",Z),Object(r.a)(t,"propTypes",$),Object(r.a)(t,"defaultProps",{collection:0}),a}},57:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o}));a(1);var n=a(1269),c=a(58),r=a(0),s=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("i",{className:"fa fa-exclamation-triangle fa-2x pt-2 text-danger"}),Object(r.jsxs)("div",{className:"ps-2",children:[Object(r.jsx)("div",{className:"fs-3",children:Object(r.jsx)(n.a,{id:"alert",defaultMessage:"alert"})}),Object(r.jsx)("div",{className:"fs-6",children:Object(r.jsx)(n.a,{id:"maximumQuotaExceeded",defaultMessage:"maximumQuotaExceeded"})})]})]})})},o=function(){return Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(c.a,{className:"btn btn-sm btn-primary me-1 rounded-pill",to:"/billing",children:[Object(r.jsx)("i",{className:"fa fa-credit-card-alt pe-1"}),Object(r.jsx)(n.a,{id:"upgradeNow",defaultMessage:"upgradeNow"})]}),Object(r.jsx)("span",{className:"fs-6",children:Object(r.jsx)(n.a,{id:"accessUnlimitedStorage",defaultMessage:"accessUnlimitedStorage"})})]})})}},82:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46),_FormElement__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(215),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(52),react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8__),_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(48),_Pagination__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(193),_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(92),_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(194),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(779),react_intl__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1269),react_intl__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(435),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__);function BackendCore(props){var intl=Object(react_intl__WEBPACK_IMPORTED_MODULE_13__.a)(),Table=props.Table,config=props.config,className=props.className||"",id=props.id,TableRows=props.TableRows,TableAliasRows=props.TableAliasRows,postApiUrl=props.postApiUrl,onPostApi=props.onPostApi,showTotal=props.showTotal,rowKeyUp=props.rowKeyUp,insertCloneData=props.insertCloneData,showTooltipFor=props.showTooltipFor,defaultValues=props.defaultValues,onTableUpdate=props.onTableUpdate,onReFetchData=props.onReFetchData,cellWidth=props.cellWidth,appIdKeyValue=props.appIdKeyValue,theme=props.theme,_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),rowElements=_useState2[0],setRowElements=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(props.dbData),_useState4=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState3,2),dbData=_useState4[0],setDbData=_useState4[1],dbDataBackup=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(props.dbData),_useState5=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState6=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState5,2),deleteData=_useState6[0],setDeleteData=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState8=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState7,2),loader=_useState8[0],setLoader=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState10=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState9,2),btnLoader=_useState10[0],setBtnLoader=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState12=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState11,2),updatedIds=_useState12[0],setUpdatedIds=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({}),_useState14=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState13,2),sortType=_useState14[0],setSortType=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),_useState16=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState15,2),tableConfigErrors=_useState16[0],setTableConfigErrors=_useState16[1],pagination=config&&config.footer&&config.footer.pagination&&Object.keys(config.footer.pagination).length>0&&config.footer.pagination,cTotal=config&&config.footer&&config.footer.total,ajaxType=props.ajaxType,ajaxButtonName=props.ajaxButtonName,_useState17=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(pagination&&pagination.recordsPerPage),_useState18=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState17,2),recordsPerPage=_useState18[0],setRecordsPerPage=_useState18[1],defaultRecordsPerPage=pagination&&pagination.recordsPerPage,_useState19=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(Math.ceil(dbData.length/recordsPerPage)),_useState20=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_useState19,2),currentPage=_useState20[0],setCurrentPage=_useState20[1],maxPagesToShow=pagination&&pagination.maxPagesToShow,createElementPromise=function(){return props.rowElements.map((function(e){return new Promise((function(t,a){t(e)}))}))},runAllApis=function(e){setLoader(!0);var t=createElementPromise();Promise.all([t]).then(function(){var t=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function t(a){return Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a[0]).then((function(e){setRowElements(e),setLoader(!1)}));case 2:"function"===typeof e&&e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){var e=[];return TableAliasRows.length!==TableRows.length&&e.push({error:'The "TableAliasRows" and "TableRows" props array length should be same.'}),Table&&0!==Table.toString().length&&""!==Table||e.push({error:'The "Table" props should be a valid string.'}),postApiUrl&&!["put","post","delete","patch","request","get","head","options"].includes(ajaxType)&&e.push({error:"Allowed XHR request types are put, post, delete, patch, request, get, head, options. Please use any one in ajaxType props. For further info, visit https://www.npmjs.com/package/axios"}),e.length>0&&setTableConfigErrors(e),function(){}}),[]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){runAllApis()}),[TableRows,Table,props.rowElements]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){dbData.length>0&&setDbData(dbData)}),[props.dbData]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){if(insertCloneData&&insertCloneData.length>0){setLoader(!0);var e=[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(insertCloneData),Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData));setDbData(e),setTimeout((function(){setLoader(!1)}),500)}}),[insertCloneData]);var updateDbData=function updateDbData(index,data,primaryKey){var i=index.i,j=index.j;dbData[i][j]=data,setDbData(dbData);var id=dbData.filter((function(e,t){return t===i&&e}))[0][primaryKey]||"",array=id?[].concat(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds),[id]):Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(updatedIds);if(array=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(new Set(array)),setUpdatedIds(array),rowKeyUp){var _rowKeyUp$split=rowKeyUp.split("="),_rowKeyUp$split2=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.a)(_rowKeyUp$split,2),declare=_rowKeyUp$split2[0],operands=_rowKeyUp$split2[1];if(declare&&operands){var newDbData=dbData.map((function(row){return row[declare]=eval(operands),row}));setDbData(newDbData),onTableUpdate&&onTableUpdate(newDbData)}}onTableUpdate&&onTableUpdate(dbData)},_onAddRow=function(e){if(e){var t={};TableRows.map((function(e,a){var n=defaultValues.findIndex((function(t){return Object.keys(t)[0]===e}));return t[e]=n>-1?defaultValues[n][e]:"",null}));var a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(dbData);a.push(t),setDbData(a)}},submitData=function(){setBtnLoader(!0);var e=dbData.filter((function(e){return""===e[TableRows[0]]})).map((function(e){return""===e[TableRows[0]]&&(e[TableRows[0]]=null),null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.key&&null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.value&&(e[null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.key]=null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.value),e})),t=dbData.filter((function(e){return updatedIds.includes(e[TableRows[0]])})).filter((function(e){return e&&("number"===typeof e[TableRows[0]]||"string"===typeof e[TableRows[0]])})).map((function(e){return null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.key&&null!==appIdKeyValue&&void 0!==appIdKeyValue&&appIdKeyValue.value&&(e[null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.key]=null===appIdKeyValue||void 0===appIdKeyValue?void 0:appIdKeyValue.value),e})),a=Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},(e.length>0||deleteData.length>0||t.length>0)&&{Table:Table}),e.length>0&&{insertData:e}),deleteData.length>0&&{deleteData:deleteData}),t.length>0&&{updateData:t}),n=new FormData;n.append("postData",JSON.stringify(a)),_services_apiServices__WEBPACK_IMPORTED_MODULE_6__.a[ajaxType](postApiUrl,n).then((function(a){onPostApi&&onPostApi(a),(e.length>0||t.length>0)&&(setLoader(!0),setTimeout((function(){onReFetchData(!0),setLoader(!1)}),1e3))})).catch((function(e){onPostApi&&onPostApi({error:e,status:!1})})).finally((function(){setDeleteData([]),setUpdatedIds([]),setBtnLoader(!1),t=[],e=[]}))},getColumnTotal=function(e){var t="";return showTotal.length>0&&showTotal.forEach((function(a,n){if("string"===typeof a&&String(a)===String(e))t=dbData.reduce((function(t,a){return Number(t)+Number(a[e])}),0),t=cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,t,cTotal.maxDecimal);else if("object"===typeof a&&a.whichKey===String(e)){var c=[];t=[a].map((function(t){return t.forValue.map((function(a,n){var r=dbData.filter((function(e){return e[t.forKey]===a.value})).reduce((function(t,a){return Number(t)+Number(a[e])}),0);return c.push(r),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,r,cTotal.maxDecimal),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:" (".concat(a.key,")")})]},n)}))})).concat(a.showDifference&&2===a.showDifference.indexes.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"d-inline-block ".concat(checkSettlement(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))),children:[cTotal&&_helpers__WEBPACK_IMPORTED_MODULE_9__.a.countryCurrencyLacSeperator(cTotal.locale,cTotal.currency,Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal),cTotal.maxDecimal),"\xa0",a.showDifference.showStability&&checkSettlementString(Number(c[a.showDifference.indexes[0]]).toFixed(cTotal.maxDecimal)-Number(c[a.showDifference.indexes[1]]).toFixed(cTotal.maxDecimal))]},"totRow-".concat(n)))}})),t},checkSettlement=function(e){return 0===e?"text-success":e>0?"text-danger":e<0?"text-warning":void 0},checkSettlementString=function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:"(=)"})},onSort=function(e){var t=null===dbData||void 0===dbData?void 0:dbData.map((function(t){return t[e]&&(t[e].toString().indexOf("-")>-1||t[e].toString().indexOf("/")>-1)&&"Invalid Date"!==new Date(String(t[e]).replace(/-/g,"/"))?"date":""===t[e]||isNaN(t[e])?"string":"number"})),a=[];"date"===(t=t.sort((function(e,a){return t.filter((function(t){return t===e})).length-t.filter((function(e){return e===a})).length})).pop())&&(a=onSortByDate(e)),"number"===t&&(a=onSortByNumber(e)),"string"===t&&(a=onSortByString(e)),setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a)),setSortType((function(t){return{asc:!t.asc,key:e}}))},onSortByNumber=function(e){return dbData.sort((function(t,a){return sortType.asc?a[e]-t[e]:t[e]-a[e]}))},onSortByDate=function(e){return dbData.sort((function(t,a){return sortType.asc?new Date(a[e])-new Date(t[e]):new Date(t[e])-new Date(a[e])}))},onSortByString=function(e){return dbData.sort((function(t,a){return sortType.asc?(a[e]>t[e])-(a[e]<t[e]):(t[e]>a[e])-(t[e]<a[e])}))},onSetCurrentPage=function(e){setCurrentPage(e)},showHideRows=function(e){return e>=(currentPage-1)*recordsPerPage&&e<=currentPage*recordsPerPage-1?"d-block":"d-none"},_onDelete=function(e){var t=e.i,a=dbData[t]&&dbData[t][TableRows[0]];a&&void 0!==a&&(deleteData.push(a),setDeleteData(deleteData));var n=dbData.filter((function(e,a){return a!==t}));setDbData(n),onTableUpdate&&onTableUpdate(n)},onSearch=function(e){var t=[];TableRows.map((function(a){return t.push((function(t){return t[a].toString().toLowerCase().includes(e.toString().toLowerCase())}))}));var a=dbDataBackup.filter((function(e){return t.some((function(t){return t(e)}))&&!deleteData.includes(e[TableRows[0]])}));setDbData(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(a))},onRecordsChange=function(e){setRecordsPerPage(e)},getPageCounts=function(){var e=(currentPage-1)*recordsPerPage+1;e=e>0?e:0;var t=dbData.length>=currentPage*recordsPerPage?currentPage*recordsPerPage:dbData.length;return intl.formatMessage({id:"recordsLengthLine",defaultMessage:"recordsLengthLine"},{start:e,end:t,length:dbData?dbData.length:0})};return!1===loader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"react-responsive-ajax-data-table ".concat(className),id:id,children:0===tableConfigErrors.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"biGrid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"heading",title:getPageCounts(),children:getPageCounts()})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_GroupElement__WEBPACK_IMPORTED_MODULE_12__.a,{theme:theme,config:config,defaultRecordsPerPage:defaultRecordsPerPage,onSearchChange:function(e){return onSearch(e)},onDropDownChange:function(e){return onRecordsChange(e)},onDismissSearch:function(){return onSearch("")}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"grid-responsive",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{style:Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},Array.isArray(cellWidth)&&{gridTemplateColumns:"".concat(cellWidth.join("rem ")+"rem")}),"string"===typeof cellWidth&&{gridTemplateColumns:"repeat(".concat(TableRows.length,", ").concat(cellWidth,")")}),className:"grid-container responsive-grid",children:[TableAliasRows.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{onClick:function(){return onSort(TableRows[t])},className:"header",children:t>0||!postApiUrl?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{title:e,children:e})," ",TableRows[t]===sortType.key&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:sortType.asc?"&#8593;":"&#8595;"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElements_HtmlIcon__WEBPACK_IMPORTED_MODULE_11__.a,{className:"default",entity:"&#9776;"})},"key-".concat(t))})),dbData.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[dbData.map((function(e,t){return TableRows.map((function(a,n){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"".concat(pagination?showHideRows(t):""),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Applications_MAMP_htdocs_moneyPlanner_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},showTooltipFor.includes(a)&&{className:"tooltipContainer"}),{},{children:[""!==e[a]&&showTooltipFor.includes(a)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{className:"tooltips",children:e[a]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{config:config,onDelete:function(e){return _onDelete(e)},onChange:function(e,t,a){updateDbData(e,t,a)},index:{i:t,j:a},placeholder:TableAliasRows[n],value:e[a],element:rowElements[n],showIncrement:dbData.length-1===t,showDecrement:!0,onAddRow:function(e){return _onAddRow(e)},primaryKey:TableRows[0],isPostable:Boolean(postApiUrl),theme:theme},"".concat(t,"-").concat(n))]}))},"".concat(e[a],"-").concat(n))}))})),showTotal&&showTotal.length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"textCenter",children:cTotal.title}),TableRows.slice(1).map((function(e,t){var a=showTotal.includes(e)||showTotal.some((function(t){return t.whichKey===e}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:a?"totalColumn":"",children:a?getColumnTotal(e):""},t)}))]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_FormElement__WEBPACK_IMPORTED_MODULE_7__.a,{index:{i:0,j:0},element:rowElements[0],showIncrement:!0,showDecrement:!1,onAddRow:function(e){return _onAddRow(e)}},-1),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-3 text-center",style:{gridColumn:"1 / span ".concat(TableRows.length)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_14__.a,{id:"noRecordsGenerated",defaultMessage:"noRecordsGenerated"})})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"footer",children:[pagination&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_Pagination__WEBPACK_IMPORTED_MODULE_10__.a,{currentPage:currentPage,totalPages:Math.ceil(dbData.length/recordsPerPage),onSetPage:onSetCurrentPage,maxPagesToShow:maxPagesToShow,selectedPageString:pagination.currentPage}),postApiUrl&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"py-2 text-end",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("button",{onClick:function(){return submitData()},disabled:btnLoader,className:"btn btn-bni",children:btnLoader?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:ajaxButtonName})})})]})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"errorWrapper",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("h5",{children:"Please resolve the following issues:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("ol",{children:tableConfigErrors.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("li",{children:e.error},t)}))})]})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"relativeSpinner",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_loader_spinner__WEBPACK_IMPORTED_MODULE_8___default.a,{type:_helpers__WEBPACK_IMPORTED_MODULE_9__.a.loadRandomSpinnerIcon(),color:document.documentElement.style.getPropertyValue("--app-theme-bg-color"),height:100,width:100})})}BackendCore.defaultProps={id:"",Table:"My table",TableRows:[],TableAliasRows:[],showTotal:[],rowKeyUp:"",rowElements:[],insertCloneData:[],showTooltipFor:[],ajaxType:"post",ajaxButtonName:"Submit",config:{header:{searchPlaceholder:"Search"},footer:{total:{title:"Total",locale:"en-IN",currency:"",maxDecimal:2},pagination:{currentPage:"first",recordsPerPage:10,maxPagesToShow:5}}},defaultValues:[],cellWidth:"13rem"},__webpack_exports__.a=Object(react_intl__WEBPACK_IMPORTED_MODULE_15__.c)(BackendCore)},83:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o}));var n=a(50),c=a.n(n),r=[{id:"bankAccounts",Table:"banks",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},label:"Bank accounts",TableRows:["bank_id","bank_name","bank_account_number","bank_swift_code","bank_account_type","bank_country","bank_sort","bank_locale","bank_currency"],defaultValues:[{bank_sort:"0"}],cellWidth:[4,13,11,11,13,13,5,13,13]},{id:"creditCardAccounts",Table:"credit_cards",label:"Credit cards",TableRows:["credit_card_id","credit_card_name","credit_card_number","credit_card_start_date","credit_card_end_date","credit_card_payment_date","credit_card_annual_interest","credit_card_locale","credit_card_currency"],defaultValues:[{credit_card_annual_interest:"48"}],cellWidth:[4,13,11,8,8,8,8,13,13]},{id:"incExpCat",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_category",label:"Income / expense categories",TableRows:["inc_exp_cat_id","inc_exp_cat_name","inc_exp_cat_is_metric","inc_exp_cat_is_plan_metric"],defaultValues:[{inc_exp_cat_is_metric:"0"},{inc_exp_cat_is_plan_metric:"0"}],cellWidth:[4,13,13,13]},{id:"incExpTemp",config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:5,maxPagesToShow:5}}},Table:"income_expense_template",label:"Income expense template",TableRows:["template_id","temp_inc_exp_name","temp_amount","temp_inc_exp_type","temp_inc_exp_date","temp_category","temp_bank"],defaultValues:[{temp_inc_exp_date:"1"},{temp_inc_exp_type:"Dr"},{temp_amount:"0.00"}],cellWidth:[4,13,13,13,5,13,13]}],s=[{id:26,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"income_expense",label:"Expenditures for selected month",TableRows:["inc_exp_id","inc_exp_name","inc_exp_amount","inc_exp_plan_amount","inc_exp_type","inc_exp_date","inc_exp_category","inc_exp_bank","inc_exp_comments"],TableAliasRows:[],defaultValues:[{inc_exp_type:"Dr"},{inc_exp_amount:0},{inc_exp_plan_amount:0},{inc_exp_date:c()(new Date).format("YYYY-MM-DD")}],rowKeyUp:"",rowElements:["checkbox","textbox","number","label",null,"date",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},"textbox"],showTooltipFor:["inc_exp_name","inc_exp_comments"]}],o=[{id:27,config:{footer:{total:{},pagination:{currentPage:"last",recordsPerPage:10,maxPagesToShow:5}}},Table:"credit_card_transactions",label:"Credit card transactions",TableRows:["cc_id","cc_transaction","cc_date","cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance","cc_for_card","cc_inc_exp_cat","cc_transaction_status","cc_comments","cc_added_at"],TableAliasRows:[],showTotal:["cc_opening_balance","cc_payment_credits","cc_purchases","cc_taxes_interest","cc_expected_balance"],rowKeyUp:"cc_expected_balance=((Number(row.cc_opening_balance) - Number(row.cc_payment_credits)) + (Number(row.cc_purchases) + Number(row.cc_taxes_interest))).toFixed(2)",rowElements:["checkbox","textbox","date","number","number","number","number","label",{fetch:{dropDownList:[]}},{fetch:{dropDownList:[]}},{fetch:{dropDownList:[{checked:!1,id:"1",value:"Settled"},{checked:!1,id:"0",value:"Pending"},{checked:!1,id:"2",value:"Part payment"}]}},"textbox","relativeTime"],defaultValues:[{cc_date:c()().format("YYYY-MM-DD")},{cc_opening_balance:0},{cc_payment_credits:0},{cc_purchases:0},{cc_taxes_interest:0},{cc_expected_balance:0},{cc_transaction_status:"0"}],showTooltipFor:["cc_transaction","cc_comments"]}]},92:function(e,t,a){"use strict";var n=a(25),c=a(28),r=(a(1),a(0)),s=["className","entity"],o=function(e){var t=e.className,a=e.entity,o=Object(c.a)(e,s);return Object(r.jsx)("span",Object(n.a)({className:"htmlIcon ".concat(t),dangerouslySetInnerHTML:{__html:a}},o))};o.defaultProps={property:"String name"},t.a=o},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1),c=a(72),r=function(){var e=Object(c.h)().search;return Object(n.useMemo)((function(){return new URLSearchParams(e)}),[e])}},94:function(e,t,a){"use strict";var n=a(25),c=a(28),r=a(1),s=a(1269),o=a(39),i=a(0),l=["icon","intlId","children"];t.a=function(e){var t=e.icon,a=e.intlId,d=e.children,u=Object(c.a)(e,l),b=Object(r.useContext)(o.a);return Object(i.jsx)("div",Object(n.a)(Object(n.a)({},u),{},{className:"bg-gradient ".concat("dark"===b.userData.theme?"bg-dark darkBoxShadow":"bg-white lightBoxShadow"," mt-2 ps-3 py-2 rounded-pill"),children:Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("div",{className:"d-flex align-items-center",children:[Object(i.jsx)("i",{className:"".concat(t," fa-1x")}),Object(i.jsx)("div",{className:"ps-2 mb-0",children:Object(i.jsx)(s.a,{id:a,defaultMessage:a})})]}),d]})}))}}}]);